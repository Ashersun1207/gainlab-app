const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CGvyI1KM.js","assets/mosaic-86Umg_jF.js","assets/echarts-DW2iXprX.js"])))=>i.map(i=>d[i]);
import{_ as p}from"./index-C0tBSzAr.js";import{j as t}from"./mosaic-86Umg_jF.js";import{a as r}from"./echarts-DW2iXprX.js";const o=r.lazy(()=>p(()=>import("./index-CGvyI1KM.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.EChartsWidget}))),c={vix:{value:18.5,change:-1.2},fearGreed:{value:62,label:"Greed",change:5}};function v(e){return e<20?"#22c55e":e<30?"#eab308":"#ef4444"}function g(e){return e<20?"低波动":e<30?"正常":e<40?"高波动":"极端恐慌"}function f(e){return e<25?"#ef4444":e<45?"#f97316":e<55?"#eab308":e<75?"#22c55e":"#16a34a"}function d(e){return e<25?"极度恐惧":e<45?"恐惧":e<55?"中性":e<75?"贪婪":"极度贪婪"}function x(e,a,n,s){return{backgroundColor:"transparent",series:[{type:"gauge",center:["50%","60%"],radius:"90%",min:0,max:s,startAngle:200,endAngle:-20,splitNumber:5,axisLine:{lineStyle:{width:8,color:[[.25,"#ef4444"],[.5,"#f97316"],[.75,"#22c55e"],[1,"#16a34a"]]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},pointer:{length:"60%",width:4,itemStyle:{color:"#e0e0f0"}},anchor:{show:!0,size:8,itemStyle:{color:"#e0e0f0",borderWidth:0}},title:{offsetCenter:[0,"75%"],fontSize:11,color:"#a0a0cc"},detail:{valueAnimation:!0,offsetCenter:[0,"40%"],fontSize:22,fontWeight:"bold",color:n(a),formatter:"{value}"},data:[{value:a,name:e}]}]}}function y(){const[e,a]=r.useState(c),[n,s]=r.useState(!1),i=r.useRef(!1),l=r.useCallback(async()=>{i.current=!1,s(!0);try{await new Promise(m=>setTimeout(m,300)),i.current||a(c)}finally{i.current||s(!1)}},[]);r.useEffect(()=>(l(),()=>{i.current=!0}),[l]);const u=x(`VIX — ${g(e.vix.value)}`,e.vix.value,v,80),h=x(`F&G — ${d(e.fearGreed.value)}`,e.fearGreed.value,f,100);return t.jsxs("div",{className:"w-full h-full flex flex-col bg-[#0d0d20] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-[#1e1e3a] flex-shrink-0",children:[t.jsx("span",{className:"text-[13px] font-semibold text-[#a0a0cc]",children:"市场情绪"}),n&&t.jsx("span",{className:"text-[10px] text-[#5a5a8a]",children:"更新中..."})]}),t.jsxs("div",{className:"flex-1 flex gap-1 p-1 min-h-0",children:[t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx(r.Suspense,{fallback:t.jsx("div",{className:"w-full h-full bg-[#0d0d20]"}),children:t.jsx(o,{option:u,style:{height:"100%"}})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx(r.Suspense,{fallback:t.jsx("div",{className:"w-full h-full bg-[#0d0d20]"}),children:t.jsx(o,{option:h,style:{height:"100%"}})})})]}),t.jsxs("div",{className:"flex justify-around px-3 py-1.5 border-t border-[#1e1e3a] flex-shrink-0",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-[10px] text-[#5a5a8a]",children:"VIX"}),t.jsxs("div",{className:`text-[12px] font-mono ${e.vix.change>=0?"text-[#ef4444]":"text-[#22c55e]"}`,children:[e.vix.value.toFixed(1)," (",e.vix.change>=0?"+":"",e.vix.change.toFixed(1),")"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-[10px] text-[#5a5a8a]",children:"Fear & Greed"}),t.jsxs("div",{className:"text-[12px] font-mono",style:{color:f(e.fearGreed.value)},children:[e.fearGreed.value," — ",d(e.fearGreed.value)]})]})]})]})}export{y as SentimentWidget};
