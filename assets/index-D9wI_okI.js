import{j as e}from"./mosaic-86Umg_jF.js";import{a as r}from"./echarts-DW2iXprX.js";import{d as n}from"./detectWRB-BUzBMQ2u.js";function c(a){const t=new Date(a);return`${t.getMonth()+1}/${t.getDate()} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}function o({klineData:a}){const t=r.useMemo(()=>n(a),[a]);if(a.length===0)return e.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#6666aa] text-sm",children:"请先选择资产以检测 WRB 信号"});const l=t.filter(s=>s.direction==="bullish").length,i=t.filter(s=>s.direction==="bearish").length;return e.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden bg-[#0d0d20]",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-[#1e1e3a] flex-shrink-0",children:[e.jsx("div",{className:"text-sm text-[#d0d0f0] font-medium",children:"WRB 信号检测"}),e.jsxs("div",{className:"flex items-center gap-3 text-[10px]",children:[e.jsxs("span",{className:"text-[#22c55e]",children:["▲ 多 ",l]}),e.jsxs("span",{className:"text-[#ef4444]",children:["▼ 空 ",i]}),e.jsxs("span",{className:"text-[#8888aa]",children:["共 ",t.length]})]})]}),e.jsx("div",{className:"px-3 py-1 text-[10px] text-[#4a4a7a] border-b border-[#1e1e3a] flex-shrink-0",children:"body > 前3根均值 × 1.5 = WRB 信号（简化版，非完整 WRB Analysis）"}),e.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2",children:t.length===0?e.jsx("div",{className:"text-[#6666aa] text-sm text-center pt-8",children:"未检测到 WRB 信号"}):e.jsx("div",{className:"flex flex-col gap-1",children:t.slice().reverse().slice(0,50).map(s=>e.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 rounded bg-[#13132a] text-xs",children:[e.jsx("span",{className:"text-[#aaaacc]",children:c(s.timestamp)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:s.direction==="bullish"?"text-[#22c55e]":"text-[#ef4444]",children:s.direction==="bullish"?"▲ 多":"▼ 空"}),e.jsxs("span",{className:"text-[#8888aa]",children:[s.score.toFixed(1),"×"]})]})]},s.timestamp))})})]})}export{o as WRBWidget};
