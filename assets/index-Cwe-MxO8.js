const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CGvyI1KM.js","assets/mosaic-86Umg_jF.js","assets/echarts-DW2iXprX.js"])))=>i.map(i=>d[i]);
import{_ as v}from"./index-DLqq1hmS.js";import{j as t}from"./mosaic-86Umg_jF.js";import{a}from"./echarts-DW2iXprX.js";const c=a.lazy(()=>v(()=>import("./index-CGvyI1KM.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.EChartsWidget}))),f={vix:{value:18.5,change:-1.2},fearGreed:{value:62,label:"Greed",change:5}};function g(e){return e<20?"#22c55e":e<30?"#eab308":"#ef4444"}function j(e){return e<20?"低波动":e<30?"正常":e<40?"高波动":"极端恐慌"}function d(e){return e<25?"#ef4444":e<45?"#f97316":e<55?"#eab308":e<75?"#22c55e":"#16a34a"}function x(e){return e<25?"极度恐惧":e<45?"恐惧":e<55?"中性":e<75?"贪婪":"极度贪婪"}function u(e,r,i,n){return{backgroundColor:"transparent",series:[{type:"gauge",center:["50%","60%"],radius:"90%",min:0,max:n,startAngle:200,endAngle:-20,splitNumber:5,axisLine:{lineStyle:{width:8,color:[[.25,"#ef4444"],[.5,"#f97316"],[.75,"#22c55e"],[1,"#16a34a"]]}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},pointer:{length:"60%",width:4,itemStyle:{color:"#e0e0f0"}},anchor:{show:!0,size:8,itemStyle:{color:"#e0e0f0",borderWidth:0}},title:{offsetCenter:[0,"75%"],fontSize:11,color:"#a0a0cc"},detail:{valueAnimation:!0,offsetCenter:[0,"40%"],fontSize:22,fontWeight:"bold",color:i(r),formatter:"{value}"},data:[{value:r,name:e}]}]}}function w({headless:e}={}){const[r,i]=a.useState(f),[n,l]=a.useState(!1),s=a.useRef(!1),o=a.useCallback(async()=>{s.current=!1,l(!0);try{await new Promise(p=>setTimeout(p,300)),s.current||i(f)}finally{s.current||l(!1)}},[]);a.useEffect(()=>(o(),()=>{s.current=!0}),[o]);const h=u(`VIX — ${j(r.vix.value)}`,r.vix.value,g,80),m=u(`F&G — ${x(r.fearGreed.value)}`,r.fearGreed.value,d,100);return t.jsxs("div",{className:"w-full h-full flex flex-col bg-[#0d0d20] overflow-hidden",children:[!e&&t.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-[#1e1e3a] flex-shrink-0",children:[t.jsx("span",{className:"text-[13px] font-semibold text-[#a0a0cc]",children:"市场情绪"}),n&&t.jsx("span",{className:"text-[10px] text-[#5a5a8a]",children:"更新中..."})]}),t.jsxs("div",{className:"flex-1 flex gap-1 p-1 min-h-0",children:[t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"w-full h-full bg-[#0d0d20]"}),children:t.jsx(c,{option:h,style:{height:"100%"}})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"w-full h-full bg-[#0d0d20]"}),children:t.jsx(c,{option:m,style:{height:"100%"}})})})]}),t.jsxs("div",{className:"flex justify-around px-3 py-1.5 border-t border-[#1e1e3a] flex-shrink-0",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-[10px] text-[#5a5a8a]",children:"VIX"}),t.jsxs("div",{className:`text-[12px] font-mono ${r.vix.change>=0?"text-[#ef4444]":"text-[#22c55e]"}`,children:[r.vix.value.toFixed(1)," (",r.vix.change>=0?"+":"",r.vix.change.toFixed(1),")"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-[10px] text-[#5a5a8a]",children:"Fear & Greed"}),t.jsxs("div",{className:"text-[12px] font-mono",style:{color:d(r.fearGreed.value)},children:[r.fearGreed.value," — ",x(r.fearGreed.value)]})]})]})]})}export{w as SentimentWidget};
