(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MO(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function kb(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var e=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),e}var nC={exports:{}},jv={};var rN;function ise(){if(rN)return jv;rN=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:o,ref:i!==void 0?i:null,props:a}}return jv.Fragment=t,jv.jsx=e,jv.jsxs=e,jv}var nN;function ase(){return nN||(nN=1,nC.exports=ise()),nC.exports}var it=ase(),iC={exports:{}},Zv={},aC={exports:{}},oC={};var iN;function ose(){return iN||(iN=1,(function(r){function t(L,G){var W=L.length;L.push(G);e:for(;0<W;){var U=W-1>>>1,Z=L[U];if(0<i(Z,G))L[U]=G,L[W]=Z,W=U;else break e}}function e(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var G=L[0],W=L.pop();if(W!==G){L[0]=W;e:for(var U=0,Z=L.length,F=Z>>>1;U<F;){var q=2*(U+1)-1,$=L[q],K=q+1,re=L[K];if(0>i($,W))K<Z&&0>i(re,$)?(L[U]=re,L[K]=W,U=K):(L[U]=$,L[q]=W,U=q);else if(K<Z&&0>i(re,W))L[U]=re,L[K]=W,U=K;else break e}}return G}function i(L,G){var W=L.sortIndex-G.sortIndex;return W!==0?W:L.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();r.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function w(L){for(var G=e(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=L)n(u),G.sortIndex=G.expirationTime,t(l,G);else break;G=e(u)}}function T(L){if(g=!1,w(L),!v)if(e(l)!==null)v=!0,A||(A=!0,k());else{var G=e(u);G!==null&&N(T,G.startTime-L)}}var A=!1,M=-1,D=5,P=-1;function I(){return m?!0:!(r.unstable_now()-P<D)}function R(){if(m=!1,A){var L=r.unstable_now();P=L;var G=!0;try{e:{v=!1,g&&(g=!1,_(M),M=-1),h=!0;var W=d;try{t:{for(w(L),f=e(l);f!==null&&!(f.expirationTime>L&&I());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var Z=U(f.expirationTime<=L);if(L=r.unstable_now(),typeof Z=="function"){f.callback=Z,w(L),G=!0;break t}f===e(l)&&n(l),w(L)}else n(l);f=e(l)}if(f!==null)G=!0;else{var F=e(u);F!==null&&N(T,F.startTime-L),G=!1}}break e}finally{f=null,d=W,h=!1}G=void 0}}finally{G?k():A=!1}}}var k;if(typeof b=="function")k=function(){b(R)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=R,k=function(){V.postMessage(null)}}else k=function(){x(R,0)};function N(L,G){M=x(function(){L(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return d},r.unstable_next=function(L){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var W=d;d=G;try{return L()}finally{d=W}},r.unstable_requestPaint=function(){m=!0},r.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=d;d=L;try{return G()}finally{d=W}},r.unstable_scheduleCallback=function(L,G,W){var U=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?U+W:U):W=U,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,L={id:c++,callback:G,priorityLevel:L,startTime:W,expirationTime:Z,sortIndex:-1},W>U?(L.sortIndex=W,t(u,L),e(l)===null&&L===e(u)&&(g?(_(M),M=-1):g=!0,N(T,W-U))):(L.sortIndex=Z,t(l,L),v||h||(v=!0,A||(A=!0,k()))),L},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(L){var G=d;return function(){var W=d;d=G;try{return L.apply(this,arguments)}finally{d=W}}}})(oC)),oC}var aN;function sse(){return aN||(aN=1,aC.exports=ose()),aC.exports}var sC={exports:{}},vt={};var oN;function lse(){if(oN)return vt;oN=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),d=Symbol.iterator;function h(F){return F===null||typeof F!="object"?null:(F=d&&F[d]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function x(F,q,$){this.props=F,this.context=q,this.refs=m,this.updater=$||v}x.prototype.isReactComponent={},x.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function _(){}_.prototype=x.prototype;function b(F,q,$){this.props=F,this.context=q,this.refs=m,this.updater=$||v}var w=b.prototype=new _;w.constructor=b,g(w,x.prototype),w.isPureReactComponent=!0;var T=Array.isArray;function A(){}var M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function P(F,q,$){var K=$.ref;return{$$typeof:r,type:F,key:q,ref:K!==void 0?K:null,props:$}}function I(F,q){return P(F.type,q,F.props)}function R(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function k(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function($){return q[$]})}var O=/\/+/g;function V(F,q){return typeof F=="object"&&F!==null&&F.key!=null?k(""+F.key):q.toString(36)}function N(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(A,A):(F.status="pending",F.then(function(q){F.status==="pending"&&(F.status="fulfilled",F.value=q)},function(q){F.status==="pending"&&(F.status="rejected",F.reason=q)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function L(F,q,$,K,re){var ce=typeof F;(ce==="undefined"||ce==="boolean")&&(F=null);var pe=!1;if(F===null)pe=!0;else switch(ce){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(F.$$typeof){case r:case t:pe=!0;break;case c:return pe=F._init,L(pe(F._payload),q,$,K,re)}}if(pe)return re=re(F),pe=K===""?"."+V(F,0):K,T(re)?($="",pe!=null&&($=pe.replace(O,"$&/")+"/"),L(re,q,$,"",function(Ce){return Ce})):re!=null&&(R(re)&&(re=I(re,$+(re.key==null||F&&F.key===re.key?"":(""+re.key).replace(O,"$&/")+"/")+pe)),q.push(re)),1;pe=0;var de=K===""?".":K+":";if(T(F))for(var ge=0;ge<F.length;ge++)K=F[ge],ce=de+V(K,ge),pe+=L(K,q,$,ce,re);else if(ge=h(F),typeof ge=="function")for(F=ge.call(F),ge=0;!(K=F.next()).done;)K=K.value,ce=de+V(K,ge++),pe+=L(K,q,$,ce,re);else if(ce==="object"){if(typeof F.then=="function")return L(N(F),q,$,K,re);throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function G(F,q,$){if(F==null)return F;var K=[],re=0;return L(F,K,"","",function(ce){return q.call($,ce,re++)}),K}function W(F){if(F._status===-1){var q=F._result;q=q(),q.then(function($){(F._status===0||F._status===-1)&&(F._status=1,F._result=$)},function($){(F._status===0||F._status===-1)&&(F._status=2,F._result=$)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var U=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Z={map:G,forEach:function(F,q,$){G(F,function(){q.apply(this,arguments)},$)},count:function(F){var q=0;return G(F,function(){q++}),q},toArray:function(F){return G(F,function(q){return q})||[]},only:function(F){if(!R(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return vt.Activity=f,vt.Children=Z,vt.Component=x,vt.Fragment=e,vt.Profiler=i,vt.PureComponent=b,vt.StrictMode=n,vt.Suspense=l,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,vt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return M.H.useMemoCache(F)}},vt.cache=function(F){return function(){return F.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(F,q,$){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var K=g({},F.props),re=F.key;if(q!=null)for(ce in q.key!==void 0&&(re=""+q.key),q)!D.call(q,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&q.ref===void 0||(K[ce]=q[ce]);var ce=arguments.length-2;if(ce===1)K.children=$;else if(1<ce){for(var pe=Array(ce),de=0;de<ce;de++)pe[de]=arguments[de+2];K.children=pe}return P(F.type,re,K)},vt.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},vt.createElement=function(F,q,$){var K,re={},ce=null;if(q!=null)for(K in q.key!==void 0&&(ce=""+q.key),q)D.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(re[K]=q[K]);var pe=arguments.length-2;if(pe===1)re.children=$;else if(1<pe){for(var de=Array(pe),ge=0;ge<pe;ge++)de[ge]=arguments[ge+2];re.children=de}if(F&&F.defaultProps)for(K in pe=F.defaultProps,pe)re[K]===void 0&&(re[K]=pe[K]);return P(F,ce,re)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(F){return{$$typeof:s,render:F}},vt.isValidElement=R,vt.lazy=function(F){return{$$typeof:c,_payload:{_status:-1,_result:F},_init:W}},vt.memo=function(F,q){return{$$typeof:u,type:F,compare:q===void 0?null:q}},vt.startTransition=function(F){var q=M.T,$={};M.T=$;try{var K=F(),re=M.S;re!==null&&re($,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(A,U)}catch(ce){U(ce)}finally{q!==null&&$.types!==null&&(q.types=$.types),M.T=q}},vt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},vt.use=function(F){return M.H.use(F)},vt.useActionState=function(F,q,$){return M.H.useActionState(F,q,$)},vt.useCallback=function(F,q){return M.H.useCallback(F,q)},vt.useContext=function(F){return M.H.useContext(F)},vt.useDebugValue=function(){},vt.useDeferredValue=function(F,q){return M.H.useDeferredValue(F,q)},vt.useEffect=function(F,q){return M.H.useEffect(F,q)},vt.useEffectEvent=function(F){return M.H.useEffectEvent(F)},vt.useId=function(){return M.H.useId()},vt.useImperativeHandle=function(F,q,$){return M.H.useImperativeHandle(F,q,$)},vt.useInsertionEffect=function(F,q){return M.H.useInsertionEffect(F,q)},vt.useLayoutEffect=function(F,q){return M.H.useLayoutEffect(F,q)},vt.useMemo=function(F,q){return M.H.useMemo(F,q)},vt.useOptimistic=function(F,q){return M.H.useOptimistic(F,q)},vt.useReducer=function(F,q,$){return M.H.useReducer(F,q,$)},vt.useRef=function(F){return M.H.useRef(F)},vt.useState=function(F){return M.H.useState(F)},vt.useSyncExternalStore=function(F,q,$){return M.H.useSyncExternalStore(F,q,$)},vt.useTransition=function(){return M.H.useTransition()},vt.version="19.2.4",vt}var sN;function rn(){return sN||(sN=1,sC.exports=lse()),sC.exports}var lC={exports:{}},kn={};var lN;function use(){if(lN)return kn;lN=1;var r=rn();function t(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,kn.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return a(l,u,null,c)},kn.flushSync=function(l){var u=o.T,c=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=u,n.p=c,n.d.f()}},kn.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},kn.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},kn.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin),d=typeof u.integrity=="string"?u.integrity:void 0,h=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:d,fetchPriority:h}):c==="script"&&n.d.X(l,{crossOrigin:f,integrity:d,fetchPriority:h,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},kn.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=s(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},kn.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin);n.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},kn.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=s(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},kn.requestFormReset=function(l){n.d.r(l)},kn.unstable_batchedUpdates=function(l,u){return l(u)},kn.useFormState=function(l,u,c){return o.H.useFormState(l,u,c)},kn.useFormStatus=function(){return o.H.useHostTransitionStatus()},kn.version="19.2.4",kn}var uN;function V$(){if(uN)return lC.exports;uN=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),lC.exports=use(),lC.exports}var cN;function cse(){if(cN)return Zv;cN=1;var r=sse(),t=rn(),e=V$();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function a(p){var y=p,S=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,(y.flags&4098)!==0&&(S=y.return),p=y.return;while(p)}return y.tag===3?S:null}function o(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function s(p){if(p.tag===31){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function l(p){if(a(p)!==p)throw Error(n(188))}function u(p){var y=p.alternate;if(!y){if(y=a(p),y===null)throw Error(n(188));return y!==p?null:p}for(var S=p,C=y;;){var E=S.return;if(E===null)break;var B=E.alternate;if(B===null){if(C=E.return,C!==null){S=C;continue}break}if(E.child===B.child){for(B=E.child;B;){if(B===S)return l(E),p;if(B===C)return l(E),y;B=B.sibling}throw Error(n(188))}if(S.return!==C.return)S=E,C=B;else{for(var H=!1,j=E.child;j;){if(j===S){H=!0,S=E,C=B;break}if(j===C){H=!0,C=E,S=B;break}j=j.sibling}if(!H){for(j=B.child;j;){if(j===S){H=!0,S=B,C=E;break}if(j===C){H=!0,C=B,S=E;break}j=j.sibling}if(!H)throw Error(n(189))}}if(S.alternate!==C)throw Error(n(190))}if(S.tag!==3)throw Error(n(188));return S.stateNode.current===S?p:y}function c(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p;for(p=p.child;p!==null;){if(y=c(p),y!==null)return y;p=p.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function k(p){return p===null||typeof p!="object"?null:(p=R&&p[R]||p["@@iterator"],typeof p=="function"?p:null)}var O=Symbol.for("react.client.reference");function V(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===O?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case g:return"Fragment";case x:return"Profiler";case m:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList";case P:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case v:return"Portal";case b:return p.displayName||"Context";case _:return(p._context.displayName||"Context")+".Consumer";case w:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case M:return y=p.displayName||null,y!==null?y:V(p.type)||"Memo";case D:y=p._payload,p=p._init;try{return V(p(y))}catch{}}return null}var N=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},U=[],Z=-1;function F(p){return{current:p}}function q(p){0>Z||(p.current=U[Z],U[Z]=null,Z--)}function $(p,y){Z++,U[Z]=p.current,p.current=y}var K=F(null),re=F(null),ce=F(null),pe=F(null);function de(p,y){switch($(ce,y),$(re,p),$(K,null),y.nodeType){case 9:case 11:p=(p=y.documentElement)&&(p=p.namespaceURI)?T8(p):0;break;default:if(p=y.tagName,y=y.namespaceURI)y=T8(y),p=A8(y,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}q(K),$(K,p)}function ge(){q(K),q(re),q(ce)}function Ce(p){p.memoizedState!==null&&$(pe,p);var y=K.current,S=A8(y,p.type);y!==S&&($(re,p),$(K,S))}function xe(p){re.current===p&&(q(K),q(re)),pe.current===p&&(q(pe),qv._currentValue=W)}var we,Pe;function De(p){if(we===void 0)try{throw Error()}catch(S){var y=S.stack.trim().match(/\n( *(at )?)/);we=y&&y[1]||"",Pe=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+p+Pe}var Ae=!1;function Xe(p,y){if(!p||Ae)return"";Ae=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(y){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(fe){var se=fe}Reflect.construct(p,[],me)}else{try{me.call()}catch(fe){se=fe}p.call(me.prototype)}}else{try{throw Error()}catch(fe){se=fe}(me=p())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(fe){if(fe&&se&&typeof fe.stack=="string")return[fe.stack,se.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=C.DetermineComponentFrameRoot(),H=B[0],j=B[1];if(H&&j){var Q=H.split(`
`),ae=j.split(`
`);for(E=C=0;C<Q.length&&!Q[C].includes("DetermineComponentFrameRoot");)C++;for(;E<ae.length&&!ae[E].includes("DetermineComponentFrameRoot");)E++;if(C===Q.length||E===ae.length)for(C=Q.length-1,E=ae.length-1;1<=C&&0<=E&&Q[C]!==ae[E];)E--;for(;1<=C&&0<=E;C--,E--)if(Q[C]!==ae[E]){if(C!==1||E!==1)do if(C--,E--,0>E||Q[C]!==ae[E]){var ve=`
`+Q[C].replace(" at new "," at ");return p.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",p.displayName)),ve}while(1<=C&&0<=E);break}}}finally{Ae=!1,Error.prepareStackTrace=S}return(S=p?p.displayName||p.name:"")?De(S):""}function Ne(p,y){switch(p.tag){case 26:case 27:case 5:return De(p.type);case 16:return De("Lazy");case 13:return p.child!==y&&y!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Xe(p.type,!1);case 11:return Xe(p.type.render,!1);case 1:return Xe(p.type,!0);case 31:return De("Activity");default:return""}}function St(p){try{var y="",S=null;do y+=Ne(p,S),S=p,p=p.return;while(p);return y}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var tt=Object.prototype.hasOwnProperty,wt=r.unstable_scheduleCallback,xt=r.unstable_cancelCallback,dt=r.unstable_shouldYield,Ee=r.unstable_requestPaint,Lt=r.unstable_now,pr=r.unstable_getCurrentPriorityLevel,Yr=r.unstable_ImmediatePriority,xr=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,xi=r.unstable_LowPriority,ei=r.unstable_IdlePriority,ti=r.log,On=r.unstable_setDisableYieldValue,nr=null,Nt=null;function Xr(p){if(typeof ti=="function"&&On(p),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(nr,p)}catch{}}var kr=Math.clz32?Math.clz32:ri,ir=Math.log,Lr=Math.LN2;function ri(p){return p>>>=0,p===0?32:31-(ir(p)/Lr|0)|0}var so=256,_i=262144,Oa=4194304;function Gn(p){var y=p&42;if(y!==0)return y;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function Ba(p,y,S){var C=p.pendingLanes;if(C===0)return 0;var E=0,B=p.suspendedLanes,H=p.pingedLanes;p=p.warmLanes;var j=C&134217727;return j!==0?(C=j&~B,C!==0?E=Gn(C):(H&=j,H!==0?E=Gn(H):S||(S=j&~p,S!==0&&(E=Gn(S))))):(j=C&~B,j!==0?E=Gn(j):H!==0?E=Gn(H):S||(S=C&~p,S!==0&&(E=Gn(S)))),E===0?0:y!==0&&y!==E&&(y&B)===0&&(B=E&-E,S=y&-y,B>=S||B===32&&(S&4194048)!==0)?y:E}function Yi(p,y){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&y)===0}function Zo(p,y){switch(p){case 1:case 2:case 4:case 8:case 64:return y+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var p=Oa;return Oa<<=1,(Oa&62914560)===0&&(Oa=4194304),p}function fr(p){for(var y=[],S=0;31>S;S++)y.push(p);return y}function mn(p,y){p.pendingLanes|=y,y!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function Ou(p,y,S,C,E,B){var H=p.pendingLanes;p.pendingLanes=S,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=S,p.entangledLanes&=S,p.errorRecoveryDisabledLanes&=S,p.shellSuspendCounter=0;var j=p.entanglements,Q=p.expirationTimes,ae=p.hiddenUpdates;for(S=H&~S;0<S;){var ve=31-kr(S),me=1<<ve;j[ve]=0,Q[ve]=-1;var se=ae[ve];if(se!==null)for(ae[ve]=null,ve=0;ve<se.length;ve++){var fe=se[ve];fe!==null&&(fe.lane&=-536870913)}S&=~me}C!==0&&Wn(p,C,0),B!==0&&E===0&&p.tag!==0&&(p.suspendedLanes|=B&~(H&~y))}function Wn(p,y,S){p.pendingLanes|=y,p.suspendedLanes&=~y;var C=31-kr(y);p.entangledLanes|=y,p.entanglements[C]=p.entanglements[C]|1073741824|S&261930}function an(p,y){var S=p.entangledLanes|=y;for(p=p.entanglements;S;){var C=31-kr(S),E=1<<C;E&y|p[C]&y&&(p[C]|=y),S&=~E}}function ni(p,y){var S=y&-y;return S=(S&42)!==0?1:Ko(S),(S&(p.suspendedLanes|y))!==0?0:S}function Ko(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function Bu(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function xy(){var p=G.p;return p!==0?p:(p=window.event,p===void 0?32:j8(p.type))}function _y(p,y){var S=G.p;try{return G.p=p,y()}finally{G.p=S}}var lo=Math.random().toString(36).slice(2),$r="__reactFiber$"+lo,Bn="__reactProps$"+lo,cl="__reactContainer$"+lo,$S="__reactEvents$"+lo,Xie="__reactListeners$"+lo,$ie="__reactHandles$"+lo,hL="__reactResources$"+lo,ov="__reactMarker$"+lo;function jS(p){delete p[$r],delete p[Bn],delete p[$S],delete p[Xie],delete p[$ie]}function kf(p){var y=p[$r];if(y)return y;for(var S=p.parentNode;S;){if(y=S[cl]||S[$r]){if(S=y.alternate,y.child!==null||S!==null&&S.child!==null)for(p=O8(p);p!==null;){if(S=p[$r])return S;p=O8(p)}return y}p=S,S=p.parentNode}return null}function Lf(p){if(p=p[$r]||p[cl]){var y=p.tag;if(y===5||y===6||y===13||y===31||y===26||y===27||y===3)return p}return null}function sv(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p.stateNode;throw Error(n(33))}function Nf(p){var y=p[hL];return y||(y=p[hL]={hoistableStyles:new Map,hoistableScripts:new Map}),y}function on(p){p[ov]=!0}var dL=new Set,vL={};function ku(p,y){Vf(p,y),Vf(p+"Capture",y)}function Vf(p,y){for(vL[p]=y,p=0;p<y.length;p++)dL.add(y[p])}var jie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pL={},gL={};function Zie(p){return tt.call(gL,p)?!0:tt.call(pL,p)?!1:jie.test(p)?gL[p]=!0:(pL[p]=!0,!1)}function by(p,y,S){if(Zie(y))if(S===null)p.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":p.removeAttribute(y);return;case"boolean":var C=y.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){p.removeAttribute(y);return}}p.setAttribute(y,""+S)}}function Sy(p,y,S){if(S===null)p.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(y);return}p.setAttribute(y,""+S)}}function Qo(p,y,S,C){if(C===null)p.removeAttribute(S);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(S);return}p.setAttributeNS(y,S,""+C)}}function Xi(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function yL(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Kie(p,y,S){var C=Object.getOwnPropertyDescriptor(p.constructor.prototype,y);if(!p.hasOwnProperty(y)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var E=C.get,B=C.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return E.call(this)},set:function(H){S=""+H,B.call(this,H)}}),Object.defineProperty(p,y,{enumerable:C.enumerable}),{getValue:function(){return S},setValue:function(H){S=""+H},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function ZS(p){if(!p._valueTracker){var y=yL(p)?"checked":"value";p._valueTracker=Kie(p,y,""+p[y])}}function mL(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var S=y.getValue(),C="";return p&&(C=yL(p)?p.checked?"true":"false":p.value),p=C,p!==S?(y.setValue(p),!0):!1}function wy(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var Qie=/[\n"\\]/g;function $i(p){return p.replace(Qie,function(y){return"\\"+y.charCodeAt(0).toString(16)+" "})}function KS(p,y,S,C,E,B,H,j){p.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?p.type=H:p.removeAttribute("type"),y!=null?H==="number"?(y===0&&p.value===""||p.value!=y)&&(p.value=""+Xi(y)):p.value!==""+Xi(y)&&(p.value=""+Xi(y)):H!=="submit"&&H!=="reset"||p.removeAttribute("value"),y!=null?QS(p,H,Xi(y)):S!=null?QS(p,H,Xi(S)):C!=null&&p.removeAttribute("value"),E==null&&B!=null&&(p.defaultChecked=!!B),E!=null&&(p.checked=E&&typeof E!="function"&&typeof E!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?p.name=""+Xi(j):p.removeAttribute("name")}function xL(p,y,S,C,E,B,H,j){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(p.type=B),y!=null||S!=null){if(!(B!=="submit"&&B!=="reset"||y!=null)){ZS(p);return}S=S!=null?""+Xi(S):"",y=y!=null?""+Xi(y):S,j||y===p.value||(p.value=y),p.defaultValue=y}C=C??E,C=typeof C!="function"&&typeof C!="symbol"&&!!C,p.checked=j?p.checked:!!C,p.defaultChecked=!!C,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(p.name=H),ZS(p)}function QS(p,y,S){y==="number"&&wy(p.ownerDocument)===p||p.defaultValue===""+S||(p.defaultValue=""+S)}function zf(p,y,S,C){if(p=p.options,y){y={};for(var E=0;E<S.length;E++)y["$"+S[E]]=!0;for(S=0;S<p.length;S++)E=y.hasOwnProperty("$"+p[S].value),p[S].selected!==E&&(p[S].selected=E),E&&C&&(p[S].defaultSelected=!0)}else{for(S=""+Xi(S),y=null,E=0;E<p.length;E++){if(p[E].value===S){p[E].selected=!0,C&&(p[E].defaultSelected=!0);return}y!==null||p[E].disabled||(y=p[E])}y!==null&&(y.selected=!0)}}function _L(p,y,S){if(y!=null&&(y=""+Xi(y),y!==p.value&&(p.value=y),S==null)){p.defaultValue!==y&&(p.defaultValue=y);return}p.defaultValue=S!=null?""+Xi(S):""}function bL(p,y,S,C){if(y==null){if(C!=null){if(S!=null)throw Error(n(92));if(N(C)){if(1<C.length)throw Error(n(93));C=C[0]}S=C}S==null&&(S=""),y=S}S=Xi(y),p.defaultValue=S,C=p.textContent,C===S&&C!==""&&C!==null&&(p.value=C),ZS(p)}function Ff(p,y){if(y){var S=p.firstChild;if(S&&S===p.lastChild&&S.nodeType===3){S.nodeValue=y;return}}p.textContent=y}var Jie=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function SL(p,y,S){var C=y.indexOf("--")===0;S==null||typeof S=="boolean"||S===""?C?p.setProperty(y,""):y==="float"?p.cssFloat="":p[y]="":C?p.setProperty(y,S):typeof S!="number"||S===0||Jie.has(y)?y==="float"?p.cssFloat=S:p[y]=(""+S).trim():p[y]=S+"px"}function wL(p,y,S){if(y!=null&&typeof y!="object")throw Error(n(62));if(p=p.style,S!=null){for(var C in S)!S.hasOwnProperty(C)||y!=null&&y.hasOwnProperty(C)||(C.indexOf("--")===0?p.setProperty(C,""):C==="float"?p.cssFloat="":p[C]="");for(var E in y)C=y[E],y.hasOwnProperty(E)&&S[E]!==C&&SL(p,E,C)}else for(var B in y)y.hasOwnProperty(B)&&SL(p,B,y[B])}function JS(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eae=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tae=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cy(p){return tae.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}function Jo(){}var ew=null;function tw(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Hf=null,Gf=null;function CL(p){var y=Lf(p);if(y&&(p=y.stateNode)){var S=p[Bn]||null;e:switch(p=y.stateNode,y.type){case"input":if(KS(p,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name),y=S.name,S.type==="radio"&&y!=null){for(S=p;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll('input[name="'+$i(""+y)+'"][type="radio"]'),y=0;y<S.length;y++){var C=S[y];if(C!==p&&C.form===p.form){var E=C[Bn]||null;if(!E)throw Error(n(90));KS(C,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(y=0;y<S.length;y++)C=S[y],C.form===p.form&&mL(C)}break e;case"textarea":_L(p,S.value,S.defaultValue);break e;case"select":y=S.value,y!=null&&zf(p,!!S.multiple,y,!1)}}}var rw=!1;function TL(p,y,S){if(rw)return p(y,S);rw=!0;try{var C=p(y);return C}finally{if(rw=!1,(Hf!==null||Gf!==null)&&(fm(),Hf&&(y=Hf,p=Gf,Gf=Hf=null,CL(y),p)))for(y=0;y<p.length;y++)CL(p[y])}}function lv(p,y){var S=p.stateNode;if(S===null)return null;var C=S[Bn]||null;if(C===null)return null;S=C[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(p=p.type,C=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!C;break e;default:p=!1}if(p)return null;if(S&&typeof S!="function")throw Error(n(231,y,typeof S));return S}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nw=!1;if(es)try{var uv={};Object.defineProperty(uv,"passive",{get:function(){nw=!0}}),window.addEventListener("test",uv,uv),window.removeEventListener("test",uv,uv)}catch{nw=!1}var fl=null,iw=null,Ty=null;function AL(){if(Ty)return Ty;var p,y=iw,S=y.length,C,E="value"in fl?fl.value:fl.textContent,B=E.length;for(p=0;p<S&&y[p]===E[p];p++);var H=S-p;for(C=1;C<=H&&y[S-C]===E[B-C];C++);return Ty=E.slice(p,1<C?1-C:void 0)}function Ay(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function My(){return!0}function ML(){return!1}function ii(p){function y(S,C,E,B,H){this._reactName=S,this._targetInst=E,this.type=C,this.nativeEvent=B,this.target=H,this.currentTarget=null;for(var j in p)p.hasOwnProperty(j)&&(S=p[j],this[j]=S?S(B):B[j]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?My:ML,this.isPropagationStopped=ML,this}return f(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=My)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=My)},persist:function(){},isPersistent:My}),y}var Lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=ii(Lu),cv=f({},Lu,{view:0,detail:0}),rae=ii(cv),aw,ow,fv,Ey=f({},cv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lw,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==fv&&(fv&&p.type==="mousemove"?(aw=p.screenX-fv.screenX,ow=p.screenY-fv.screenY):ow=aw=0,fv=p),aw)},movementY:function(p){return"movementY"in p?p.movementY:ow}}),DL=ii(Ey),nae=f({},Ey,{dataTransfer:0}),iae=ii(nae),aae=f({},cv,{relatedTarget:0}),sw=ii(aae),oae=f({},Lu,{animationName:0,elapsedTime:0,pseudoElement:0}),sae=ii(oae),lae=f({},Lu,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),uae=ii(lae),cae=f({},Lu,{data:0}),EL=ii(cae),fae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vae(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=dae[p])?!!y[p]:!1}function lw(){return vae}var pae=f({},cv,{key:function(p){if(p.key){var y=fae[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=Ay(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?hae[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lw,charCode:function(p){return p.type==="keypress"?Ay(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Ay(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),gae=ii(pae),yae=f({},Ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IL=ii(yae),mae=f({},cv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lw}),xae=ii(mae),_ae=f({},Lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),bae=ii(_ae),Sae=f({},Ey,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),wae=ii(Sae),Cae=f({},Lu,{newState:0,oldState:0}),Tae=ii(Cae),Aae=[9,13,27,32],uw=es&&"CompositionEvent"in window,hv=null;es&&"documentMode"in document&&(hv=document.documentMode);var Mae=es&&"TextEvent"in window&&!hv,RL=es&&(!uw||hv&&8<hv&&11>=hv),PL=" ",OL=!1;function BL(p,y){switch(p){case"keyup":return Aae.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kL(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Wf=!1;function Dae(p,y){switch(p){case"compositionend":return kL(y);case"keypress":return y.which!==32?null:(OL=!0,PL);case"textInput":return p=y.data,p===PL&&OL?null:p;default:return null}}function Eae(p,y){if(Wf)return p==="compositionend"||!uw&&BL(p,y)?(p=AL(),Ty=iw=fl=null,Wf=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return RL&&y.locale!=="ko"?null:y.data;default:return null}}var Iae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LL(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!Iae[p.type]:y==="textarea"}function NL(p,y,S,C){Hf?Gf?Gf.push(C):Gf=[C]:Hf=C,y=mm(y,"onChange"),0<y.length&&(S=new Dy("onChange","change",null,S,C),p.push({event:S,listeners:y}))}var dv=null,vv=null;function Rae(p){x8(p,0)}function Iy(p){var y=sv(p);if(mL(y))return p}function VL(p,y){if(p==="change")return y}var zL=!1;if(es){var cw;if(es){var fw="oninput"in document;if(!fw){var FL=document.createElement("div");FL.setAttribute("oninput","return;"),fw=typeof FL.oninput=="function"}cw=fw}else cw=!1;zL=cw&&(!document.documentMode||9<document.documentMode)}function HL(){dv&&(dv.detachEvent("onpropertychange",GL),vv=dv=null)}function GL(p){if(p.propertyName==="value"&&Iy(vv)){var y=[];NL(y,vv,p,tw(p)),TL(Rae,y)}}function Pae(p,y,S){p==="focusin"?(HL(),dv=y,vv=S,dv.attachEvent("onpropertychange",GL)):p==="focusout"&&HL()}function Oae(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Iy(vv)}function Bae(p,y){if(p==="click")return Iy(y)}function kae(p,y){if(p==="input"||p==="change")return Iy(y)}function Lae(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var bi=typeof Object.is=="function"?Object.is:Lae;function pv(p,y){if(bi(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var S=Object.keys(p),C=Object.keys(y);if(S.length!==C.length)return!1;for(C=0;C<S.length;C++){var E=S[C];if(!tt.call(y,E)||!bi(p[E],y[E]))return!1}return!0}function WL(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function UL(p,y){var S=WL(p);p=0;for(var C;S;){if(S.nodeType===3){if(C=p+S.textContent.length,p<=y&&C>=y)return{node:S,offset:y-p};p=C}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=WL(S)}}function qL(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?qL(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function YL(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var y=wy(p.document);y instanceof p.HTMLIFrameElement;){try{var S=typeof y.contentWindow.location.href=="string"}catch{S=!1}if(S)p=y.contentWindow;else break;y=wy(p.document)}return y}function hw(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}var Nae=es&&"documentMode"in document&&11>=document.documentMode,Uf=null,dw=null,gv=null,vw=!1;function XL(p,y,S){var C=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;vw||Uf==null||Uf!==wy(C)||(C=Uf,"selectionStart"in C&&hw(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),gv&&pv(gv,C)||(gv=C,C=mm(dw,"onSelect"),0<C.length&&(y=new Dy("onSelect","select",null,y,S),p.push({event:y,listeners:C}),y.target=Uf)))}function Nu(p,y){var S={};return S[p.toLowerCase()]=y.toLowerCase(),S["Webkit"+p]="webkit"+y,S["Moz"+p]="moz"+y,S}var qf={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionrun:Nu("Transition","TransitionRun"),transitionstart:Nu("Transition","TransitionStart"),transitioncancel:Nu("Transition","TransitionCancel"),transitionend:Nu("Transition","TransitionEnd")},pw={},$L={};es&&($L=document.createElement("div").style,"AnimationEvent"in window||(delete qf.animationend.animation,delete qf.animationiteration.animation,delete qf.animationstart.animation),"TransitionEvent"in window||delete qf.transitionend.transition);function Vu(p){if(pw[p])return pw[p];if(!qf[p])return p;var y=qf[p],S;for(S in y)if(y.hasOwnProperty(S)&&S in $L)return pw[p]=y[S];return p}var jL=Vu("animationend"),ZL=Vu("animationiteration"),KL=Vu("animationstart"),Vae=Vu("transitionrun"),zae=Vu("transitionstart"),Fae=Vu("transitioncancel"),QL=Vu("transitionend"),JL=new Map,gw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gw.push("scrollEnd");function ka(p,y){JL.set(p,y),ku(y,[p])}var Ry=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},ji=[],Yf=0,yw=0;function Py(){for(var p=Yf,y=yw=Yf=0;y<p;){var S=ji[y];ji[y++]=null;var C=ji[y];ji[y++]=null;var E=ji[y];ji[y++]=null;var B=ji[y];if(ji[y++]=null,C!==null&&E!==null){var H=C.pending;H===null?E.next=E:(E.next=H.next,H.next=E),C.pending=E}B!==0&&e5(S,E,B)}}function Oy(p,y,S,C){ji[Yf++]=p,ji[Yf++]=y,ji[Yf++]=S,ji[Yf++]=C,yw|=C,p.lanes|=C,p=p.alternate,p!==null&&(p.lanes|=C)}function mw(p,y,S,C){return Oy(p,y,S,C),By(p)}function zu(p,y){return Oy(p,null,null,y),By(p)}function e5(p,y,S){p.lanes|=S;var C=p.alternate;C!==null&&(C.lanes|=S);for(var E=!1,B=p.return;B!==null;)B.childLanes|=S,C=B.alternate,C!==null&&(C.childLanes|=S),B.tag===22&&(p=B.stateNode,p===null||p._visibility&1||(E=!0)),p=B,B=B.return;return p.tag===3?(B=p.stateNode,E&&y!==null&&(E=31-kr(S),p=B.hiddenUpdates,C=p[E],C===null?p[E]=[y]:C.push(y),y.lane=S|536870912),B):null}function By(p){if(50<Vv)throw Vv=0,M2=null,Error(n(185));for(var y=p.return;y!==null;)p=y,y=p.return;return p.tag===3?p.stateNode:null}var Xf={};function Hae(p,y,S,C){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(p,y,S,C){return new Hae(p,y,S,C)}function xw(p){return p=p.prototype,!(!p||!p.isReactComponent)}function ts(p,y){var S=p.alternate;return S===null?(S=Si(p.tag,y,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=y,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&65011712,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,y=p.dependencies,S.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S.refCleanup=p.refCleanup,S}function t5(p,y){p.flags&=65011714;var S=p.alternate;return S===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=S.childLanes,p.lanes=S.lanes,p.child=S.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=S.memoizedProps,p.memoizedState=S.memoizedState,p.updateQueue=S.updateQueue,p.type=S.type,y=S.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),p}function ky(p,y,S,C,E,B){var H=0;if(C=p,typeof p=="function")xw(p)&&(H=1);else if(typeof p=="string")H=Yoe(p,S,K.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case P:return p=Si(31,S,y,E),p.elementType=P,p.lanes=B,p;case g:return Fu(S.children,E,B,y);case m:H=8,E|=24;break;case x:return p=Si(12,S,y,E|2),p.elementType=x,p.lanes=B,p;case T:return p=Si(13,S,y,E),p.elementType=T,p.lanes=B,p;case A:return p=Si(19,S,y,E),p.elementType=A,p.lanes=B,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case b:H=10;break e;case _:H=9;break e;case w:H=11;break e;case M:H=14;break e;case D:H=16,C=null;break e}H=29,S=Error(n(130,p===null?"null":typeof p,"")),C=null}return y=Si(H,S,y,E),y.elementType=p,y.type=C,y.lanes=B,y}function Fu(p,y,S,C){return p=Si(7,p,C,y),p.lanes=S,p}function _w(p,y,S){return p=Si(6,p,null,y),p.lanes=S,p}function r5(p){var y=Si(18,null,null,0);return y.stateNode=p,y}function bw(p,y,S){return y=Si(4,p.children!==null?p.children:[],p.key,y),y.lanes=S,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}var n5=new WeakMap;function Zi(p,y){if(typeof p=="object"&&p!==null){var S=n5.get(p);return S!==void 0?S:(y={value:p,source:y,stack:St(y)},n5.set(p,y),y)}return{value:p,source:y,stack:St(y)}}var $f=[],jf=0,Ly=null,yv=0,Ki=[],Qi=0,hl=null,uo=1,co="";function rs(p,y){$f[jf++]=yv,$f[jf++]=Ly,Ly=p,yv=y}function i5(p,y,S){Ki[Qi++]=uo,Ki[Qi++]=co,Ki[Qi++]=hl,hl=p;var C=uo;p=co;var E=32-kr(C)-1;C&=~(1<<E),S+=1;var B=32-kr(y)+E;if(30<B){var H=E-E%5;B=(C&(1<<H)-1).toString(32),C>>=H,E-=H,uo=1<<32-kr(y)+E|S<<E|C,co=B+p}else uo=1<<B|S<<E|C,co=p}function Sw(p){p.return!==null&&(rs(p,1),i5(p,1,0))}function ww(p){for(;p===Ly;)Ly=$f[--jf],$f[jf]=null,yv=$f[--jf],$f[jf]=null;for(;p===hl;)hl=Ki[--Qi],Ki[Qi]=null,co=Ki[--Qi],Ki[Qi]=null,uo=Ki[--Qi],Ki[Qi]=null}function a5(p,y){Ki[Qi++]=uo,Ki[Qi++]=co,Ki[Qi++]=hl,uo=y.id,co=y.overflow,hl=p}var xn=null,ur=null,Pt=!1,dl=null,Ji=!1,Cw=Error(n(519));function vl(p){var y=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw mv(Zi(y,p)),Cw}function o5(p){var y=p.stateNode,S=p.type,C=p.memoizedProps;switch(y[$r]=p,y[Bn]=C,S){case"dialog":Et("cancel",y),Et("close",y);break;case"iframe":case"object":case"embed":Et("load",y);break;case"video":case"audio":for(S=0;S<Fv.length;S++)Et(Fv[S],y);break;case"source":Et("error",y);break;case"img":case"image":case"link":Et("error",y),Et("load",y);break;case"details":Et("toggle",y);break;case"input":Et("invalid",y),xL(y,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":Et("invalid",y);break;case"textarea":Et("invalid",y),bL(y,C.value,C.defaultValue,C.children)}S=C.children,typeof S!="string"&&typeof S!="number"&&typeof S!="bigint"||y.textContent===""+S||C.suppressHydrationWarning===!0||w8(y.textContent,S)?(C.popover!=null&&(Et("beforetoggle",y),Et("toggle",y)),C.onScroll!=null&&Et("scroll",y),C.onScrollEnd!=null&&Et("scrollend",y),C.onClick!=null&&(y.onclick=Jo),y=!0):y=!1,y||vl(p,!0)}function s5(p){for(xn=p.return;xn;)switch(xn.tag){case 5:case 31:case 13:Ji=!1;return;case 27:case 3:Ji=!0;return;default:xn=xn.return}}function Zf(p){if(p!==xn)return!1;if(!Pt)return s5(p),Pt=!0,!1;var y=p.tag,S;if((S=y!==3&&y!==27)&&((S=y===5)&&(S=p.type,S=!(S!=="form"&&S!=="button")||G2(p.type,p.memoizedProps)),S=!S),S&&ur&&vl(p),s5(p),y===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));ur=P8(p)}else if(y===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));ur=P8(p)}else y===27?(y=ur,Dl(p.type)?(p=X2,X2=null,ur=p):ur=y):ur=xn?ta(p.stateNode.nextSibling):null;return!0}function Hu(){ur=xn=null,Pt=!1}function Tw(){var p=dl;return p!==null&&(li===null?li=p:li.push.apply(li,p),dl=null),p}function mv(p){dl===null?dl=[p]:dl.push(p)}var Aw=F(null),Gu=null,ns=null;function pl(p,y,S){$(Aw,y._currentValue),y._currentValue=S}function is(p){p._currentValue=Aw.current,q(Aw)}function Mw(p,y,S){for(;p!==null;){var C=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,C!==null&&(C.childLanes|=y)):C!==null&&(C.childLanes&y)!==y&&(C.childLanes|=y),p===S)break;p=p.return}}function Dw(p,y,S,C){var E=p.child;for(E!==null&&(E.return=p);E!==null;){var B=E.dependencies;if(B!==null){var H=E.child;B=B.firstContext;e:for(;B!==null;){var j=B;B=E;for(var Q=0;Q<y.length;Q++)if(j.context===y[Q]){B.lanes|=S,j=B.alternate,j!==null&&(j.lanes|=S),Mw(B.return,S,p),C||(H=null);break e}B=j.next}}else if(E.tag===18){if(H=E.return,H===null)throw Error(n(341));H.lanes|=S,B=H.alternate,B!==null&&(B.lanes|=S),Mw(H,S,p),H=null}else H=E.child;if(H!==null)H.return=E;else for(H=E;H!==null;){if(H===p){H=null;break}if(E=H.sibling,E!==null){E.return=H.return,H=E;break}H=H.return}E=H}}function Kf(p,y,S,C){p=null;for(var E=y,B=!1;E!==null;){if(!B){if((E.flags&524288)!==0)B=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var H=E.alternate;if(H===null)throw Error(n(387));if(H=H.memoizedProps,H!==null){var j=E.type;bi(E.pendingProps.value,H.value)||(p!==null?p.push(j):p=[j])}}else if(E===pe.current){if(H=E.alternate,H===null)throw Error(n(387));H.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(p!==null?p.push(qv):p=[qv])}E=E.return}p!==null&&Dw(y,p,S,C),y.flags|=262144}function Ny(p){for(p=p.firstContext;p!==null;){if(!bi(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function Wu(p){Gu=p,ns=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function _n(p){return l5(Gu,p)}function Vy(p,y){return Gu===null&&Wu(p),l5(p,y)}function l5(p,y){var S=y._currentValue;if(y={context:y,memoizedValue:S,next:null},ns===null){if(p===null)throw Error(n(308));ns=y,p.dependencies={lanes:0,firstContext:y},p.flags|=524288}else ns=ns.next=y;return S}var Gae=typeof AbortController<"u"?AbortController:function(){var p=[],y=this.signal={aborted:!1,addEventListener:function(S,C){p.push(C)}};this.abort=function(){y.aborted=!0,p.forEach(function(S){return S()})}},Wae=r.unstable_scheduleCallback,Uae=r.unstable_NormalPriority,Nr={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ew(){return{controller:new Gae,data:new Map,refCount:0}}function xv(p){p.refCount--,p.refCount===0&&Wae(Uae,function(){p.controller.abort()})}var _v=null,Iw=0,Qf=0,Jf=null;function qae(p,y){if(_v===null){var S=_v=[];Iw=0,Qf=O2(),Jf={status:"pending",value:void 0,then:function(C){S.push(C)}}}return Iw++,y.then(u5,u5),y}function u5(){if(--Iw===0&&_v!==null){Jf!==null&&(Jf.status="fulfilled");var p=_v;_v=null,Qf=0,Jf=null;for(var y=0;y<p.length;y++)(0,p[y])()}}function Yae(p,y){var S=[],C={status:"pending",value:null,reason:null,then:function(E){S.push(E)}};return p.then(function(){C.status="fulfilled",C.value=y;for(var E=0;E<S.length;E++)(0,S[E])(y)},function(E){for(C.status="rejected",C.reason=E,E=0;E<S.length;E++)(0,S[E])(void 0)}),C}var c5=L.S;L.S=function(p,y){X4=Lt(),typeof y=="object"&&y!==null&&typeof y.then=="function"&&qae(p,y),c5!==null&&c5(p,y)};var Uu=F(null);function Rw(){var p=Uu.current;return p!==null?p:ar.pooledCache}function zy(p,y){y===null?$(Uu,Uu.current):$(Uu,y.pool)}function f5(){var p=Rw();return p===null?null:{parent:Nr._currentValue,pool:p}}var eh=Error(n(460)),Pw=Error(n(474)),Fy=Error(n(542)),Hy={then:function(){}};function h5(p){return p=p.status,p==="fulfilled"||p==="rejected"}function d5(p,y,S){switch(S=p[S],S===void 0?p.push(y):S!==y&&(y.then(Jo,Jo),y=S),y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,p5(p),p;default:if(typeof y.status=="string")y.then(Jo,Jo);else{if(p=ar,p!==null&&100<p.shellSuspendCounter)throw Error(n(482));p=y,p.status="pending",p.then(function(C){if(y.status==="pending"){var E=y;E.status="fulfilled",E.value=C}},function(C){if(y.status==="pending"){var E=y;E.status="rejected",E.reason=C}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,p5(p),p}throw Yu=y,eh}}function qu(p){try{var y=p._init;return y(p._payload)}catch(S){throw S!==null&&typeof S=="object"&&typeof S.then=="function"?(Yu=S,eh):S}}var Yu=null;function v5(){if(Yu===null)throw Error(n(459));var p=Yu;return Yu=null,p}function p5(p){if(p===eh||p===Fy)throw Error(n(483))}var th=null,bv=0;function Gy(p){var y=bv;return bv+=1,th===null&&(th=[]),d5(th,p,y)}function Sv(p,y){y=y.props.ref,p.ref=y!==void 0?y:null}function Wy(p,y){throw y.$$typeof===d?Error(n(525)):(p=Object.prototype.toString.call(y),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p)))}function g5(p){function y(ne,ee){if(p){var ie=ne.deletions;ie===null?(ne.deletions=[ee],ne.flags|=16):ie.push(ee)}}function S(ne,ee){if(!p)return null;for(;ee!==null;)y(ne,ee),ee=ee.sibling;return null}function C(ne){for(var ee=new Map;ne!==null;)ne.key!==null?ee.set(ne.key,ne):ee.set(ne.index,ne),ne=ne.sibling;return ee}function E(ne,ee){return ne=ts(ne,ee),ne.index=0,ne.sibling=null,ne}function B(ne,ee,ie){return ne.index=ie,p?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<ee?(ne.flags|=67108866,ee):ie):(ne.flags|=67108866,ee)):(ne.flags|=1048576,ee)}function H(ne){return p&&ne.alternate===null&&(ne.flags|=67108866),ne}function j(ne,ee,ie,ye){return ee===null||ee.tag!==6?(ee=_w(ie,ne.mode,ye),ee.return=ne,ee):(ee=E(ee,ie),ee.return=ne,ee)}function Q(ne,ee,ie,ye){var Qe=ie.type;return Qe===g?ve(ne,ee,ie.props.children,ye,ie.key):ee!==null&&(ee.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===D&&qu(Qe)===ee.type)?(ee=E(ee,ie.props),Sv(ee,ie),ee.return=ne,ee):(ee=ky(ie.type,ie.key,ie.props,null,ne.mode,ye),Sv(ee,ie),ee.return=ne,ee)}function ae(ne,ee,ie,ye){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ie.containerInfo||ee.stateNode.implementation!==ie.implementation?(ee=bw(ie,ne.mode,ye),ee.return=ne,ee):(ee=E(ee,ie.children||[]),ee.return=ne,ee)}function ve(ne,ee,ie,ye,Qe){return ee===null||ee.tag!==7?(ee=Fu(ie,ne.mode,ye,Qe),ee.return=ne,ee):(ee=E(ee,ie),ee.return=ne,ee)}function me(ne,ee,ie){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=_w(""+ee,ne.mode,ie),ee.return=ne,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case h:return ie=ky(ee.type,ee.key,ee.props,null,ne.mode,ie),Sv(ie,ee),ie.return=ne,ie;case v:return ee=bw(ee,ne.mode,ie),ee.return=ne,ee;case D:return ee=qu(ee),me(ne,ee,ie)}if(N(ee)||k(ee))return ee=Fu(ee,ne.mode,ie,null),ee.return=ne,ee;if(typeof ee.then=="function")return me(ne,Gy(ee),ie);if(ee.$$typeof===b)return me(ne,Vy(ne,ee),ie);Wy(ne,ee)}return null}function se(ne,ee,ie,ye){var Qe=ee!==null?ee.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Qe!==null?null:j(ne,ee,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case h:return ie.key===Qe?Q(ne,ee,ie,ye):null;case v:return ie.key===Qe?ae(ne,ee,ie,ye):null;case D:return ie=qu(ie),se(ne,ee,ie,ye)}if(N(ie)||k(ie))return Qe!==null?null:ve(ne,ee,ie,ye,null);if(typeof ie.then=="function")return se(ne,ee,Gy(ie),ye);if(ie.$$typeof===b)return se(ne,ee,Vy(ne,ie),ye);Wy(ne,ie)}return null}function fe(ne,ee,ie,ye,Qe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ne=ne.get(ie)||null,j(ee,ne,""+ye,Qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case h:return ne=ne.get(ye.key===null?ie:ye.key)||null,Q(ee,ne,ye,Qe);case v:return ne=ne.get(ye.key===null?ie:ye.key)||null,ae(ee,ne,ye,Qe);case D:return ye=qu(ye),fe(ne,ee,ie,ye,Qe)}if(N(ye)||k(ye))return ne=ne.get(ie)||null,ve(ee,ne,ye,Qe,null);if(typeof ye.then=="function")return fe(ne,ee,ie,Gy(ye),Qe);if(ye.$$typeof===b)return fe(ne,ee,ie,Vy(ee,ye),Qe);Wy(ee,ye)}return null}function Ge(ne,ee,ie,ye){for(var Qe=null,zt=null,Ye=ee,Ct=ee=0,Rt=null;Ye!==null&&Ct<ie.length;Ct++){Ye.index>Ct?(Rt=Ye,Ye=null):Rt=Ye.sibling;var Ft=se(ne,Ye,ie[Ct],ye);if(Ft===null){Ye===null&&(Ye=Rt);break}p&&Ye&&Ft.alternate===null&&y(ne,Ye),ee=B(Ft,ee,Ct),zt===null?Qe=Ft:zt.sibling=Ft,zt=Ft,Ye=Rt}if(Ct===ie.length)return S(ne,Ye),Pt&&rs(ne,Ct),Qe;if(Ye===null){for(;Ct<ie.length;Ct++)Ye=me(ne,ie[Ct],ye),Ye!==null&&(ee=B(Ye,ee,Ct),zt===null?Qe=Ye:zt.sibling=Ye,zt=Ye);return Pt&&rs(ne,Ct),Qe}for(Ye=C(Ye);Ct<ie.length;Ct++)Rt=fe(Ye,ne,Ct,ie[Ct],ye),Rt!==null&&(p&&Rt.alternate!==null&&Ye.delete(Rt.key===null?Ct:Rt.key),ee=B(Rt,ee,Ct),zt===null?Qe=Rt:zt.sibling=Rt,zt=Rt);return p&&Ye.forEach(function(Ol){return y(ne,Ol)}),Pt&&rs(ne,Ct),Qe}function nt(ne,ee,ie,ye){if(ie==null)throw Error(n(151));for(var Qe=null,zt=null,Ye=ee,Ct=ee=0,Rt=null,Ft=ie.next();Ye!==null&&!Ft.done;Ct++,Ft=ie.next()){Ye.index>Ct?(Rt=Ye,Ye=null):Rt=Ye.sibling;var Ol=se(ne,Ye,Ft.value,ye);if(Ol===null){Ye===null&&(Ye=Rt);break}p&&Ye&&Ol.alternate===null&&y(ne,Ye),ee=B(Ol,ee,Ct),zt===null?Qe=Ol:zt.sibling=Ol,zt=Ol,Ye=Rt}if(Ft.done)return S(ne,Ye),Pt&&rs(ne,Ct),Qe;if(Ye===null){for(;!Ft.done;Ct++,Ft=ie.next())Ft=me(ne,Ft.value,ye),Ft!==null&&(ee=B(Ft,ee,Ct),zt===null?Qe=Ft:zt.sibling=Ft,zt=Ft);return Pt&&rs(ne,Ct),Qe}for(Ye=C(Ye);!Ft.done;Ct++,Ft=ie.next())Ft=fe(Ye,ne,Ct,Ft.value,ye),Ft!==null&&(p&&Ft.alternate!==null&&Ye.delete(Ft.key===null?Ct:Ft.key),ee=B(Ft,ee,Ct),zt===null?Qe=Ft:zt.sibling=Ft,zt=Ft);return p&&Ye.forEach(function(nse){return y(ne,nse)}),Pt&&rs(ne,Ct),Qe}function tr(ne,ee,ie,ye){if(typeof ie=="object"&&ie!==null&&ie.type===g&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case h:e:{for(var Qe=ie.key;ee!==null;){if(ee.key===Qe){if(Qe=ie.type,Qe===g){if(ee.tag===7){S(ne,ee.sibling),ye=E(ee,ie.props.children),ye.return=ne,ne=ye;break e}}else if(ee.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===D&&qu(Qe)===ee.type){S(ne,ee.sibling),ye=E(ee,ie.props),Sv(ye,ie),ye.return=ne,ne=ye;break e}S(ne,ee);break}else y(ne,ee);ee=ee.sibling}ie.type===g?(ye=Fu(ie.props.children,ne.mode,ye,ie.key),ye.return=ne,ne=ye):(ye=ky(ie.type,ie.key,ie.props,null,ne.mode,ye),Sv(ye,ie),ye.return=ne,ne=ye)}return H(ne);case v:e:{for(Qe=ie.key;ee!==null;){if(ee.key===Qe)if(ee.tag===4&&ee.stateNode.containerInfo===ie.containerInfo&&ee.stateNode.implementation===ie.implementation){S(ne,ee.sibling),ye=E(ee,ie.children||[]),ye.return=ne,ne=ye;break e}else{S(ne,ee);break}else y(ne,ee);ee=ee.sibling}ye=bw(ie,ne.mode,ye),ye.return=ne,ne=ye}return H(ne);case D:return ie=qu(ie),tr(ne,ee,ie,ye)}if(N(ie))return Ge(ne,ee,ie,ye);if(k(ie)){if(Qe=k(ie),typeof Qe!="function")throw Error(n(150));return ie=Qe.call(ie),nt(ne,ee,ie,ye)}if(typeof ie.then=="function")return tr(ne,ee,Gy(ie),ye);if(ie.$$typeof===b)return tr(ne,ee,Vy(ne,ie),ye);Wy(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,ee!==null&&ee.tag===6?(S(ne,ee.sibling),ye=E(ee,ie),ye.return=ne,ne=ye):(S(ne,ee),ye=_w(ie,ne.mode,ye),ye.return=ne,ne=ye),H(ne)):S(ne,ee)}return function(ne,ee,ie,ye){try{bv=0;var Qe=tr(ne,ee,ie,ye);return th=null,Qe}catch(Ye){if(Ye===eh||Ye===Fy)throw Ye;var zt=Si(29,Ye,null,ne.mode);return zt.lanes=ye,zt.return=ne,zt}}}var Xu=g5(!0),y5=g5(!1),gl=!1;function Ow(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bw(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function yl(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function ml(p,y,S){var C=p.updateQueue;if(C===null)return null;if(C=C.shared,(Ht&2)!==0){var E=C.pending;return E===null?y.next=y:(y.next=E.next,E.next=y),C.pending=y,y=By(p),e5(p,null,S),y}return Oy(p,C,y,S),By(p)}function wv(p,y,S){if(y=y.updateQueue,y!==null&&(y=y.shared,(S&4194048)!==0)){var C=y.lanes;C&=p.pendingLanes,S|=C,y.lanes=S,an(p,S)}}function kw(p,y){var S=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,S===C)){var E=null,B=null;if(S=S.firstBaseUpdate,S!==null){do{var H={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};B===null?E=B=H:B=B.next=H,S=S.next}while(S!==null);B===null?E=B=y:B=B.next=y}else E=B=y;S={baseState:C.baseState,firstBaseUpdate:E,lastBaseUpdate:B,shared:C.shared,callbacks:C.callbacks},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=y:p.next=y,S.lastBaseUpdate=y}var Lw=!1;function Cv(){if(Lw){var p=Jf;if(p!==null)throw p}}function Tv(p,y,S,C){Lw=!1;var E=p.updateQueue;gl=!1;var B=E.firstBaseUpdate,H=E.lastBaseUpdate,j=E.shared.pending;if(j!==null){E.shared.pending=null;var Q=j,ae=Q.next;Q.next=null,H===null?B=ae:H.next=ae,H=Q;var ve=p.alternate;ve!==null&&(ve=ve.updateQueue,j=ve.lastBaseUpdate,j!==H&&(j===null?ve.firstBaseUpdate=ae:j.next=ae,ve.lastBaseUpdate=Q))}if(B!==null){var me=E.baseState;H=0,ve=ae=Q=null,j=B;do{var se=j.lane&-536870913,fe=se!==j.lane;if(fe?(It&se)===se:(C&se)===se){se!==0&&se===Qf&&(Lw=!0),ve!==null&&(ve=ve.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Ge=p,nt=j;se=y;var tr=S;switch(nt.tag){case 1:if(Ge=nt.payload,typeof Ge=="function"){me=Ge.call(tr,me,se);break e}me=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=nt.payload,se=typeof Ge=="function"?Ge.call(tr,me,se):Ge,se==null)break e;me=f({},me,se);break e;case 2:gl=!0}}se=j.callback,se!==null&&(p.flags|=64,fe&&(p.flags|=8192),fe=E.callbacks,fe===null?E.callbacks=[se]:fe.push(se))}else fe={lane:se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ve===null?(ae=ve=fe,Q=me):ve=ve.next=fe,H|=se;if(j=j.next,j===null){if(j=E.shared.pending,j===null)break;fe=j,j=fe.next,fe.next=null,E.lastBaseUpdate=fe,E.shared.pending=null}}while(!0);ve===null&&(Q=me),E.baseState=Q,E.firstBaseUpdate=ae,E.lastBaseUpdate=ve,B===null&&(E.shared.lanes=0),wl|=H,p.lanes=H,p.memoizedState=me}}function m5(p,y){if(typeof p!="function")throw Error(n(191,p));p.call(y)}function x5(p,y){var S=p.callbacks;if(S!==null)for(p.callbacks=null,p=0;p<S.length;p++)m5(S[p],y)}var rh=F(null),Uy=F(0);function _5(p,y){p=ds,$(Uy,p),$(rh,y),ds=p|y.baseLanes}function Nw(){$(Uy,ds),$(rh,rh.current)}function Vw(){ds=Uy.current,q(rh),q(Uy)}var wi=F(null),ea=null;function xl(p){var y=p.alternate;$(Er,Er.current&1),$(wi,p),ea===null&&(y===null||rh.current!==null||y.memoizedState!==null)&&(ea=p)}function zw(p){$(Er,Er.current),$(wi,p),ea===null&&(ea=p)}function b5(p){p.tag===22?($(Er,Er.current),$(wi,p),ea===null&&(ea=p)):_l()}function _l(){$(Er,Er.current),$(wi,wi.current)}function Ci(p){q(wi),ea===p&&(ea=null),q(Er)}var Er=F(0);function qy(p){for(var y=p;y!==null;){if(y.tag===13){var S=y.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||q2(S)||Y2(S)))return y}else if(y.tag===19&&(y.memoizedProps.revealOrder==="forwards"||y.memoizedProps.revealOrder==="backwards"||y.memoizedProps.revealOrder==="unstable_legacy-backwards"||y.memoizedProps.revealOrder==="together")){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var as=0,_t=null,Jt=null,Vr=null,Yy=!1,nh=!1,$u=!1,Xy=0,Av=0,ih=null,Xae=0;function br(){throw Error(n(321))}function Fw(p,y){if(y===null)return!1;for(var S=0;S<y.length&&S<p.length;S++)if(!bi(p[S],y[S]))return!1;return!0}function Hw(p,y,S,C,E,B){return as=B,_t=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,L.H=p===null||p.memoizedState===null?i4:r2,$u=!1,B=S(C,E),$u=!1,nh&&(B=w5(y,S,C,E)),S5(p),B}function S5(p){L.H=Ev;var y=Jt!==null&&Jt.next!==null;if(as=0,Vr=Jt=_t=null,Yy=!1,Av=0,ih=null,y)throw Error(n(300));p===null||zr||(p=p.dependencies,p!==null&&Ny(p)&&(zr=!0))}function w5(p,y,S,C){_t=p;var E=0;do{if(nh&&(ih=null),Av=0,nh=!1,25<=E)throw Error(n(301));if(E+=1,Vr=Jt=null,p.updateQueue!=null){var B=p.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}L.H=a4,B=y(S,C)}while(nh);return B}function $ae(){var p=L.H,y=p.useState()[0];return y=typeof y.then=="function"?Mv(y):y,p=p.useState()[0],(Jt!==null?Jt.memoizedState:null)!==p&&(_t.flags|=1024),y}function Gw(){var p=Xy!==0;return Xy=0,p}function Ww(p,y,S){y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~S}function Uw(p){if(Yy){for(p=p.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Yy=!1}as=0,Vr=Jt=_t=null,nh=!1,Av=Xy=0,ih=null}function Un(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?_t.memoizedState=Vr=p:Vr=Vr.next=p,Vr}function Ir(){if(Jt===null){var p=_t.alternate;p=p!==null?p.memoizedState:null}else p=Jt.next;var y=Vr===null?_t.memoizedState:Vr.next;if(y!==null)Vr=y,Jt=p;else{if(p===null)throw _t.alternate===null?Error(n(467)):Error(n(310));Jt=p,p={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Vr===null?_t.memoizedState=Vr=p:Vr=Vr.next=p}return Vr}function $y(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mv(p){var y=Av;return Av+=1,ih===null&&(ih=[]),p=d5(ih,p,y),y=_t,(Vr===null?y.memoizedState:Vr.next)===null&&(y=y.alternate,L.H=y===null||y.memoizedState===null?i4:r2),p}function jy(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Mv(p);if(p.$$typeof===b)return _n(p)}throw Error(n(438,String(p)))}function qw(p){var y=null,S=_t.updateQueue;if(S!==null&&(y=S.memoCache),y==null){var C=_t.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(y={data:C.data.map(function(E){return E.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),S===null&&(S=$y(),_t.updateQueue=S),S.memoCache=y,S=y.data[y.index],S===void 0)for(S=y.data[y.index]=Array(p),C=0;C<p;C++)S[C]=I;return y.index++,S}function os(p,y){return typeof y=="function"?y(p):y}function Zy(p){var y=Ir();return Yw(y,Jt,p)}function Yw(p,y,S){var C=p.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=S;var E=p.baseQueue,B=C.pending;if(B!==null){if(E!==null){var H=E.next;E.next=B.next,B.next=H}y.baseQueue=E=B,C.pending=null}if(B=p.baseState,E===null)p.memoizedState=B;else{y=E.next;var j=H=null,Q=null,ae=y,ve=!1;do{var me=ae.lane&-536870913;if(me!==ae.lane?(It&me)===me:(as&me)===me){var se=ae.revertLane;if(se===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),me===Qf&&(ve=!0);else if((as&se)===se){ae=ae.next,se===Qf&&(ve=!0);continue}else me={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Q===null?(j=Q=me,H=B):Q=Q.next=me,_t.lanes|=se,wl|=se;me=ae.action,$u&&S(B,me),B=ae.hasEagerState?ae.eagerState:S(B,me)}else se={lane:me,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Q===null?(j=Q=se,H=B):Q=Q.next=se,_t.lanes|=me,wl|=me;ae=ae.next}while(ae!==null&&ae!==y);if(Q===null?H=B:Q.next=j,!bi(B,p.memoizedState)&&(zr=!0,ve&&(S=Jf,S!==null)))throw S;p.memoizedState=B,p.baseState=H,p.baseQueue=Q,C.lastRenderedState=B}return E===null&&(C.lanes=0),[p.memoizedState,C.dispatch]}function Xw(p){var y=Ir(),S=y.queue;if(S===null)throw Error(n(311));S.lastRenderedReducer=p;var C=S.dispatch,E=S.pending,B=y.memoizedState;if(E!==null){S.pending=null;var H=E=E.next;do B=p(B,H.action),H=H.next;while(H!==E);bi(B,y.memoizedState)||(zr=!0),y.memoizedState=B,y.baseQueue===null&&(y.baseState=B),S.lastRenderedState=B}return[B,C]}function C5(p,y,S){var C=_t,E=Ir(),B=Pt;if(B){if(S===void 0)throw Error(n(407));S=S()}else S=y();var H=!bi((Jt||E).memoizedState,S);if(H&&(E.memoizedState=S,zr=!0),E=E.queue,Zw(M5.bind(null,C,E,p),[p]),E.getSnapshot!==y||H||Vr!==null&&Vr.memoizedState.tag&1){if(C.flags|=2048,ah(9,{destroy:void 0},A5.bind(null,C,E,S,y),null),ar===null)throw Error(n(349));B||(as&127)!==0||T5(C,y,S)}return S}function T5(p,y,S){p.flags|=16384,p={getSnapshot:y,value:S},y=_t.updateQueue,y===null?(y=$y(),_t.updateQueue=y,y.stores=[p]):(S=y.stores,S===null?y.stores=[p]:S.push(p))}function A5(p,y,S,C){y.value=S,y.getSnapshot=C,D5(y)&&E5(p)}function M5(p,y,S){return S(function(){D5(y)&&E5(p)})}function D5(p){var y=p.getSnapshot;p=p.value;try{var S=y();return!bi(p,S)}catch{return!0}}function E5(p){var y=zu(p,2);y!==null&&ui(y,p,2)}function $w(p){var y=Un();if(typeof p=="function"){var S=p;if(p=S(),$u){Xr(!0);try{S()}finally{Xr(!1)}}}return y.memoizedState=y.baseState=p,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:p},y}function I5(p,y,S,C){return p.baseState=S,Yw(p,Jt,typeof C=="function"?C:os)}function jae(p,y,S,C,E){if(Jy(p))throw Error(n(485));if(p=y.action,p!==null){var B={payload:E,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){B.listeners.push(H)}};L.T!==null?S(!0):B.isTransition=!1,C(B),S=y.pending,S===null?(B.next=y.pending=B,R5(y,B)):(B.next=S.next,y.pending=S.next=B)}}function R5(p,y){var S=y.action,C=y.payload,E=p.state;if(y.isTransition){var B=L.T,H={};L.T=H;try{var j=S(E,C),Q=L.S;Q!==null&&Q(H,j),P5(p,y,j)}catch(ae){jw(p,y,ae)}finally{B!==null&&H.types!==null&&(B.types=H.types),L.T=B}}else try{B=S(E,C),P5(p,y,B)}catch(ae){jw(p,y,ae)}}function P5(p,y,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(C){O5(p,y,C)},function(C){return jw(p,y,C)}):O5(p,y,S)}function O5(p,y,S){y.status="fulfilled",y.value=S,B5(y),p.state=S,y=p.pending,y!==null&&(S=y.next,S===y?p.pending=null:(S=S.next,y.next=S,R5(p,S)))}function jw(p,y,S){var C=p.pending;if(p.pending=null,C!==null){C=C.next;do y.status="rejected",y.reason=S,B5(y),y=y.next;while(y!==C)}p.action=null}function B5(p){p=p.listeners;for(var y=0;y<p.length;y++)(0,p[y])()}function k5(p,y){return y}function L5(p,y){if(Pt){var S=ar.formState;if(S!==null){e:{var C=_t;if(Pt){if(ur){t:{for(var E=ur,B=Ji;E.nodeType!==8;){if(!B){E=null;break t}if(E=ta(E.nextSibling),E===null){E=null;break t}}B=E.data,E=B==="F!"||B==="F"?E:null}if(E){ur=ta(E.nextSibling),C=E.data==="F!";break e}}vl(C)}C=!1}C&&(y=S[0])}}return S=Un(),S.memoizedState=S.baseState=y,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k5,lastRenderedState:y},S.queue=C,S=t4.bind(null,_t,C),C.dispatch=S,C=$w(!1),B=t2.bind(null,_t,!1,C.queue),C=Un(),E={state:y,dispatch:null,action:p,pending:null},C.queue=E,S=jae.bind(null,_t,E,B,S),E.dispatch=S,C.memoizedState=p,[y,S,!1]}function N5(p){var y=Ir();return V5(y,Jt,p)}function V5(p,y,S){if(y=Yw(p,y,k5)[0],p=Zy(os)[0],typeof y=="object"&&y!==null&&typeof y.then=="function")try{var C=Mv(y)}catch(H){throw H===eh?Fy:H}else C=y;y=Ir();var E=y.queue,B=E.dispatch;return S!==y.memoizedState&&(_t.flags|=2048,ah(9,{destroy:void 0},Zae.bind(null,E,S),null)),[C,B,p]}function Zae(p,y){p.action=y}function z5(p){var y=Ir(),S=Jt;if(S!==null)return V5(y,S,p);Ir(),y=y.memoizedState,S=Ir();var C=S.queue.dispatch;return S.memoizedState=p,[y,C,!1]}function ah(p,y,S,C){return p={tag:p,create:S,deps:C,inst:y,next:null},y=_t.updateQueue,y===null&&(y=$y(),_t.updateQueue=y),S=y.lastEffect,S===null?y.lastEffect=p.next=p:(C=S.next,S.next=p,p.next=C,y.lastEffect=p),p}function F5(){return Ir().memoizedState}function Ky(p,y,S,C){var E=Un();_t.flags|=p,E.memoizedState=ah(1|y,{destroy:void 0},S,C===void 0?null:C)}function Qy(p,y,S,C){var E=Ir();C=C===void 0?null:C;var B=E.memoizedState.inst;Jt!==null&&C!==null&&Fw(C,Jt.memoizedState.deps)?E.memoizedState=ah(y,B,S,C):(_t.flags|=p,E.memoizedState=ah(1|y,B,S,C))}function H5(p,y){Ky(8390656,8,p,y)}function Zw(p,y){Qy(2048,8,p,y)}function Kae(p){_t.flags|=4;var y=_t.updateQueue;if(y===null)y=$y(),_t.updateQueue=y,y.events=[p];else{var S=y.events;S===null?y.events=[p]:S.push(p)}}function G5(p){var y=Ir().memoizedState;return Kae({ref:y,nextImpl:p}),function(){if((Ht&2)!==0)throw Error(n(440));return y.impl.apply(void 0,arguments)}}function W5(p,y){return Qy(4,2,p,y)}function U5(p,y){return Qy(4,4,p,y)}function q5(p,y){if(typeof y=="function"){p=p();var S=y(p);return function(){typeof S=="function"?S():y(null)}}if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function Y5(p,y,S){S=S!=null?S.concat([p]):null,Qy(4,4,q5.bind(null,y,p),S)}function Kw(){}function X5(p,y){var S=Ir();y=y===void 0?null:y;var C=S.memoizedState;return y!==null&&Fw(y,C[1])?C[0]:(S.memoizedState=[p,y],p)}function $5(p,y){var S=Ir();y=y===void 0?null:y;var C=S.memoizedState;if(y!==null&&Fw(y,C[1]))return C[0];if(C=p(),$u){Xr(!0);try{p()}finally{Xr(!1)}}return S.memoizedState=[C,y],C}function Qw(p,y,S){return S===void 0||(as&1073741824)!==0&&(It&261930)===0?p.memoizedState=y:(p.memoizedState=S,p=j4(),_t.lanes|=p,wl|=p,S)}function j5(p,y,S,C){return bi(S,y)?S:rh.current!==null?(p=Qw(p,S,C),bi(p,y)||(zr=!0),p):(as&42)===0||(as&1073741824)!==0&&(It&261930)===0?(zr=!0,p.memoizedState=S):(p=j4(),_t.lanes|=p,wl|=p,y)}function Z5(p,y,S,C,E){var B=G.p;G.p=B!==0&&8>B?B:8;var H=L.T,j={};L.T=j,t2(p,!1,y,S);try{var Q=E(),ae=L.S;if(ae!==null&&ae(j,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ve=Yae(Q,C);Dv(p,y,ve,Mi(p))}else Dv(p,y,C,Mi(p))}catch(me){Dv(p,y,{then:function(){},status:"rejected",reason:me},Mi())}finally{G.p=B,H!==null&&j.types!==null&&(H.types=j.types),L.T=H}}function Qae(){}function Jw(p,y,S,C){if(p.tag!==5)throw Error(n(476));var E=K5(p).queue;Z5(p,E,y,W,S===null?Qae:function(){return Q5(p),S(C)})}function K5(p){var y=p.memoizedState;if(y!==null)return y;y={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:W},next:null};var S={};return y.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:S},next:null},p.memoizedState=y,p=p.alternate,p!==null&&(p.memoizedState=y),y}function Q5(p){var y=K5(p);y.next===null&&(y=p.alternate.memoizedState),Dv(p,y.next.queue,{},Mi())}function e2(){return _n(qv)}function J5(){return Ir().memoizedState}function e4(){return Ir().memoizedState}function Jae(p){for(var y=p.return;y!==null;){switch(y.tag){case 24:case 3:var S=Mi();p=yl(S);var C=ml(y,p,S);C!==null&&(ui(C,y,S),wv(C,y,S)),y={cache:Ew()},p.payload=y;return}y=y.return}}function eoe(p,y,S){var C=Mi();S={lane:C,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},Jy(p)?r4(y,S):(S=mw(p,y,S,C),S!==null&&(ui(S,p,C),n4(S,y,C)))}function t4(p,y,S){var C=Mi();Dv(p,y,S,C)}function Dv(p,y,S,C){var E={lane:C,revertLane:0,gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null};if(Jy(p))r4(y,E);else{var B=p.alternate;if(p.lanes===0&&(B===null||B.lanes===0)&&(B=y.lastRenderedReducer,B!==null))try{var H=y.lastRenderedState,j=B(H,S);if(E.hasEagerState=!0,E.eagerState=j,bi(j,H))return Oy(p,y,E,0),ar===null&&Py(),!1}catch{}if(S=mw(p,y,E,C),S!==null)return ui(S,p,C),n4(S,y,C),!0}return!1}function t2(p,y,S,C){if(C={lane:2,revertLane:O2(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},Jy(p)){if(y)throw Error(n(479))}else y=mw(p,S,C,2),y!==null&&ui(y,p,2)}function Jy(p){var y=p.alternate;return p===_t||y!==null&&y===_t}function r4(p,y){nh=Yy=!0;var S=p.pending;S===null?y.next=y:(y.next=S.next,S.next=y),p.pending=y}function n4(p,y,S){if((S&4194048)!==0){var C=y.lanes;C&=p.pendingLanes,S|=C,y.lanes=S,an(p,S)}}var Ev={readContext:_n,use:jy,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br};Ev.useEffectEvent=br;var i4={readContext:_n,use:jy,useCallback:function(p,y){return Un().memoizedState=[p,y===void 0?null:y],p},useContext:_n,useEffect:H5,useImperativeHandle:function(p,y,S){S=S!=null?S.concat([p]):null,Ky(4194308,4,q5.bind(null,y,p),S)},useLayoutEffect:function(p,y){return Ky(4194308,4,p,y)},useInsertionEffect:function(p,y){Ky(4,2,p,y)},useMemo:function(p,y){var S=Un();y=y===void 0?null:y;var C=p();if($u){Xr(!0);try{p()}finally{Xr(!1)}}return S.memoizedState=[C,y],C},useReducer:function(p,y,S){var C=Un();if(S!==void 0){var E=S(y);if($u){Xr(!0);try{S(y)}finally{Xr(!1)}}}else E=y;return C.memoizedState=C.baseState=E,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:E},C.queue=p,p=p.dispatch=eoe.bind(null,_t,p),[C.memoizedState,p]},useRef:function(p){var y=Un();return p={current:p},y.memoizedState=p},useState:function(p){p=$w(p);var y=p.queue,S=t4.bind(null,_t,y);return y.dispatch=S,[p.memoizedState,S]},useDebugValue:Kw,useDeferredValue:function(p,y){var S=Un();return Qw(S,p,y)},useTransition:function(){var p=$w(!1);return p=Z5.bind(null,_t,p.queue,!0,!1),Un().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,y,S){var C=_t,E=Un();if(Pt){if(S===void 0)throw Error(n(407));S=S()}else{if(S=y(),ar===null)throw Error(n(349));(It&127)!==0||T5(C,y,S)}E.memoizedState=S;var B={value:S,getSnapshot:y};return E.queue=B,H5(M5.bind(null,C,B,p),[p]),C.flags|=2048,ah(9,{destroy:void 0},A5.bind(null,C,B,S,y),null),S},useId:function(){var p=Un(),y=ar.identifierPrefix;if(Pt){var S=co,C=uo;S=(C&~(1<<32-kr(C)-1)).toString(32)+S,y="_"+y+"R_"+S,S=Xy++,0<S&&(y+="H"+S.toString(32)),y+="_"}else S=Xae++,y="_"+y+"r_"+S.toString(32)+"_";return p.memoizedState=y},useHostTransitionStatus:e2,useFormState:L5,useActionState:L5,useOptimistic:function(p){var y=Un();y.memoizedState=y.baseState=p;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=S,y=t2.bind(null,_t,!0,S),S.dispatch=y,[p,y]},useMemoCache:qw,useCacheRefresh:function(){return Un().memoizedState=Jae.bind(null,_t)},useEffectEvent:function(p){var y=Un(),S={impl:p};return y.memoizedState=S,function(){if((Ht&2)!==0)throw Error(n(440));return S.impl.apply(void 0,arguments)}}},r2={readContext:_n,use:jy,useCallback:X5,useContext:_n,useEffect:Zw,useImperativeHandle:Y5,useInsertionEffect:W5,useLayoutEffect:U5,useMemo:$5,useReducer:Zy,useRef:F5,useState:function(){return Zy(os)},useDebugValue:Kw,useDeferredValue:function(p,y){var S=Ir();return j5(S,Jt.memoizedState,p,y)},useTransition:function(){var p=Zy(os)[0],y=Ir().memoizedState;return[typeof p=="boolean"?p:Mv(p),y]},useSyncExternalStore:C5,useId:J5,useHostTransitionStatus:e2,useFormState:N5,useActionState:N5,useOptimistic:function(p,y){var S=Ir();return I5(S,Jt,p,y)},useMemoCache:qw,useCacheRefresh:e4};r2.useEffectEvent=G5;var a4={readContext:_n,use:jy,useCallback:X5,useContext:_n,useEffect:Zw,useImperativeHandle:Y5,useInsertionEffect:W5,useLayoutEffect:U5,useMemo:$5,useReducer:Xw,useRef:F5,useState:function(){return Xw(os)},useDebugValue:Kw,useDeferredValue:function(p,y){var S=Ir();return Jt===null?Qw(S,p,y):j5(S,Jt.memoizedState,p,y)},useTransition:function(){var p=Xw(os)[0],y=Ir().memoizedState;return[typeof p=="boolean"?p:Mv(p),y]},useSyncExternalStore:C5,useId:J5,useHostTransitionStatus:e2,useFormState:z5,useActionState:z5,useOptimistic:function(p,y){var S=Ir();return Jt!==null?I5(S,Jt,p,y):(S.baseState=p,[p,S.queue.dispatch])},useMemoCache:qw,useCacheRefresh:e4};a4.useEffectEvent=G5;function n2(p,y,S,C){y=p.memoizedState,S=S(C,y),S=S==null?y:f({},y,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var i2={enqueueSetState:function(p,y,S){p=p._reactInternals;var C=Mi(),E=yl(C);E.payload=y,S!=null&&(E.callback=S),y=ml(p,E,C),y!==null&&(ui(y,p,C),wv(y,p,C))},enqueueReplaceState:function(p,y,S){p=p._reactInternals;var C=Mi(),E=yl(C);E.tag=1,E.payload=y,S!=null&&(E.callback=S),y=ml(p,E,C),y!==null&&(ui(y,p,C),wv(y,p,C))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var S=Mi(),C=yl(S);C.tag=2,y!=null&&(C.callback=y),y=ml(p,C,S),y!==null&&(ui(y,p,S),wv(y,p,S))}};function o4(p,y,S,C,E,B,H){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,B,H):y.prototype&&y.prototype.isPureReactComponent?!pv(S,C)||!pv(E,B):!0}function s4(p,y,S,C){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(S,C),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(S,C),y.state!==p&&i2.enqueueReplaceState(y,y.state,null)}function ju(p,y){var S=y;if("ref"in y){S={};for(var C in y)C!=="ref"&&(S[C]=y[C])}if(p=p.defaultProps){S===y&&(S=f({},S));for(var E in p)S[E]===void 0&&(S[E]=p[E])}return S}function l4(p){Ry(p)}function u4(p){console.error(p)}function c4(p){Ry(p)}function em(p,y){try{var S=p.onUncaughtError;S(y.value,{componentStack:y.stack})}catch(C){setTimeout(function(){throw C})}}function f4(p,y,S){try{var C=p.onCaughtError;C(S.value,{componentStack:S.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function a2(p,y,S){return S=yl(S),S.tag=3,S.payload={element:null},S.callback=function(){em(p,y)},S}function h4(p){return p=yl(p),p.tag=3,p}function d4(p,y,S,C){var E=S.type.getDerivedStateFromError;if(typeof E=="function"){var B=C.value;p.payload=function(){return E(B)},p.callback=function(){f4(y,S,C)}}var H=S.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(p.callback=function(){f4(y,S,C),typeof E!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var j=C.stack;this.componentDidCatch(C.value,{componentStack:j!==null?j:""})})}function toe(p,y,S,C,E){if(S.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(y=S.alternate,y!==null&&Kf(y,S,E,!0),S=wi.current,S!==null){switch(S.tag){case 31:case 13:return ea===null?hm():S.alternate===null&&Sr===0&&(Sr=3),S.flags&=-257,S.flags|=65536,S.lanes=E,C===Hy?S.flags|=16384:(y=S.updateQueue,y===null?S.updateQueue=new Set([C]):y.add(C),I2(p,C,E)),!1;case 22:return S.flags|=65536,C===Hy?S.flags|=16384:(y=S.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([C])},S.updateQueue=y):(S=y.retryQueue,S===null?y.retryQueue=new Set([C]):S.add(C)),I2(p,C,E)),!1}throw Error(n(435,S.tag))}return I2(p,C,E),hm(),!1}if(Pt)return y=wi.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=E,C!==Cw&&(p=Error(n(422),{cause:C}),mv(Zi(p,S)))):(C!==Cw&&(y=Error(n(423),{cause:C}),mv(Zi(y,S))),p=p.current.alternate,p.flags|=65536,E&=-E,p.lanes|=E,C=Zi(C,S),E=a2(p.stateNode,C,E),kw(p,E),Sr!==4&&(Sr=2)),!1;var B=Error(n(520),{cause:C});if(B=Zi(B,S),Nv===null?Nv=[B]:Nv.push(B),Sr!==4&&(Sr=2),y===null)return!0;C=Zi(C,S),S=y;do{switch(S.tag){case 3:return S.flags|=65536,p=E&-E,S.lanes|=p,p=a2(S.stateNode,C,p),kw(S,p),!1;case 1:if(y=S.type,B=S.stateNode,(S.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Cl===null||!Cl.has(B))))return S.flags|=65536,E&=-E,S.lanes|=E,E=h4(E),d4(E,p,S,C),kw(S,E),!1}S=S.return}while(S!==null);return!1}var o2=Error(n(461)),zr=!1;function bn(p,y,S,C){y.child=p===null?y5(y,null,S,C):Xu(y,p.child,S,C)}function v4(p,y,S,C,E){S=S.render;var B=y.ref;if("ref"in C){var H={};for(var j in C)j!=="ref"&&(H[j]=C[j])}else H=C;return Wu(y),C=Hw(p,y,S,H,B,E),j=Gw(),p!==null&&!zr?(Ww(p,y,E),ss(p,y,E)):(Pt&&j&&Sw(y),y.flags|=1,bn(p,y,C,E),y.child)}function p4(p,y,S,C,E){if(p===null){var B=S.type;return typeof B=="function"&&!xw(B)&&B.defaultProps===void 0&&S.compare===null?(y.tag=15,y.type=B,g4(p,y,B,C,E)):(p=ky(S.type,null,C,y,y.mode,E),p.ref=y.ref,p.return=y,y.child=p)}if(B=p.child,!v2(p,E)){var H=B.memoizedProps;if(S=S.compare,S=S!==null?S:pv,S(H,C)&&p.ref===y.ref)return ss(p,y,E)}return y.flags|=1,p=ts(B,C),p.ref=y.ref,p.return=y,y.child=p}function g4(p,y,S,C,E){if(p!==null){var B=p.memoizedProps;if(pv(B,C)&&p.ref===y.ref)if(zr=!1,y.pendingProps=C=B,v2(p,E))(p.flags&131072)!==0&&(zr=!0);else return y.lanes=p.lanes,ss(p,y,E)}return s2(p,y,S,C,E)}function y4(p,y,S,C){var E=C.children,B=p!==null?p.memoizedState:null;if(p===null&&y.stateNode===null&&(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((y.flags&128)!==0){if(B=B!==null?B.baseLanes|S:S,p!==null){for(C=y.child=p.child,E=0;C!==null;)E=E|C.lanes|C.childLanes,C=C.sibling;C=E&~B}else C=0,y.child=null;return m4(p,y,B,S,C)}if((S&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},p!==null&&zy(y,B!==null?B.cachePool:null),B!==null?_5(y,B):Nw(),b5(y);else return C=y.lanes=536870912,m4(p,y,B!==null?B.baseLanes|S:S,S,C)}else B!==null?(zy(y,B.cachePool),_5(y,B),_l(),y.memoizedState=null):(p!==null&&zy(y,null),Nw(),_l());return bn(p,y,E,S),y.child}function Iv(p,y){return p!==null&&p.tag===22||y.stateNode!==null||(y.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.sibling}function m4(p,y,S,C,E){var B=Rw();return B=B===null?null:{parent:Nr._currentValue,pool:B},y.memoizedState={baseLanes:S,cachePool:B},p!==null&&zy(y,null),Nw(),b5(y),p!==null&&Kf(p,y,C,!0),y.childLanes=E,null}function tm(p,y){return y=nm({mode:y.mode,children:y.children},p.mode),y.ref=p.ref,p.child=y,y.return=p,y}function x4(p,y,S){return Xu(y,p.child,null,S),p=tm(y,y.pendingProps),p.flags|=2,Ci(y),y.memoizedState=null,p}function roe(p,y,S){var C=y.pendingProps,E=(y.flags&128)!==0;if(y.flags&=-129,p===null){if(Pt){if(C.mode==="hidden")return p=tm(y,C),y.lanes=536870912,Iv(null,p);if(zw(y),(p=ur)?(p=R8(p,Ji),p=p!==null&&p.data==="&"?p:null,p!==null&&(y.memoizedState={dehydrated:p,treeContext:hl!==null?{id:uo,overflow:co}:null,retryLane:536870912,hydrationErrors:null},S=r5(p),S.return=y,y.child=S,xn=y,ur=null)):p=null,p===null)throw vl(y);return y.lanes=536870912,null}return tm(y,C)}var B=p.memoizedState;if(B!==null){var H=B.dehydrated;if(zw(y),E)if(y.flags&256)y.flags&=-257,y=x4(p,y,S);else if(y.memoizedState!==null)y.child=p.child,y.flags|=128,y=null;else throw Error(n(558));else if(zr||Kf(p,y,S,!1),E=(S&p.childLanes)!==0,zr||E){if(C=ar,C!==null&&(H=ni(C,S),H!==0&&H!==B.retryLane))throw B.retryLane=H,zu(p,H),ui(C,p,H),o2;hm(),y=x4(p,y,S)}else p=B.treeContext,ur=ta(H.nextSibling),xn=y,Pt=!0,dl=null,Ji=!1,p!==null&&a5(y,p),y=tm(y,C),y.flags|=4096;return y}return p=ts(p.child,{mode:C.mode,children:C.children}),p.ref=y.ref,y.child=p,p.return=y,p}function rm(p,y){var S=y.ref;if(S===null)p!==null&&p.ref!==null&&(y.flags|=4194816);else{if(typeof S!="function"&&typeof S!="object")throw Error(n(284));(p===null||p.ref!==S)&&(y.flags|=4194816)}}function s2(p,y,S,C,E){return Wu(y),S=Hw(p,y,S,C,void 0,E),C=Gw(),p!==null&&!zr?(Ww(p,y,E),ss(p,y,E)):(Pt&&C&&Sw(y),y.flags|=1,bn(p,y,S,E),y.child)}function _4(p,y,S,C,E,B){return Wu(y),y.updateQueue=null,S=w5(y,C,S,E),S5(p),C=Gw(),p!==null&&!zr?(Ww(p,y,B),ss(p,y,B)):(Pt&&C&&Sw(y),y.flags|=1,bn(p,y,S,B),y.child)}function b4(p,y,S,C,E){if(Wu(y),y.stateNode===null){var B=Xf,H=S.contextType;typeof H=="object"&&H!==null&&(B=_n(H)),B=new S(C,B),y.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=i2,y.stateNode=B,B._reactInternals=y,B=y.stateNode,B.props=C,B.state=y.memoizedState,B.refs={},Ow(y),H=S.contextType,B.context=typeof H=="object"&&H!==null?_n(H):Xf,B.state=y.memoizedState,H=S.getDerivedStateFromProps,typeof H=="function"&&(n2(y,S,H,C),B.state=y.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(H=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),H!==B.state&&i2.enqueueReplaceState(B,B.state,null),Tv(y,C,B,E),Cv(),B.state=y.memoizedState),typeof B.componentDidMount=="function"&&(y.flags|=4194308),C=!0}else if(p===null){B=y.stateNode;var j=y.memoizedProps,Q=ju(S,j);B.props=Q;var ae=B.context,ve=S.contextType;H=Xf,typeof ve=="object"&&ve!==null&&(H=_n(ve));var me=S.getDerivedStateFromProps;ve=typeof me=="function"||typeof B.getSnapshotBeforeUpdate=="function",j=y.pendingProps!==j,ve||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(j||ae!==H)&&s4(y,B,C,H),gl=!1;var se=y.memoizedState;B.state=se,Tv(y,C,B,E),Cv(),ae=y.memoizedState,j||se!==ae||gl?(typeof me=="function"&&(n2(y,S,me,C),ae=y.memoizedState),(Q=gl||o4(y,S,Q,C,se,ae,H))?(ve||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(y.flags|=4194308)):(typeof B.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=C,y.memoizedState=ae),B.props=C,B.state=ae,B.context=H,C=Q):(typeof B.componentDidMount=="function"&&(y.flags|=4194308),C=!1)}else{B=y.stateNode,Bw(p,y),H=y.memoizedProps,ve=ju(S,H),B.props=ve,me=y.pendingProps,se=B.context,ae=S.contextType,Q=Xf,typeof ae=="object"&&ae!==null&&(Q=_n(ae)),j=S.getDerivedStateFromProps,(ae=typeof j=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(H!==me||se!==Q)&&s4(y,B,C,Q),gl=!1,se=y.memoizedState,B.state=se,Tv(y,C,B,E),Cv();var fe=y.memoizedState;H!==me||se!==fe||gl||p!==null&&p.dependencies!==null&&Ny(p.dependencies)?(typeof j=="function"&&(n2(y,S,j,C),fe=y.memoizedState),(ve=gl||o4(y,S,ve,C,se,fe,Q)||p!==null&&p.dependencies!==null&&Ny(p.dependencies))?(ae||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(C,fe,Q),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(C,fe,Q)),typeof B.componentDidUpdate=="function"&&(y.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof B.componentDidUpdate!="function"||H===p.memoizedProps&&se===p.memoizedState||(y.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===p.memoizedProps&&se===p.memoizedState||(y.flags|=1024),y.memoizedProps=C,y.memoizedState=fe),B.props=C,B.state=fe,B.context=Q,C=ve):(typeof B.componentDidUpdate!="function"||H===p.memoizedProps&&se===p.memoizedState||(y.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||H===p.memoizedProps&&se===p.memoizedState||(y.flags|=1024),C=!1)}return B=C,rm(p,y),C=(y.flags&128)!==0,B||C?(B=y.stateNode,S=C&&typeof S.getDerivedStateFromError!="function"?null:B.render(),y.flags|=1,p!==null&&C?(y.child=Xu(y,p.child,null,E),y.child=Xu(y,null,S,E)):bn(p,y,S,E),y.memoizedState=B.state,p=y.child):p=ss(p,y,E),p}function S4(p,y,S,C){return Hu(),y.flags|=256,bn(p,y,S,C),y.child}var l2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function u2(p){return{baseLanes:p,cachePool:f5()}}function c2(p,y,S){return p=p!==null?p.childLanes&~S:0,y&&(p|=Ai),p}function w4(p,y,S){var C=y.pendingProps,E=!1,B=(y.flags&128)!==0,H;if((H=B)||(H=p!==null&&p.memoizedState===null?!1:(Er.current&2)!==0),H&&(E=!0,y.flags&=-129),H=(y.flags&32)!==0,y.flags&=-33,p===null){if(Pt){if(E?xl(y):_l(),(p=ur)?(p=R8(p,Ji),p=p!==null&&p.data!=="&"?p:null,p!==null&&(y.memoizedState={dehydrated:p,treeContext:hl!==null?{id:uo,overflow:co}:null,retryLane:536870912,hydrationErrors:null},S=r5(p),S.return=y,y.child=S,xn=y,ur=null)):p=null,p===null)throw vl(y);return Y2(p)?y.lanes=32:y.lanes=536870912,null}var j=C.children;return C=C.fallback,E?(_l(),E=y.mode,j=nm({mode:"hidden",children:j},E),C=Fu(C,E,S,null),j.return=y,C.return=y,j.sibling=C,y.child=j,C=y.child,C.memoizedState=u2(S),C.childLanes=c2(p,H,S),y.memoizedState=l2,Iv(null,C)):(xl(y),f2(y,j))}var Q=p.memoizedState;if(Q!==null&&(j=Q.dehydrated,j!==null)){if(B)y.flags&256?(xl(y),y.flags&=-257,y=h2(p,y,S)):y.memoizedState!==null?(_l(),y.child=p.child,y.flags|=128,y=null):(_l(),j=C.fallback,E=y.mode,C=nm({mode:"visible",children:C.children},E),j=Fu(j,E,S,null),j.flags|=2,C.return=y,j.return=y,C.sibling=j,y.child=C,Xu(y,p.child,null,S),C=y.child,C.memoizedState=u2(S),C.childLanes=c2(p,H,S),y.memoizedState=l2,y=Iv(null,C));else if(xl(y),Y2(j)){if(H=j.nextSibling&&j.nextSibling.dataset,H)var ae=H.dgst;H=ae,C=Error(n(419)),C.stack="",C.digest=H,mv({value:C,source:null,stack:null}),y=h2(p,y,S)}else if(zr||Kf(p,y,S,!1),H=(S&p.childLanes)!==0,zr||H){if(H=ar,H!==null&&(C=ni(H,S),C!==0&&C!==Q.retryLane))throw Q.retryLane=C,zu(p,C),ui(H,p,C),o2;q2(j)||hm(),y=h2(p,y,S)}else q2(j)?(y.flags|=192,y.child=p.child,y=null):(p=Q.treeContext,ur=ta(j.nextSibling),xn=y,Pt=!0,dl=null,Ji=!1,p!==null&&a5(y,p),y=f2(y,C.children),y.flags|=4096);return y}return E?(_l(),j=C.fallback,E=y.mode,Q=p.child,ae=Q.sibling,C=ts(Q,{mode:"hidden",children:C.children}),C.subtreeFlags=Q.subtreeFlags&65011712,ae!==null?j=ts(ae,j):(j=Fu(j,E,S,null),j.flags|=2),j.return=y,C.return=y,C.sibling=j,y.child=C,Iv(null,C),C=y.child,j=p.child.memoizedState,j===null?j=u2(S):(E=j.cachePool,E!==null?(Q=Nr._currentValue,E=E.parent!==Q?{parent:Q,pool:Q}:E):E=f5(),j={baseLanes:j.baseLanes|S,cachePool:E}),C.memoizedState=j,C.childLanes=c2(p,H,S),y.memoizedState=l2,Iv(p.child,C)):(xl(y),S=p.child,p=S.sibling,S=ts(S,{mode:"visible",children:C.children}),S.return=y,S.sibling=null,p!==null&&(H=y.deletions,H===null?(y.deletions=[p],y.flags|=16):H.push(p)),y.child=S,y.memoizedState=null,S)}function f2(p,y){return y=nm({mode:"visible",children:y},p.mode),y.return=p,p.child=y}function nm(p,y){return p=Si(22,p,null,y),p.lanes=0,p}function h2(p,y,S){return Xu(y,p.child,null,S),p=f2(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function C4(p,y,S){p.lanes|=y;var C=p.alternate;C!==null&&(C.lanes|=y),Mw(p.return,y,S)}function d2(p,y,S,C,E,B){var H=p.memoizedState;H===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:C,tail:S,tailMode:E,treeForkCount:B}:(H.isBackwards=y,H.rendering=null,H.renderingStartTime=0,H.last=C,H.tail=S,H.tailMode=E,H.treeForkCount=B)}function T4(p,y,S){var C=y.pendingProps,E=C.revealOrder,B=C.tail;C=C.children;var H=Er.current,j=(H&2)!==0;if(j?(H=H&1|2,y.flags|=128):H&=1,$(Er,H),bn(p,y,C,S),C=Pt?yv:0,!j&&p!==null&&(p.flags&128)!==0)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&C4(p,S,y);else if(p.tag===19)C4(p,S,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(E){case"forwards":for(S=y.child,E=null;S!==null;)p=S.alternate,p!==null&&qy(p)===null&&(E=S),S=S.sibling;S=E,S===null?(E=y.child,y.child=null):(E=S.sibling,S.sibling=null),d2(y,!1,E,S,B,C);break;case"backwards":case"unstable_legacy-backwards":for(S=null,E=y.child,y.child=null;E!==null;){if(p=E.alternate,p!==null&&qy(p)===null){y.child=E;break}p=E.sibling,E.sibling=S,S=E,E=p}d2(y,!0,S,null,B,C);break;case"together":d2(y,!1,null,null,void 0,C);break;default:y.memoizedState=null}return y.child}function ss(p,y,S){if(p!==null&&(y.dependencies=p.dependencies),wl|=y.lanes,(S&y.childLanes)===0)if(p!==null){if(Kf(p,y,S,!1),(S&y.childLanes)===0)return null}else return null;if(p!==null&&y.child!==p.child)throw Error(n(153));if(y.child!==null){for(p=y.child,S=ts(p,p.pendingProps),y.child=S,S.return=y;p.sibling!==null;)p=p.sibling,S=S.sibling=ts(p,p.pendingProps),S.return=y;S.sibling=null}return y.child}function v2(p,y){return(p.lanes&y)!==0?!0:(p=p.dependencies,!!(p!==null&&Ny(p)))}function noe(p,y,S){switch(y.tag){case 3:de(y,y.stateNode.containerInfo),pl(y,Nr,p.memoizedState.cache),Hu();break;case 27:case 5:Ce(y);break;case 4:de(y,y.stateNode.containerInfo);break;case 10:pl(y,y.type,y.memoizedProps.value);break;case 31:if(y.memoizedState!==null)return y.flags|=128,zw(y),null;break;case 13:var C=y.memoizedState;if(C!==null)return C.dehydrated!==null?(xl(y),y.flags|=128,null):(S&y.child.childLanes)!==0?w4(p,y,S):(xl(y),p=ss(p,y,S),p!==null?p.sibling:null);xl(y);break;case 19:var E=(p.flags&128)!==0;if(C=(S&y.childLanes)!==0,C||(Kf(p,y,S,!1),C=(S&y.childLanes)!==0),E){if(C)return T4(p,y,S);y.flags|=128}if(E=y.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),$(Er,Er.current),C)break;return null;case 22:return y.lanes=0,y4(p,y,S,y.pendingProps);case 24:pl(y,Nr,p.memoizedState.cache)}return ss(p,y,S)}function A4(p,y,S){if(p!==null)if(p.memoizedProps!==y.pendingProps)zr=!0;else{if(!v2(p,S)&&(y.flags&128)===0)return zr=!1,noe(p,y,S);zr=(p.flags&131072)!==0}else zr=!1,Pt&&(y.flags&1048576)!==0&&i5(y,yv,y.index);switch(y.lanes=0,y.tag){case 16:e:{var C=y.pendingProps;if(p=qu(y.elementType),y.type=p,typeof p=="function")xw(p)?(C=ju(p,C),y.tag=1,y=b4(null,y,p,C,S)):(y.tag=0,y=s2(null,y,p,C,S));else{if(p!=null){var E=p.$$typeof;if(E===w){y.tag=11,y=v4(null,y,p,C,S);break e}else if(E===M){y.tag=14,y=p4(null,y,p,C,S);break e}}throw y=V(p)||p,Error(n(306,y,""))}}return y;case 0:return s2(p,y,y.type,y.pendingProps,S);case 1:return C=y.type,E=ju(C,y.pendingProps),b4(p,y,C,E,S);case 3:e:{if(de(y,y.stateNode.containerInfo),p===null)throw Error(n(387));C=y.pendingProps;var B=y.memoizedState;E=B.element,Bw(p,y),Tv(y,C,null,S);var H=y.memoizedState;if(C=H.cache,pl(y,Nr,C),C!==B.cache&&Dw(y,[Nr],S,!0),Cv(),C=H.element,B.isDehydrated)if(B={element:C,isDehydrated:!1,cache:H.cache},y.updateQueue.baseState=B,y.memoizedState=B,y.flags&256){y=S4(p,y,C,S);break e}else if(C!==E){E=Zi(Error(n(424)),y),mv(E),y=S4(p,y,C,S);break e}else for(p=y.stateNode.containerInfo,p.nodeType===9?p=p.body:p=p.nodeName==="HTML"?p.ownerDocument.body:p,ur=ta(p.firstChild),xn=y,Pt=!0,dl=null,Ji=!0,S=y5(y,null,C,S),y.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Hu(),C===E){y=ss(p,y,S);break e}bn(p,y,C,S)}y=y.child}return y;case 26:return rm(p,y),p===null?(S=N8(y.type,null,y.pendingProps,null))?y.memoizedState=S:Pt||(S=y.type,p=y.pendingProps,C=xm(ce.current).createElement(S),C[$r]=y,C[Bn]=p,Sn(C,S,p),on(C),y.stateNode=C):y.memoizedState=N8(y.type,p.memoizedProps,y.pendingProps,p.memoizedState),null;case 27:return Ce(y),p===null&&Pt&&(C=y.stateNode=B8(y.type,y.pendingProps,ce.current),xn=y,Ji=!0,E=ur,Dl(y.type)?(X2=E,ur=ta(C.firstChild)):ur=E),bn(p,y,y.pendingProps.children,S),rm(p,y),p===null&&(y.flags|=4194304),y.child;case 5:return p===null&&Pt&&((E=C=ur)&&(C=Ooe(C,y.type,y.pendingProps,Ji),C!==null?(y.stateNode=C,xn=y,ur=ta(C.firstChild),Ji=!1,E=!0):E=!1),E||vl(y)),Ce(y),E=y.type,B=y.pendingProps,H=p!==null?p.memoizedProps:null,C=B.children,G2(E,B)?C=null:H!==null&&G2(E,H)&&(y.flags|=32),y.memoizedState!==null&&(E=Hw(p,y,$ae,null,null,S),qv._currentValue=E),rm(p,y),bn(p,y,C,S),y.child;case 6:return p===null&&Pt&&((p=S=ur)&&(S=Boe(S,y.pendingProps,Ji),S!==null?(y.stateNode=S,xn=y,ur=null,p=!0):p=!1),p||vl(y)),null;case 13:return w4(p,y,S);case 4:return de(y,y.stateNode.containerInfo),C=y.pendingProps,p===null?y.child=Xu(y,null,C,S):bn(p,y,C,S),y.child;case 11:return v4(p,y,y.type,y.pendingProps,S);case 7:return bn(p,y,y.pendingProps,S),y.child;case 8:return bn(p,y,y.pendingProps.children,S),y.child;case 12:return bn(p,y,y.pendingProps.children,S),y.child;case 10:return C=y.pendingProps,pl(y,y.type,C.value),bn(p,y,C.children,S),y.child;case 9:return E=y.type._context,C=y.pendingProps.children,Wu(y),E=_n(E),C=C(E),y.flags|=1,bn(p,y,C,S),y.child;case 14:return p4(p,y,y.type,y.pendingProps,S);case 15:return g4(p,y,y.type,y.pendingProps,S);case 19:return T4(p,y,S);case 31:return roe(p,y,S);case 22:return y4(p,y,S,y.pendingProps);case 24:return Wu(y),C=_n(Nr),p===null?(E=Rw(),E===null&&(E=ar,B=Ew(),E.pooledCache=B,B.refCount++,B!==null&&(E.pooledCacheLanes|=S),E=B),y.memoizedState={parent:C,cache:E},Ow(y),pl(y,Nr,E)):((p.lanes&S)!==0&&(Bw(p,y),Tv(y,null,null,S),Cv()),E=p.memoizedState,B=y.memoizedState,E.parent!==C?(E={parent:C,cache:C},y.memoizedState=E,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=E),pl(y,Nr,C)):(C=B.cache,pl(y,Nr,C),C!==E.cache&&Dw(y,[Nr],S,!0))),bn(p,y,y.pendingProps.children,S),y.child;case 29:throw y.pendingProps}throw Error(n(156,y.tag))}function ls(p){p.flags|=4}function p2(p,y,S,C,E){if((y=(p.mode&32)!==0)&&(y=!1),y){if(p.flags|=16777216,(E&335544128)===E)if(p.stateNode.complete)p.flags|=8192;else if(J4())p.flags|=8192;else throw Yu=Hy,Pw}else p.flags&=-16777217}function M4(p,y){if(y.type!=="stylesheet"||(y.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!G8(y))if(J4())p.flags|=8192;else throw Yu=Hy,Pw}function im(p,y){y!==null&&(p.flags|=4),p.flags&16384&&(y=p.tag!==22?Qt():536870912,p.lanes|=y,uh|=y)}function Rv(p,y){if(!Pt)switch(p.tailMode){case"hidden":y=p.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var C=null;S!==null;)S.alternate!==null&&(C=S),S=S.sibling;C===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function cr(p){var y=p.alternate!==null&&p.alternate.child===p.child,S=0,C=0;if(y)for(var E=p.child;E!==null;)S|=E.lanes|E.childLanes,C|=E.subtreeFlags&65011712,C|=E.flags&65011712,E.return=p,E=E.sibling;else for(E=p.child;E!==null;)S|=E.lanes|E.childLanes,C|=E.subtreeFlags,C|=E.flags,E.return=p,E=E.sibling;return p.subtreeFlags|=C,p.childLanes=S,y}function ioe(p,y,S){var C=y.pendingProps;switch(ww(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(y),null;case 1:return cr(y),null;case 3:return S=y.stateNode,C=null,p!==null&&(C=p.memoizedState.cache),y.memoizedState.cache!==C&&(y.flags|=2048),is(Nr),ge(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(p===null||p.child===null)&&(Zf(y)?ls(y):p===null||p.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,Tw())),cr(y),null;case 26:var E=y.type,B=y.memoizedState;return p===null?(ls(y),B!==null?(cr(y),M4(y,B)):(cr(y),p2(y,E,null,C,S))):B?B!==p.memoizedState?(ls(y),cr(y),M4(y,B)):(cr(y),y.flags&=-16777217):(p=p.memoizedProps,p!==C&&ls(y),cr(y),p2(y,E,p,C,S)),null;case 27:if(xe(y),S=ce.current,E=y.type,p!==null&&y.stateNode!=null)p.memoizedProps!==C&&ls(y);else{if(!C){if(y.stateNode===null)throw Error(n(166));return cr(y),null}p=K.current,Zf(y)?o5(y):(p=B8(E,C,S),y.stateNode=p,ls(y))}return cr(y),null;case 5:if(xe(y),E=y.type,p!==null&&y.stateNode!=null)p.memoizedProps!==C&&ls(y);else{if(!C){if(y.stateNode===null)throw Error(n(166));return cr(y),null}if(B=K.current,Zf(y))o5(y);else{var H=xm(ce.current);switch(B){case 1:B=H.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:B=H.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":B=H.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":B=H.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":B=H.createElement("div"),B.innerHTML="<script><\/script>",B=B.removeChild(B.firstChild);break;case"select":B=typeof C.is=="string"?H.createElement("select",{is:C.is}):H.createElement("select"),C.multiple?B.multiple=!0:C.size&&(B.size=C.size);break;default:B=typeof C.is=="string"?H.createElement(E,{is:C.is}):H.createElement(E)}}B[$r]=y,B[Bn]=C;e:for(H=y.child;H!==null;){if(H.tag===5||H.tag===6)B.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===y)break e;for(;H.sibling===null;){if(H.return===null||H.return===y)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}y.stateNode=B;e:switch(Sn(B,E,C),E){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&ls(y)}}return cr(y),p2(y,y.type,p===null?null:p.memoizedProps,y.pendingProps,S),null;case 6:if(p&&y.stateNode!=null)p.memoizedProps!==C&&ls(y);else{if(typeof C!="string"&&y.stateNode===null)throw Error(n(166));if(p=ce.current,Zf(y)){if(p=y.stateNode,S=y.memoizedProps,C=null,E=xn,E!==null)switch(E.tag){case 27:case 5:C=E.memoizedProps}p[$r]=y,p=!!(p.nodeValue===S||C!==null&&C.suppressHydrationWarning===!0||w8(p.nodeValue,S)),p||vl(y,!0)}else p=xm(p).createTextNode(C),p[$r]=y,y.stateNode=p}return cr(y),null;case 31:if(S=y.memoizedState,p===null||p.memoizedState!==null){if(C=Zf(y),S!==null){if(p===null){if(!C)throw Error(n(318));if(p=y.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(557));p[$r]=y}else Hu(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;cr(y),p=!1}else S=Tw(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=S),p=!0;if(!p)return y.flags&256?(Ci(y),y):(Ci(y),null);if((y.flags&128)!==0)throw Error(n(558))}return cr(y),null;case 13:if(C=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(E=Zf(y),C!==null&&C.dehydrated!==null){if(p===null){if(!E)throw Error(n(318));if(E=y.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[$r]=y}else Hu(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;cr(y),E=!1}else E=Tw(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=E),E=!0;if(!E)return y.flags&256?(Ci(y),y):(Ci(y),null)}return Ci(y),(y.flags&128)!==0?(y.lanes=S,y):(S=C!==null,p=p!==null&&p.memoizedState!==null,S&&(C=y.child,E=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(E=C.alternate.memoizedState.cachePool.pool),B=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(B=C.memoizedState.cachePool.pool),B!==E&&(C.flags|=2048)),S!==p&&S&&(y.child.flags|=8192),im(y,y.updateQueue),cr(y),null);case 4:return ge(),p===null&&N2(y.stateNode.containerInfo),cr(y),null;case 10:return is(y.type),cr(y),null;case 19:if(q(Er),C=y.memoizedState,C===null)return cr(y),null;if(E=(y.flags&128)!==0,B=C.rendering,B===null)if(E)Rv(C,!1);else{if(Sr!==0||p!==null&&(p.flags&128)!==0)for(p=y.child;p!==null;){if(B=qy(p),B!==null){for(y.flags|=128,Rv(C,!1),p=B.updateQueue,y.updateQueue=p,im(y,p),y.subtreeFlags=0,p=S,S=y.child;S!==null;)t5(S,p),S=S.sibling;return $(Er,Er.current&1|2),Pt&&rs(y,C.treeForkCount),y.child}p=p.sibling}C.tail!==null&&Lt()>um&&(y.flags|=128,E=!0,Rv(C,!1),y.lanes=4194304)}else{if(!E)if(p=qy(B),p!==null){if(y.flags|=128,E=!0,p=p.updateQueue,y.updateQueue=p,im(y,p),Rv(C,!0),C.tail===null&&C.tailMode==="hidden"&&!B.alternate&&!Pt)return cr(y),null}else 2*Lt()-C.renderingStartTime>um&&S!==536870912&&(y.flags|=128,E=!0,Rv(C,!1),y.lanes=4194304);C.isBackwards?(B.sibling=y.child,y.child=B):(p=C.last,p!==null?p.sibling=B:y.child=B,C.last=B)}return C.tail!==null?(p=C.tail,C.rendering=p,C.tail=p.sibling,C.renderingStartTime=Lt(),p.sibling=null,S=Er.current,$(Er,E?S&1|2:S&1),Pt&&rs(y,C.treeForkCount),p):(cr(y),null);case 22:case 23:return Ci(y),Vw(),C=y.memoizedState!==null,p!==null?p.memoizedState!==null!==C&&(y.flags|=8192):C&&(y.flags|=8192),C?(S&536870912)!==0&&(y.flags&128)===0&&(cr(y),y.subtreeFlags&6&&(y.flags|=8192)):cr(y),S=y.updateQueue,S!==null&&im(y,S.retryQueue),S=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),C=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==S&&(y.flags|=2048),p!==null&&q(Uu),null;case 24:return S=null,p!==null&&(S=p.memoizedState.cache),y.memoizedState.cache!==S&&(y.flags|=2048),is(Nr),cr(y),null;case 25:return null;case 30:return null}throw Error(n(156,y.tag))}function aoe(p,y){switch(ww(y),y.tag){case 1:return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return is(Nr),ge(),p=y.flags,(p&65536)!==0&&(p&128)===0?(y.flags=p&-65537|128,y):null;case 26:case 27:case 5:return xe(y),null;case 31:if(y.memoizedState!==null){if(Ci(y),y.alternate===null)throw Error(n(340));Hu()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 13:if(Ci(y),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(n(340));Hu()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return q(Er),null;case 4:return ge(),null;case 10:return is(y.type),null;case 22:case 23:return Ci(y),Vw(),p!==null&&q(Uu),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 24:return is(Nr),null;case 25:return null;default:return null}}function D4(p,y){switch(ww(y),y.tag){case 3:is(Nr),ge();break;case 26:case 27:case 5:xe(y);break;case 4:ge();break;case 31:y.memoizedState!==null&&Ci(y);break;case 13:Ci(y);break;case 19:q(Er);break;case 10:is(y.type);break;case 22:case 23:Ci(y),Vw(),p!==null&&q(Uu);break;case 24:is(Nr)}}function Pv(p,y){try{var S=y.updateQueue,C=S!==null?S.lastEffect:null;if(C!==null){var E=C.next;S=E;do{if((S.tag&p)===p){C=void 0;var B=S.create,H=S.inst;C=B(),H.destroy=C}S=S.next}while(S!==E)}}catch(j){jt(y,y.return,j)}}function bl(p,y,S){try{var C=y.updateQueue,E=C!==null?C.lastEffect:null;if(E!==null){var B=E.next;C=B;do{if((C.tag&p)===p){var H=C.inst,j=H.destroy;if(j!==void 0){H.destroy=void 0,E=y;var Q=S,ae=j;try{ae()}catch(ve){jt(E,Q,ve)}}}C=C.next}while(C!==B)}}catch(ve){jt(y,y.return,ve)}}function E4(p){var y=p.updateQueue;if(y!==null){var S=p.stateNode;try{x5(y,S)}catch(C){jt(p,p.return,C)}}}function I4(p,y,S){S.props=ju(p.type,p.memoizedProps),S.state=p.memoizedState;try{S.componentWillUnmount()}catch(C){jt(p,y,C)}}function Ov(p,y){try{var S=p.ref;if(S!==null){switch(p.tag){case 26:case 27:case 5:var C=p.stateNode;break;case 30:C=p.stateNode;break;default:C=p.stateNode}typeof S=="function"?p.refCleanup=S(C):S.current=C}}catch(E){jt(p,y,E)}}function fo(p,y){var S=p.ref,C=p.refCleanup;if(S!==null)if(typeof C=="function")try{C()}catch(E){jt(p,y,E)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(E){jt(p,y,E)}else S.current=null}function R4(p){var y=p.type,S=p.memoizedProps,C=p.stateNode;try{e:switch(y){case"button":case"input":case"select":case"textarea":S.autoFocus&&C.focus();break e;case"img":S.src?C.src=S.src:S.srcSet&&(C.srcset=S.srcSet)}}catch(E){jt(p,p.return,E)}}function g2(p,y,S){try{var C=p.stateNode;Moe(C,p.type,S,y),C[Bn]=y}catch(E){jt(p,p.return,E)}}function P4(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27&&Dl(p.type)||p.tag===4}function y2(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||P4(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.tag===27&&Dl(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function m2(p,y,S){var C=p.tag;if(C===5||C===6)p=p.stateNode,y?(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S).insertBefore(p,y):(y=S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,y.appendChild(p),S=S._reactRootContainer,S!=null||y.onclick!==null||(y.onclick=Jo));else if(C!==4&&(C===27&&Dl(p.type)&&(S=p.stateNode,y=null),p=p.child,p!==null))for(m2(p,y,S),p=p.sibling;p!==null;)m2(p,y,S),p=p.sibling}function am(p,y,S){var C=p.tag;if(C===5||C===6)p=p.stateNode,y?S.insertBefore(p,y):S.appendChild(p);else if(C!==4&&(C===27&&Dl(p.type)&&(S=p.stateNode),p=p.child,p!==null))for(am(p,y,S),p=p.sibling;p!==null;)am(p,y,S),p=p.sibling}function O4(p){var y=p.stateNode,S=p.memoizedProps;try{for(var C=p.type,E=y.attributes;E.length;)y.removeAttributeNode(E[0]);Sn(y,C,S),y[$r]=p,y[Bn]=S}catch(B){jt(p,p.return,B)}}var us=!1,Fr=!1,x2=!1,B4=typeof WeakSet=="function"?WeakSet:Set,sn=null;function ooe(p,y){if(p=p.containerInfo,F2=Am,p=YL(p),hw(p)){if("selectionStart"in p)var S={start:p.selectionStart,end:p.selectionEnd};else e:{S=(S=p.ownerDocument)&&S.defaultView||window;var C=S.getSelection&&S.getSelection();if(C&&C.rangeCount!==0){S=C.anchorNode;var E=C.anchorOffset,B=C.focusNode;C=C.focusOffset;try{S.nodeType,B.nodeType}catch{S=null;break e}var H=0,j=-1,Q=-1,ae=0,ve=0,me=p,se=null;t:for(;;){for(var fe;me!==S||E!==0&&me.nodeType!==3||(j=H+E),me!==B||C!==0&&me.nodeType!==3||(Q=H+C),me.nodeType===3&&(H+=me.nodeValue.length),(fe=me.firstChild)!==null;)se=me,me=fe;for(;;){if(me===p)break t;if(se===S&&++ae===E&&(j=H),se===B&&++ve===C&&(Q=H),(fe=me.nextSibling)!==null)break;me=se,se=me.parentNode}me=fe}S=j===-1||Q===-1?null:{start:j,end:Q}}else S=null}S=S||{start:0,end:0}}else S=null;for(H2={focusedElem:p,selectionRange:S},Am=!1,sn=y;sn!==null;)if(y=sn,p=y.child,(y.subtreeFlags&1028)!==0&&p!==null)p.return=y,sn=p;else for(;sn!==null;){switch(y=sn,B=y.alternate,p=y.flags,y.tag){case 0:if((p&4)!==0&&(p=y.updateQueue,p=p!==null?p.events:null,p!==null))for(S=0;S<p.length;S++)E=p[S],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((p&1024)!==0&&B!==null){p=void 0,S=y,E=B.memoizedProps,B=B.memoizedState,C=S.stateNode;try{var Ge=ju(S.type,E);p=C.getSnapshotBeforeUpdate(Ge,B),C.__reactInternalSnapshotBeforeUpdate=p}catch(nt){jt(S,S.return,nt)}}break;case 3:if((p&1024)!==0){if(p=y.stateNode.containerInfo,S=p.nodeType,S===9)U2(p);else if(S===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":U2(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(n(163))}if(p=y.sibling,p!==null){p.return=y.return,sn=p;break}sn=y.return}}function k4(p,y,S){var C=S.flags;switch(S.tag){case 0:case 11:case 15:fs(p,S),C&4&&Pv(5,S);break;case 1:if(fs(p,S),C&4)if(p=S.stateNode,y===null)try{p.componentDidMount()}catch(H){jt(S,S.return,H)}else{var E=ju(S.type,y.memoizedProps);y=y.memoizedState;try{p.componentDidUpdate(E,y,p.__reactInternalSnapshotBeforeUpdate)}catch(H){jt(S,S.return,H)}}C&64&&E4(S),C&512&&Ov(S,S.return);break;case 3:if(fs(p,S),C&64&&(p=S.updateQueue,p!==null)){if(y=null,S.child!==null)switch(S.child.tag){case 27:case 5:y=S.child.stateNode;break;case 1:y=S.child.stateNode}try{x5(p,y)}catch(H){jt(S,S.return,H)}}break;case 27:y===null&&C&4&&O4(S);case 26:case 5:fs(p,S),y===null&&C&4&&R4(S),C&512&&Ov(S,S.return);break;case 12:fs(p,S);break;case 31:fs(p,S),C&4&&V4(p,S);break;case 13:fs(p,S),C&4&&z4(p,S),C&64&&(p=S.memoizedState,p!==null&&(p=p.dehydrated,p!==null&&(S=poe.bind(null,S),koe(p,S))));break;case 22:if(C=S.memoizedState!==null||us,!C){y=y!==null&&y.memoizedState!==null||Fr,E=us;var B=Fr;us=C,(Fr=y)&&!B?hs(p,S,(S.subtreeFlags&8772)!==0):fs(p,S),us=E,Fr=B}break;case 30:break;default:fs(p,S)}}function L4(p){var y=p.alternate;y!==null&&(p.alternate=null,L4(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&jS(y)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var hr=null,ai=!1;function cs(p,y,S){for(S=S.child;S!==null;)N4(p,y,S),S=S.sibling}function N4(p,y,S){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(nr,S)}catch{}switch(S.tag){case 26:Fr||fo(S,y),cs(p,y,S),S.memoizedState?S.memoizedState.count--:S.stateNode&&(S=S.stateNode,S.parentNode.removeChild(S));break;case 27:Fr||fo(S,y);var C=hr,E=ai;Dl(S.type)&&(hr=S.stateNode,ai=!1),cs(p,y,S),Gv(S.stateNode),hr=C,ai=E;break;case 5:Fr||fo(S,y);case 6:if(C=hr,E=ai,hr=null,cs(p,y,S),hr=C,ai=E,hr!==null)if(ai)try{(hr.nodeType===9?hr.body:hr.nodeName==="HTML"?hr.ownerDocument.body:hr).removeChild(S.stateNode)}catch(B){jt(S,y,B)}else try{hr.removeChild(S.stateNode)}catch(B){jt(S,y,B)}break;case 18:hr!==null&&(ai?(p=hr,E8(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,S.stateNode),yh(p)):E8(hr,S.stateNode));break;case 4:C=hr,E=ai,hr=S.stateNode.containerInfo,ai=!0,cs(p,y,S),hr=C,ai=E;break;case 0:case 11:case 14:case 15:bl(2,S,y),Fr||bl(4,S,y),cs(p,y,S);break;case 1:Fr||(fo(S,y),C=S.stateNode,typeof C.componentWillUnmount=="function"&&I4(S,y,C)),cs(p,y,S);break;case 21:cs(p,y,S);break;case 22:Fr=(C=Fr)||S.memoizedState!==null,cs(p,y,S),Fr=C;break;default:cs(p,y,S)}}function V4(p,y){if(y.memoizedState===null&&(p=y.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{yh(p)}catch(S){jt(y,y.return,S)}}}function z4(p,y){if(y.memoizedState===null&&(p=y.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{yh(p)}catch(S){jt(y,y.return,S)}}function soe(p){switch(p.tag){case 31:case 13:case 19:var y=p.stateNode;return y===null&&(y=p.stateNode=new B4),y;case 22:return p=p.stateNode,y=p._retryCache,y===null&&(y=p._retryCache=new B4),y;default:throw Error(n(435,p.tag))}}function om(p,y){var S=soe(p);y.forEach(function(C){if(!S.has(C)){S.add(C);var E=goe.bind(null,p,C);C.then(E,E)}})}function oi(p,y){var S=y.deletions;if(S!==null)for(var C=0;C<S.length;C++){var E=S[C],B=p,H=y,j=H;e:for(;j!==null;){switch(j.tag){case 27:if(Dl(j.type)){hr=j.stateNode,ai=!1;break e}break;case 5:hr=j.stateNode,ai=!1;break e;case 3:case 4:hr=j.stateNode.containerInfo,ai=!0;break e}j=j.return}if(hr===null)throw Error(n(160));N4(B,H,E),hr=null,ai=!1,B=E.alternate,B!==null&&(B.return=null),E.return=null}if(y.subtreeFlags&13886)for(y=y.child;y!==null;)F4(y,p),y=y.sibling}var La=null;function F4(p,y){var S=p.alternate,C=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:oi(y,p),si(p),C&4&&(bl(3,p,p.return),Pv(3,p),bl(5,p,p.return));break;case 1:oi(y,p),si(p),C&512&&(Fr||S===null||fo(S,S.return)),C&64&&us&&(p=p.updateQueue,p!==null&&(C=p.callbacks,C!==null&&(S=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=S===null?C:S.concat(C))));break;case 26:var E=La;if(oi(y,p),si(p),C&512&&(Fr||S===null||fo(S,S.return)),C&4){var B=S!==null?S.memoizedState:null;if(C=p.memoizedState,S===null)if(C===null)if(p.stateNode===null){e:{C=p.type,S=p.memoizedProps,E=E.ownerDocument||E;t:switch(C){case"title":B=E.getElementsByTagName("title")[0],(!B||B[ov]||B[$r]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=E.createElement(C),E.head.insertBefore(B,E.querySelector("head > title"))),Sn(B,C,S),B[$r]=p,on(B),C=B;break e;case"link":var H=F8("link","href",E).get(C+(S.href||""));if(H){for(var j=0;j<H.length;j++)if(B=H[j],B.getAttribute("href")===(S.href==null||S.href===""?null:S.href)&&B.getAttribute("rel")===(S.rel==null?null:S.rel)&&B.getAttribute("title")===(S.title==null?null:S.title)&&B.getAttribute("crossorigin")===(S.crossOrigin==null?null:S.crossOrigin)){H.splice(j,1);break t}}B=E.createElement(C),Sn(B,C,S),E.head.appendChild(B);break;case"meta":if(H=F8("meta","content",E).get(C+(S.content||""))){for(j=0;j<H.length;j++)if(B=H[j],B.getAttribute("content")===(S.content==null?null:""+S.content)&&B.getAttribute("name")===(S.name==null?null:S.name)&&B.getAttribute("property")===(S.property==null?null:S.property)&&B.getAttribute("http-equiv")===(S.httpEquiv==null?null:S.httpEquiv)&&B.getAttribute("charset")===(S.charSet==null?null:S.charSet)){H.splice(j,1);break t}}B=E.createElement(C),Sn(B,C,S),E.head.appendChild(B);break;default:throw Error(n(468,C))}B[$r]=p,on(B),C=B}p.stateNode=C}else H8(E,p.type,p.stateNode);else p.stateNode=z8(E,C,p.memoizedProps);else B!==C?(B===null?S.stateNode!==null&&(S=S.stateNode,S.parentNode.removeChild(S)):B.count--,C===null?H8(E,p.type,p.stateNode):z8(E,C,p.memoizedProps)):C===null&&p.stateNode!==null&&g2(p,p.memoizedProps,S.memoizedProps)}break;case 27:oi(y,p),si(p),C&512&&(Fr||S===null||fo(S,S.return)),S!==null&&C&4&&g2(p,p.memoizedProps,S.memoizedProps);break;case 5:if(oi(y,p),si(p),C&512&&(Fr||S===null||fo(S,S.return)),p.flags&32){E=p.stateNode;try{Ff(E,"")}catch(Ge){jt(p,p.return,Ge)}}C&4&&p.stateNode!=null&&(E=p.memoizedProps,g2(p,E,S!==null?S.memoizedProps:E)),C&1024&&(x2=!0);break;case 6:if(oi(y,p),si(p),C&4){if(p.stateNode===null)throw Error(n(162));C=p.memoizedProps,S=p.stateNode;try{S.nodeValue=C}catch(Ge){jt(p,p.return,Ge)}}break;case 3:if(Sm=null,E=La,La=_m(y.containerInfo),oi(y,p),La=E,si(p),C&4&&S!==null&&S.memoizedState.isDehydrated)try{yh(y.containerInfo)}catch(Ge){jt(p,p.return,Ge)}x2&&(x2=!1,H4(p));break;case 4:C=La,La=_m(p.stateNode.containerInfo),oi(y,p),si(p),La=C;break;case 12:oi(y,p),si(p);break;case 31:oi(y,p),si(p),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,om(p,C)));break;case 13:oi(y,p),si(p),p.child.flags&8192&&p.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(lm=Lt()),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,om(p,C)));break;case 22:E=p.memoizedState!==null;var Q=S!==null&&S.memoizedState!==null,ae=us,ve=Fr;if(us=ae||E,Fr=ve||Q,oi(y,p),Fr=ve,us=ae,si(p),C&8192)e:for(y=p.stateNode,y._visibility=E?y._visibility&-2:y._visibility|1,E&&(S===null||Q||us||Fr||Zu(p)),S=null,y=p;;){if(y.tag===5||y.tag===26){if(S===null){Q=S=y;try{if(B=Q.stateNode,E)H=B.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{j=Q.stateNode;var me=Q.memoizedProps.style,se=me!=null&&me.hasOwnProperty("display")?me.display:null;j.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ge){jt(Q,Q.return,Ge)}}}else if(y.tag===6){if(S===null){Q=y;try{Q.stateNode.nodeValue=E?"":Q.memoizedProps}catch(Ge){jt(Q,Q.return,Ge)}}}else if(y.tag===18){if(S===null){Q=y;try{var fe=Q.stateNode;E?I8(fe,!0):I8(Q.stateNode,!1)}catch(Ge){jt(Q,Q.return,Ge)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===p)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break e;for(;y.sibling===null;){if(y.return===null||y.return===p)break e;S===y&&(S=null),y=y.return}S===y&&(S=null),y.sibling.return=y.return,y=y.sibling}C&4&&(C=p.updateQueue,C!==null&&(S=C.retryQueue,S!==null&&(C.retryQueue=null,om(p,S))));break;case 19:oi(y,p),si(p),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,om(p,C)));break;case 30:break;case 21:break;default:oi(y,p),si(p)}}function si(p){var y=p.flags;if(y&2){try{for(var S,C=p.return;C!==null;){if(P4(C)){S=C;break}C=C.return}if(S==null)throw Error(n(160));switch(S.tag){case 27:var E=S.stateNode,B=y2(p);am(p,B,E);break;case 5:var H=S.stateNode;S.flags&32&&(Ff(H,""),S.flags&=-33);var j=y2(p);am(p,j,H);break;case 3:case 4:var Q=S.stateNode.containerInfo,ae=y2(p);m2(p,ae,Q);break;default:throw Error(n(161))}}catch(ve){jt(p,p.return,ve)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function H4(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var y=p;H4(y),y.tag===5&&y.flags&1024&&y.stateNode.reset(),p=p.sibling}}function fs(p,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)k4(p,y.alternate,y),y=y.sibling}function Zu(p){for(p=p.child;p!==null;){var y=p;switch(y.tag){case 0:case 11:case 14:case 15:bl(4,y,y.return),Zu(y);break;case 1:fo(y,y.return);var S=y.stateNode;typeof S.componentWillUnmount=="function"&&I4(y,y.return,S),Zu(y);break;case 27:Gv(y.stateNode);case 26:case 5:fo(y,y.return),Zu(y);break;case 22:y.memoizedState===null&&Zu(y);break;case 30:Zu(y);break;default:Zu(y)}p=p.sibling}}function hs(p,y,S){for(S=S&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var C=y.alternate,E=p,B=y,H=B.flags;switch(B.tag){case 0:case 11:case 15:hs(E,B,S),Pv(4,B);break;case 1:if(hs(E,B,S),C=B,E=C.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ae){jt(C,C.return,ae)}if(C=B,E=C.updateQueue,E!==null){var j=C.stateNode;try{var Q=E.shared.hiddenCallbacks;if(Q!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Q.length;E++)m5(Q[E],j)}catch(ae){jt(C,C.return,ae)}}S&&H&64&&E4(B),Ov(B,B.return);break;case 27:O4(B);case 26:case 5:hs(E,B,S),S&&C===null&&H&4&&R4(B),Ov(B,B.return);break;case 12:hs(E,B,S);break;case 31:hs(E,B,S),S&&H&4&&V4(E,B);break;case 13:hs(E,B,S),S&&H&4&&z4(E,B);break;case 22:B.memoizedState===null&&hs(E,B,S),Ov(B,B.return);break;case 30:break;default:hs(E,B,S)}y=y.sibling}}function _2(p,y){var S=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),p=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(p=y.memoizedState.cachePool.pool),p!==S&&(p!=null&&p.refCount++,S!=null&&xv(S))}function b2(p,y){p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&xv(p))}function Na(p,y,S,C){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)G4(p,y,S,C),y=y.sibling}function G4(p,y,S,C){var E=y.flags;switch(y.tag){case 0:case 11:case 15:Na(p,y,S,C),E&2048&&Pv(9,y);break;case 1:Na(p,y,S,C);break;case 3:Na(p,y,S,C),E&2048&&(p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&xv(p)));break;case 12:if(E&2048){Na(p,y,S,C),p=y.stateNode;try{var B=y.memoizedProps,H=B.id,j=B.onPostCommit;typeof j=="function"&&j(H,y.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(Q){jt(y,y.return,Q)}}else Na(p,y,S,C);break;case 31:Na(p,y,S,C);break;case 13:Na(p,y,S,C);break;case 23:break;case 22:B=y.stateNode,H=y.alternate,y.memoizedState!==null?B._visibility&2?Na(p,y,S,C):Bv(p,y):B._visibility&2?Na(p,y,S,C):(B._visibility|=2,oh(p,y,S,C,(y.subtreeFlags&10256)!==0||!1)),E&2048&&_2(H,y);break;case 24:Na(p,y,S,C),E&2048&&b2(y.alternate,y);break;default:Na(p,y,S,C)}}function oh(p,y,S,C,E){for(E=E&&((y.subtreeFlags&10256)!==0||!1),y=y.child;y!==null;){var B=p,H=y,j=S,Q=C,ae=H.flags;switch(H.tag){case 0:case 11:case 15:oh(B,H,j,Q,E),Pv(8,H);break;case 23:break;case 22:var ve=H.stateNode;H.memoizedState!==null?ve._visibility&2?oh(B,H,j,Q,E):Bv(B,H):(ve._visibility|=2,oh(B,H,j,Q,E)),E&&ae&2048&&_2(H.alternate,H);break;case 24:oh(B,H,j,Q,E),E&&ae&2048&&b2(H.alternate,H);break;default:oh(B,H,j,Q,E)}y=y.sibling}}function Bv(p,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var S=p,C=y,E=C.flags;switch(C.tag){case 22:Bv(S,C),E&2048&&_2(C.alternate,C);break;case 24:Bv(S,C),E&2048&&b2(C.alternate,C);break;default:Bv(S,C)}y=y.sibling}}var kv=8192;function sh(p,y,S){if(p.subtreeFlags&kv)for(p=p.child;p!==null;)W4(p,y,S),p=p.sibling}function W4(p,y,S){switch(p.tag){case 26:sh(p,y,S),p.flags&kv&&p.memoizedState!==null&&Xoe(S,La,p.memoizedState,p.memoizedProps);break;case 5:sh(p,y,S);break;case 3:case 4:var C=La;La=_m(p.stateNode.containerInfo),sh(p,y,S),La=C;break;case 22:p.memoizedState===null&&(C=p.alternate,C!==null&&C.memoizedState!==null?(C=kv,kv=16777216,sh(p,y,S),kv=C):sh(p,y,S));break;default:sh(p,y,S)}}function U4(p){var y=p.alternate;if(y!==null&&(p=y.child,p!==null)){y.child=null;do y=p.sibling,p.sibling=null,p=y;while(p!==null)}}function Lv(p){var y=p.deletions;if((p.flags&16)!==0){if(y!==null)for(var S=0;S<y.length;S++){var C=y[S];sn=C,Y4(C,p)}U4(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)q4(p),p=p.sibling}function q4(p){switch(p.tag){case 0:case 11:case 15:Lv(p),p.flags&2048&&bl(9,p,p.return);break;case 3:Lv(p);break;case 12:Lv(p);break;case 22:var y=p.stateNode;p.memoizedState!==null&&y._visibility&2&&(p.return===null||p.return.tag!==13)?(y._visibility&=-3,sm(p)):Lv(p);break;default:Lv(p)}}function sm(p){var y=p.deletions;if((p.flags&16)!==0){if(y!==null)for(var S=0;S<y.length;S++){var C=y[S];sn=C,Y4(C,p)}U4(p)}for(p=p.child;p!==null;){switch(y=p,y.tag){case 0:case 11:case 15:bl(8,y,y.return),sm(y);break;case 22:S=y.stateNode,S._visibility&2&&(S._visibility&=-3,sm(y));break;default:sm(y)}p=p.sibling}}function Y4(p,y){for(;sn!==null;){var S=sn;switch(S.tag){case 0:case 11:case 15:bl(8,S,y);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var C=S.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:xv(S.memoizedState.cache)}if(C=S.child,C!==null)C.return=S,sn=C;else e:for(S=p;sn!==null;){C=sn;var E=C.sibling,B=C.return;if(L4(C),C===S){sn=null;break e}if(E!==null){E.return=B,sn=E;break e}sn=B}}}var loe={getCacheForType:function(p){var y=_n(Nr),S=y.data.get(p);return S===void 0&&(S=p(),y.data.set(p,S)),S},cacheSignal:function(){return _n(Nr).controller.signal}},uoe=typeof WeakMap=="function"?WeakMap:Map,Ht=0,ar=null,Dt=null,It=0,$t=0,Ti=null,Sl=!1,lh=!1,S2=!1,ds=0,Sr=0,wl=0,Ku=0,w2=0,Ai=0,uh=0,Nv=null,li=null,C2=!1,lm=0,X4=0,um=1/0,cm=null,Cl=null,jr=0,Tl=null,ch=null,vs=0,T2=0,A2=null,$4=null,Vv=0,M2=null;function Mi(){return(Ht&2)!==0&&It!==0?It&-It:L.T!==null?O2():xy()}function j4(){if(Ai===0)if((It&536870912)===0||Pt){var p=_i;_i<<=1,(_i&3932160)===0&&(_i=262144),Ai=p}else Ai=536870912;return p=wi.current,p!==null&&(p.flags|=32),Ai}function ui(p,y,S){(p===ar&&($t===2||$t===9)||p.cancelPendingCommit!==null)&&(fh(p,0),Al(p,It,Ai,!1)),mn(p,S),((Ht&2)===0||p!==ar)&&(p===ar&&((Ht&2)===0&&(Ku|=S),Sr===4&&Al(p,It,Ai,!1)),ho(p))}function Z4(p,y,S){if((Ht&6)!==0)throw Error(n(327));var C=!S&&(y&127)===0&&(y&p.expiredLanes)===0||Yi(p,y),E=C?hoe(p,y):E2(p,y,!0),B=C;do{if(E===0){lh&&!C&&Al(p,y,0,!1);break}else{if(S=p.current.alternate,B&&!coe(S)){E=E2(p,y,!1),B=!1;continue}if(E===2){if(B=y,p.errorRecoveryDisabledLanes&B)var H=0;else H=p.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){y=H;e:{var j=p;E=Nv;var Q=j.current.memoizedState.isDehydrated;if(Q&&(fh(j,H).flags|=256),H=E2(j,H,!1),H!==2){if(S2&&!Q){j.errorRecoveryDisabledLanes|=B,Ku|=B,E=4;break e}B=li,li=E,B!==null&&(li===null?li=B:li.push.apply(li,B))}E=H}if(B=!1,E!==2)continue}}if(E===1){fh(p,0),Al(p,y,0,!0);break}e:{switch(C=p,B=E,B){case 0:case 1:throw Error(n(345));case 4:if((y&4194048)!==y)break;case 6:Al(C,y,Ai,!Sl);break e;case 2:li=null;break;case 3:case 5:break;default:throw Error(n(329))}if((y&62914560)===y&&(E=lm+300-Lt(),10<E)){if(Al(C,y,Ai,!Sl),Ba(C,0,!0)!==0)break e;vs=y,C.timeoutHandle=M8(K4.bind(null,C,S,li,cm,C2,y,Ai,Ku,uh,Sl,B,"Throttled",-0,0),E);break e}K4(C,S,li,cm,C2,y,Ai,Ku,uh,Sl,B,null,-0,0)}}break}while(!0);ho(p)}function K4(p,y,S,C,E,B,H,j,Q,ae,ve,me,se,fe){if(p.timeoutHandle=-1,me=y.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jo},W4(y,B,me);var Ge=(B&62914560)===B?lm-Lt():(B&4194048)===B?X4-Lt():0;if(Ge=$oe(me,Ge),Ge!==null){vs=B,p.cancelPendingCommit=Ge(a8.bind(null,p,y,B,S,C,E,H,j,Q,ve,me,null,se,fe)),Al(p,B,H,!ae);return}}a8(p,y,B,S,C,E,H,j,Q)}function coe(p){for(var y=p;;){var S=y.tag;if((S===0||S===11||S===15)&&y.flags&16384&&(S=y.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var C=0;C<S.length;C++){var E=S[C],B=E.getSnapshot;E=E.value;try{if(!bi(B(),E))return!1}catch{return!1}}if(S=y.child,y.subtreeFlags&16384&&S!==null)S.return=y,y=S;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function Al(p,y,S,C){y&=~w2,y&=~Ku,p.suspendedLanes|=y,p.pingedLanes&=~y,C&&(p.warmLanes|=y),C=p.expirationTimes;for(var E=y;0<E;){var B=31-kr(E),H=1<<B;C[B]=-1,E&=~H}S!==0&&Wn(p,S,y)}function fm(){return(Ht&6)===0?(zv(0),!1):!0}function D2(){if(Dt!==null){if($t===0)var p=Dt.return;else p=Dt,ns=Gu=null,Uw(p),th=null,bv=0,p=Dt;for(;p!==null;)D4(p.alternate,p),p=p.return;Dt=null}}function fh(p,y){var S=p.timeoutHandle;S!==-1&&(p.timeoutHandle=-1,Ioe(S)),S=p.cancelPendingCommit,S!==null&&(p.cancelPendingCommit=null,S()),vs=0,D2(),ar=p,Dt=S=ts(p.current,null),It=y,$t=0,Ti=null,Sl=!1,lh=Yi(p,y),S2=!1,uh=Ai=w2=Ku=wl=Sr=0,li=Nv=null,C2=!1,(y&8)!==0&&(y|=y&32);var C=p.entangledLanes;if(C!==0)for(p=p.entanglements,C&=y;0<C;){var E=31-kr(C),B=1<<E;y|=p[E],C&=~B}return ds=y,Py(),S}function Q4(p,y){_t=null,L.H=Ev,y===eh||y===Fy?(y=v5(),$t=3):y===Pw?(y=v5(),$t=4):$t=y===o2?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,Ti=y,Dt===null&&(Sr=1,em(p,Zi(y,p.current)))}function J4(){var p=wi.current;return p===null?!0:(It&4194048)===It?ea===null:(It&62914560)===It||(It&536870912)!==0?p===ea:!1}function e8(){var p=L.H;return L.H=Ev,p===null?Ev:p}function t8(){var p=L.A;return L.A=loe,p}function hm(){Sr=4,Sl||(It&4194048)!==It&&wi.current!==null||(lh=!0),(wl&134217727)===0&&(Ku&134217727)===0||ar===null||Al(ar,It,Ai,!1)}function E2(p,y,S){var C=Ht;Ht|=2;var E=e8(),B=t8();(ar!==p||It!==y)&&(cm=null,fh(p,y)),y=!1;var H=Sr;e:do try{if($t!==0&&Dt!==null){var j=Dt,Q=Ti;switch($t){case 8:D2(),H=6;break e;case 3:case 2:case 9:case 6:wi.current===null&&(y=!0);var ae=$t;if($t=0,Ti=null,hh(p,j,Q,ae),S&&lh){H=0;break e}break;default:ae=$t,$t=0,Ti=null,hh(p,j,Q,ae)}}foe(),H=Sr;break}catch(ve){Q4(p,ve)}while(!0);return y&&p.shellSuspendCounter++,ns=Gu=null,Ht=C,L.H=E,L.A=B,Dt===null&&(ar=null,It=0,Py()),H}function foe(){for(;Dt!==null;)r8(Dt)}function hoe(p,y){var S=Ht;Ht|=2;var C=e8(),E=t8();ar!==p||It!==y?(cm=null,um=Lt()+500,fh(p,y)):lh=Yi(p,y);e:do try{if($t!==0&&Dt!==null){y=Dt;var B=Ti;t:switch($t){case 1:$t=0,Ti=null,hh(p,y,B,1);break;case 2:case 9:if(h5(B)){$t=0,Ti=null,n8(y);break}y=function(){$t!==2&&$t!==9||ar!==p||($t=7),ho(p)},B.then(y,y);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:h5(B)?($t=0,Ti=null,n8(y)):($t=0,Ti=null,hh(p,y,B,7));break;case 5:var H=null;switch(Dt.tag){case 26:H=Dt.memoizedState;case 5:case 27:var j=Dt;if(H?G8(H):j.stateNode.complete){$t=0,Ti=null;var Q=j.sibling;if(Q!==null)Dt=Q;else{var ae=j.return;ae!==null?(Dt=ae,dm(ae)):Dt=null}break t}}$t=0,Ti=null,hh(p,y,B,5);break;case 6:$t=0,Ti=null,hh(p,y,B,6);break;case 8:D2(),Sr=6;break e;default:throw Error(n(462))}}doe();break}catch(ve){Q4(p,ve)}while(!0);return ns=Gu=null,L.H=C,L.A=E,Ht=S,Dt!==null?0:(ar=null,It=0,Py(),Sr)}function doe(){for(;Dt!==null&&!dt();)r8(Dt)}function r8(p){var y=A4(p.alternate,p,ds);p.memoizedProps=p.pendingProps,y===null?dm(p):Dt=y}function n8(p){var y=p,S=y.alternate;switch(y.tag){case 15:case 0:y=_4(S,y,y.pendingProps,y.type,void 0,It);break;case 11:y=_4(S,y,y.pendingProps,y.type.render,y.ref,It);break;case 5:Uw(y);default:D4(S,y),y=Dt=t5(y,ds),y=A4(S,y,ds)}p.memoizedProps=p.pendingProps,y===null?dm(p):Dt=y}function hh(p,y,S,C){ns=Gu=null,Uw(y),th=null,bv=0;var E=y.return;try{if(toe(p,E,y,S,It)){Sr=1,em(p,Zi(S,p.current)),Dt=null;return}}catch(B){if(E!==null)throw Dt=E,B;Sr=1,em(p,Zi(S,p.current)),Dt=null;return}y.flags&32768?(Pt||C===1?p=!0:lh||(It&536870912)!==0?p=!1:(Sl=p=!0,(C===2||C===9||C===3||C===6)&&(C=wi.current,C!==null&&C.tag===13&&(C.flags|=16384))),i8(y,p)):dm(y)}function dm(p){var y=p;do{if((y.flags&32768)!==0){i8(y,Sl);return}p=y.return;var S=ioe(y.alternate,y,ds);if(S!==null){Dt=S;return}if(y=y.sibling,y!==null){Dt=y;return}Dt=y=p}while(y!==null);Sr===0&&(Sr=5)}function i8(p,y){do{var S=aoe(p.alternate,p);if(S!==null){S.flags&=32767,Dt=S;return}if(S=p.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!y&&(p=p.sibling,p!==null)){Dt=p;return}Dt=p=S}while(p!==null);Sr=6,Dt=null}function a8(p,y,S,C,E,B,H,j,Q){p.cancelPendingCommit=null;do vm();while(jr!==0);if((Ht&6)!==0)throw Error(n(327));if(y!==null){if(y===p.current)throw Error(n(177));if(B=y.lanes|y.childLanes,B|=yw,Ou(p,S,B,H,j,Q),p===ar&&(Dt=ar=null,It=0),ch=y,Tl=p,vs=S,T2=B,A2=E,$4=C,(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,yoe(_r,function(){return c8(),null})):(p.callbackNode=null,p.callbackPriority=0),C=(y.flags&13878)!==0,(y.subtreeFlags&13878)!==0||C){C=L.T,L.T=null,E=G.p,G.p=2,H=Ht,Ht|=4;try{ooe(p,y,S)}finally{Ht=H,G.p=E,L.T=C}}jr=1,o8(),s8(),l8()}}function o8(){if(jr===1){jr=0;var p=Tl,y=ch,S=(y.flags&13878)!==0;if((y.subtreeFlags&13878)!==0||S){S=L.T,L.T=null;var C=G.p;G.p=2;var E=Ht;Ht|=4;try{F4(y,p);var B=H2,H=YL(p.containerInfo),j=B.focusedElem,Q=B.selectionRange;if(H!==j&&j&&j.ownerDocument&&qL(j.ownerDocument.documentElement,j)){if(Q!==null&&hw(j)){var ae=Q.start,ve=Q.end;if(ve===void 0&&(ve=ae),"selectionStart"in j)j.selectionStart=ae,j.selectionEnd=Math.min(ve,j.value.length);else{var me=j.ownerDocument||document,se=me&&me.defaultView||window;if(se.getSelection){var fe=se.getSelection(),Ge=j.textContent.length,nt=Math.min(Q.start,Ge),tr=Q.end===void 0?nt:Math.min(Q.end,Ge);!fe.extend&&nt>tr&&(H=tr,tr=nt,nt=H);var ne=UL(j,nt),ee=UL(j,tr);if(ne&&ee&&(fe.rangeCount!==1||fe.anchorNode!==ne.node||fe.anchorOffset!==ne.offset||fe.focusNode!==ee.node||fe.focusOffset!==ee.offset)){var ie=me.createRange();ie.setStart(ne.node,ne.offset),fe.removeAllRanges(),nt>tr?(fe.addRange(ie),fe.extend(ee.node,ee.offset)):(ie.setEnd(ee.node,ee.offset),fe.addRange(ie))}}}}for(me=[],fe=j;fe=fe.parentNode;)fe.nodeType===1&&me.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<me.length;j++){var ye=me[j];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Am=!!F2,H2=F2=null}finally{Ht=E,G.p=C,L.T=S}}p.current=y,jr=2}}function s8(){if(jr===2){jr=0;var p=Tl,y=ch,S=(y.flags&8772)!==0;if((y.subtreeFlags&8772)!==0||S){S=L.T,L.T=null;var C=G.p;G.p=2;var E=Ht;Ht|=4;try{k4(p,y.alternate,y)}finally{Ht=E,G.p=C,L.T=S}}jr=3}}function l8(){if(jr===4||jr===3){jr=0,Ee();var p=Tl,y=ch,S=vs,C=$4;(y.subtreeFlags&10256)!==0||(y.flags&10256)!==0?jr=5:(jr=0,ch=Tl=null,u8(p,p.pendingLanes));var E=p.pendingLanes;if(E===0&&(Cl=null),Bu(S),y=y.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(nr,y,void 0,(y.current.flags&128)===128)}catch{}if(C!==null){y=L.T,E=G.p,G.p=2,L.T=null;try{for(var B=p.onRecoverableError,H=0;H<C.length;H++){var j=C[H];B(j.value,{componentStack:j.stack})}}finally{L.T=y,G.p=E}}(vs&3)!==0&&vm(),ho(p),E=p.pendingLanes,(S&261930)!==0&&(E&42)!==0?p===M2?Vv++:(Vv=0,M2=p):Vv=0,zv(0)}}function u8(p,y){(p.pooledCacheLanes&=y)===0&&(y=p.pooledCache,y!=null&&(p.pooledCache=null,xv(y)))}function vm(){return o8(),s8(),l8(),c8()}function c8(){if(jr!==5)return!1;var p=Tl,y=T2;T2=0;var S=Bu(vs),C=L.T,E=G.p;try{G.p=32>S?32:S,L.T=null,S=A2,A2=null;var B=Tl,H=vs;if(jr=0,ch=Tl=null,vs=0,(Ht&6)!==0)throw Error(n(331));var j=Ht;if(Ht|=4,q4(B.current),G4(B,B.current,H,S),Ht=j,zv(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(nr,B)}catch{}return!0}finally{G.p=E,L.T=C,u8(p,y)}}function f8(p,y,S){y=Zi(S,y),y=a2(p.stateNode,y,2),p=ml(p,y,2),p!==null&&(mn(p,2),ho(p))}function jt(p,y,S){if(p.tag===3)f8(p,p,S);else for(;y!==null;){if(y.tag===3){f8(y,p,S);break}else if(y.tag===1){var C=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Cl===null||!Cl.has(C))){p=Zi(S,p),S=h4(2),C=ml(y,S,2),C!==null&&(d4(S,C,y,p),mn(C,2),ho(C));break}}y=y.return}}function I2(p,y,S){var C=p.pingCache;if(C===null){C=p.pingCache=new uoe;var E=new Set;C.set(y,E)}else E=C.get(y),E===void 0&&(E=new Set,C.set(y,E));E.has(S)||(S2=!0,E.add(S),p=voe.bind(null,p,y,S),y.then(p,p))}function voe(p,y,S){var C=p.pingCache;C!==null&&C.delete(y),p.pingedLanes|=p.suspendedLanes&S,p.warmLanes&=~S,ar===p&&(It&S)===S&&(Sr===4||Sr===3&&(It&62914560)===It&&300>Lt()-lm?(Ht&2)===0&&fh(p,0):w2|=S,uh===It&&(uh=0)),ho(p)}function h8(p,y){y===0&&(y=Qt()),p=zu(p,y),p!==null&&(mn(p,y),ho(p))}function poe(p){var y=p.memoizedState,S=0;y!==null&&(S=y.retryLane),h8(p,S)}function goe(p,y){var S=0;switch(p.tag){case 31:case 13:var C=p.stateNode,E=p.memoizedState;E!==null&&(S=E.retryLane);break;case 19:C=p.stateNode;break;case 22:C=p.stateNode._retryCache;break;default:throw Error(n(314))}C!==null&&C.delete(y),h8(p,S)}function yoe(p,y){return wt(p,y)}var pm=null,dh=null,R2=!1,gm=!1,P2=!1,Ml=0;function ho(p){p!==dh&&p.next===null&&(dh===null?pm=dh=p:dh=dh.next=p),gm=!0,R2||(R2=!0,xoe())}function zv(p,y){if(!P2&&gm){P2=!0;do for(var S=!1,C=pm;C!==null;){if(p!==0){var E=C.pendingLanes;if(E===0)var B=0;else{var H=C.suspendedLanes,j=C.pingedLanes;B=(1<<31-kr(42|p)+1)-1,B&=E&~(H&~j),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(S=!0,g8(C,B))}else B=It,B=Ba(C,C===ar?B:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(B&3)===0||Yi(C,B)||(S=!0,g8(C,B));C=C.next}while(S);P2=!1}}function moe(){d8()}function d8(){gm=R2=!1;var p=0;Ml!==0&&Eoe()&&(p=Ml);for(var y=Lt(),S=null,C=pm;C!==null;){var E=C.next,B=v8(C,y);B===0?(C.next=null,S===null?pm=E:S.next=E,E===null&&(dh=S)):(S=C,(p!==0||(B&3)!==0)&&(gm=!0)),C=E}jr!==0&&jr!==5||zv(p),Ml!==0&&(Ml=0)}function v8(p,y){for(var S=p.suspendedLanes,C=p.pingedLanes,E=p.expirationTimes,B=p.pendingLanes&-62914561;0<B;){var H=31-kr(B),j=1<<H,Q=E[H];Q===-1?((j&S)===0||(j&C)!==0)&&(E[H]=Zo(j,y)):Q<=y&&(p.expiredLanes|=j),B&=~j}if(y=ar,S=It,S=Ba(p,p===y?S:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),C=p.callbackNode,S===0||p===y&&($t===2||$t===9)||p.cancelPendingCommit!==null)return C!==null&&C!==null&&xt(C),p.callbackNode=null,p.callbackPriority=0;if((S&3)===0||Yi(p,S)){if(y=S&-S,y===p.callbackPriority)return y;switch(C!==null&&xt(C),Bu(S)){case 2:case 8:S=xr;break;case 32:S=_r;break;case 268435456:S=ei;break;default:S=_r}return C=p8.bind(null,p),S=wt(S,C),p.callbackPriority=y,p.callbackNode=S,y}return C!==null&&C!==null&&xt(C),p.callbackPriority=2,p.callbackNode=null,2}function p8(p,y){if(jr!==0&&jr!==5)return p.callbackNode=null,p.callbackPriority=0,null;var S=p.callbackNode;if(vm()&&p.callbackNode!==S)return null;var C=It;return C=Ba(p,p===ar?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),C===0?null:(Z4(p,C,y),v8(p,Lt()),p.callbackNode!=null&&p.callbackNode===S?p8.bind(null,p):null)}function g8(p,y){if(vm())return null;Z4(p,y,!0)}function xoe(){Roe(function(){(Ht&6)!==0?wt(Yr,moe):d8()})}function O2(){if(Ml===0){var p=Qf;p===0&&(p=so,so<<=1,(so&261888)===0&&(so=256)),Ml=p}return Ml}function y8(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:Cy(""+p)}function m8(p,y){var S=y.ownerDocument.createElement("input");return S.name=y.name,S.value=y.value,p.id&&S.setAttribute("form",p.id),y.parentNode.insertBefore(S,y),p=new FormData(p),S.parentNode.removeChild(S),p}function _oe(p,y,S,C,E){if(y==="submit"&&S&&S.stateNode===E){var B=y8((E[Bn]||null).action),H=C.submitter;H&&(y=(y=H[Bn]||null)?y8(y.formAction):H.getAttribute("formAction"),y!==null&&(B=y,H=null));var j=new Dy("action","action",null,C,E);p.push({event:j,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(Ml!==0){var Q=H?m8(E,H):new FormData(E);Jw(S,{pending:!0,data:Q,method:E.method,action:B},null,Q)}}else typeof B=="function"&&(j.preventDefault(),Q=H?m8(E,H):new FormData(E),Jw(S,{pending:!0,data:Q,method:E.method,action:B},B,Q))},currentTarget:E}]})}}for(var B2=0;B2<gw.length;B2++){var k2=gw[B2],boe=k2.toLowerCase(),Soe=k2[0].toUpperCase()+k2.slice(1);ka(boe,"on"+Soe)}ka(jL,"onAnimationEnd"),ka(ZL,"onAnimationIteration"),ka(KL,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(Vae,"onTransitionRun"),ka(zae,"onTransitionStart"),ka(Fae,"onTransitionCancel"),ka(QL,"onTransitionEnd"),Vf("onMouseEnter",["mouseout","mouseover"]),Vf("onMouseLeave",["mouseout","mouseover"]),Vf("onPointerEnter",["pointerout","pointerover"]),Vf("onPointerLeave",["pointerout","pointerover"]),ku("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ku("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ku("onBeforeInput",["compositionend","keypress","textInput","paste"]),ku("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ku("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ku("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),woe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fv));function x8(p,y){y=(y&4)!==0;for(var S=0;S<p.length;S++){var C=p[S],E=C.event;C=C.listeners;e:{var B=void 0;if(y)for(var H=C.length-1;0<=H;H--){var j=C[H],Q=j.instance,ae=j.currentTarget;if(j=j.listener,Q!==B&&E.isPropagationStopped())break e;B=j,E.currentTarget=ae;try{B(E)}catch(ve){Ry(ve)}E.currentTarget=null,B=Q}else for(H=0;H<C.length;H++){if(j=C[H],Q=j.instance,ae=j.currentTarget,j=j.listener,Q!==B&&E.isPropagationStopped())break e;B=j,E.currentTarget=ae;try{B(E)}catch(ve){Ry(ve)}E.currentTarget=null,B=Q}}}}function Et(p,y){var S=y[$S];S===void 0&&(S=y[$S]=new Set);var C=p+"__bubble";S.has(C)||(_8(y,p,2,!1),S.add(C))}function L2(p,y,S){var C=0;y&&(C|=4),_8(S,p,C,y)}var ym="_reactListening"+Math.random().toString(36).slice(2);function N2(p){if(!p[ym]){p[ym]=!0,dL.forEach(function(S){S!=="selectionchange"&&(woe.has(S)||L2(S,!1,p),L2(S,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[ym]||(y[ym]=!0,L2("selectionchange",!1,y))}}function _8(p,y,S,C){switch(j8(y)){case 2:var E=Koe;break;case 8:E=Qoe;break;default:E=Q2}S=E.bind(null,y,S,p),E=void 0,!nw||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(E=!0),C?E!==void 0?p.addEventListener(y,S,{capture:!0,passive:E}):p.addEventListener(y,S,!0):E!==void 0?p.addEventListener(y,S,{passive:E}):p.addEventListener(y,S,!1)}function V2(p,y,S,C,E){var B=C;if((y&1)===0&&(y&2)===0&&C!==null)e:for(;;){if(C===null)return;var H=C.tag;if(H===3||H===4){var j=C.stateNode.containerInfo;if(j===E)break;if(H===4)for(H=C.return;H!==null;){var Q=H.tag;if((Q===3||Q===4)&&H.stateNode.containerInfo===E)return;H=H.return}for(;j!==null;){if(H=kf(j),H===null)return;if(Q=H.tag,Q===5||Q===6||Q===26||Q===27){C=B=H;continue e}j=j.parentNode}}C=C.return}TL(function(){var ae=B,ve=tw(S),me=[];e:{var se=JL.get(p);if(se!==void 0){var fe=Dy,Ge=p;switch(p){case"keypress":if(Ay(S)===0)break e;case"keydown":case"keyup":fe=gae;break;case"focusin":Ge="focus",fe=sw;break;case"focusout":Ge="blur",fe=sw;break;case"beforeblur":case"afterblur":fe=sw;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=DL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=iae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=xae;break;case jL:case ZL:case KL:fe=sae;break;case QL:fe=bae;break;case"scroll":case"scrollend":fe=rae;break;case"wheel":fe=wae;break;case"copy":case"cut":case"paste":fe=uae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=IL;break;case"toggle":case"beforetoggle":fe=Tae}var nt=(y&4)!==0,tr=!nt&&(p==="scroll"||p==="scrollend"),ne=nt?se!==null?se+"Capture":null:se;nt=[];for(var ee=ae,ie;ee!==null;){var ye=ee;if(ie=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ie===null||ne===null||(ye=lv(ee,ne),ye!=null&&nt.push(Hv(ee,ye,ie))),tr)break;ee=ee.return}0<nt.length&&(se=new fe(se,Ge,null,S,ve),me.push({event:se,listeners:nt}))}}if((y&7)===0){e:{if(se=p==="mouseover"||p==="pointerover",fe=p==="mouseout"||p==="pointerout",se&&S!==ew&&(Ge=S.relatedTarget||S.fromElement)&&(kf(Ge)||Ge[cl]))break e;if((fe||se)&&(se=ve.window===ve?ve:(se=ve.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(Ge=S.relatedTarget||S.toElement,fe=ae,Ge=Ge?kf(Ge):null,Ge!==null&&(tr=a(Ge),nt=Ge.tag,Ge!==tr||nt!==5&&nt!==27&&nt!==6)&&(Ge=null)):(fe=null,Ge=ae),fe!==Ge)){if(nt=DL,ye="onMouseLeave",ne="onMouseEnter",ee="mouse",(p==="pointerout"||p==="pointerover")&&(nt=IL,ye="onPointerLeave",ne="onPointerEnter",ee="pointer"),tr=fe==null?se:sv(fe),ie=Ge==null?se:sv(Ge),se=new nt(ye,ee+"leave",fe,S,ve),se.target=tr,se.relatedTarget=ie,ye=null,kf(ve)===ae&&(nt=new nt(ne,ee+"enter",Ge,S,ve),nt.target=ie,nt.relatedTarget=tr,ye=nt),tr=ye,fe&&Ge)t:{for(nt=Coe,ne=fe,ee=Ge,ie=0,ye=ne;ye;ye=nt(ye))ie++;ye=0;for(var Qe=ee;Qe;Qe=nt(Qe))ye++;for(;0<ie-ye;)ne=nt(ne),ie--;for(;0<ye-ie;)ee=nt(ee),ye--;for(;ie--;){if(ne===ee||ee!==null&&ne===ee.alternate){nt=ne;break t}ne=nt(ne),ee=nt(ee)}nt=null}else nt=null;fe!==null&&b8(me,se,fe,nt,!1),Ge!==null&&tr!==null&&b8(me,tr,Ge,nt,!0)}}e:{if(se=ae?sv(ae):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var zt=VL;else if(LL(se))if(zL)zt=kae;else{zt=Oae;var Ye=Pae}else fe=se.nodeName,!fe||fe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&JS(ae.elementType)&&(zt=VL):zt=Bae;if(zt&&(zt=zt(p,ae))){NL(me,zt,S,ve);break e}Ye&&Ye(p,se,ae),p==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&QS(se,"number",se.value)}switch(Ye=ae?sv(ae):window,p){case"focusin":(LL(Ye)||Ye.contentEditable==="true")&&(Uf=Ye,dw=ae,gv=null);break;case"focusout":gv=dw=Uf=null;break;case"mousedown":vw=!0;break;case"contextmenu":case"mouseup":case"dragend":vw=!1,XL(me,S,ve);break;case"selectionchange":if(Nae)break;case"keydown":case"keyup":XL(me,S,ve)}var Ct;if(uw)e:{switch(p){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else Wf?BL(p,S)&&(Rt="onCompositionEnd"):p==="keydown"&&S.keyCode===229&&(Rt="onCompositionStart");Rt&&(RL&&S.locale!=="ko"&&(Wf||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Wf&&(Ct=AL()):(fl=ve,iw="value"in fl?fl.value:fl.textContent,Wf=!0)),Ye=mm(ae,Rt),0<Ye.length&&(Rt=new EL(Rt,p,null,S,ve),me.push({event:Rt,listeners:Ye}),Ct?Rt.data=Ct:(Ct=kL(S),Ct!==null&&(Rt.data=Ct)))),(Ct=Mae?Dae(p,S):Eae(p,S))&&(Rt=mm(ae,"onBeforeInput"),0<Rt.length&&(Ye=new EL("onBeforeInput","beforeinput",null,S,ve),me.push({event:Ye,listeners:Rt}),Ye.data=Ct)),_oe(me,p,ae,S,ve)}x8(me,y)})}function Hv(p,y,S){return{instance:p,listener:y,currentTarget:S}}function mm(p,y){for(var S=y+"Capture",C=[];p!==null;){var E=p,B=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||B===null||(E=lv(p,S),E!=null&&C.unshift(Hv(p,E,B)),E=lv(p,y),E!=null&&C.push(Hv(p,E,B))),p.tag===3)return C;p=p.return}return[]}function Coe(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function b8(p,y,S,C,E){for(var B=y._reactName,H=[];S!==null&&S!==C;){var j=S,Q=j.alternate,ae=j.stateNode;if(j=j.tag,Q!==null&&Q===C)break;j!==5&&j!==26&&j!==27||ae===null||(Q=ae,E?(ae=lv(S,B),ae!=null&&H.unshift(Hv(S,ae,Q))):E||(ae=lv(S,B),ae!=null&&H.push(Hv(S,ae,Q)))),S=S.return}H.length!==0&&p.push({event:y,listeners:H})}var Toe=/\r\n?/g,Aoe=/\u0000|\uFFFD/g;function S8(p){return(typeof p=="string"?p:""+p).replace(Toe,`
`).replace(Aoe,"")}function w8(p,y){return y=S8(y),S8(p)===y}function er(p,y,S,C,E,B){switch(S){case"children":typeof C=="string"?y==="body"||y==="textarea"&&C===""||Ff(p,C):(typeof C=="number"||typeof C=="bigint")&&y!=="body"&&Ff(p,""+C);break;case"className":Sy(p,"class",C);break;case"tabIndex":Sy(p,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Sy(p,S,C);break;case"style":wL(p,C,B);break;case"data":if(y!=="object"){Sy(p,"data",C);break}case"src":case"href":if(C===""&&(y!=="a"||S!=="href")){p.removeAttribute(S);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){p.removeAttribute(S);break}C=Cy(""+C),p.setAttribute(S,C);break;case"action":case"formAction":if(typeof C=="function"){p.setAttribute(S,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(S==="formAction"?(y!=="input"&&er(p,y,"name",E.name,E,null),er(p,y,"formEncType",E.formEncType,E,null),er(p,y,"formMethod",E.formMethod,E,null),er(p,y,"formTarget",E.formTarget,E,null)):(er(p,y,"encType",E.encType,E,null),er(p,y,"method",E.method,E,null),er(p,y,"target",E.target,E,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){p.removeAttribute(S);break}C=Cy(""+C),p.setAttribute(S,C);break;case"onClick":C!=null&&(p.onclick=Jo);break;case"onScroll":C!=null&&Et("scroll",p);break;case"onScrollEnd":C!=null&&Et("scrollend",p);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(S=C.__html,S!=null){if(E.children!=null)throw Error(n(60));p.innerHTML=S}}break;case"multiple":p.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":p.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){p.removeAttribute("xlink:href");break}S=Cy(""+C),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(S,""+C):p.removeAttribute(S);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(S,""):p.removeAttribute(S);break;case"capture":case"download":C===!0?p.setAttribute(S,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(S,C):p.removeAttribute(S);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?p.setAttribute(S,C):p.removeAttribute(S);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?p.removeAttribute(S):p.setAttribute(S,C);break;case"popover":Et("beforetoggle",p),Et("toggle",p),by(p,"popover",C);break;case"xlinkActuate":Qo(p,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Qo(p,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Qo(p,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Qo(p,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Qo(p,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Qo(p,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Qo(p,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Qo(p,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Qo(p,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":by(p,"is",C);break;case"innerText":case"textContent":break;default:(!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(S=eae.get(S)||S,by(p,S,C))}}function z2(p,y,S,C,E,B){switch(S){case"style":wL(p,C,B);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(S=C.__html,S!=null){if(E.children!=null)throw Error(n(60));p.innerHTML=S}}break;case"children":typeof C=="string"?Ff(p,C):(typeof C=="number"||typeof C=="bigint")&&Ff(p,""+C);break;case"onScroll":C!=null&&Et("scroll",p);break;case"onScrollEnd":C!=null&&Et("scrollend",p);break;case"onClick":C!=null&&(p.onclick=Jo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vL.hasOwnProperty(S))e:{if(S[0]==="o"&&S[1]==="n"&&(E=S.endsWith("Capture"),y=S.slice(2,E?S.length-7:void 0),B=p[Bn]||null,B=B!=null?B[S]:null,typeof B=="function"&&p.removeEventListener(y,B,E),typeof C=="function")){typeof B!="function"&&B!==null&&(S in p?p[S]=null:p.hasAttribute(S)&&p.removeAttribute(S)),p.addEventListener(y,C,E);break e}S in p?p[S]=C:C===!0?p.setAttribute(S,""):by(p,S,C)}}}function Sn(p,y,S){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",p),Et("load",p);var C=!1,E=!1,B;for(B in S)if(S.hasOwnProperty(B)){var H=S[B];if(H!=null)switch(B){case"src":C=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,y));default:er(p,y,B,H,S,null)}}E&&er(p,y,"srcSet",S.srcSet,S,null),C&&er(p,y,"src",S.src,S,null);return;case"input":Et("invalid",p);var j=B=H=E=null,Q=null,ae=null;for(C in S)if(S.hasOwnProperty(C)){var ve=S[C];if(ve!=null)switch(C){case"name":E=ve;break;case"type":H=ve;break;case"checked":Q=ve;break;case"defaultChecked":ae=ve;break;case"value":B=ve;break;case"defaultValue":j=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,y));break;default:er(p,y,C,ve,S,null)}}xL(p,B,j,Q,ae,H,E,!1);return;case"select":Et("invalid",p),C=H=B=null;for(E in S)if(S.hasOwnProperty(E)&&(j=S[E],j!=null))switch(E){case"value":B=j;break;case"defaultValue":H=j;break;case"multiple":C=j;default:er(p,y,E,j,S,null)}y=B,S=H,p.multiple=!!C,y!=null?zf(p,!!C,y,!1):S!=null&&zf(p,!!C,S,!0);return;case"textarea":Et("invalid",p),B=E=C=null;for(H in S)if(S.hasOwnProperty(H)&&(j=S[H],j!=null))switch(H){case"value":C=j;break;case"defaultValue":E=j;break;case"children":B=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:er(p,y,H,j,S,null)}bL(p,C,E,B);return;case"option":for(Q in S)S.hasOwnProperty(Q)&&(C=S[Q],C!=null)&&(Q==="selected"?p.selected=C&&typeof C!="function"&&typeof C!="symbol":er(p,y,Q,C,S,null));return;case"dialog":Et("beforetoggle",p),Et("toggle",p),Et("cancel",p),Et("close",p);break;case"iframe":case"object":Et("load",p);break;case"video":case"audio":for(C=0;C<Fv.length;C++)Et(Fv[C],p);break;case"image":Et("error",p),Et("load",p);break;case"details":Et("toggle",p);break;case"embed":case"source":case"link":Et("error",p),Et("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in S)if(S.hasOwnProperty(ae)&&(C=S[ae],C!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,y));default:er(p,y,ae,C,S,null)}return;default:if(JS(y)){for(ve in S)S.hasOwnProperty(ve)&&(C=S[ve],C!==void 0&&z2(p,y,ve,C,S,void 0));return}}for(j in S)S.hasOwnProperty(j)&&(C=S[j],C!=null&&er(p,y,j,C,S,null))}function Moe(p,y,S,C){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,B=null,H=null,j=null,Q=null,ae=null,ve=null;for(fe in S){var me=S[fe];if(S.hasOwnProperty(fe)&&me!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Q=me;default:C.hasOwnProperty(fe)||er(p,y,fe,null,C,me)}}for(var se in C){var fe=C[se];if(me=S[se],C.hasOwnProperty(se)&&(fe!=null||me!=null))switch(se){case"type":B=fe;break;case"name":E=fe;break;case"checked":ae=fe;break;case"defaultChecked":ve=fe;break;case"value":H=fe;break;case"defaultValue":j=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,y));break;default:fe!==me&&er(p,y,se,fe,C,me)}}KS(p,H,j,Q,ae,ve,B,E);return;case"select":fe=H=j=se=null;for(B in S)if(Q=S[B],S.hasOwnProperty(B)&&Q!=null)switch(B){case"value":break;case"multiple":fe=Q;default:C.hasOwnProperty(B)||er(p,y,B,null,C,Q)}for(E in C)if(B=C[E],Q=S[E],C.hasOwnProperty(E)&&(B!=null||Q!=null))switch(E){case"value":se=B;break;case"defaultValue":j=B;break;case"multiple":H=B;default:B!==Q&&er(p,y,E,B,C,Q)}y=j,S=H,C=fe,se!=null?zf(p,!!S,se,!1):!!C!=!!S&&(y!=null?zf(p,!!S,y,!0):zf(p,!!S,S?[]:"",!1));return;case"textarea":fe=se=null;for(j in S)if(E=S[j],S.hasOwnProperty(j)&&E!=null&&!C.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:er(p,y,j,null,C,E)}for(H in C)if(E=C[H],B=S[H],C.hasOwnProperty(H)&&(E!=null||B!=null))switch(H){case"value":se=E;break;case"defaultValue":fe=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==B&&er(p,y,H,E,C,B)}_L(p,se,fe);return;case"option":for(var Ge in S)se=S[Ge],S.hasOwnProperty(Ge)&&se!=null&&!C.hasOwnProperty(Ge)&&(Ge==="selected"?p.selected=!1:er(p,y,Ge,null,C,se));for(Q in C)se=C[Q],fe=S[Q],C.hasOwnProperty(Q)&&se!==fe&&(se!=null||fe!=null)&&(Q==="selected"?p.selected=se&&typeof se!="function"&&typeof se!="symbol":er(p,y,Q,se,C,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in S)se=S[nt],S.hasOwnProperty(nt)&&se!=null&&!C.hasOwnProperty(nt)&&er(p,y,nt,null,C,se);for(ae in C)if(se=C[ae],fe=S[ae],C.hasOwnProperty(ae)&&se!==fe&&(se!=null||fe!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,y));break;default:er(p,y,ae,se,C,fe)}return;default:if(JS(y)){for(var tr in S)se=S[tr],S.hasOwnProperty(tr)&&se!==void 0&&!C.hasOwnProperty(tr)&&z2(p,y,tr,void 0,C,se);for(ve in C)se=C[ve],fe=S[ve],!C.hasOwnProperty(ve)||se===fe||se===void 0&&fe===void 0||z2(p,y,ve,se,C,fe);return}}for(var ne in S)se=S[ne],S.hasOwnProperty(ne)&&se!=null&&!C.hasOwnProperty(ne)&&er(p,y,ne,null,C,se);for(me in C)se=C[me],fe=S[me],!C.hasOwnProperty(me)||se===fe||se==null&&fe==null||er(p,y,me,se,C,fe)}function C8(p){switch(p){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Doe(){if(typeof performance.getEntriesByType=="function"){for(var p=0,y=0,S=performance.getEntriesByType("resource"),C=0;C<S.length;C++){var E=S[C],B=E.transferSize,H=E.initiatorType,j=E.duration;if(B&&j&&C8(H)){for(H=0,j=E.responseEnd,C+=1;C<S.length;C++){var Q=S[C],ae=Q.startTime;if(ae>j)break;var ve=Q.transferSize,me=Q.initiatorType;ve&&C8(me)&&(Q=Q.responseEnd,H+=ve*(Q<j?1:(j-ae)/(Q-ae)))}if(--C,y+=8*(B+H)/(E.duration/1e3),p++,10<p)break}}if(0<p)return y/p/1e6}return navigator.connection&&(p=navigator.connection.downlink,typeof p=="number")?p:5}var F2=null,H2=null;function xm(p){return p.nodeType===9?p:p.ownerDocument}function T8(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A8(p,y){if(p===0)switch(y){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&y==="foreignObject"?0:p}function G2(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.children=="bigint"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var W2=null;function Eoe(){var p=window.event;return p&&p.type==="popstate"?p===W2?!1:(W2=p,!0):(W2=null,!1)}var M8=typeof setTimeout=="function"?setTimeout:void 0,Ioe=typeof clearTimeout=="function"?clearTimeout:void 0,D8=typeof Promise=="function"?Promise:void 0,Roe=typeof queueMicrotask=="function"?queueMicrotask:typeof D8<"u"?function(p){return D8.resolve(null).then(p).catch(Poe)}:M8;function Poe(p){setTimeout(function(){throw p})}function Dl(p){return p==="head"}function E8(p,y){var S=y,C=0;do{var E=S.nextSibling;if(p.removeChild(S),E&&E.nodeType===8)if(S=E.data,S==="/$"||S==="/&"){if(C===0){p.removeChild(E),yh(y);return}C--}else if(S==="$"||S==="$?"||S==="$~"||S==="$!"||S==="&")C++;else if(S==="html")Gv(p.ownerDocument.documentElement);else if(S==="head"){S=p.ownerDocument.head,Gv(S);for(var B=S.firstChild;B;){var H=B.nextSibling,j=B.nodeName;B[ov]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&B.rel.toLowerCase()==="stylesheet"||S.removeChild(B),B=H}}else S==="body"&&Gv(p.ownerDocument.body);S=E}while(S);yh(y)}function I8(p,y){var S=p;p=0;do{var C=S.nextSibling;if(S.nodeType===1?y?(S._stashedDisplay=S.style.display,S.style.display="none"):(S.style.display=S._stashedDisplay||"",S.getAttribute("style")===""&&S.removeAttribute("style")):S.nodeType===3&&(y?(S._stashedText=S.nodeValue,S.nodeValue=""):S.nodeValue=S._stashedText||""),C&&C.nodeType===8)if(S=C.data,S==="/$"){if(p===0)break;p--}else S!=="$"&&S!=="$?"&&S!=="$~"&&S!=="$!"||p++;S=C}while(S)}function U2(p){var y=p.firstChild;for(y&&y.nodeType===10&&(y=y.nextSibling);y;){var S=y;switch(y=y.nextSibling,S.nodeName){case"HTML":case"HEAD":case"BODY":U2(S),jS(S);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(S.rel.toLowerCase()==="stylesheet")continue}p.removeChild(S)}}function Ooe(p,y,S,C){for(;p.nodeType===1;){var E=S;if(p.nodeName.toLowerCase()!==y.toLowerCase()){if(!C&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(C){if(!p[ov])switch(y){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(B=p.getAttribute("rel"),B==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(B!==E.rel||p.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||p.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||p.getAttribute("title")!==(E.title==null?null:E.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(B=p.getAttribute("src"),(B!==(E.src==null?null:E.src)||p.getAttribute("type")!==(E.type==null?null:E.type)||p.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&B&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(y==="input"&&p.type==="hidden"){var B=E.name==null?null:""+E.name;if(E.type==="hidden"&&p.getAttribute("name")===B)return p}else return p;if(p=ta(p.nextSibling),p===null)break}return null}function Boe(p,y,S){if(y==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!S||(p=ta(p.nextSibling),p===null))return null;return p}function R8(p,y){for(;p.nodeType!==8;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!y||(p=ta(p.nextSibling),p===null))return null;return p}function q2(p){return p.data==="$?"||p.data==="$~"}function Y2(p){return p.data==="$!"||p.data==="$?"&&p.ownerDocument.readyState!=="loading"}function koe(p,y){var S=p.ownerDocument;if(p.data==="$~")p._reactRetry=y;else if(p.data!=="$?"||S.readyState!=="loading")y();else{var C=function(){y(),S.removeEventListener("DOMContentLoaded",C)};S.addEventListener("DOMContentLoaded",C),p._reactRetry=C}}function ta(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"||y==="F!"||y==="F")break;if(y==="/$"||y==="/&")return null}}return p}var X2=null;function P8(p){p=p.nextSibling;for(var y=0;p;){if(p.nodeType===8){var S=p.data;if(S==="/$"||S==="/&"){if(y===0)return ta(p.nextSibling);y--}else S!=="$"&&S!=="$!"&&S!=="$?"&&S!=="$~"&&S!=="&"||y++}p=p.nextSibling}return null}function O8(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var S=p.data;if(S==="$"||S==="$!"||S==="$?"||S==="$~"||S==="&"){if(y===0)return p;y--}else S!=="/$"&&S!=="/&"||y++}p=p.previousSibling}return null}function B8(p,y,S){switch(y=xm(S),p){case"html":if(p=y.documentElement,!p)throw Error(n(452));return p;case"head":if(p=y.head,!p)throw Error(n(453));return p;case"body":if(p=y.body,!p)throw Error(n(454));return p;default:throw Error(n(451))}}function Gv(p){for(var y=p.attributes;y.length;)p.removeAttributeNode(y[0]);jS(p)}var ra=new Map,k8=new Set;function _m(p){return typeof p.getRootNode=="function"?p.getRootNode():p.nodeType===9?p:p.ownerDocument}var ps=G.d;G.d={f:Loe,r:Noe,D:Voe,C:zoe,L:Foe,m:Hoe,X:Woe,S:Goe,M:Uoe};function Loe(){var p=ps.f(),y=fm();return p||y}function Noe(p){var y=Lf(p);y!==null&&y.tag===5&&y.type==="form"?Q5(y):ps.r(p)}var vh=typeof document>"u"?null:document;function L8(p,y,S){var C=vh;if(C&&typeof y=="string"&&y){var E=$i(y);E='link[rel="'+p+'"][href="'+E+'"]',typeof S=="string"&&(E+='[crossorigin="'+S+'"]'),k8.has(E)||(k8.add(E),p={rel:p,crossOrigin:S,href:y},C.querySelector(E)===null&&(y=C.createElement("link"),Sn(y,"link",p),on(y),C.head.appendChild(y)))}}function Voe(p){ps.D(p),L8("dns-prefetch",p,null)}function zoe(p,y){ps.C(p,y),L8("preconnect",p,y)}function Foe(p,y,S){ps.L(p,y,S);var C=vh;if(C&&p&&y){var E='link[rel="preload"][as="'+$i(y)+'"]';y==="image"&&S&&S.imageSrcSet?(E+='[imagesrcset="'+$i(S.imageSrcSet)+'"]',typeof S.imageSizes=="string"&&(E+='[imagesizes="'+$i(S.imageSizes)+'"]')):E+='[href="'+$i(p)+'"]';var B=E;switch(y){case"style":B=ph(p);break;case"script":B=gh(p)}ra.has(B)||(p=f({rel:"preload",href:y==="image"&&S&&S.imageSrcSet?void 0:p,as:y},S),ra.set(B,p),C.querySelector(E)!==null||y==="style"&&C.querySelector(Wv(B))||y==="script"&&C.querySelector(Uv(B))||(y=C.createElement("link"),Sn(y,"link",p),on(y),C.head.appendChild(y)))}}function Hoe(p,y){ps.m(p,y);var S=vh;if(S&&p){var C=y&&typeof y.as=="string"?y.as:"script",E='link[rel="modulepreload"][as="'+$i(C)+'"][href="'+$i(p)+'"]',B=E;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=gh(p)}if(!ra.has(B)&&(p=f({rel:"modulepreload",href:p},y),ra.set(B,p),S.querySelector(E)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(S.querySelector(Uv(B)))return}C=S.createElement("link"),Sn(C,"link",p),on(C),S.head.appendChild(C)}}}function Goe(p,y,S){ps.S(p,y,S);var C=vh;if(C&&p){var E=Nf(C).hoistableStyles,B=ph(p);y=y||"default";var H=E.get(B);if(!H){var j={loading:0,preload:null};if(H=C.querySelector(Wv(B)))j.loading=5;else{p=f({rel:"stylesheet",href:p,"data-precedence":y},S),(S=ra.get(B))&&$2(p,S);var Q=H=C.createElement("link");on(Q),Sn(Q,"link",p),Q._p=new Promise(function(ae,ve){Q.onload=ae,Q.onerror=ve}),Q.addEventListener("load",function(){j.loading|=1}),Q.addEventListener("error",function(){j.loading|=2}),j.loading|=4,bm(H,y,C)}H={type:"stylesheet",instance:H,count:1,state:j},E.set(B,H)}}}function Woe(p,y){ps.X(p,y);var S=vh;if(S&&p){var C=Nf(S).hoistableScripts,E=gh(p),B=C.get(E);B||(B=S.querySelector(Uv(E)),B||(p=f({src:p,async:!0},y),(y=ra.get(E))&&j2(p,y),B=S.createElement("script"),on(B),Sn(B,"link",p),S.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},C.set(E,B))}}function Uoe(p,y){ps.M(p,y);var S=vh;if(S&&p){var C=Nf(S).hoistableScripts,E=gh(p),B=C.get(E);B||(B=S.querySelector(Uv(E)),B||(p=f({src:p,async:!0,type:"module"},y),(y=ra.get(E))&&j2(p,y),B=S.createElement("script"),on(B),Sn(B,"link",p),S.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},C.set(E,B))}}function N8(p,y,S,C){var E=(E=ce.current)?_m(E):null;if(!E)throw Error(n(446));switch(p){case"meta":case"title":return null;case"style":return typeof S.precedence=="string"&&typeof S.href=="string"?(y=ph(S.href),S=Nf(E).hoistableStyles,C=S.get(y),C||(C={type:"style",instance:null,count:0,state:null},S.set(y,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(S.rel==="stylesheet"&&typeof S.href=="string"&&typeof S.precedence=="string"){p=ph(S.href);var B=Nf(E).hoistableStyles,H=B.get(p);if(H||(E=E.ownerDocument||E,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(p,H),(B=E.querySelector(Wv(p)))&&!B._p&&(H.instance=B,H.state.loading=5),ra.has(p)||(S={rel:"preload",as:"style",href:S.href,crossOrigin:S.crossOrigin,integrity:S.integrity,media:S.media,hrefLang:S.hrefLang,referrerPolicy:S.referrerPolicy},ra.set(p,S),B||qoe(E,p,S,H.state))),y&&C===null)throw Error(n(528,""));return H}if(y&&C!==null)throw Error(n(529,""));return null;case"script":return y=S.async,S=S.src,typeof S=="string"&&y&&typeof y!="function"&&typeof y!="symbol"?(y=gh(S),S=Nf(E).hoistableScripts,C=S.get(y),C||(C={type:"script",instance:null,count:0,state:null},S.set(y,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,p))}}function ph(p){return'href="'+$i(p)+'"'}function Wv(p){return'link[rel="stylesheet"]['+p+"]"}function V8(p){return f({},p,{"data-precedence":p.precedence,precedence:null})}function qoe(p,y,S,C){p.querySelector('link[rel="preload"][as="style"]['+y+"]")?C.loading=1:(y=p.createElement("link"),C.preload=y,y.addEventListener("load",function(){return C.loading|=1}),y.addEventListener("error",function(){return C.loading|=2}),Sn(y,"link",S),on(y),p.head.appendChild(y))}function gh(p){return'[src="'+$i(p)+'"]'}function Uv(p){return"script[async]"+p}function z8(p,y,S){if(y.count++,y.instance===null)switch(y.type){case"style":var C=p.querySelector('style[data-href~="'+$i(S.href)+'"]');if(C)return y.instance=C,on(C),C;var E=f({},S,{"data-href":S.href,"data-precedence":S.precedence,href:null,precedence:null});return C=(p.ownerDocument||p).createElement("style"),on(C),Sn(C,"style",E),bm(C,S.precedence,p),y.instance=C;case"stylesheet":E=ph(S.href);var B=p.querySelector(Wv(E));if(B)return y.state.loading|=4,y.instance=B,on(B),B;C=V8(S),(E=ra.get(E))&&$2(C,E),B=(p.ownerDocument||p).createElement("link"),on(B);var H=B;return H._p=new Promise(function(j,Q){H.onload=j,H.onerror=Q}),Sn(B,"link",C),y.state.loading|=4,bm(B,S.precedence,p),y.instance=B;case"script":return B=gh(S.src),(E=p.querySelector(Uv(B)))?(y.instance=E,on(E),E):(C=S,(E=ra.get(B))&&(C=f({},S),j2(C,E)),p=p.ownerDocument||p,E=p.createElement("script"),on(E),Sn(E,"link",C),p.head.appendChild(E),y.instance=E);case"void":return null;default:throw Error(n(443,y.type))}else y.type==="stylesheet"&&(y.state.loading&4)===0&&(C=y.instance,y.state.loading|=4,bm(C,S.precedence,p));return y.instance}function bm(p,y,S){for(var C=S.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=C.length?C[C.length-1]:null,B=E,H=0;H<C.length;H++){var j=C[H];if(j.dataset.precedence===y)B=j;else if(B!==E)break}B?B.parentNode.insertBefore(p,B.nextSibling):(y=S.nodeType===9?S.head:S,y.insertBefore(p,y.firstChild))}function $2(p,y){p.crossOrigin==null&&(p.crossOrigin=y.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=y.referrerPolicy),p.title==null&&(p.title=y.title)}function j2(p,y){p.crossOrigin==null&&(p.crossOrigin=y.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=y.referrerPolicy),p.integrity==null&&(p.integrity=y.integrity)}var Sm=null;function F8(p,y,S){if(Sm===null){var C=new Map,E=Sm=new Map;E.set(S,C)}else E=Sm,C=E.get(S),C||(C=new Map,E.set(S,C));if(C.has(p))return C;for(C.set(p,null),S=S.getElementsByTagName(p),E=0;E<S.length;E++){var B=S[E];if(!(B[ov]||B[$r]||p==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var H=B.getAttribute(y)||"";H=p+H;var j=C.get(H);j?j.push(B):C.set(H,[B])}}return C}function H8(p,y,S){p=p.ownerDocument||p,p.head.insertBefore(S,y==="title"?p.querySelector("head > title"):null)}function Yoe(p,y,S){if(S===1||y.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof y.precedence!="string"||typeof y.href!="string"||y.href==="")break;return!0;case"link":if(typeof y.rel!="string"||typeof y.href!="string"||y.href===""||y.onLoad||y.onError)break;return y.rel==="stylesheet"?(p=y.disabled,typeof y.precedence=="string"&&p==null):!0;case"script":if(y.async&&typeof y.async!="function"&&typeof y.async!="symbol"&&!y.onLoad&&!y.onError&&y.src&&typeof y.src=="string")return!0}return!1}function G8(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}function Xoe(p,y,S,C){if(S.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(S.state.loading&4)===0){if(S.instance===null){var E=ph(C.href),B=y.querySelector(Wv(E));if(B){y=B._p,y!==null&&typeof y=="object"&&typeof y.then=="function"&&(p.count++,p=wm.bind(p),y.then(p,p)),S.state.loading|=4,S.instance=B,on(B);return}B=y.ownerDocument||y,C=V8(C),(E=ra.get(E))&&$2(C,E),B=B.createElement("link"),on(B);var H=B;H._p=new Promise(function(j,Q){H.onload=j,H.onerror=Q}),Sn(B,"link",C),S.instance=B}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(S,y),(y=S.state.preload)&&(S.state.loading&3)===0&&(p.count++,S=wm.bind(p),y.addEventListener("load",S),y.addEventListener("error",S))}}var Z2=0;function $oe(p,y){return p.stylesheets&&p.count===0&&Tm(p,p.stylesheets),0<p.count||0<p.imgCount?function(S){var C=setTimeout(function(){if(p.stylesheets&&Tm(p,p.stylesheets),p.unsuspend){var B=p.unsuspend;p.unsuspend=null,B()}},6e4+y);0<p.imgBytes&&Z2===0&&(Z2=62500*Doe());var E=setTimeout(function(){if(p.waitingForImages=!1,p.count===0&&(p.stylesheets&&Tm(p,p.stylesheets),p.unsuspend)){var B=p.unsuspend;p.unsuspend=null,B()}},(p.imgBytes>Z2?50:800)+y);return p.unsuspend=S,function(){p.unsuspend=null,clearTimeout(C),clearTimeout(E)}}:null}function wm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var Cm=null;function Tm(p,y){p.stylesheets=null,p.unsuspend!==null&&(p.count++,Cm=new Map,y.forEach(joe,p),Cm=null,wm.call(p))}function joe(p,y){if(!(y.state.loading&4)){var S=Cm.get(p);if(S)var C=S.get(null);else{S=new Map,Cm.set(p,S);for(var E=p.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<E.length;B++){var H=E[B];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(S.set(H.dataset.precedence,H),C=H)}C&&S.set(null,C)}E=y.instance,H=E.getAttribute("data-precedence"),B=S.get(H)||C,B===C&&S.set(null,E),S.set(H,E),this.count++,C=wm.bind(this),E.addEventListener("load",C),E.addEventListener("error",C),B?B.parentNode.insertBefore(E,B.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(E,p.firstChild)),y.state.loading|=4}}var qv={$$typeof:b,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Zoe(p,y,S,C,E,B,H,j,Q){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=C,this.onUncaughtError=E,this.onCaughtError=B,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function W8(p,y,S,C,E,B,H,j,Q,ae,ve,me){return p=new Zoe(p,y,S,H,Q,ae,ve,me,j),y=1,B===!0&&(y|=24),B=Si(3,null,null,y),p.current=B,B.stateNode=p,y=Ew(),y.refCount++,p.pooledCache=y,y.refCount++,B.memoizedState={element:C,isDehydrated:S,cache:y},Ow(B),p}function U8(p){return p?(p=Xf,p):Xf}function q8(p,y,S,C,E,B){E=U8(E),C.context===null?C.context=E:C.pendingContext=E,C=yl(y),C.payload={element:S},B=B===void 0?null:B,B!==null&&(C.callback=B),S=ml(p,C,y),S!==null&&(ui(S,p,y),wv(S,p,y))}function Y8(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<y?S:y}}function K2(p,y){Y8(p,y),(p=p.alternate)&&Y8(p,y)}function X8(p){if(p.tag===13||p.tag===31){var y=zu(p,67108864);y!==null&&ui(y,p,67108864),K2(p,67108864)}}function $8(p){if(p.tag===13||p.tag===31){var y=Mi();y=Ko(y);var S=zu(p,y);S!==null&&ui(S,p,y),K2(p,y)}}var Am=!0;function Koe(p,y,S,C){var E=L.T;L.T=null;var B=G.p;try{G.p=2,Q2(p,y,S,C)}finally{G.p=B,L.T=E}}function Qoe(p,y,S,C){var E=L.T;L.T=null;var B=G.p;try{G.p=8,Q2(p,y,S,C)}finally{G.p=B,L.T=E}}function Q2(p,y,S,C){if(Am){var E=J2(C);if(E===null)V2(p,y,C,Mm,S),Z8(p,C);else if(ese(E,p,y,S,C))C.stopPropagation();else if(Z8(p,C),y&4&&-1<Joe.indexOf(p)){for(;E!==null;){var B=Lf(E);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var H=Gn(B.pendingLanes);if(H!==0){var j=B;for(j.pendingLanes|=2,j.entangledLanes|=2;H;){var Q=1<<31-kr(H);j.entanglements[1]|=Q,H&=~Q}ho(B),(Ht&6)===0&&(um=Lt()+500,zv(0))}}break;case 31:case 13:j=zu(B,2),j!==null&&ui(j,B,2),fm(),K2(B,2)}if(B=J2(C),B===null&&V2(p,y,C,Mm,S),B===E)break;E=B}E!==null&&C.stopPropagation()}else V2(p,y,C,null,S)}}function J2(p){return p=tw(p),eC(p)}var Mm=null;function eC(p){if(Mm=null,p=kf(p),p!==null){var y=a(p);if(y===null)p=null;else{var S=y.tag;if(S===13){if(p=o(y),p!==null)return p;p=null}else if(S===31){if(p=s(y),p!==null)return p;p=null}else if(S===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null)}}return Mm=p,null}function j8(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case Yr:return 2;case xr:return 8;case _r:case xi:return 32;case ei:return 268435456;default:return 32}default:return 32}}var tC=!1,El=null,Il=null,Rl=null,Yv=new Map,Xv=new Map,Pl=[],Joe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z8(p,y){switch(p){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":Yv.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xv.delete(y.pointerId)}}function $v(p,y,S,C,E,B){return p===null||p.nativeEvent!==B?(p={blockedOn:y,domEventName:S,eventSystemFlags:C,nativeEvent:B,targetContainers:[E]},y!==null&&(y=Lf(y),y!==null&&X8(y)),p):(p.eventSystemFlags|=C,y=p.targetContainers,E!==null&&y.indexOf(E)===-1&&y.push(E),p)}function ese(p,y,S,C,E){switch(y){case"focusin":return El=$v(El,p,y,S,C,E),!0;case"dragenter":return Il=$v(Il,p,y,S,C,E),!0;case"mouseover":return Rl=$v(Rl,p,y,S,C,E),!0;case"pointerover":var B=E.pointerId;return Yv.set(B,$v(Yv.get(B)||null,p,y,S,C,E)),!0;case"gotpointercapture":return B=E.pointerId,Xv.set(B,$v(Xv.get(B)||null,p,y,S,C,E)),!0}return!1}function K8(p){var y=kf(p.target);if(y!==null){var S=a(y);if(S!==null){if(y=S.tag,y===13){if(y=o(S),y!==null){p.blockedOn=y,_y(p.priority,function(){$8(S)});return}}else if(y===31){if(y=s(S),y!==null){p.blockedOn=y,_y(p.priority,function(){$8(S)});return}}else if(y===3&&S.stateNode.current.memoizedState.isDehydrated){p.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Dm(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var S=J2(p.nativeEvent);if(S===null){S=p.nativeEvent;var C=new S.constructor(S.type,S);ew=C,S.target.dispatchEvent(C),ew=null}else return y=Lf(S),y!==null&&X8(y),p.blockedOn=S,!1;y.shift()}return!0}function Q8(p,y,S){Dm(p)&&S.delete(y)}function tse(){tC=!1,El!==null&&Dm(El)&&(El=null),Il!==null&&Dm(Il)&&(Il=null),Rl!==null&&Dm(Rl)&&(Rl=null),Yv.forEach(Q8),Xv.forEach(Q8)}function Em(p,y){p.blockedOn===y&&(p.blockedOn=null,tC||(tC=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tse)))}var Im=null;function J8(p){Im!==p&&(Im=p,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Im===p&&(Im=null);for(var y=0;y<p.length;y+=3){var S=p[y],C=p[y+1],E=p[y+2];if(typeof C!="function"){if(eC(C||S)===null)continue;break}var B=Lf(S);B!==null&&(p.splice(y,3),y-=3,Jw(B,{pending:!0,data:E,method:S.method,action:C},C,E))}}))}function yh(p){function y(Q){return Em(Q,p)}El!==null&&Em(El,p),Il!==null&&Em(Il,p),Rl!==null&&Em(Rl,p),Yv.forEach(y),Xv.forEach(y);for(var S=0;S<Pl.length;S++){var C=Pl[S];C.blockedOn===p&&(C.blockedOn=null)}for(;0<Pl.length&&(S=Pl[0],S.blockedOn===null);)K8(S),S.blockedOn===null&&Pl.shift();if(S=(p.ownerDocument||p).$$reactFormReplay,S!=null)for(C=0;C<S.length;C+=3){var E=S[C],B=S[C+1],H=E[Bn]||null;if(typeof B=="function")H||J8(S);else if(H){var j=null;if(B&&B.hasAttribute("formAction")){if(E=B,H=B[Bn]||null)j=H.formAction;else if(eC(E)!==null)continue}else j=H.action;typeof j=="function"?S[C+1]=j:(S.splice(C,3),C-=3),J8(S)}}}function eN(){function p(B){B.canIntercept&&B.info==="react-transition"&&B.intercept({handler:function(){return new Promise(function(H){return E=H})},focusReset:"manual",scroll:"manual"})}function y(){E!==null&&(E(),E=null),C||setTimeout(S,20)}function S(){if(!C&&!navigation.transition){var B=navigation.currentEntry;B&&B.url!=null&&navigation.navigate(B.url,{state:B.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,E=null;return navigation.addEventListener("navigate",p),navigation.addEventListener("navigatesuccess",y),navigation.addEventListener("navigateerror",y),setTimeout(S,100),function(){C=!0,navigation.removeEventListener("navigate",p),navigation.removeEventListener("navigatesuccess",y),navigation.removeEventListener("navigateerror",y),E!==null&&(E(),E=null)}}}function rC(p){this._internalRoot=p}Rm.prototype.render=rC.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(n(409));var S=y.current,C=Mi();q8(S,C,p,y,null,null)},Rm.prototype.unmount=rC.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;q8(p.current,2,null,p,null,null),fm(),y[cl]=null}};function Rm(p){this._internalRoot=p}Rm.prototype.unstable_scheduleHydration=function(p){if(p){var y=xy();p={blockedOn:null,target:p,priority:y};for(var S=0;S<Pl.length&&y!==0&&y<Pl[S].priority;S++);Pl.splice(S,0,p),S===0&&K8(p)}};var tN=t.version;if(tN!=="19.2.4")throw Error(n(527,tN,"19.2.4"));G.findDOMNode=function(p){var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=u(y),p=p!==null?c(p):null,p=p===null?null:p.stateNode,p};var rse={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{nr=Pm.inject(rse),Nt=Pm}catch{}}return Zv.createRoot=function(p,y){if(!i(p))throw Error(n(299));var S=!1,C="",E=l4,B=u4,H=c4;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(C=y.identifierPrefix),y.onUncaughtError!==void 0&&(E=y.onUncaughtError),y.onCaughtError!==void 0&&(B=y.onCaughtError),y.onRecoverableError!==void 0&&(H=y.onRecoverableError)),y=W8(p,1,!1,null,null,S,C,null,E,B,H,eN),p[cl]=y.current,N2(p),new rC(y)},Zv.hydrateRoot=function(p,y,S){if(!i(p))throw Error(n(299));var C=!1,E="",B=l4,H=u4,j=c4,Q=null;return S!=null&&(S.unstable_strictMode===!0&&(C=!0),S.identifierPrefix!==void 0&&(E=S.identifierPrefix),S.onUncaughtError!==void 0&&(B=S.onUncaughtError),S.onCaughtError!==void 0&&(H=S.onCaughtError),S.onRecoverableError!==void 0&&(j=S.onRecoverableError),S.formState!==void 0&&(Q=S.formState)),y=W8(p,1,!0,y,S??null,C,E,Q,B,H,j,eN),y.context=U8(null),S=y.current,C=Mi(),C=Ko(C),E=yl(C),E.callback=null,ml(S,E,C),S=C,y.current.lanes=S,mn(y,S),ho(y),p[cl]=y.current,N2(p),new Rm(y)},Zv.version="19.2.4",Zv}var fN;function fse(){if(fN)return iC.exports;fN=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),iC.exports=cse(),iC.exports}var hse=fse(),Ue=rn();const dse=MO(Ue);var uC={},Di={},cC={exports:{}};var hN;function Ma(){return hN||(hN=1,(function(r){(function(){var t={}.hasOwnProperty;function e(){for(var a="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(a=i(a,n(s)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var s in a)t.call(a,s)&&a[s]&&(o=i(o,s));return o}function i(a,o){return o?a?a+" "+o:a+o:a}r.exports?(e.default=e,r.exports=e):window.classNames=e})()})(cC)),cC.exports}var fC,dN;function z$(){if(dN)return fC;dN=1;var r=typeof Vc=="object"&&Vc&&Vc.Object===Object&&Vc;return fC=r,fC}var hC,vN;function io(){if(vN)return hC;vN=1;var r=z$(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=r||t||Function("return this")();return hC=e,hC}var dC,pN;function kd(){if(pN)return dC;pN=1;var r=io(),t=r.Symbol;return dC=t,dC}var vC,gN;function vse(){if(gN)return vC;gN=1;var r=kd(),t=Object.prototype,e=t.hasOwnProperty,n=t.toString,i=r?r.toStringTag:void 0;function a(o){var s=e.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=n.call(o);return u&&(s?o[i]=l:delete o[i]),c}return vC=a,vC}var pC,yN;function pse(){if(yN)return pC;yN=1;var r=Object.prototype,t=r.toString;function e(n){return t.call(n)}return pC=e,pC}var gC,mN;function Vg(){if(mN)return gC;mN=1;var r=kd(),t=vse(),e=pse(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?t(s):e(s)}return gC=o,gC}var yC,xN;function Yo(){if(xN)return yC;xN=1;function r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return yC=r,yC}var mC,_N;function F$(){if(_N)return mC;_N=1;var r=Vg(),t=Yo(),e="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=r(s);return l==n||l==i||l==e||l==a}return mC=o,mC}var xC,bN;function gse(){if(bN)return xC;bN=1;var r=io(),t=r["__core-js_shared__"];return xC=t,xC}var _C,SN;function yse(){if(SN)return _C;SN=1;var r=gse(),t=(function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function e(n){return!!t&&t in n}return _C=e,_C}var bC,wN;function H$(){if(wN)return bC;wN=1;var r=Function.prototype,t=r.toString;function e(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return bC=e,bC}var SC,CN;function mse(){if(CN)return SC;CN=1;var r=F$(),t=yse(),e=Yo(),n=H$(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!e(d)||t(d))return!1;var h=r(d)?c:a;return h.test(n(d))}return SC=f,SC}var wC,TN;function xse(){if(TN)return wC;TN=1;function r(t,e){return t?.[e]}return wC=r,wC}var CC,AN;function xf(){if(AN)return CC;AN=1;var r=mse(),t=xse();function e(n,i){var a=t(n,i);return r(a)?a:void 0}return CC=e,CC}var TC,MN;function G$(){if(MN)return TC;MN=1;var r=xf(),t=(function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch{}})();return TC=t,TC}var AC,DN;function DO(){if(DN)return AC;DN=1;var r=G$();function t(e,n,i){n=="__proto__"&&r?r(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}return AC=t,AC}var MC,EN;function _se(){if(EN)return MC;EN=1;function r(t,e,n,i){for(var a=-1,o=t==null?0:t.length;++a<o;){var s=t[a];e(i,s,n(s),t)}return i}return MC=r,MC}var DC,IN;function bse(){if(IN)return DC;IN=1;function r(t){return function(e,n,i){for(var a=-1,o=Object(e),s=i(e),l=s.length;l--;){var u=s[t?l:++a];if(n(o[u],u,o)===!1)break}return e}}return DC=r,DC}var EC,RN;function Sse(){if(RN)return EC;RN=1;var r=bse(),t=r();return EC=t,EC}var IC,PN;function wse(){if(PN)return IC;PN=1;function r(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}return IC=r,IC}var RC,ON;function _f(){if(ON)return RC;ON=1;function r(t){return t!=null&&typeof t=="object"}return RC=r,RC}var PC,BN;function Cse(){if(BN)return PC;BN=1;var r=Vg(),t=_f(),e="[object Arguments]";function n(i){return t(i)&&r(i)==e}return PC=n,PC}var OC,kN;function Lb(){if(kN)return OC;kN=1;var r=Cse(),t=_f(),e=Object.prototype,n=e.hasOwnProperty,i=e.propertyIsEnumerable,a=r((function(){return arguments})())?r:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return OC=a,OC}var BC,LN;function Da(){if(LN)return BC;LN=1;var r=Array.isArray;return BC=r,BC}var a0={exports:{}},kC,NN;function Tse(){if(NN)return kC;NN=1;function r(){return!1}return kC=r,kC}a0.exports;var VN;function Nb(){return VN||(VN=1,(function(r,t){var e=io(),n=Tse(),i=t&&!t.nodeType&&t,a=i&&!0&&r&&!r.nodeType&&r,o=a&&a.exports===i,s=o?e.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;r.exports=u})(a0,a0.exports)),a0.exports}var LC,zN;function EO(){if(zN)return LC;zN=1;var r=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return LC=e,LC}var NC,FN;function IO(){if(FN)return NC;FN=1;var r=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}return NC=t,NC}var VC,HN;function Ase(){if(HN)return VC;HN=1;var r=Vg(),t=IO(),e=_f(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",v="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",x="[object DataView]",_="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",M="[object Uint8Array]",D="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",R={};R[_]=R[b]=R[w]=R[T]=R[A]=R[M]=R[D]=R[P]=R[I]=!0,R[n]=R[i]=R[m]=R[a]=R[x]=R[o]=R[s]=R[l]=R[u]=R[c]=R[f]=R[d]=R[h]=R[v]=R[g]=!1;function k(O){return e(O)&&t(O.length)&&!!R[r(O)]}return VC=k,VC}var zC,GN;function RO(){if(GN)return zC;GN=1;function r(t){return function(e){return t(e)}}return zC=r,zC}var o0={exports:{}};o0.exports;var WN;function PO(){return WN||(WN=1,(function(r,t){var e=z$(),n=t&&!t.nodeType&&t,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,o=a&&e.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();r.exports=s})(o0,o0.exports)),o0.exports}var FC,UN;function OO(){if(UN)return FC;UN=1;var r=Ase(),t=RO(),e=PO(),n=e&&e.isTypedArray,i=n?t(n):r;return FC=i,FC}var HC,qN;function W$(){if(qN)return HC;qN=1;var r=wse(),t=Lb(),e=Da(),n=Nb(),i=EO(),a=OO(),o=Object.prototype,s=o.hasOwnProperty;function l(u,c){var f=e(u),d=!f&&t(u),h=!f&&!d&&n(u),v=!f&&!d&&!h&&a(u),g=f||d||h||v,m=g?r(u.length,String):[],x=m.length;for(var _ in u)(c||s.call(u,_))&&!(g&&(_=="length"||h&&(_=="offset"||_=="parent")||v&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,x)))&&m.push(_);return m}return HC=l,HC}var GC,YN;function Vb(){if(YN)return GC;YN=1;var r=Object.prototype;function t(e){var n=e&&e.constructor,i=typeof n=="function"&&n.prototype||r;return e===i}return GC=t,GC}var WC,XN;function U$(){if(XN)return WC;XN=1;function r(t,e){return function(n){return t(e(n))}}return WC=r,WC}var UC,$N;function Mse(){if($N)return UC;$N=1;var r=U$(),t=r(Object.keys,Object);return UC=t,UC}var qC,jN;function q$(){if(jN)return qC;jN=1;var r=Vb(),t=Mse(),e=Object.prototype,n=e.hasOwnProperty;function i(a){if(!r(a))return t(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return qC=i,qC}var YC,ZN;function zb(){if(ZN)return YC;ZN=1;var r=F$(),t=IO();function e(n){return n!=null&&t(n.length)&&!r(n)}return YC=e,YC}var XC,KN;function bf(){if(KN)return XC;KN=1;var r=W$(),t=q$(),e=zb();function n(i){return e(i)?r(i):t(i)}return XC=n,XC}var $C,QN;function Dse(){if(QN)return $C;QN=1;var r=Sse(),t=bf();function e(n,i){return n&&r(n,i,t)}return $C=e,$C}var jC,JN;function Ese(){if(JN)return jC;JN=1;var r=zb();function t(e,n){return function(i,a){if(i==null)return i;if(!r(i))return e(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return jC=t,jC}var ZC,e6;function Ise(){if(e6)return ZC;e6=1;var r=Dse(),t=Ese(),e=t(r);return ZC=e,ZC}var KC,t6;function Rse(){if(t6)return KC;t6=1;var r=Ise();function t(e,n,i,a){return r(e,function(o,s,l){n(a,o,i(o),l)}),a}return KC=t,KC}var QC,r6;function Pse(){if(r6)return QC;r6=1;function r(){this.__data__=[],this.size=0}return QC=r,QC}var JC,n6;function BO(){if(n6)return JC;n6=1;function r(t,e){return t===e||t!==t&&e!==e}return JC=r,JC}var eT,i6;function Fb(){if(i6)return eT;i6=1;var r=BO();function t(e,n){for(var i=e.length;i--;)if(r(e[i][0],n))return i;return-1}return eT=t,eT}var tT,a6;function Ose(){if(a6)return tT;a6=1;var r=Fb(),t=Array.prototype,e=t.splice;function n(i){var a=this.__data__,o=r(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():e.call(a,o,1),--this.size,!0}return tT=n,tT}var rT,o6;function Bse(){if(o6)return rT;o6=1;var r=Fb();function t(e){var n=this.__data__,i=r(n,e);return i<0?void 0:n[i][1]}return rT=t,rT}var nT,s6;function kse(){if(s6)return nT;s6=1;var r=Fb();function t(e){return r(this.__data__,e)>-1}return nT=t,nT}var iT,l6;function Lse(){if(l6)return iT;l6=1;var r=Fb();function t(e,n){var i=this.__data__,a=r(i,e);return a<0?(++this.size,i.push([e,n])):i[a][1]=n,this}return iT=t,iT}var aT,u6;function Hb(){if(u6)return aT;u6=1;var r=Pse(),t=Ose(),e=Bse(),n=kse(),i=Lse();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,aT=a,aT}var oT,c6;function Nse(){if(c6)return oT;c6=1;var r=Hb();function t(){this.__data__=new r,this.size=0}return oT=t,oT}var sT,f6;function Vse(){if(f6)return sT;f6=1;function r(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}return sT=r,sT}var lT,h6;function zse(){if(h6)return lT;h6=1;function r(t){return this.__data__.get(t)}return lT=r,lT}var uT,d6;function Fse(){if(d6)return uT;d6=1;function r(t){return this.__data__.has(t)}return uT=r,uT}var cT,v6;function kO(){if(v6)return cT;v6=1;var r=xf(),t=io(),e=r(t,"Map");return cT=e,cT}var fT,p6;function Gb(){if(p6)return fT;p6=1;var r=xf(),t=r(Object,"create");return fT=t,fT}var hT,g6;function Hse(){if(g6)return hT;g6=1;var r=Gb();function t(){this.__data__=r?r(null):{},this.size=0}return hT=t,hT}var dT,y6;function Gse(){if(y6)return dT;y6=1;function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return dT=r,dT}var vT,m6;function Wse(){if(m6)return vT;m6=1;var r=Gb(),t="__lodash_hash_undefined__",e=Object.prototype,n=e.hasOwnProperty;function i(a){var o=this.__data__;if(r){var s=o[a];return s===t?void 0:s}return n.call(o,a)?o[a]:void 0}return vT=i,vT}var pT,x6;function Use(){if(x6)return pT;x6=1;var r=Gb(),t=Object.prototype,e=t.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:e.call(a,i)}return pT=n,pT}var gT,_6;function qse(){if(_6)return gT;_6=1;var r=Gb(),t="__lodash_hash_undefined__";function e(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?t:i,this}return gT=e,gT}var yT,b6;function Yse(){if(b6)return yT;b6=1;var r=Hse(),t=Gse(),e=Wse(),n=Use(),i=qse();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,yT=a,yT}var mT,S6;function Xse(){if(S6)return mT;S6=1;var r=Yse(),t=Hb(),e=kO();function n(){this.size=0,this.__data__={hash:new r,map:new(e||t),string:new r}}return mT=n,mT}var xT,w6;function $se(){if(w6)return xT;w6=1;function r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return xT=r,xT}var _T,C6;function Wb(){if(C6)return _T;C6=1;var r=$se();function t(e,n){var i=e.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return _T=t,_T}var bT,T6;function jse(){if(T6)return bT;T6=1;var r=Wb();function t(e){var n=r(this,e).delete(e);return this.size-=n?1:0,n}return bT=t,bT}var ST,A6;function Zse(){if(A6)return ST;A6=1;var r=Wb();function t(e){return r(this,e).get(e)}return ST=t,ST}var wT,M6;function Kse(){if(M6)return wT;M6=1;var r=Wb();function t(e){return r(this,e).has(e)}return wT=t,wT}var CT,D6;function Qse(){if(D6)return CT;D6=1;var r=Wb();function t(e,n){var i=r(this,e),a=i.size;return i.set(e,n),this.size+=i.size==a?0:1,this}return CT=t,CT}var TT,E6;function LO(){if(E6)return TT;E6=1;var r=Xse(),t=jse(),e=Zse(),n=Kse(),i=Qse();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,TT=a,TT}var AT,I6;function Jse(){if(I6)return AT;I6=1;var r=Hb(),t=kO(),e=LO(),n=200;function i(a,o){var s=this.__data__;if(s instanceof r){var l=s.__data__;if(!t||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new e(l)}return s.set(a,o),this.size=s.size,this}return AT=i,AT}var MT,R6;function NO(){if(R6)return MT;R6=1;var r=Hb(),t=Nse(),e=Vse(),n=zse(),i=Fse(),a=Jse();function o(s){var l=this.__data__=new r(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,MT=o,MT}var DT,P6;function ele(){if(P6)return DT;P6=1;var r="__lodash_hash_undefined__";function t(e){return this.__data__.set(e,r),this}return DT=t,DT}var ET,O6;function tle(){if(O6)return ET;O6=1;function r(t){return this.__data__.has(t)}return ET=r,ET}var IT,B6;function rle(){if(B6)return IT;B6=1;var r=LO(),t=ele(),e=tle();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new r;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=e,IT=n,IT}var RT,k6;function nle(){if(k6)return RT;k6=1;function r(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}return RT=r,RT}var PT,L6;function ile(){if(L6)return PT;L6=1;function r(t,e){return t.has(e)}return PT=r,PT}var OT,N6;function Y$(){if(N6)return OT;N6=1;var r=rle(),t=nle(),e=ile(),n=1,i=2;function a(o,s,l,u,c,f){var d=l&n,h=o.length,v=s.length;if(h!=v&&!(d&&v>h))return!1;var g=f.get(o),m=f.get(s);if(g&&m)return g==s&&m==o;var x=-1,_=!0,b=l&i?new r:void 0;for(f.set(o,s),f.set(s,o);++x<h;){var w=o[x],T=s[x];if(u)var A=d?u(T,w,x,s,o,f):u(w,T,x,o,s,f);if(A!==void 0){if(A)continue;_=!1;break}if(b){if(!t(s,function(M,D){if(!e(b,D)&&(w===M||c(w,M,l,u,f)))return b.push(D)})){_=!1;break}}else if(!(w===T||c(w,T,l,u,f))){_=!1;break}}return f.delete(o),f.delete(s),_}return OT=a,OT}var BT,V6;function X$(){if(V6)return BT;V6=1;var r=io(),t=r.Uint8Array;return BT=t,BT}var kT,z6;function ale(){if(z6)return kT;z6=1;function r(t){var e=-1,n=Array(t.size);return t.forEach(function(i,a){n[++e]=[a,i]}),n}return kT=r,kT}var LT,F6;function ole(){if(F6)return LT;F6=1;function r(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}return LT=r,LT}var NT,H6;function sle(){if(H6)return NT;H6=1;var r=kd(),t=X$(),e=BO(),n=Y$(),i=ale(),a=ole(),o=1,s=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",v="[object Set]",g="[object String]",m="[object Symbol]",x="[object ArrayBuffer]",_="[object DataView]",b=r?r.prototype:void 0,w=b?b.valueOf:void 0;function T(A,M,D,P,I,R,k){switch(D){case _:if(A.byteLength!=M.byteLength||A.byteOffset!=M.byteOffset)return!1;A=A.buffer,M=M.buffer;case x:return!(A.byteLength!=M.byteLength||!R(new t(A),new t(M)));case l:case u:case d:return e(+A,+M);case c:return A.name==M.name&&A.message==M.message;case h:case g:return A==M+"";case f:var O=i;case v:var V=P&o;if(O||(O=a),A.size!=M.size&&!V)return!1;var N=k.get(A);if(N)return N==M;P|=s,k.set(A,M);var L=n(O(A),O(M),P,I,R,k);return k.delete(A),L;case m:if(w)return w.call(A)==w.call(M)}return!1}return NT=T,NT}var VT,G6;function VO(){if(G6)return VT;G6=1;function r(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}return VT=r,VT}var zT,W6;function $$(){if(W6)return zT;W6=1;var r=VO(),t=Da();function e(n,i,a){var o=i(n);return t(n)?o:r(o,a(n))}return zT=e,zT}var FT,U6;function lle(){if(U6)return FT;U6=1;function r(t,e){for(var n=-1,i=t==null?0:t.length,a=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[a++]=s)}return o}return FT=r,FT}var HT,q6;function j$(){if(q6)return HT;q6=1;function r(){return[]}return HT=r,HT}var GT,Y6;function zO(){if(Y6)return GT;Y6=1;var r=lle(),t=j$(),e=Object.prototype,n=e.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),r(i(o),function(s){return n.call(o,s)}))}:t;return GT=a,GT}var WT,X6;function Z$(){if(X6)return WT;X6=1;var r=$$(),t=zO(),e=bf();function n(i){return r(i,e,t)}return WT=n,WT}var UT,$6;function ule(){if($6)return UT;$6=1;var r=Z$(),t=1,e=Object.prototype,n=e.hasOwnProperty;function i(a,o,s,l,u,c){var f=s&t,d=r(a),h=d.length,v=r(o),g=v.length;if(h!=g&&!f)return!1;for(var m=h;m--;){var x=d[m];if(!(f?x in o:n.call(o,x)))return!1}var _=c.get(a),b=c.get(o);if(_&&b)return _==o&&b==a;var w=!0;c.set(a,o),c.set(o,a);for(var T=f;++m<h;){x=d[m];var A=a[x],M=o[x];if(l)var D=f?l(M,A,x,o,a,c):l(A,M,x,a,o,c);if(!(D===void 0?A===M||u(A,M,s,l,c):D)){w=!1;break}T||(T=x=="constructor")}if(w&&!T){var P=a.constructor,I=o.constructor;P!=I&&"constructor"in a&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof I=="function"&&I instanceof I)&&(w=!1)}return c.delete(a),c.delete(o),w}return UT=i,UT}var qT,j6;function cle(){if(j6)return qT;j6=1;var r=xf(),t=io(),e=r(t,"DataView");return qT=e,qT}var YT,Z6;function fle(){if(Z6)return YT;Z6=1;var r=xf(),t=io(),e=r(t,"Promise");return YT=e,YT}var XT,K6;function hle(){if(K6)return XT;K6=1;var r=xf(),t=io(),e=r(t,"Set");return XT=e,XT}var $T,Q6;function dle(){if(Q6)return $T;Q6=1;var r=xf(),t=io(),e=r(t,"WeakMap");return $T=e,$T}var jT,J6;function zg(){if(J6)return jT;J6=1;var r=cle(),t=kO(),e=fle(),n=hle(),i=dle(),a=Vg(),o=H$(),s="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=o(r),v=o(t),g=o(e),m=o(n),x=o(i),_=a;return(r&&_(new r(new ArrayBuffer(1)))!=d||t&&_(new t)!=s||e&&_(e.resolve())!=u||n&&_(new n)!=c||i&&_(new i)!=f)&&(_=function(b){var w=a(b),T=w==l?b.constructor:void 0,A=T?o(T):"";if(A)switch(A){case h:return d;case v:return s;case g:return u;case m:return c;case x:return f}return w}),jT=_,jT}var ZT,eV;function vle(){if(eV)return ZT;eV=1;var r=NO(),t=Y$(),e=sle(),n=ule(),i=zg(),a=Da(),o=Nb(),s=OO(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function v(g,m,x,_,b,w){var T=a(g),A=a(m),M=T?c:i(g),D=A?c:i(m);M=M==u?f:M,D=D==u?f:D;var P=M==f,I=D==f,R=M==D;if(R&&o(g)){if(!o(m))return!1;T=!0,P=!1}if(R&&!P)return w||(w=new r),T||s(g)?t(g,m,x,_,b,w):e(g,m,M,x,_,b,w);if(!(x&l)){var k=P&&h.call(g,"__wrapped__"),O=I&&h.call(m,"__wrapped__");if(k||O){var V=k?g.value():g,N=O?m.value():m;return w||(w=new r),b(V,N,x,_,w)}}return R?(w||(w=new r),n(g,m,x,_,b,w)):!1}return ZT=v,ZT}var KT,tV;function FO(){if(tV)return KT;tV=1;var r=vle(),t=_f();function e(n,i,a,o,s){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:r(n,i,a,o,e,s)}return KT=e,KT}var QT,rV;function ple(){if(rV)return QT;rV=1;var r=NO(),t=FO(),e=1,n=2;function i(a,o,s,l){var u=s.length,c=u,f=!l;if(a==null)return!c;for(a=Object(a);u--;){var d=s[u];if(f&&d[2]?d[1]!==a[d[0]]:!(d[0]in a))return!1}for(;++u<c;){d=s[u];var h=d[0],v=a[h],g=d[1];if(f&&d[2]){if(v===void 0&&!(h in a))return!1}else{var m=new r;if(l)var x=l(v,g,h,a,o,m);if(!(x===void 0?t(g,v,e|n,l,m):x))return!1}}return!0}return QT=i,QT}var JT,nV;function K$(){if(nV)return JT;nV=1;var r=Yo();function t(e){return e===e&&!r(e)}return JT=t,JT}var eA,iV;function gle(){if(iV)return eA;iV=1;var r=K$(),t=bf();function e(n){for(var i=t(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,r(s)]}return i}return eA=e,eA}var tA,aV;function Q$(){if(aV)return tA;aV=1;function r(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}return tA=r,tA}var rA,oV;function yle(){if(oV)return rA;oV=1;var r=ple(),t=gle(),e=Q$();function n(i){var a=t(i);return a.length==1&&a[0][2]?e(a[0][0],a[0][1]):function(o){return o===i||r(o,i,a)}}return rA=n,rA}var nA,sV;function Ub(){if(sV)return nA;sV=1;var r=Vg(),t=_f(),e="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&r(i)==e}return nA=n,nA}var iA,lV;function HO(){if(lV)return iA;lV=1;var r=Da(),t=Ub(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(r(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:n.test(a)||!e.test(a)||o!=null&&a in Object(o)}return iA=i,iA}var aA,uV;function mle(){if(uV)return aA;uV=1;var r=LO(),t="Expected a function";function e(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(e.Cache||r),a}return e.Cache=r,aA=e,aA}var oA,cV;function xle(){if(cV)return oA;cV=1;var r=mle(),t=500;function e(n){var i=r(n,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return oA=e,oA}var sA,fV;function _le(){if(fV)return sA;fV=1;var r=xle(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,n=r(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,u){a.push(l?u.replace(e,"$1"):s||o)}),a});return sA=n,sA}var lA,hV;function GO(){if(hV)return lA;hV=1;function r(t,e){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}return lA=r,lA}var uA,dV;function ble(){if(dV)return uA;dV=1;var r=kd(),t=GO(),e=Da(),n=Ub(),i=r?r.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(e(s))return t(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return uA=o,uA}var cA,vV;function WO(){if(vV)return cA;vV=1;var r=ble();function t(e){return e==null?"":r(e)}return cA=t,cA}var fA,pV;function qb(){if(pV)return fA;pV=1;var r=Da(),t=HO(),e=_le(),n=WO();function i(a,o){return r(a)?a:t(a,o)?[a]:e(n(a))}return fA=i,fA}var hA,gV;function Fg(){if(gV)return hA;gV=1;var r=Ub();function t(e){if(typeof e=="string"||r(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}return hA=t,hA}var dA,yV;function UO(){if(yV)return dA;yV=1;var r=qb(),t=Fg();function e(n,i){i=r(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[t(i[a++])];return a&&a==o?n:void 0}return dA=e,dA}var vA,mV;function J$(){if(mV)return vA;mV=1;var r=UO();function t(e,n,i){var a=e==null?void 0:r(e,n);return a===void 0?i:a}return vA=t,vA}var pA,xV;function Sle(){if(xV)return pA;xV=1;function r(t,e){return t!=null&&e in Object(t)}return pA=r,pA}var gA,_V;function wle(){if(_V)return gA;_V=1;var r=qb(),t=Lb(),e=Da(),n=EO(),i=IO(),a=Fg();function o(s,l,u){l=r(l,s);for(var c=-1,f=l.length,d=!1;++c<f;){var h=a(l[c]);if(!(d=s!=null&&u(s,h)))break;s=s[h]}return d||++c!=f?d:(f=s==null?0:s.length,!!f&&i(f)&&n(h,f)&&(e(s)||t(s)))}return gA=o,gA}var yA,bV;function Cle(){if(bV)return yA;bV=1;var r=Sle(),t=wle();function e(n,i){return n!=null&&t(n,i,r)}return yA=e,yA}var mA,SV;function Tle(){if(SV)return mA;SV=1;var r=FO(),t=J$(),e=Cle(),n=HO(),i=K$(),a=Q$(),o=Fg(),s=1,l=2;function u(c,f){return n(c)&&i(f)?a(o(c),f):function(d){var h=t(d,c);return h===void 0&&h===f?e(d,c):r(f,h,s|l)}}return mA=u,mA}var xA,wV;function qO(){if(wV)return xA;wV=1;function r(t){return t}return xA=r,xA}var _A,CV;function Ale(){if(CV)return _A;CV=1;function r(t){return function(e){return e?.[t]}}return _A=r,_A}var bA,TV;function Mle(){if(TV)return bA;TV=1;var r=UO();function t(e){return function(n){return r(n,e)}}return bA=t,bA}var SA,AV;function Dle(){if(AV)return SA;AV=1;var r=Ale(),t=Mle(),e=HO(),n=Fg();function i(a){return e(a)?r(n(a)):t(a)}return SA=i,SA}var wA,MV;function ej(){if(MV)return wA;MV=1;var r=yle(),t=Tle(),e=qO(),n=Da(),i=Dle();function a(o){return typeof o=="function"?o:o==null?e:typeof o=="object"?n(o)?t(o[0],o[1]):r(o):i(o)}return wA=a,wA}var CA,DV;function Ele(){if(DV)return CA;DV=1;var r=_se(),t=Rse(),e=ej(),n=Da();function i(a,o){return function(s,l){var u=n(s)?r:t,c=o?o():{};return u(s,a,e(l,2),c)}}return CA=i,CA}var TA,EV;function Ile(){if(EV)return TA;EV=1;var r=DO(),t=Ele(),e=Object.prototype,n=e.hasOwnProperty,i=t(function(a,o,s){n.call(a,s)?++a[s]:r(a,s,1)});return TA=i,TA}var AA,IV;function YO(){if(IV)return AA;IV=1;var r=DO(),t=BO(),e=Object.prototype,n=e.hasOwnProperty;function i(a,o,s){var l=a[o];(!(n.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&r(a,o,s)}return AA=i,AA}var MA,RV;function tj(){if(RV)return MA;RV=1;var r=YO(),t=qb(),e=EO(),n=Yo(),i=Fg();function a(o,s,l,u){if(!n(o))return o;s=t(s,o);for(var c=-1,f=s.length,d=f-1,h=o;h!=null&&++c<f;){var v=i(s[c]),g=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(c!=d){var m=h[v];g=u?u(m,v,h):void 0,g===void 0&&(g=n(m)?m:e(s[c+1])?[]:{})}r(h,v,g),h=h[v]}return o}return MA=a,MA}var DA,PV;function Rle(){if(PV)return DA;PV=1;var r=UO(),t=tj(),e=qb();function n(i,a,o){for(var s=-1,l=a.length,u={};++s<l;){var c=a[s],f=r(i,c);o(f,c)&&t(u,e(c,i),f)}return u}return DA=n,DA}var EA,OV;function rj(){if(OV)return EA;OV=1;var r=U$(),t=r(Object.getPrototypeOf,Object);return EA=t,EA}var IA,BV;function nj(){if(BV)return IA;BV=1;var r=VO(),t=rj(),e=zO(),n=j$(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)r(s,e(o)),o=t(o);return s}:n;return IA=a,IA}var RA,kV;function Ple(){if(kV)return RA;kV=1;function r(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}return RA=r,RA}var PA,LV;function Ole(){if(LV)return PA;LV=1;var r=Yo(),t=Vb(),e=Ple(),n=Object.prototype,i=n.hasOwnProperty;function a(o){if(!r(o))return e(o);var s=t(o),l=[];for(var u in o)u=="constructor"&&(s||!i.call(o,u))||l.push(u);return l}return PA=a,PA}var OA,NV;function XO(){if(NV)return OA;NV=1;var r=W$(),t=Ole(),e=zb();function n(i){return e(i)?r(i,!0):t(i)}return OA=n,OA}var BA,VV;function ij(){if(VV)return BA;VV=1;var r=$$(),t=nj(),e=XO();function n(i){return r(i,e,t)}return BA=n,BA}var kA,zV;function Ble(){if(zV)return kA;zV=1;var r=GO(),t=ej(),e=Rle(),n=ij();function i(a,o){if(a==null)return{};var s=r(n(a),function(l){return[l]});return o=t(o),e(a,s,function(l,u){return o(l,u[0])})}return kA=i,kA}function aj(r){let t=null;return()=>(t==null&&(t=r()),t)}function kle(r,t){return r.filter(e=>e!==t)}function Lle(r,t){const e=new Set,n=a=>e.add(a);r.forEach(n),t.forEach(n);const i=[];return e.forEach(a=>i.push(a)),i}class Nle{enter(t){const e=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(t));return this.entered=Lle(this.entered.filter(n),[t]),e===0&&this.entered.length>0}leave(t){const e=this.entered.length;return this.entered=kle(this.entered.filter(this.isNodeInDocument),t),e>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Vle{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const e={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(e[n]={value:i(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,e)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,e){return e===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const oj="__NATIVE_FILE__",sj="__NATIVE_URL__",lj="__NATIVE_TEXT__",uj="__NATIVE_HTML__",FV=Object.freeze(Object.defineProperty({__proto__:null,FILE:oj,HTML:uj,TEXT:lj,URL:sj},Symbol.toStringTag,{value:"Module"}));function LA(r,t,e){const n=t.reduce((i,a)=>i||r.getData(a),"");return n??e}const YI={[oj]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[uj]:{exposeProperties:{html:(r,t)=>LA(r,t,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[sj]:{exposeProperties:{urls:(r,t)=>LA(r,t,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[lj]:{exposeProperties:{text:(r,t)=>LA(r,t,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function zle(r,t){const e=YI[r];if(!e)throw new Error(`native type ${r} has no configuration`);const n=new Vle(e);return n.loadDataTransfer(t),n}function NA(r){if(!r)return null;const t=Array.prototype.slice.call(r.types||[]);return Object.keys(YI).filter(e=>{const n=YI[e];return n?.matchesTypes?n.matchesTypes.some(i=>t.indexOf(i)>-1):!1})[0]||null}const Fle=aj(()=>/firefox/i.test(navigator.userAgent)),cj=aj(()=>!!window.safari);class HV{interpolate(t){const{xs:e,ys:n,c1s:i,c2s:a,c3s:o}=this;let s=e.length-1;if(t===e[s])return n[s];let l=0,u=o.length-1,c;for(;l<=u;){c=Math.floor(.5*(l+u));const h=e[c];if(h<t)l=c+1;else if(h>t)u=c-1;else return n[c]}s=Math.max(0,u);const f=t-e[s],d=f*f;return n[s]+i[s]*f+a[s]*d+o[s]*f*d}constructor(t,e){const{length:n}=t,i=[];for(let h=0;h<n;h++)i.push(h);i.sort((h,v)=>t[h]<t[v]?-1:1);const a=[],o=[];let s,l;for(let h=0;h<n-1;h++)s=t[h+1]-t[h],l=e[h+1]-e[h],a.push(s),o.push(l/s);const u=[o[0]];for(let h=0;h<a.length-1;h++){const v=o[h],g=o[h+1];if(v*g<=0)u.push(0);else{s=a[h];const m=a[h+1],x=s+m;u.push(3*x/((x+m)/v+(x+s)/g))}}u.push(o[o.length-1]);const c=[],f=[];let d;for(let h=0;h<u.length-1;h++){d=o[h];const v=u[h],g=1/a[h],m=v+u[h+1]-d-d;c.push((d-v-m)*g),f.push(m*g*g)}this.xs=t,this.ys=e,this.c1s=u,this.c2s=c,this.c3s=f}}const Hle=1;function fj(r){const t=r.nodeType===Hle?r:r.parentElement;if(!t)return null;const{top:e,left:n}=t.getBoundingClientRect();return{x:n,y:e}}function Om(r){return{x:r.clientX,y:r.clientY}}function Gle(r){var t;return r.nodeName==="IMG"&&(Fle()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(r)))}function Wle(r,t,e,n){let i=r?t.width:e,a=r?t.height:n;return cj()&&r&&(a/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:a}}function Ule(r,t,e,n,i){const a=Gle(t),s=fj(a?r:t),l={x:e.x-s.x,y:e.y-s.y},{offsetWidth:u,offsetHeight:c}=r,{anchorX:f,anchorY:d}=n,{dragPreviewWidth:h,dragPreviewHeight:v}=Wle(a,t,u,c),g=()=>{let A=new HV([0,.5,1],[l.y,l.y/c*v,l.y+v-c]).interpolate(d);return cj()&&a&&(A+=(window.devicePixelRatio-1)*v),A},m=()=>new HV([0,.5,1],[l.x,l.x/u*h,l.x+h-u]).interpolate(f),{offsetX:x,offsetY:_}=i,b=x===0||x,w=_===0||_;return{x:b?x:m(),y:w?_:g()}}let qle=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,e){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=e}};function Yle(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function GV(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.forEach(function(i){Yle(r,i,e[i])})}return r}class Xle{profile(){var t,e;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var e;(e=this.window)===null||e===void 0||e.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,e,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,e),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,e,n){this.sourceNodes.set(t,e),this.sourceNodeOptions.set(t,n);const i=o=>this.handleDragStart(o,t),a=o=>this.handleSelectStart(o);return e.setAttribute("draggable","true"),e.addEventListener("dragstart",i),e.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),e.removeEventListener("dragstart",i),e.removeEventListener("selectstart",a),e.setAttribute("draggable","false")}}connectDropTarget(t,e){const n=o=>this.handleDragEnter(o,t),i=o=>this.handleDragOver(o,t),a=o=>this.handleDrop(o,t);return e.addEventListener("dragenter",n),e.addEventListener("dragover",i),e.addEventListener("drop",a),()=>{e.removeEventListener("dragenter",n),e.removeEventListener("dragover",i),e.removeEventListener("drop",a)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),e=this.sourceNodeOptions.get(t);return GV({dropEffect:this.altKeyPressed?"copy":"move"},e||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),e=this.sourcePreviewNodeOptions.get(t);return GV({anchorX:.5,anchorY:.5,captureDraggingState:!1},e||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(FV).some(e=>FV[e]===t)}beginDragNativeItem(t,e){this.clearCurrentDragSourceNode(),this.currentNativeSource=zle(t,e),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const e=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},e)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,e){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(e))}handleDragEnter(t,e){this.dragEnterTargetIds.unshift(e)}handleDragOver(t,e){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(e)}handleDrop(t,e){this.dropTargetIds.unshift(e)}constructor(t,e,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const a=this.sourceNodes.get(i);return a&&fj(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const o=Om(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:s}=i,l=NA(s);if(this.monitor.isDragging()){if(s&&typeof s.setDragImage=="function"){const c=this.monitor.getSourceId(),f=this.sourceNodes.get(c),d=this.sourcePreviewNodes.get(c)||f;if(d){const{anchorX:h,anchorY:v,offsetX:g,offsetY:m}=this.getCurrentSourcePreviewNodeOptions(),b=Ule(f,d,o,{anchorX:h,anchorY:v},{offsetX:g,offsetY:m});s.setDragImage(d,b.x,b.y)}}try{s?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(s&&!s.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:s}=i,l=NA(s);l&&this.beginDragNativeItem(l,s)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,a.length>0&&this.actions.hover(a,{clientOffset:Om(i)}),a.some(s=>this.monitor.canDropOnTarget(s))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Om(i),this.scheduleHover(a),(a||[]).some(s=>this.monitor.canDropOnTarget(s))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;i.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(i.dataTransfer)}else NA(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:Om(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const a=i.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(i.preventDefault(),a.dragDrop()))},this.options=new qle(e,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Nle(this.isNodeInDocument)}}const $le=function(t,e,n){return new Xle(t,e,n)};function mt(r,t,...e){if(jle()&&t===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(t.replace(/%s/g,function(){return e[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function jle(){return typeof process<"u"&&!0}var iu;(function(r){r.mouse="mouse",r.touch="touch",r.keyboard="keyboard"})(iu||(iu={}));class Zle{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,e,n,i;return(i=(n=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&n!==void 0?n:(e=this.args)===null||e===void 0?void 0:e.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var t,e,n,i;return(i=(n=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&n!==void 0?n:(e=this.args)===null||e===void 0?void 0:e.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,e){this.args=t,this.context=e}}function Kle(r,t,e,n){return Math.sqrt(Math.pow(Math.abs(e-r),2)+Math.pow(Math.abs(n-t),2))}function Qle(r,t,e,n,i){if(!i)return!1;const a=Math.atan2(n-t,e-r)*180/Math.PI+180;for(let o=0;o<i.length;++o){const s=i[o];if(s&&(s.start==null||a>=s.start)&&(s.end==null||a<=s.end))return!0}return!1}const Jle={Left:1},eue={Left:0};function VA(r){return r.button===void 0||r.button===eue.Left}function tue(r){return r.buttons===void 0||(r.buttons&Jle.Left)===0}function hj(r){return!!r.targetTouches}const rue=1;function nue(r){const t=r.nodeType===rue?r:r.parentElement;if(!t)return;const{top:e,left:n}=t.getBoundingClientRect();return{x:n,y:e}}function iue(r,t){if(r.targetTouches.length===1)return v_(r.targetTouches[0]);if(t&&r.touches.length===1&&r.touches[0].target===t.target)return v_(r.touches[0])}function v_(r,t){return hj(r)?iue(r,t):{x:r.clientX,y:r.clientY}}const WV=(()=>{let r=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return r=!0,!0}}))}catch{}return r})(),Kv={[iu.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[iu.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[iu.keyboard]:{keydown:"keydown"}};class T0{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(mt(!T0.isSetUp,"Cannot have two Touch backends at the same time."),T0.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(T0.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,e,n,i=!1){const a=WV?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const s=Kv[o][e];s&&t.addEventListener(s,n,a)})}removeEventListener(t,e,n,i=!1){const a=WV?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const s=Kv[o][e];s&&t.removeEventListener(s,n,a)})}connectDragSource(t,e){const n=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,e),this.addEventListener(e,"start",n),()=>{this.sourceNodes.delete(t),this.removeEventListener(e,"start",n)}}connectDragPreview(t,e,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,e),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,e){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const i=a=>{if(!this.document||!n||!this.monitor.isDragging())return;let o;switch(a.type){case Kv.mouse.move:o={x:a.clientX,y:a.clientY};break;case Kv.touch.move:var s,l;o={x:((s=a.touches[0])===null||s===void 0?void 0:s.clientX)||0,y:((l=a.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const u=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,c=u&&e.contains(u);if(u===e||c)return this.handleMove(a,t)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(t,e),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,e,n){this.getSourceClientOffset=i=>{const a=this.sourceNodes.get(i);return a&&nue(a)},this.handleTopMoveStartCapture=i=>{VA(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!VA(i))return;const a=v_(i);a&&(hj(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=a),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!VA(i))return;const a=i.type===Kv.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),a),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,a)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(a)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:a,dragOverTargetIds:o}=this,s=this.options.enableHoverOutsideTarget,l=v_(i,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&Qle(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&a&&Kle(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();const c=(o||[]).map(v=>this.targetNodes.get(v)).filter(v=>!!v),f=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,c):this.document.elementsFromPoint(l.x,l.y),d=[];for(const v in f){if(!f.hasOwnProperty(v))continue;let g=f[v];for(g!=null&&d.push(g);g;)g=g.parentElement,g&&d.indexOf(g)===-1&&d.push(g)}const h=d.filter(v=>c.indexOf(v)>-1).map(v=>this._getDropTargetId(v)).filter(v=>!!v).filter((v,g,m)=>m.indexOf(v)===g);if(s)for(const v in this.targetNodes){const g=this.targetNodes.get(v);if(u&&g&&g.contains(u)&&h.indexOf(v)===-1){h.unshift(v);break}}h.reverse(),this.actions.hover(h,{clientOffset:l})},this._getDropTargetId=i=>{const a=this.targetNodes.keys();let o=a.next();for(;o.done===!1;){const s=o.value;if(i===this.targetNodes.get(s))return s;o=a.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!tue(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Zle(n,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(iu.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(iu.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(iu.keyboard)}}const aue=function(t,e={},n={}){return new T0(t,e,n)};var dj=r=>{throw TypeError(r)},vj=(r,t,e)=>t.has(r)||dj("Cannot "+e),ct=(r,t,e)=>(vj(r,t,"read from private field"),e?e.call(r):t.get(r)),sa=(r,t,e)=>t.has(r)?dj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),Cc=(r,t,e,n)=>(vj(r,t,"write to private field"),t.set(r,e),e),Ul,oue=class{constructor(){sa(this,Ul),this.register=r=>{ct(this,Ul).push(r)},this.unregister=r=>{for(;ct(this,Ul).indexOf(r)!==-1;)ct(this,Ul).splice(ct(this,Ul).indexOf(r),1)},this.backendChanged=r=>{for(let t of ct(this,Ul))t.backendChanged(r)},Cc(this,Ul,[])}};Ul=new WeakMap;var Ri,s0,Pi,Os,Tc,XI,$I,jI,ix,ax,l0,pj=class ox{constructor(t,e,n){if(sa(this,Ri),sa(this,s0),sa(this,Pi),sa(this,Os),sa(this,Tc),sa(this,XI,(i,a,o)=>{if(!o.backend)throw new Error(`You must specify a 'backend' property in your Backend entry: ${JSON.stringify(o)}`);let s=o.backend(i,a,o.options),l=o.id,u=!o.id&&s&&s.constructor;if(u&&(l=s.constructor.name),!l)throw new Error(`You must specify an 'id' property in your Backend entry: ${JSON.stringify(o)}
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`);if(u&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`),ct(this,Pi)[l])throw new Error(`You must specify a unique 'id' property in your Backend entry:
        ${JSON.stringify(o)} (conflicts with: ${JSON.stringify(ct(this,Pi)[l])})`);return{id:l,instance:s,preview:o.preview??!1,transition:o.transition,skipDispatchOnTransition:o.skipDispatchOnTransition??!1}}),this.setup=()=>{if(!(typeof window>"u")){if(ox.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");ox.isSetUp=!0,ct(this,$I).call(this,window),ct(this,Pi)[ct(this,Ri)].instance.setup()}},this.teardown=()=>{typeof window>"u"||(ox.isSetUp=!1,ct(this,jI).call(this,window),ct(this,Pi)[ct(this,Ri)].instance.teardown())},this.connectDragSource=(i,a,o)=>ct(this,l0).call(this,"connectDragSource",i,a,o),this.connectDragPreview=(i,a,o)=>ct(this,l0).call(this,"connectDragPreview",i,a,o),this.connectDropTarget=(i,a,o)=>ct(this,l0).call(this,"connectDropTarget",i,a,o),this.profile=()=>ct(this,Pi)[ct(this,Ri)].instance.profile(),this.previewEnabled=()=>ct(this,Pi)[ct(this,Ri)].preview,this.previewsList=()=>ct(this,s0),this.backendsList=()=>ct(this,Os),sa(this,$I,i=>{for(let a of ct(this,Os))a.transition&&i.addEventListener(a.transition.event,ct(this,ix))}),sa(this,jI,i=>{for(let a of ct(this,Os))a.transition&&i.removeEventListener(a.transition.event,ct(this,ix))}),sa(this,ix,i=>{let a=ct(this,Ri);if(ct(this,Os).some(o=>o.id!==ct(this,Ri)&&o.transition&&o.transition.check(i)?(Cc(this,Ri,o.id),!0):!1),ct(this,Ri)!==a){ct(this,Pi)[a].instance.teardown();for(let[u,c]of Object.entries(ct(this,Tc)))c.unsubscribe(),c.unsubscribe=ct(this,ax).call(this,c.func,...c.args);ct(this,s0).backendChanged(this);let o=ct(this,Pi)[ct(this,Ri)];if(o.instance.setup(),o.skipDispatchOnTransition)return;let s=i.constructor,l=new s(i.type,i);i.target?.dispatchEvent(l)}}),sa(this,ax,(i,a,o,s)=>ct(this,Pi)[ct(this,Ri)].instance[i](a,o,s)),sa(this,l0,(i,a,o,s)=>{let l=`${i}_${a}`,u=ct(this,ax).call(this,i,a,o,s);return ct(this,Tc)[l]={func:i,args:[a,o,s],unsubscribe:u},()=>{ct(this,Tc)[l].unsubscribe(),delete ct(this,Tc)[l]}}),!n||!n.backends||n.backends.length<1)throw new Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);Cc(this,s0,new oue),Cc(this,Pi,{}),Cc(this,Os,[]);for(let i of n.backends){let a=ct(this,XI).call(this,t,e,i);ct(this,Pi)[a.id]=a,ct(this,Os).push(a)}Cc(this,Ri,ct(this,Os)[0].id),Cc(this,Tc,{})}};Ri=new WeakMap,s0=new WeakMap,Pi=new WeakMap,Os=new WeakMap,Tc=new WeakMap,XI=new WeakMap,$I=new WeakMap,jI=new WeakMap,ix=new WeakMap,ax=new WeakMap,l0=new WeakMap,pj.isSetUp=!1;var sue=pj,gj=(r,t,e)=>new sue(r,t,e),Hg=(r,t)=>({event:r,check:t}),yj=Hg("touchstart",r=>{let t=r;return t.touches!==null&&t.touches!==void 0}),lue=Hg("dragstart",r=>r.type.indexOf("drag")!==-1||r.type.indexOf("drop")!==-1),uue=Hg("mousedown",r=>r.type.indexOf("touch")===-1&&r.type.indexOf("mouse")!==-1),mj=Hg("pointerdown",r=>r.pointerType==="mouse"),cue={backends:[{id:"html5",backend:$le,transition:mj},{id:"touch",backend:aue,options:{enableMouseEvents:!0},preview:!0,transition:yj}]};const fue=Object.freeze(Object.defineProperty({__proto__:null,HTML5toTouch:cue},Symbol.toStringTag,{value:"Module"})),hue=kb(fue),Gg=Ue.createContext({dragDropManager:void 0});function na(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var UV=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),qV=function(){return Math.random().toString(36).substring(7).split("").join(".")},YV={INIT:"@@redux/INIT"+qV(),REPLACE:"@@redux/REPLACE"+qV()};function due(r){if(typeof r!="object"||r===null)return!1;for(var t=r;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t}function xj(r,t,e){var n;if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(na(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(na(1));return e(xj)(r,t)}if(typeof r!="function")throw new Error(na(2));var i=r,a=t,o=[],s=o,l=!1;function u(){s===o&&(s=o.slice())}function c(){if(l)throw new Error(na(3));return a}function f(g){if(typeof g!="function")throw new Error(na(4));if(l)throw new Error(na(5));var m=!0;return u(),s.push(g),function(){if(m){if(l)throw new Error(na(6));m=!1,u();var _=s.indexOf(g);s.splice(_,1),o=null}}}function d(g){if(!due(g))throw new Error(na(7));if(typeof g.type>"u")throw new Error(na(8));if(l)throw new Error(na(9));try{l=!0,a=i(a,g)}finally{l=!1}for(var m=o=s,x=0;x<m.length;x++){var _=m[x];_()}return g}function h(g){if(typeof g!="function")throw new Error(na(10));i=g,d({type:YV.REPLACE})}function v(){var g,m=f;return g={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(na(11));function b(){_.next&&_.next(c())}b();var w=m(b);return{unsubscribe:w}}},g[UV]=function(){return this},g}return d({type:YV.INIT}),n={dispatch:d,subscribe:f,getState:c,replaceReducer:h},n[UV]=v,n}function vue(r,t,e){return t.split(".").reduce((n,i)=>n&&n[i]?n[i]:e||null,r)}function pue(r,t){return r.filter(e=>e!==t)}function _j(r){return typeof r=="object"}function gue(r,t){const e=new Map,n=a=>{e.set(a,e.has(a)?e.get(a)+1:1)};r.forEach(n),t.forEach(n);const i=[];return e.forEach((a,o)=>{a===1&&i.push(o)}),i}function yue(r,t){return r.filter(e=>t.indexOf(e)>-1)}const $O="dnd-core/INIT_COORDS",Yb="dnd-core/BEGIN_DRAG",jO="dnd-core/PUBLISH_DRAG_SOURCE",Xb="dnd-core/HOVER",$b="dnd-core/DROP",jb="dnd-core/END_DRAG";function XV(r,t){return{type:$O,payload:{sourceClientOffset:t||null,clientOffset:r||null}}}const mue={type:$O,payload:{clientOffset:null,sourceClientOffset:null}};function xue(r){return function(e=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:a,getSourceClientOffset:o}=n,s=r.getMonitor(),l=r.getRegistry();r.dispatch(XV(a)),_ue(e,s,l);const u=wue(e,s);if(u==null){r.dispatch(mue);return}let c=null;if(a){if(!o)throw new Error("getSourceClientOffset must be defined");bue(o),c=o(u)}r.dispatch(XV(a,c));const d=l.getSource(u).beginDrag(s,u);if(d==null)return;Sue(d),l.pinSource(u);const h=l.getSourceType(u);return{type:Yb,payload:{itemType:h,item:d,sourceId:u,clientOffset:a||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}function _ue(r,t,e){mt(!t.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(n){mt(e.getSource(n),"Expected sourceIds to be registered.")})}function bue(r){mt(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Sue(r){mt(_j(r),"Item must be an object.")}function wue(r,t){let e=null;for(let n=r.length-1;n>=0;n--)if(t.canDragSource(r[n])){e=r[n];break}return e}function Cue(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Tue(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.forEach(function(i){Cue(r,i,e[i])})}return r}function Aue(r){return function(e={}){const n=r.getMonitor(),i=r.getRegistry();Mue(n),Iue(n).forEach((o,s)=>{const l=Due(o,s,i,n),u={type:$b,payload:{dropResult:Tue({},e,l)}};r.dispatch(u)})}}function Mue(r){mt(r.isDragging(),"Cannot call drop while not dragging."),mt(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function Due(r,t,e,n){const i=e.getTarget(r);let a=i?i.drop(n,r):void 0;return Eue(a),typeof a>"u"&&(a=t===0?{}:n.getDropResult()),a}function Eue(r){mt(typeof r>"u"||_j(r),"Drop result must either be an object or undefined.")}function Iue(r){const t=r.getTargetIds().filter(r.canDropOnTarget,r);return t.reverse(),t}function Rue(r){return function(){const e=r.getMonitor(),n=r.getRegistry();Pue(e);const i=e.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(e,i),n.unpinSource()),{type:jb}}}function Pue(r){mt(r.isDragging(),"Cannot call endDrag while not dragging.")}function ZI(r,t){return t===null?r===null:Array.isArray(r)?r.some(e=>e===t):r===t}function Oue(r){return function(e,{clientOffset:n}={}){Bue(e);const i=e.slice(0),a=r.getMonitor(),o=r.getRegistry(),s=a.getItemType();return Lue(i,o,s),kue(i,a,o),Nue(i,a,o),{type:Xb,payload:{targetIds:i,clientOffset:n||null}}}}function Bue(r){mt(Array.isArray(r),"Expected targetIds to be an array.")}function kue(r,t,e){mt(t.isDragging(),"Cannot call hover while not dragging."),mt(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<r.length;n++){const i=r[n];mt(r.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const a=e.getTarget(i);mt(a,"Expected targetIds to be registered.")}}function Lue(r,t,e){for(let n=r.length-1;n>=0;n--){const i=r[n],a=t.getTargetType(i);ZI(a,e)||r.splice(n,1)}}function Nue(r,t,e){r.forEach(function(n){e.getTarget(n).hover(t,n)})}function Vue(r){return function(){if(r.getMonitor().isDragging())return{type:jO}}}function zue(r){return{beginDrag:xue(r),publishDragSource:Vue(r),hover:Oue(r),drop:Aue(r),endDrag:Rue(r)}}class Fue{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:e}=this.store;function n(a){return(...o)=>{const s=a.apply(t,o);typeof s<"u"&&e(s)}}const i=zue(this);return Object.keys(i).reduce((a,o)=>{const s=i[o];return a[o]=n(s),a},{})}dispatch(t){this.store.dispatch(t)}constructor(t,e){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=e,t.subscribe(this.handleRefCountChange)}}function Hue(r,t){return{x:r.x+t.x,y:r.y+t.y}}function bj(r,t){return{x:r.x-t.x,y:r.y-t.y}}function Gue(r){const{clientOffset:t,initialClientOffset:e,initialSourceClientOffset:n}=r;return!t||!e||!n?null:bj(Hue(t,n),e)}function Wue(r){const{clientOffset:t,initialClientOffset:e}=r;return!t||!e?null:bj(t,e)}const A0=[],ZO=[];A0.__IS_NONE__=!0;ZO.__IS_ALL__=!0;function Uue(r,t){return r===A0?!1:r===ZO||typeof t>"u"?!0:yue(t,r).length>0}class que{subscribeToStateChange(t,e={}){const{handlerIds:n}=e;mt(typeof t=="function","listener must be a function."),mt(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const a=()=>{const o=this.store.getState(),s=o.stateId;try{s===i||s===i+1&&!Uue(o.dirtyHandlerIds,n)||t()}finally{i=s}};return this.store.subscribe(a)}subscribeToOffsetChange(t){mt(typeof t=="function","listener must be a function.");let e=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==e&&(e=i,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const e=this.registry.getSource(t);return mt(e,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:e.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const e=this.registry.getTarget(t);if(mt(e,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),i=this.getItemType();return ZI(n,i)&&e.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const e=this.registry.getSource(t,!0);if(mt(e,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),i=this.getItemType();return n!==i?!1:e.isDragging(this,t)}isOverTarget(t,e={shallow:!1}){if(!t)return!1;const{shallow:n}=e;if(!this.isDragging())return!1;const i=this.registry.getTargetType(t),a=this.getItemType();if(a&&!ZI(i,a))return!1;const o=this.getTargetIds();if(!o.length)return!1;const s=o.indexOf(t);return n?s===o.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Gue(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Wue(this.store.getState().dragOffset)}constructor(t,e){this.store=t,this.registry=e}}const $V=typeof global<"u"?global:self,Sj=$V.MutationObserver||$V.WebKitMutationObserver;function wj(r){return function(){const e=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(e),clearInterval(n),r()}}}function Yue(r){let t=1;const e=new Sj(r),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const Xue=typeof Sj=="function"?Yue:wj;class $ue{enqueueTask(t){const{queue:e,requestFlush:n}=this;e.length||(n(),this.flushing=!0),e[e.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const e=this.index;if(this.index++,t[e].call(),this.index>this.capacity){for(let n=0,i=t.length-this.index;n<i;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Xue(this.flush),this.requestErrorThrow=wj(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class jue{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,e){this.onError=t,this.release=e,this.task=null}}class Zue{create(t){const e=this.freeTasks,n=e.length?e.pop():new jue(this.onError,i=>e[e.length]=i);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const Cj=new $ue,Kue=new Zue(Cj.registerPendingError);function Que(r){Cj.enqueueTask(Kue.create(r))}const KO="dnd-core/ADD_SOURCE",QO="dnd-core/ADD_TARGET",JO="dnd-core/REMOVE_SOURCE",Zb="dnd-core/REMOVE_TARGET";function Jue(r){return{type:KO,payload:{sourceId:r}}}function ece(r){return{type:QO,payload:{targetId:r}}}function tce(r){return{type:JO,payload:{sourceId:r}}}function rce(r){return{type:Zb,payload:{targetId:r}}}function nce(r){mt(typeof r.canDrag=="function","Expected canDrag to be a function."),mt(typeof r.beginDrag=="function","Expected beginDrag to be a function."),mt(typeof r.endDrag=="function","Expected endDrag to be a function.")}function ice(r){mt(typeof r.canDrop=="function","Expected canDrop to be a function."),mt(typeof r.hover=="function","Expected hover to be a function."),mt(typeof r.drop=="function","Expected beginDrag to be a function.")}function KI(r,t){if(t&&Array.isArray(r)){r.forEach(e=>KI(e,!1));return}mt(typeof r=="string"||typeof r=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var da;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(da||(da={}));let ace=0;function oce(){return ace++}function sce(r){const t=oce().toString();switch(r){case da.SOURCE:return`S${t}`;case da.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function jV(r){switch(r[0]){case"S":return da.SOURCE;case"T":return da.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function ZV(r,t){const e=r.entries();let n=!1;do{const{done:i,value:[,a]}=e.next();if(a===t)return!0;n=!!i}while(!n);return!1}class lce{addSource(t,e){KI(t),nce(e);const n=this.addHandler(da.SOURCE,t,e);return this.store.dispatch(Jue(n)),n}addTarget(t,e){KI(t,!0),ice(e);const n=this.addHandler(da.TARGET,t,e);return this.store.dispatch(ece(n)),n}containsHandler(t){return ZV(this.dragSources,t)||ZV(this.dropTargets,t)}getSource(t,e=!1){return mt(this.isSourceId(t),"Expected a valid source ID."),e&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return mt(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return mt(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return mt(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return jV(t)===da.SOURCE}isTargetId(t){return jV(t)===da.TARGET}removeSource(t){mt(this.getSource(t),"Expected an existing source."),this.store.dispatch(tce(t)),Que(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){mt(this.getTarget(t),"Expected an existing target."),this.store.dispatch(rce(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const e=this.getSource(t);mt(e,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=e}unpinSource(){mt(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,e,n){const i=sce(t);return this.types.set(i,e),t===da.SOURCE?this.dragSources.set(i,n):t===da.TARGET&&this.dropTargets.set(i,n),i}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const uce=(r,t)=>r===t;function cce(r,t){return!r&&!t?!0:!r||!t?!1:r.x===t.x&&r.y===t.y}function fce(r,t,e=uce){if(r.length!==t.length)return!1;for(let n=0;n<r.length;++n)if(!e(r[n],t[n]))return!1;return!0}function hce(r=A0,t){switch(t.type){case Xb:break;case KO:case QO:case Zb:case JO:return A0;case Yb:case jO:case jb:case $b:default:return ZO}const{targetIds:e=[],prevTargetIds:n=[]}=t.payload,i=gue(e,n);if(!(i.length>0||!fce(e,n)))return A0;const o=n[n.length-1],s=e[e.length-1];return o!==s&&(o&&i.push(o),s&&i.push(s)),i}function dce(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function vce(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.forEach(function(i){dce(r,i,e[i])})}return r}const KV={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function pce(r=KV,t){const{payload:e}=t;switch(t.type){case $O:case Yb:return{initialSourceClientOffset:e.sourceClientOffset,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset};case Xb:return cce(r.clientOffset,e.clientOffset)?r:vce({},r,{clientOffset:e.clientOffset});case jb:case $b:return KV;default:return r}}function gce(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function mh(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.forEach(function(i){gce(r,i,e[i])})}return r}const yce={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function mce(r=yce,t){const{payload:e}=t;switch(t.type){case Yb:return mh({},r,{itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublic:e.isSourcePublic,dropResult:null,didDrop:!1});case jO:return mh({},r,{isSourcePublic:!0});case Xb:return mh({},r,{targetIds:e.targetIds});case Zb:return r.targetIds.indexOf(e.targetId)===-1?r:mh({},r,{targetIds:pue(r.targetIds,e.targetId)});case $b:return mh({},r,{dropResult:e.dropResult,didDrop:!0,targetIds:[]});case jb:return mh({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function xce(r=0,t){switch(t.type){case KO:case QO:return r+1;case JO:case Zb:return r-1;default:return r}}function _ce(r=0){return r+1}function bce(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Sce(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.forEach(function(i){bce(r,i,e[i])})}return r}function wce(r={},t){return{dirtyHandlerIds:hce(r.dirtyHandlerIds,{type:t.type,payload:Sce({},t.payload,{prevTargetIds:vue(r,"dragOperation.targetIds",[])})}),dragOffset:pce(r.dragOffset,t),refCount:xce(r.refCount,t),dragOperation:mce(r.dragOperation,t),stateId:_ce(r.stateId)}}function Cce(r,t=void 0,e={},n=!1){const i=Tce(n),a=new que(i,new lce(i)),o=new Fue(i,a),s=r(o,t,e);return o.receiveBackend(s),o}function Tce(r){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return xj(wce,r&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Ace(r,t){if(r==null)return{};var e=Mce(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Mce(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}let QV=0;const sx=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Tj=Ue.memo(function(t){var{children:e}=t,n=Ace(t,["children"]);const[i,a]=Dce(n);return Ue.useEffect(()=>{if(a){const o=Aj();return++QV,()=>{--QV===0&&(o[sx]=null)}}},[]),it.jsx(Gg.Provider,{value:i,children:e})});function Dce(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const t=Ece(r.backend,r.context,r.options,r.debugMode),e=!r.context;return[t,e]}function Ece(r,t=Aj(),e,n){const i=t;return i[sx]||(i[sx]={dragDropManager:Cce(r,t,e,n)}),i[sx]}function Aj(){return typeof global<"u"?global:window}const Ice=Ue.memo(function({connect:t,src:e}){return Ue.useEffect(()=>{if(typeof Image>"u")return;let n=!1;const i=new Image;return i.src=e,i.onload=()=>{t(i),n=!0},()=>{n&&t(null)}}),null});var zA,JV;function Rce(){return JV||(JV=1,zA=function r(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!r(t[i],e[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){var o=a[i];if(!r(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}),zA}var Pce=Rce();const Ac=MO(Pce),nf=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;function Mj(r,t,e){const[n,i]=Ue.useState(()=>t(r)),a=Ue.useCallback(()=>{const o=t(r);Ac(n,o)||(i(o),e&&e())},[n,r,e]);return nf(a),[n,a]}function Oce(r,t,e){const[n,i]=Mj(r,t,e);return nf(function(){const o=r.getHandlerId();if(o!=null)return r.subscribeToStateChange(i,{handlerIds:[o]})},[r,i]),n}function Dj(r,t,e){return Oce(t,r||(()=>({})),()=>e.reconnect())}function Ej(r,t){const e=[...t||[]];return t==null&&typeof r!="function"&&e.push(r),Ue.useMemo(()=>typeof r=="function"?r():r,e)}function Bce(r){return Ue.useMemo(()=>r.hooks.dragSource(),[r])}function kce(r){return Ue.useMemo(()=>r.hooks.dragPreview(),[r])}let FA=!1,HA=!1;class Lce{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){mt(!FA,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return FA=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{FA=!1}}isDragging(){if(!this.sourceId)return!1;mt(!HA,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return HA=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{HA=!1}}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,e){return this.internalMonitor.isOverTarget(t,e)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let GA=!1;class Nce{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}canDrop(){if(!this.targetId)return!1;mt(!GA,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return GA=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{GA=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function Vce(r,t,e){const n=e.getRegistry(),i=n.addTarget(r,t);return[i,()=>n.removeTarget(i)]}function zce(r,t,e){const n=e.getRegistry(),i=n.addSource(r,t);return[i,()=>n.removeSource(i)]}function QI(r,t,e,n){let i;if(i!==void 0)return!!i;if(r===t)return!0;if(typeof r!="object"||!r||typeof t!="object"||!t)return!1;const a=Object.keys(r),o=Object.keys(t);if(a.length!==o.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<a.length;l++){const u=a[l];if(!s(u))return!1;const c=r[u],f=t[u];if(i=void 0,i===!1||i===void 0&&c!==f)return!1}return!0}function JI(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Fce(r){if(typeof r.type=="string")return;const t=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Hce(r){return(t=null,e=null)=>{if(!Ue.isValidElement(t)){const a=t;return r(a,e),a}const n=t;return Fce(n),Gce(n,e?a=>r(a,e):r)}}function Ij(r){const t={};return Object.keys(r).forEach(e=>{const n=r[e];if(e.endsWith("Ref"))t[e]=r[e];else{const i=Hce(n);t[e]=()=>i}}),t}function ez(r,t){typeof r=="function"?r(t):r.current=t}function Gce(r,t){const e=r.ref;return mt(typeof e!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),e?Ue.cloneElement(r,{ref:n=>{ez(e,n),ez(t,n)}}):Ue.cloneElement(r,{ref:t})}class Wce{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return e&&this.disconnectDragSource(),this.handlerId?t?(e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),e):(this.lastConnectedDragSource=t,e):e}reconnectDragPreview(t=!1){const e=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!e){this.lastConnectedDragPreview=e;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!QI(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!QI(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Ij({dragSource:(e,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,JI(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,JI(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Uce{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const e=this.dropTarget;if(this.handlerId){if(!e){this.lastConnectedDropTarget=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=e,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,e,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!QI(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Ij({dropTarget:(e,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,JI(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Cu(){const{dragDropManager:r}=Ue.useContext(Gg);return mt(r!=null,"Expected drag drop context"),r}function qce(r,t){const e=Cu(),n=Ue.useMemo(()=>new Wce(e.getBackend()),[e]);return nf(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),nf(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}function Yce(){const r=Cu();return Ue.useMemo(()=>new Lce(r),[r])}class Xce{beginDrag(){const t=this.spec,e=this.monitor;let n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(e):n={},n??null}canDrag(){const t=this.spec,e=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(e):!0}isDragging(t,e){const n=this.spec,i=this.monitor,{isDragging:a}=n;return a?a(i):e===t.getSourceId()}endDrag(){const t=this.spec,e=this.monitor,n=this.connector,{end:i}=t;i&&i(e.getItem(),e),n.reconnect()}constructor(t,e,n){this.spec=t,this.monitor=e,this.connector=n}}function $ce(r,t,e){const n=Ue.useMemo(()=>new Xce(r,t,e),[t,e]);return Ue.useEffect(()=>{n.spec=r},[r]),n}function jce(r){return Ue.useMemo(()=>{const t=r.type;return mt(t!=null,"spec.type must be defined"),t},[r])}function Zce(r,t,e){const n=Cu(),i=$ce(r,t,e),a=jce(r);nf(function(){if(a!=null){const[s,l]=zce(a,i,n);return t.receiveHandlerId(s),e.receiveHandlerId(s),l}},[n,t,e,i,a])}function Rj(r,t){const e=Ej(r,t);mt(!e.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Yce(),i=qce(e.options,e.previewOptions);return Zce(e,n,i),[Dj(e.collect,n,i),Bce(i),kce(i)]}function Pj(r){const e=Cu().getMonitor(),[n,i]=Mj(e,r);return Ue.useEffect(()=>e.subscribeToOffsetChange(i)),Ue.useEffect(()=>e.subscribeToStateChange(i)),n}function Kce(r){return Ue.useMemo(()=>r.hooks.dropTarget(),[r])}function Qce(r){const t=Cu(),e=Ue.useMemo(()=>new Uce(t.getBackend()),[t]);return nf(()=>(e.dropTargetOptions=r||null,e.reconnect(),()=>e.disconnectDropTarget()),[r]),e}function Jce(){const r=Cu();return Ue.useMemo(()=>new Nce(r),[r])}function efe(r){const{accept:t}=r;return Ue.useMemo(()=>(mt(r.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class tfe{canDrop(){const t=this.spec,e=this.monitor;return t.canDrop?t.canDrop(e.getItem(),e):!0}hover(){const t=this.spec,e=this.monitor;t.hover&&t.hover(e.getItem(),e)}drop(){const t=this.spec,e=this.monitor;if(t.drop)return t.drop(e.getItem(),e)}constructor(t,e){this.spec=t,this.monitor=e}}function rfe(r,t){const e=Ue.useMemo(()=>new tfe(r,t),[t]);return Ue.useEffect(()=>{e.spec=r},[r]),e}function nfe(r,t,e){const n=Cu(),i=rfe(r,t),a=efe(r);nf(function(){const[s,l]=Vce(a,i,n);return t.receiveHandlerId(s),e.receiveHandlerId(s),l},[n,t,i,e,a.map(o=>o.toString()).join("|")])}function Oj(r,t){const e=Ej(r,t),n=Jce(),i=Qce(e.options);return nfe(e,n,i),[Dj(e.collect,n,i),Kce(i)]}const ife=Object.freeze(Object.defineProperty({__proto__:null,DndContext:Gg,DndProvider:Tj,DragPreviewImage:Ice,useDrag:Rj,useDragDropManager:Cu,useDragLayer:Pj,useDrop:Oj},Symbol.toStringTag,{value:"Module"})),Kb=kb(ife);var eB=Ue.createContext(void 0),eR=(r,t)=>({x:r.x-t.x,y:r.y-t.y}),afe=(r,t)=>({x:r.x+t.x,y:r.y+t.y}),ofe=r=>{let t=r.getInitialClientOffset(),e=r.getInitialSourceClientOffset();return t===null||e===null?{x:0,y:0}:eR(t,e)},sfe=(r,t)=>{switch(r){case"left":case"top-start":case"bottom-start":return 0;case"right":case"top-end":case"bottom-end":return t.width;default:return t.width/2}},lfe=(r,t)=>{switch(r){case"top":case"top-start":case"top-end":return 0;case"bottom":case"bottom-start":case"bottom-end":return t.height;default:return t.height/2}},ufe=(r,t,e="center",n={x:0,y:0})=>{let i=r.getClientOffset();if(i===null)return null;if(!t.current||!t.current.getBoundingClientRect)return eR(i,ofe(r));let a=t.current.getBoundingClientRect(),o={x:sfe(e,a),y:lfe(e,a)};return afe(eR(i,o),n)},cfe=r=>{let t=`translate(${r.x.toFixed(1)}px, ${r.y.toFixed(1)}px)`;return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:t,WebkitTransform:t}},Bj=r=>{let t=Ue.useRef(null),e=Pj(n=>({currentOffset:ufe(n,t,r?.placement,r?.padding),isDragging:n.isDragging(),itemType:n.getItemType(),item:n.getItem(),monitor:n}));return!e.isDragging||e.currentOffset===null?{display:!1}:{display:!0,itemType:e.itemType,item:e.item,style:cfe(e.currentOffset),monitor:e.monitor,ref:t}},ffe=r=>{let t=Bj({placement:r.placement,padding:r.padding});if(!t.display)return null;let{display:e,...n}=t,i;return"children"in r?typeof r.children=="function"?i=r.children(n):i=r.children:i=r.generator(n),it.jsx(eB.Provider,{value:n,children:i})},hfe=V$(),kj=Ue.createContext(null),dfe=({portal:r,...t})=>{let[e,n]=Ue.useState(null);return it.jsxs(kj.Provider,{value:r??e,children:[it.jsx(Tj,{backend:gj,...t}),r?null:it.jsx("div",{ref:n})]})},Lj=()=>{let[r,t]=Ue.useState(!1),e=Ue.useContext(Gg);return Ue.useEffect(()=>{let n=e?.dragDropManager?.getBackend(),i={backendChanged:a=>{t(a.previewEnabled())}};return t(n.previewEnabled()),n.previewsList().register(i),()=>{n.previewsList().unregister(i)}},[e,e.dragDropManager]),r},Nj=r=>{let t=Lj(),e=Ue.useContext(kj);if(!t)return null;let n=it.jsx(ffe,{...r});return e!==null?hfe.createPortal(n,e):n};Nj.Context=eB;var vfe=(r,t,e,n)=>{let i=e.getBackend();e.receiveBackend(n);let a=t(r);return e.receiveBackend(i),a},Vj=(r,t)=>{let e=Ue.useContext(Gg),n=e?.dragDropManager?.getBackend();if(n===void 0)throw new Error("could not find backend, make sure you are using a <DndProvider />");let i=t(r),a={},o=n.backendsList();for(let s of o)a[s.id]=vfe(r,t,e.dragDropManager,s.instance);return[i,a]},pfe=r=>Vj(r,Rj),gfe=r=>Vj(r,Oj),yfe=r=>{let t=Lj(),e=Bj(r);return t?e:{display:!1}};const mfe=Object.freeze(Object.defineProperty({__proto__:null,DndProvider:dfe,HTML5DragTransition:lue,MouseTransition:uue,MultiBackend:gj,PointerTransition:mj,Preview:Nj,PreviewContext:eB,TouchTransition:yj,createTransition:Hg,useMultiDrag:pfe,useMultiDrop:gfe,usePreview:yfe},Symbol.toStringTag,{value:"Module"})),xfe=kb(mfe);var WA={},Qv={},Bm={},tz;function zj(){if(tz)return Bm;tz=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.default=e;let r;const t=new Uint8Array(16);function e(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(t)}return Bm}var xh={},Jv={},ep={},rz;function _fe(){if(rz)return ep;rz=1,Object.defineProperty(ep,"__esModule",{value:!0}),ep.default=void 0;var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return ep.default=r,ep}var nz;function Qb(){if(nz)return Jv;nz=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.default=void 0;var r=t(_fe());function t(i){return i&&i.__esModule?i:{default:i}}function e(i){return typeof i=="string"&&r.default.test(i)}var n=e;return Jv.default=n,Jv}var iz;function Jb(){if(iz)return xh;iz=1,Object.defineProperty(xh,"__esModule",{value:!0}),xh.default=void 0,xh.unsafeStringify=n;var r=t(Qb());function t(o){return o&&o.__esModule?o:{default:o}}const e=[];for(let o=0;o<256;++o)e.push((o+256).toString(16).slice(1));function n(o,s=0){return e[o[s+0]]+e[o[s+1]]+e[o[s+2]]+e[o[s+3]]+"-"+e[o[s+4]]+e[o[s+5]]+"-"+e[o[s+6]]+e[o[s+7]]+"-"+e[o[s+8]]+e[o[s+9]]+"-"+e[o[s+10]]+e[o[s+11]]+e[o[s+12]]+e[o[s+13]]+e[o[s+14]]+e[o[s+15]]}function i(o,s=0){const l=n(o,s);if(!(0,r.default)(l))throw TypeError("Stringified UUID is invalid");return l}var a=i;return xh.default=a,xh}var az;function bfe(){if(az)return Qv;az=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.default=void 0;var r=e(zj()),t=Jb();function e(u){return u&&u.__esModule?u:{default:u}}let n,i,a=0,o=0;function s(u,c,f){let d=c&&f||0;const h=c||new Array(16);u=u||{};let v=u.node||n,g=u.clockseq!==void 0?u.clockseq:i;if(v==null||g==null){const T=u.random||(u.rng||r.default)();v==null&&(v=n=[T[0]|1,T[1],T[2],T[3],T[4],T[5]]),g==null&&(g=i=(T[6]<<8|T[7])&16383)}let m=u.msecs!==void 0?u.msecs:Date.now(),x=u.nsecs!==void 0?u.nsecs:o+1;const _=m-a+(x-o)/1e4;if(_<0&&u.clockseq===void 0&&(g=g+1&16383),(_<0||m>a)&&u.nsecs===void 0&&(x=0),x>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,o=x,i=g,m+=122192928e5;const b=((m&268435455)*1e4+x)%4294967296;h[d++]=b>>>24&255,h[d++]=b>>>16&255,h[d++]=b>>>8&255,h[d++]=b&255;const w=m/4294967296*1e4&268435455;h[d++]=w>>>8&255,h[d++]=w&255,h[d++]=w>>>24&15|16,h[d++]=w>>>16&255,h[d++]=g>>>8|128,h[d++]=g&255;for(let T=0;T<6;++T)h[d+T]=v[T];return c||(0,t.unsafeStringify)(h)}var l=s;return Qv.default=l,Qv}var tp={},Bl={},rp={},oz;function Fj(){if(oz)return rp;oz=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.default=void 0;var r=t(Qb());function t(i){return i&&i.__esModule?i:{default:i}}function e(i){if(!(0,r.default)(i))throw TypeError("Invalid UUID");let a;const o=new Uint8Array(16);return o[0]=(a=parseInt(i.slice(0,8),16))>>>24,o[1]=a>>>16&255,o[2]=a>>>8&255,o[3]=a&255,o[4]=(a=parseInt(i.slice(9,13),16))>>>8,o[5]=a&255,o[6]=(a=parseInt(i.slice(14,18),16))>>>8,o[7]=a&255,o[8]=(a=parseInt(i.slice(19,23),16))>>>8,o[9]=a&255,o[10]=(a=parseInt(i.slice(24,36),16))/1099511627776&255,o[11]=a/4294967296&255,o[12]=a>>>24&255,o[13]=a>>>16&255,o[14]=a>>>8&255,o[15]=a&255,o}var n=e;return rp.default=n,rp}var sz;function Hj(){if(sz)return Bl;sz=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.URL=Bl.DNS=void 0,Bl.default=o;var r=Jb(),t=e(Fj());function e(s){return s&&s.__esModule?s:{default:s}}function n(s){s=unescape(encodeURIComponent(s));const l=[];for(let u=0;u<s.length;++u)l.push(s.charCodeAt(u));return l}const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Bl.DNS=i;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Bl.URL=a;function o(s,l,u){function c(f,d,h,v){var g;if(typeof f=="string"&&(f=n(f)),typeof d=="string"&&(d=(0,t.default)(d)),((g=d)===null||g===void 0?void 0:g.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+f.length);if(m.set(d),m.set(f,d.length),m=u(m),m[6]=m[6]&15|l,m[8]=m[8]&63|128,h){v=v||0;for(let x=0;x<16;++x)h[v+x]=m[x];return h}return(0,r.unsafeStringify)(m)}try{c.name=s}catch{}return c.DNS=i,c.URL=a,c}return Bl}var np={},lz;function Sfe(){if(lz)return np;lz=1,Object.defineProperty(np,"__esModule",{value:!0}),np.default=void 0;function r(h){if(typeof h=="string"){const v=unescape(encodeURIComponent(h));h=new Uint8Array(v.length);for(let g=0;g<v.length;++g)h[g]=v.charCodeAt(g)}return t(n(i(h),h.length*8))}function t(h){const v=[],g=h.length*32,m="0123456789abcdef";for(let x=0;x<g;x+=8){const _=h[x>>5]>>>x%32&255,b=parseInt(m.charAt(_>>>4&15)+m.charAt(_&15),16);v.push(b)}return v}function e(h){return(h+64>>>9<<4)+14+1}function n(h,v){h[v>>5]|=128<<v%32,h[e(v)-1]=v;let g=1732584193,m=-271733879,x=-1732584194,_=271733878;for(let b=0;b<h.length;b+=16){const w=g,T=m,A=x,M=_;g=l(g,m,x,_,h[b],7,-680876936),_=l(_,g,m,x,h[b+1],12,-389564586),x=l(x,_,g,m,h[b+2],17,606105819),m=l(m,x,_,g,h[b+3],22,-1044525330),g=l(g,m,x,_,h[b+4],7,-176418897),_=l(_,g,m,x,h[b+5],12,1200080426),x=l(x,_,g,m,h[b+6],17,-1473231341),m=l(m,x,_,g,h[b+7],22,-45705983),g=l(g,m,x,_,h[b+8],7,1770035416),_=l(_,g,m,x,h[b+9],12,-1958414417),x=l(x,_,g,m,h[b+10],17,-42063),m=l(m,x,_,g,h[b+11],22,-1990404162),g=l(g,m,x,_,h[b+12],7,1804603682),_=l(_,g,m,x,h[b+13],12,-40341101),x=l(x,_,g,m,h[b+14],17,-1502002290),m=l(m,x,_,g,h[b+15],22,1236535329),g=u(g,m,x,_,h[b+1],5,-165796510),_=u(_,g,m,x,h[b+6],9,-1069501632),x=u(x,_,g,m,h[b+11],14,643717713),m=u(m,x,_,g,h[b],20,-373897302),g=u(g,m,x,_,h[b+5],5,-701558691),_=u(_,g,m,x,h[b+10],9,38016083),x=u(x,_,g,m,h[b+15],14,-660478335),m=u(m,x,_,g,h[b+4],20,-405537848),g=u(g,m,x,_,h[b+9],5,568446438),_=u(_,g,m,x,h[b+14],9,-1019803690),x=u(x,_,g,m,h[b+3],14,-187363961),m=u(m,x,_,g,h[b+8],20,1163531501),g=u(g,m,x,_,h[b+13],5,-1444681467),_=u(_,g,m,x,h[b+2],9,-51403784),x=u(x,_,g,m,h[b+7],14,1735328473),m=u(m,x,_,g,h[b+12],20,-1926607734),g=c(g,m,x,_,h[b+5],4,-378558),_=c(_,g,m,x,h[b+8],11,-2022574463),x=c(x,_,g,m,h[b+11],16,1839030562),m=c(m,x,_,g,h[b+14],23,-35309556),g=c(g,m,x,_,h[b+1],4,-1530992060),_=c(_,g,m,x,h[b+4],11,1272893353),x=c(x,_,g,m,h[b+7],16,-155497632),m=c(m,x,_,g,h[b+10],23,-1094730640),g=c(g,m,x,_,h[b+13],4,681279174),_=c(_,g,m,x,h[b],11,-358537222),x=c(x,_,g,m,h[b+3],16,-722521979),m=c(m,x,_,g,h[b+6],23,76029189),g=c(g,m,x,_,h[b+9],4,-640364487),_=c(_,g,m,x,h[b+12],11,-421815835),x=c(x,_,g,m,h[b+15],16,530742520),m=c(m,x,_,g,h[b+2],23,-995338651),g=f(g,m,x,_,h[b],6,-198630844),_=f(_,g,m,x,h[b+7],10,1126891415),x=f(x,_,g,m,h[b+14],15,-1416354905),m=f(m,x,_,g,h[b+5],21,-57434055),g=f(g,m,x,_,h[b+12],6,1700485571),_=f(_,g,m,x,h[b+3],10,-1894986606),x=f(x,_,g,m,h[b+10],15,-1051523),m=f(m,x,_,g,h[b+1],21,-2054922799),g=f(g,m,x,_,h[b+8],6,1873313359),_=f(_,g,m,x,h[b+15],10,-30611744),x=f(x,_,g,m,h[b+6],15,-1560198380),m=f(m,x,_,g,h[b+13],21,1309151649),g=f(g,m,x,_,h[b+4],6,-145523070),_=f(_,g,m,x,h[b+11],10,-1120210379),x=f(x,_,g,m,h[b+2],15,718787259),m=f(m,x,_,g,h[b+9],21,-343485551),g=a(g,w),m=a(m,T),x=a(x,A),_=a(_,M)}return[g,m,x,_]}function i(h){if(h.length===0)return[];const v=h.length*8,g=new Uint32Array(e(v));for(let m=0;m<v;m+=8)g[m>>5]|=(h[m/8]&255)<<m%32;return g}function a(h,v){const g=(h&65535)+(v&65535);return(h>>16)+(v>>16)+(g>>16)<<16|g&65535}function o(h,v){return h<<v|h>>>32-v}function s(h,v,g,m,x,_){return a(o(a(a(v,h),a(m,_)),x),g)}function l(h,v,g,m,x,_,b){return s(v&g|~v&m,h,v,x,_,b)}function u(h,v,g,m,x,_,b){return s(v&m|g&~m,h,v,x,_,b)}function c(h,v,g,m,x,_,b){return s(v^g^m,h,v,x,_,b)}function f(h,v,g,m,x,_,b){return s(g^(v|~m),h,v,x,_,b)}var d=r;return np.default=d,np}var uz;function wfe(){if(uz)return tp;uz=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.default=void 0;var r=e(Hj()),t=e(Sfe());function e(a){return a&&a.__esModule?a:{default:a}}var i=(0,r.default)("v3",48,t.default);return tp.default=i,tp}var ip={},ap={},cz;function Cfe(){if(cz)return ap;cz=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return ap.default=t,ap}var fz;function Tfe(){if(fz)return ip;fz=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.default=void 0;var r=n(Cfe()),t=n(zj()),e=Jb();function n(o){return o&&o.__esModule?o:{default:o}}function i(o,s,l){if(r.default.randomUUID&&!s&&!o)return r.default.randomUUID();o=o||{};const u=o.random||(o.rng||t.default)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,s){l=l||0;for(let c=0;c<16;++c)s[l+c]=u[c];return s}return(0,e.unsafeStringify)(u)}var a=i;return ip.default=a,ip}var op={},sp={},hz;function Afe(){if(hz)return sp;hz=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.default=void 0;function r(i,a,o,s){switch(i){case 0:return a&o^~a&s;case 1:return a^o^s;case 2:return a&o^a&s^o&s;case 3:return a^o^s}}function t(i,a){return i<<a|i>>>32-a}function e(i){const a=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const c=unescape(encodeURIComponent(i));i=[];for(let f=0;f<c.length;++f)i.push(c.charCodeAt(f))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const s=i.length/4+2,l=Math.ceil(s/16),u=new Array(l);for(let c=0;c<l;++c){const f=new Uint32Array(16);for(let d=0;d<16;++d)f[d]=i[c*64+d*4]<<24|i[c*64+d*4+1]<<16|i[c*64+d*4+2]<<8|i[c*64+d*4+3];u[c]=f}u[l-1][14]=(i.length-1)*8/Math.pow(2,32),u[l-1][14]=Math.floor(u[l-1][14]),u[l-1][15]=(i.length-1)*8&4294967295;for(let c=0;c<l;++c){const f=new Uint32Array(80);for(let x=0;x<16;++x)f[x]=u[c][x];for(let x=16;x<80;++x)f[x]=t(f[x-3]^f[x-8]^f[x-14]^f[x-16],1);let d=o[0],h=o[1],v=o[2],g=o[3],m=o[4];for(let x=0;x<80;++x){const _=Math.floor(x/20),b=t(d,5)+r(_,h,v,g)+m+a[_]+f[x]>>>0;m=g,g=v,v=t(h,30)>>>0,h=d,d=b}o[0]=o[0]+d>>>0,o[1]=o[1]+h>>>0,o[2]=o[2]+v>>>0,o[3]=o[3]+g>>>0,o[4]=o[4]+m>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,o[0]&255,o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,o[1]&255,o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,o[2]&255,o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,o[3]&255,o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,o[4]&255]}var n=e;return sp.default=n,sp}var dz;function Mfe(){if(dz)return op;dz=1,Object.defineProperty(op,"__esModule",{value:!0}),op.default=void 0;var r=e(Hj()),t=e(Afe());function e(a){return a&&a.__esModule?a:{default:a}}var i=(0,r.default)("v5",80,t.default);return op.default=i,op}var lp={},vz;function Dfe(){if(vz)return lp;vz=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.default=void 0;var r="00000000-0000-0000-0000-000000000000";return lp.default=r,lp}var up={},pz;function Efe(){if(pz)return up;pz=1,Object.defineProperty(up,"__esModule",{value:!0}),up.default=void 0;var r=t(Qb());function t(i){return i&&i.__esModule?i:{default:i}}function e(i){if(!(0,r.default)(i))throw TypeError("Invalid UUID");return parseInt(i.slice(14,15),16)}var n=e;return up.default=n,up}var gz;function Ife(){return gz||(gz=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return o.default}});var t=c(bfe()),e=c(wfe()),n=c(Tfe()),i=c(Mfe()),a=c(Dfe()),o=c(Efe()),s=c(Qb()),l=c(Jb()),u=c(Fj());function c(f){return f&&f.__esModule?f:{default:f}}})(WA)),WA}var gs={},yz;function Ea(){if(yz)return gs;yz=1;var r=gs&&gs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0}),gs.MosaicWindowContext=gs.MosaicContext=void 0;var t=r(rn());return gs.MosaicContext=t.default.createContext(void 0),gs.MosaicWindowContext=t.default.createContext(void 0),gs}var Va={},UA,mz;function Rfe(){if(mz)return UA;mz=1;var r=kd(),t=Lb(),e=Da(),n=r?r.isConcatSpreadable:void 0;function i(a){return e(a)||t(a)||!!(n&&a&&a[n])}return UA=i,UA}var qA,xz;function Pfe(){if(xz)return qA;xz=1;var r=VO(),t=Rfe();function e(n,i,a,o,s){var l=-1,u=n.length;for(a||(a=t),s||(s=[]);++l<u;){var c=n[l];i>0&&a(c)?i>1?e(c,i-1,a,o,s):r(s,c):o||(s[s.length]=c)}return s}return qA=e,qA}var YA,_z;function Ofe(){if(_z)return YA;_z=1;var r=Pfe();function t(e){var n=e==null?0:e.length;return n?r(e,1):[]}return YA=t,YA}var za={},XA,bz;function Bfe(){if(bz)return XA;bz=1;function r(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}return XA=r,XA}var $A,Sz;function kfe(){if(Sz)return $A;Sz=1;var r=/\s/;function t(e){for(var n=e.length;n--&&r.test(e.charAt(n)););return n}return $A=t,$A}var jA,wz;function Lfe(){if(wz)return jA;wz=1;var r=kfe(),t=/^\s+/;function e(n){return n&&n.slice(0,r(n)+1).replace(t,"")}return jA=e,jA}var ZA,Cz;function tB(){if(Cz)return ZA;Cz=1;var r=Lfe(),t=Yo(),e=Ub(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(e(u))return n;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=r(u);var f=a.test(u);return f||o.test(u)?s(u.slice(2),f?2:8):i.test(u)?n:+u}return ZA=l,ZA}var KA,Tz;function Nfe(){if(Tz)return KA;Tz=1;var r=Bfe(),t=tB();function e(n,i,a){return a===void 0&&(a=i,i=void 0),a!==void 0&&(a=t(a),a=a===a?a:0),i!==void 0&&(i=t(i),i=i===i?i:0),r(t(n),i,a)}return KA=e,KA}var QA,Az;function Vfe(){if(Az)return QA;Az=1;var r=io(),t=function(){return r.Date.now()};return QA=t,QA}var JA,Mz;function zfe(){if(Mz)return JA;Mz=1;var r=Yo(),t=Vfe(),e=tB(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var c,f,d,h,v,g,m=0,x=!1,_=!1,b=!0;if(typeof s!="function")throw new TypeError(n);l=e(l)||0,r(u)&&(x=!!u.leading,_="maxWait"in u,d=_?i(e(u.maxWait)||0,l):d,b="trailing"in u?!!u.trailing:b);function w(O){var V=c,N=f;return c=f=void 0,m=O,h=s.apply(N,V),h}function T(O){return m=O,v=setTimeout(D,l),x?w(O):h}function A(O){var V=O-g,N=O-m,L=l-V;return _?a(L,d-N):L}function M(O){var V=O-g,N=O-m;return g===void 0||V>=l||V<0||_&&N>=d}function D(){var O=t();if(M(O))return P(O);v=setTimeout(D,A(O))}function P(O){return v=void 0,b&&c?w(O):(c=f=void 0,h)}function I(){v!==void 0&&clearTimeout(v),m=0,c=g=f=v=void 0}function R(){return v===void 0?h:P(t())}function k(){var O=t(),V=M(O);if(c=arguments,f=this,g=O,V){if(v===void 0)return T(g);if(_)return clearTimeout(v),v=setTimeout(D,l),w(g)}return v===void 0&&(v=setTimeout(D,l)),h}return k.cancel=I,k.flush=R,k}return JA=o,JA}var eM,Dz;function Ffe(){if(Dz)return eM;Dz=1;var r=zfe(),t=Yo(),e="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(e);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),r(i,a,{leading:s,maxWait:a,trailing:l})}return eM=n,eM}var cp={},fp={},Ez;function Hfe(){if(Ez)return fp;Ez=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.assertNever=void 0;function r(t){throw new Error("Unhandled case: "+JSON.stringify(t))}return fp.assertNever=r,fp}var Iz;function Gj(){return Iz||(Iz=1,(function(r){var t=cp&&cp.__assign||function(){return t=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0}),r.BoundingBox=void 0;var e=Hfe();(function(n){function i(){return{top:0,right:0,bottom:0,left:0}}n.empty=i;function a(u,c,f){var d=o(u,c,f);return f==="column"?{first:t(t({},u),{bottom:100-d}),second:t(t({},u),{top:d})}:f==="row"?{first:t(t({},u),{right:100-d}),second:t(t({},u),{left:d})}:(0,e.assertNever)(f)}n.split=a;function o(u,c,f){var d=u.top,h=u.right,v=u.bottom,g=u.left;if(f==="column"){var m=100-d-v;return m*c/100+d}else if(f==="row"){var x=100-h-g;return x*c/100+g}else return(0,e.assertNever)(f)}n.getAbsoluteSplitPercentage=o;function s(u,c,f){var d=u.top,h=u.right,v=u.bottom,g=u.left;if(f==="column"){var m=100-d-v;return(c-d)/m*100}else if(f==="row"){var x=100-h-g;return(c-g)/x*100}else return(0,e.assertNever)(f)}n.getRelativeSplitPercentage=s;function l(u){var c=u.top,f=u.right,d=u.bottom,h=u.left;return{top:"".concat(c,"%"),right:"".concat(f,"%"),bottom:"".concat(d,"%"),left:"".concat(h,"%")}}n.asStyles=l})(r.BoundingBox||(r.BoundingBox={}))})(cp)),cp}var Rz;function Gfe(){if(Rz)return za;Rz=1;var r=za&&za.__extends||(function(){var d=function(h,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(g[x]=m[x])},d(h,v)};return function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(h,v);function g(){this.constructor=h}h.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}})(),t=za&&za.__assign||function(){return t=Object.assign||function(d){for(var h,v=1,g=arguments.length;v<g;v++){h=arguments[v];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(d[m]=h[m])}return d},t.apply(this,arguments)},e=za&&za.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(za,"__esModule",{value:!0}),za.Split=void 0;var n=e(Ma()),i=e(Nfe()),a=e(Ffe()),o=e(rn()),s=Gj(),l=1e3/30,u={capture:!0,passive:!1},c=(function(d){r(h,d);function h(){var v=d!==null&&d.apply(this,arguments)||this;return v.rootElement=o.default.createRef(),v.listenersBound=!1,v.onMouseDown=function(g){!f(g)&&g.button!==0||(g.preventDefault(),v.bindListeners())},v.onMouseUp=function(g){v.unbindListeners();var m=v.calculateRelativePercentage(g);v.props.onRelease(m)},v.onMouseMove=function(g){g.preventDefault(),v.throttledUpdatePercentage(g)},v.throttledUpdatePercentage=(0,a.default)(function(g){var m=v.calculateRelativePercentage(g);m!==v.props.splitPercentage&&v.props.onChange(m)},l),v}return h.prototype.render=function(){var v=this.props.direction;return o.default.createElement("div",{className:(0,n.default)("mosaic-split",{"-row":v==="row","-column":v==="column"}),ref:this.rootElement,onMouseDown:this.onMouseDown,style:this.computeStyle()},o.default.createElement("div",{className:"mosaic-split-line"}))},h.prototype.componentDidMount=function(){this.rootElement.current.addEventListener("touchstart",this.onMouseDown,u)},h.prototype.componentWillUnmount=function(){this.unbindListeners(),this.rootElement.current&&this.rootElement.current.ownerDocument.removeEventListener("touchstart",this.onMouseDown,u)},h.prototype.bindListeners=function(){this.listenersBound||(this.rootElement.current.ownerDocument.addEventListener("mousemove",this.onMouseMove,!0),this.rootElement.current.ownerDocument.addEventListener("touchmove",this.onMouseMove,u),this.rootElement.current.ownerDocument.addEventListener("mouseup",this.onMouseUp,!0),this.rootElement.current.ownerDocument.addEventListener("touchend",this.onMouseUp,!0),this.listenersBound=!0)},h.prototype.unbindListeners=function(){this.rootElement.current&&(this.rootElement.current.ownerDocument.removeEventListener("mousemove",this.onMouseMove,!0),this.rootElement.current.ownerDocument.removeEventListener("touchmove",this.onMouseMove,u),this.rootElement.current.ownerDocument.removeEventListener("mouseup",this.onMouseUp,!0),this.rootElement.current.ownerDocument.removeEventListener("touchend",this.onMouseUp,!0),this.listenersBound=!1)},h.prototype.computeStyle=function(){var v,g=this.props,m=g.boundingBox,x=g.direction,_=g.splitPercentage,b=x==="column"?"top":"left",w=s.BoundingBox.getAbsoluteSplitPercentage(m,_,x);return t(t({},s.BoundingBox.asStyles(m)),(v={},v[b]="".concat(w,"%"),v))},h.prototype.calculateRelativePercentage=function(v){var g=this.props,m=g.minimumPaneSizePercentage,x=g.direction,_=g.boundingBox,b=this.rootElement.current.parentElement.getBoundingClientRect(),w=f(v)?v.changedTouches[0]:v,T;x==="column"?T=(w.clientY-b.top)/b.height*100:T=(w.clientX-b.left)/b.width*100;var A=s.BoundingBox.getRelativeSplitPercentage(_,T,x);return(0,i.default)(A,m,100-m)},h.defaultProps={onChange:function(){},onRelease:function(){},minimumPaneSizePercentage:20},h})(o.default.PureComponent);za.Split=c;function f(d){return d.changedTouches!=null}return za}var hp={},tM,Pz;function Wfe(){if(Pz)return tM;Pz=1;function r(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}return tM=r,tM}var rM,Oz;function eS(){if(Oz)return rM;Oz=1;var r=YO(),t=DO();function e(n,i,a,o){var s=!a;a||(a={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=o?o(a[c],n[c],c,a,n):void 0;f===void 0&&(f=n[c]),s?t(a,c,f):r(a,c,f)}return a}return rM=e,rM}var nM,Bz;function Ufe(){if(Bz)return nM;Bz=1;var r=eS(),t=bf();function e(n,i){return n&&r(i,t(i),n)}return nM=e,nM}var iM,kz;function qfe(){if(kz)return iM;kz=1;var r=eS(),t=XO();function e(n,i){return n&&r(i,t(i),n)}return iM=e,iM}var u0={exports:{}};u0.exports;var Lz;function Yfe(){return Lz||(Lz=1,(function(r,t){var e=io(),n=t&&!t.nodeType&&t,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,o=a?e.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}r.exports=l})(u0,u0.exports)),u0.exports}var aM,Nz;function Xfe(){if(Nz)return aM;Nz=1;function r(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}return aM=r,aM}var oM,Vz;function $fe(){if(Vz)return oM;Vz=1;var r=eS(),t=zO();function e(n,i){return r(n,t(n),i)}return oM=e,oM}var sM,zz;function jfe(){if(zz)return sM;zz=1;var r=eS(),t=nj();function e(n,i){return r(n,t(n),i)}return sM=e,sM}var lM,Fz;function Zfe(){if(Fz)return lM;Fz=1;var r=Object.prototype,t=r.hasOwnProperty;function e(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&t.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return lM=e,lM}var uM,Hz;function rB(){if(Hz)return uM;Hz=1;var r=X$();function t(e){var n=new e.constructor(e.byteLength);return new r(n).set(new r(e)),n}return uM=t,uM}var cM,Gz;function Kfe(){if(Gz)return cM;Gz=1;var r=rB();function t(e,n){var i=n?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}return cM=t,cM}var fM,Wz;function Qfe(){if(Wz)return fM;Wz=1;var r=/\w*$/;function t(e){var n=new e.constructor(e.source,r.exec(e));return n.lastIndex=e.lastIndex,n}return fM=t,fM}var hM,Uz;function Jfe(){if(Uz)return hM;Uz=1;var r=kd(),t=r?r.prototype:void 0,e=t?t.valueOf:void 0;function n(i){return e?Object(e.call(i)):{}}return hM=n,hM}var dM,qz;function ehe(){if(qz)return dM;qz=1;var r=rB();function t(e,n){var i=n?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}return dM=t,dM}var vM,Yz;function the(){if(Yz)return vM;Yz=1;var r=rB(),t=Kfe(),e=Qfe(),n=Jfe(),i=ehe(),a="[object Boolean]",o="[object Date]",s="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",m="[object Float64Array]",x="[object Int8Array]",_="[object Int16Array]",b="[object Int32Array]",w="[object Uint8Array]",T="[object Uint8ClampedArray]",A="[object Uint16Array]",M="[object Uint32Array]";function D(P,I,R){var k=P.constructor;switch(I){case h:return r(P);case a:case o:return new k(+P);case v:return t(P,R);case g:case m:case x:case _:case b:case w:case T:case A:case M:return i(P,R);case s:return new k;case l:case f:return new k(P);case u:return e(P);case c:return new k;case d:return n(P)}}return vM=D,vM}var pM,Xz;function rhe(){if(Xz)return pM;Xz=1;var r=Yo(),t=Object.create,e=(function(){function n(){}return function(i){if(!r(i))return{};if(t)return t(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}})();return pM=e,pM}var gM,$z;function nhe(){if($z)return gM;$z=1;var r=rhe(),t=rj(),e=Vb();function n(i){return typeof i.constructor=="function"&&!e(i)?r(t(i)):{}}return gM=n,gM}var yM,jz;function ihe(){if(jz)return yM;jz=1;var r=zg(),t=_f(),e="[object Map]";function n(i){return t(i)&&r(i)==e}return yM=n,yM}var mM,Zz;function ahe(){if(Zz)return mM;Zz=1;var r=ihe(),t=RO(),e=PO(),n=e&&e.isMap,i=n?t(n):r;return mM=i,mM}var xM,Kz;function ohe(){if(Kz)return xM;Kz=1;var r=zg(),t=_f(),e="[object Set]";function n(i){return t(i)&&r(i)==e}return xM=n,xM}var _M,Qz;function she(){if(Qz)return _M;Qz=1;var r=ohe(),t=RO(),e=PO(),n=e&&e.isSet,i=n?t(n):r;return _M=i,_M}var bM,Jz;function lhe(){if(Jz)return bM;Jz=1;var r=NO(),t=Wfe(),e=YO(),n=Ufe(),i=qfe(),a=Yfe(),o=Xfe(),s=$fe(),l=jfe(),u=Z$(),c=ij(),f=zg(),d=Zfe(),h=the(),v=nhe(),g=Da(),m=Nb(),x=ahe(),_=Yo(),b=she(),w=bf(),T=XO(),A=1,M=2,D=4,P="[object Arguments]",I="[object Array]",R="[object Boolean]",k="[object Date]",O="[object Error]",V="[object Function]",N="[object GeneratorFunction]",L="[object Map]",G="[object Number]",W="[object Object]",U="[object RegExp]",Z="[object Set]",F="[object String]",q="[object Symbol]",$="[object WeakMap]",K="[object ArrayBuffer]",re="[object DataView]",ce="[object Float32Array]",pe="[object Float64Array]",de="[object Int8Array]",ge="[object Int16Array]",Ce="[object Int32Array]",xe="[object Uint8Array]",we="[object Uint8ClampedArray]",Pe="[object Uint16Array]",De="[object Uint32Array]",Ae={};Ae[P]=Ae[I]=Ae[K]=Ae[re]=Ae[R]=Ae[k]=Ae[ce]=Ae[pe]=Ae[de]=Ae[ge]=Ae[Ce]=Ae[L]=Ae[G]=Ae[W]=Ae[U]=Ae[Z]=Ae[F]=Ae[q]=Ae[xe]=Ae[we]=Ae[Pe]=Ae[De]=!0,Ae[O]=Ae[V]=Ae[$]=!1;function Xe(Ne,St,tt,wt,xt,dt){var Ee,Lt=St&A,pr=St&M,Yr=St&D;if(tt&&(Ee=xt?tt(Ne,wt,xt,dt):tt(Ne)),Ee!==void 0)return Ee;if(!_(Ne))return Ne;var xr=g(Ne);if(xr){if(Ee=d(Ne),!Lt)return o(Ne,Ee)}else{var _r=f(Ne),xi=_r==V||_r==N;if(m(Ne))return a(Ne,Lt);if(_r==W||_r==P||xi&&!xt){if(Ee=pr||xi?{}:v(Ne),!Lt)return pr?l(Ne,i(Ee,Ne)):s(Ne,n(Ee,Ne))}else{if(!Ae[_r])return xt?Ne:{};Ee=h(Ne,_r,Lt)}}dt||(dt=new r);var ei=dt.get(Ne);if(ei)return ei;dt.set(Ne,Ee),b(Ne)?Ne.forEach(function(nr){Ee.add(Xe(nr,St,tt,nr,Ne,dt))}):x(Ne)&&Ne.forEach(function(nr,Nt){Ee.set(Nt,Xe(nr,St,tt,Nt,Ne,dt))});var ti=Yr?pr?c:u:pr?T:w,On=xr?void 0:ti(Ne);return t(On||Ne,function(nr,Nt){On&&(Nt=nr,nr=Ne[Nt]),e(Ee,Nt,Xe(nr,St,tt,Nt,Ne,dt))}),Ee}return bM=Xe,bM}var SM,eF;function uhe(){if(eF)return SM;eF=1;var r=lhe(),t=4;function e(n){return r(n,t)}return SM=e,SM}var tF;function tS(){return tF||(tF=1,(function(r){var t=hp&&hp.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(r,"__esModule",{value:!0}),r.getAndAssertNodeAtPathExists=r.getNodeAtPath=r.getLeaves=r.getPathToCorner=r.getOtherDirection=r.getOtherBranch=r.createBalancedTreeFromLeaves=r.isParent=r.Corner=void 0;var e=t(uhe()),n=t(J$());function i(v,g){if(g===void 0&&(g="row"),o(v)){var m=u(g);return{direction:g,first:i(v.first,m),second:i(v.second,m)}}else return v}var a;(function(v){v[v.TOP_LEFT=1]="TOP_LEFT",v[v.TOP_RIGHT=2]="TOP_RIGHT",v[v.BOTTOM_LEFT=3]="BOTTOM_LEFT",v[v.BOTTOM_RIGHT=4]="BOTTOM_RIGHT"})(a=r.Corner||(r.Corner={}));function o(v){return v.direction!=null}r.isParent=o;function s(v,g){if(g===void 0&&(g="row"),v.length===0)return null;for(var m=(0,e.default)(v),x=[];m.length>1;){for(;m.length>0;)m.length>1?x.push({direction:"row",first:m.shift(),second:m.shift()}):x.unshift(m.shift());m=x,x=[]}return i(m[0],g)}r.createBalancedTreeFromLeaves=s;function l(v){if(v==="first")return"second";if(v==="second")return"first";throw new Error("Branch '".concat(v,"' not a valid branch"))}r.getOtherBranch=l;function u(v){return v==="row"?"column":"row"}r.getOtherDirection=u;function c(v,g){for(var m=v,x=[];o(m);)m.direction==="row"&&(g===a.TOP_LEFT||g===a.BOTTOM_LEFT)||m.direction==="column"&&(g===a.TOP_LEFT||g===a.TOP_RIGHT)?(x.push("first"),m=m.first):(x.push("second"),m=m.second);return x}r.getPathToCorner=c;function f(v){return v==null?[]:o(v)?f(v.first).concat(f(v.second)):[v]}r.getLeaves=f;function d(v,g){return g.length>0?(0,n.default)(v,g,null):v}r.getNodeAtPath=d;function h(v,g){if(v==null)throw new Error("Root is empty, cannot fetch path");var m=d(v,g);if(m==null)throw new Error("Path [".concat(g.join(", "),"] did not resolve to a node"));return m}r.getAndAssertNodeAtPathExists=h})(hp)),hp}var rF;function che(){if(rF)return Va;rF=1;var r=Va&&Va.__extends||(function(){var f=function(d,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(v[m]=g[m])},f(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");f(d,h);function v(){this.constructor=d}d.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}})(),t=Va&&Va.__assign||function(){return t=Object.assign||function(f){for(var d,h=1,v=arguments.length;h<v;h++){d=arguments[h];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])}return f},t.apply(this,arguments)},e=Va&&Va.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Va,"__esModule",{value:!0}),Va.MosaicRoot=void 0;var n=e(Ofe()),i=e(rn()),a=Ea(),o=Gfe(),s=Gj(),l=tS(),u=(function(f){r(d,f);function d(){var h=f!==null&&f.apply(this,arguments)||this;return h.onResize=function(v,g,m){h.context.mosaicActions.updateTree([{path:g,spec:{splitPercentage:{$set:v}}}],m)},h}return d.prototype.render=function(){var h=this.props.root;return i.default.createElement("div",{className:"mosaic-root"},this.renderRecursively(h,s.BoundingBox.empty(),[]))},d.prototype.renderRecursively=function(h,v,g){if((0,l.isParent)(h)){var m=h.splitPercentage==null?50:h.splitPercentage,x=s.BoundingBox.split(v,m,h.direction),_=x.first,b=x.second;return(0,n.default)([this.renderRecursively(h.first,_,g.concat("first")),this.renderSplit(h.direction,v,m,g),this.renderRecursively(h.second,b,g.concat("second"))].filter(c))}else return i.default.createElement("div",{key:h,className:"mosaic-tile",style:t({},s.BoundingBox.asStyles(v))},this.props.renderTile(h,g))},d.prototype.renderSplit=function(h,v,g,m){var x=this,_=this.props.resize;return _!=="DISABLED"?i.default.createElement(o.Split,t({key:m.join(",")+"splitter"},_,{boundingBox:v,splitPercentage:g,direction:h,onChange:function(b){return x.onResize(b,m,!0)},onRelease:function(b){return x.onResize(b,m,!1)}})):null},d.contextType=a.MosaicContext,d})(i.default.PureComponent);Va.MosaicRoot=u;function c(f){return f!==null}return Va}var ys={},wM,nF;function nB(){if(nF)return wM;nF=1;function r(){}return wM=r,wM}var Fa={},CM,iF;function fhe(){if(iF)return CM;iF=1;function r(t,e,n,i){var a=-1,o=t==null?0:t.length;for(i&&o&&(n=t[++a]);++a<o;)n=e(n,t[a],a,t);return n}return CM=r,CM}var TM,aF;function hhe(){if(aF)return TM;aF=1;function r(t){return function(e){return t?.[e]}}return TM=r,TM}var AM,oF;function dhe(){if(oF)return AM;oF=1;var r=hhe(),t={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},e=r(t);return AM=e,AM}var MM,sF;function vhe(){if(sF)return MM;sF=1;var r=dhe(),t=WO(),e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,n="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",o=n+i+a,s="["+o+"]",l=RegExp(s,"g");function u(c){return c=t(c),c&&c.replace(e,r).replace(l,"")}return MM=u,MM}var DM,lF;function phe(){if(lF)return DM;lF=1;var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t(e){return e.match(r)||[]}return DM=t,DM}var EM,uF;function ghe(){if(uF)return EM;uF=1;var r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function t(e){return r.test(e)}return EM=t,EM}var IM,cF;function yhe(){if(cF)return IM;cF=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+e+n,a="\\u2700-\\u27bf",o="a-z\\xdf-\\xf6\\xf8-\\xff",s="\\xac\\xb1\\xd7\\xf7",l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",u="\\u2000-\\u206f",c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\ufe0e\\ufe0f",h=s+l+u+c,v="[']",g="["+h+"]",m="["+i+"]",x="\\d+",_="["+a+"]",b="["+o+"]",w="[^"+r+h+x+a+o+f+"]",T="\\ud83c[\\udffb-\\udfff]",A="(?:"+m+"|"+T+")",M="[^"+r+"]",D="(?:\\ud83c[\\udde6-\\uddff]){2}",P="[\\ud800-\\udbff][\\udc00-\\udfff]",I="["+f+"]",R="\\u200d",k="(?:"+b+"|"+w+")",O="(?:"+I+"|"+w+")",V="(?:"+v+"(?:d|ll|m|re|s|t|ve))?",N="(?:"+v+"(?:D|LL|M|RE|S|T|VE))?",L=A+"?",G="["+d+"]?",W="(?:"+R+"(?:"+[M,D,P].join("|")+")"+G+L+")*",U="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Z="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",F=G+L+W,q="(?:"+[_,D,P].join("|")+")"+F,$=RegExp([I+"?"+b+"+"+V+"(?="+[g,I,"$"].join("|")+")",O+"+"+N+"(?="+[g,I+k,"$"].join("|")+")",I+"?"+k+"+"+V,I+"+"+N,Z,U,x,q].join("|"),"g");function K(re){return re.match($)||[]}return IM=K,IM}var RM,fF;function mhe(){if(fF)return RM;fF=1;var r=phe(),t=ghe(),e=WO(),n=yhe();function i(a,o,s){return a=e(a),o=s?void 0:o,o===void 0?t(a)?n(a):r(a):a.match(o)||[]}return RM=i,RM}var PM,hF;function xhe(){if(hF)return PM;hF=1;var r=fhe(),t=vhe(),e=mhe(),n="[']",i=RegExp(n,"g");function a(o){return function(s){return r(e(t(s).replace(i,"")),o,"")}}return PM=a,PM}var OM,dF;function _he(){if(dF)return OM;dF=1;var r=xhe(),t=r(function(e,n,i){return e+(i?"-":"")+n.toLowerCase()});return OM=t,OM}var vF;function Sf(){return vF||(vF=1,(function(r){var t=Fa&&Fa.__createBinding||(Object.create?(function(u,c,f,d){d===void 0&&(d=f);var h=Object.getOwnPropertyDescriptor(c,f);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(u,d,h)}):(function(u,c,f,d){d===void 0&&(d=f),u[d]=c[f]})),e=Fa&&Fa.__setModuleDefault||(Object.create?(function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}):function(u,c){u.default=c}),n=Fa&&Fa.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var f in u)f!=="default"&&Object.prototype.hasOwnProperty.call(u,f)&&t(c,u,f);return e(c,u),c},i=Fa&&Fa.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0}),r.OptionalBlueprint=void 0;var a=i(Ma()),o=i(_he()),s=n(rn()),l=Ea();(function(u){u.Icon=function(d){var h=d.icon,v=d.className,g=d.size,m=g===void 0?"standard":g,x=s.useContext(l.MosaicContext).blueprintNamespace;return s.createElement("span",{className:(0,a.default)(v,f(x,h),"".concat(x,"-icon-").concat(m))})};function c(d){for(var h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];return h.map(function(g){return"".concat(d,"-").concat((0,o.default)(g))}).join(" ")}u.getClasses=c;function f(d,h){return"".concat(d,"-icon-").concat((0,o.default)(h))}u.getIconClass=f})(r.OptionalBlueprint||(r.OptionalBlueprint={}))})(Fa)),Fa}var pF;function Wj(){if(pF)return ys;pF=1;var r=ys&&ys.__extends||(function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}})(),t=ys&&ys.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ys,"__esModule",{value:!0}),ys.MosaicZeroState=void 0;var e=t(Ma()),n=t(nB()),i=t(rn()),a=Ea(),o=Sf(),s=(function(l){r(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.replace=function(){return Promise.resolve(c.props.createNode()).then(function(f){return c.context.mosaicActions.replaceWith([],f)}).catch(n.default)},c}return u.prototype.render=function(){return i.default.createElement("div",{className:(0,e.default)("mosaic-zero-state",o.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"NON_IDEAL_STATE"))},i.default.createElement("div",{className:o.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"NON_IDEAL_STATE_VISUAL")},i.default.createElement(o.OptionalBlueprint.Icon,{className:"default-zero-state-icon",size:"large",icon:"APPLICATIONS"})),i.default.createElement("h4",{className:o.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"HEADING")},"No Windows Present"),i.default.createElement("div",null,this.props.createNode&&i.default.createElement("button",{className:(0,e.default)(o.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"BUTTON"),o.OptionalBlueprint.getIconClass(this.context.blueprintNamespace,"ADD")),onClick:this.replace},"Add New Window")))},u.contextType=a.MosaicContext,u})(i.default.PureComponent);return ys.MosaicZeroState=s,ys}var dp={},BM,gF;function bhe(){if(gF)return BM;gF=1;var r=GO();function t(e,n){return r(n,function(i){return e[i]})}return BM=t,BM}var kM,yF;function Uj(){if(yF)return kM;yF=1;var r=bhe(),t=bf();function e(n){return n==null?[]:r(n,t(n))}return kM=e,kM}var vp={},mF;function iB(){return mF||(mF=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.MosaicDropTargetPosition=void 0,vp.MosaicDropTargetPosition={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"}),vp}var Ei={},pp={},xF;function rS(){return xF||(xF=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.MosaicDragType=void 0,pp.MosaicDragType={WINDOW:"MosaicWindow"}),pp}var _F;function qj(){if(_F)return Ei;_F=1;var r=Ei&&Ei.__createBinding||(Object.create?(function(c,f,d,h){h===void 0&&(h=d);var v=Object.getOwnPropertyDescriptor(f,d);(!v||("get"in v?!f.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,v)}):(function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]})),t=Ei&&Ei.__setModuleDefault||(Object.create?(function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}):function(c,f){c.default=f}),e=Ei&&Ei.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&r(f,c,d);return t(f,c),f},n=Ei&&Ei.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.MosaicDropTarget=void 0;var i=n(Ma()),a=e(rn()),o=Kb,s=Ea(),l=rS();function u(c){var f=c.path,d=c.position,h=(0,a.useContext)(s.MosaicContext).mosaicId,v=(0,o.useDrop)({accept:l.MosaicDragType.WINDOW,drop:function(b,w){return h===b?.mosaicId?{path:f,position:d}:{}},collect:function(b){return{isOver:b.isOver(),draggedMosaicId:(b.getItem()||{}).mosaicId}}}),g=v[0],m=g.isOver,x=g.draggedMosaicId,_=v[1];return a.default.createElement("div",{ref:_,className:(0,i.default)("drop-target",d,{"drop-target-hover":m&&x===h})})}return Ei.MosaicDropTarget=u,Ei}var bF;function She(){return bF||(bF=1,(function(r){var t=dp&&dp.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0}),r.RootDropTargets=void 0;var e=t(Ma()),n=t(Uj()),i=t(rn()),a=Kb,o=iB(),s=qj(),l=rS();r.RootDropTargets=i.default.memo(function(){var c=(0,a.useDrop)({accept:l.MosaicDragType.WINDOW,collect:function(d){return{isDragging:d.getItem()!==null&&d.getItemType()===l.MosaicDragType.WINDOW}}})[0].isDragging,f=u(c,0);return i.default.createElement("div",{className:(0,e.default)("drop-target-container",{"-dragging":f})},(0,n.default)(o.MosaicDropTargetPosition).map(function(d){return i.default.createElement(s.MosaicDropTarget,{position:d,path:[],key:d})}))}),r.RootDropTargets.displayName="RootDropTargets";function u(c,f){var d=i.default.useRef(c),h=i.default.useState(0),v=h[1],g=function(m){d.current=m,v(function(x){return x+1})};return c||(d.current=!1),i.default.useEffect(function(){if(!(d.current===c||!c)){var m=window.setTimeout(function(){return g(!0)},f);return function(){window.clearTimeout(m)}}},[c]),d.current}})(dp)),dp}var wn={},km={exports:{}},SF;function whe(){return SF||(SF=1,(function(r,t){Object.defineProperty(t,"__esModule",{value:!0});function e(M){return typeof M=="object"&&!("toString"in M)?Object.prototype.toString.call(M).slice(8,-1):M}var n=typeof process=="object"&&!0;function i(M,D){if(!M)throw n?new Error("Invariant failed"):new Error(D())}t.invariant=i;var a=Object.prototype.hasOwnProperty,o=Array.prototype.splice,s=Object.prototype.toString;function l(M){return s.call(M).slice(8,-1)}var u=Object.assign||(function(M,D){return c(D).forEach(function(P){a.call(D,P)&&(M[P]=D[P])}),M}),c=typeof Object.getOwnPropertySymbols=="function"?function(M){return Object.keys(M).concat(Object.getOwnPropertySymbols(M))}:function(M){return Object.keys(M)};function f(M){return Array.isArray(M)?u(M.constructor(M.length),M):l(M)==="Map"?new Map(M):l(M)==="Set"?new Set(M):M&&typeof M=="object"?u(Object.create(Object.getPrototypeOf(M)),M):M}var d=(function(){function M(){this.commands=u({},h),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(D,P){return D===P},this.update.newContext=function(){return new M().update}}return Object.defineProperty(M.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(D){this.update.isEquals=D},enumerable:!0,configurable:!0}),M.prototype.extend=function(D,P){this.commands[D]=P},M.prototype.update=function(D,P){var I=this,R=typeof P=="function"?{$apply:P}:P;Array.isArray(D)&&Array.isArray(R)||i(!Array.isArray(R),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),i(typeof R=="object"&&R!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(I.commands).join(", ")+".")});var k=D;return c(R).forEach(function(O){if(a.call(I.commands,O)){var V=D===k;k=I.commands[O](R[O],k,R,D),V&&I.isEquals(k,D)&&(k=D)}else{var N=l(D)==="Map"?I.update(D.get(O),R[O]):I.update(D[O],R[O]),L=l(k)==="Map"?k.get(O):k[O];(!I.isEquals(N,L)||typeof N>"u"&&!a.call(D,O))&&(k===D&&(k=f(D)),l(k)==="Map"?k.set(O,N):k[O]=N)}}),k},M})();t.Context=d;var h={$push:function(M,D,P){return g(D,P,"$push"),M.length?D.concat(M):D},$unshift:function(M,D,P){return g(D,P,"$unshift"),M.length?M.concat(D):D},$splice:function(M,D,P,I){return x(D,P),M.forEach(function(R){_(R),D===I&&R.length&&(D=f(I)),o.apply(D,R)}),D},$set:function(M,D,P){return w(P),M},$toggle:function(M,D){m(M,"$toggle");var P=M.length?f(D):D;return M.forEach(function(I){P[I]=!D[I]}),P},$unset:function(M,D,P,I){return m(M,"$unset"),M.forEach(function(R){Object.hasOwnProperty.call(D,R)&&(D===I&&(D=f(I)),delete D[R])}),D},$add:function(M,D,P,I){return A(D,"$add"),m(M,"$add"),l(D)==="Map"?M.forEach(function(R){var k=R[0],O=R[1];D===I&&D.get(k)!==O&&(D=f(I)),D.set(k,O)}):M.forEach(function(R){D===I&&!D.has(R)&&(D=f(I)),D.add(R)}),D},$remove:function(M,D,P,I){return A(D,"$remove"),m(M,"$remove"),M.forEach(function(R){D===I&&D.has(R)&&(D=f(I)),D.delete(R)}),D},$merge:function(M,D,P,I){return T(D,M),c(M).forEach(function(R){M[R]!==D[R]&&(D===I&&(D=f(I)),D[R]=M[R])}),D},$apply:function(M,D){return b(M),M(D)}},v=new d;t.isEquals=v.update.isEquals,t.extend=v.extend,t.default=v.update,t.default.default=r.exports=u(t.default,t);function g(M,D,P){i(Array.isArray(M),function(){return"update(): expected target of "+e(P)+" to be an array; got "+e(M)+"."}),m(D[P],P)}function m(M,D){i(Array.isArray(M),function(){return"update(): expected spec of "+e(D)+" to be an array; got "+e(M)+". Did you forget to wrap your parameter in an array?"})}function x(M,D){i(Array.isArray(M),function(){return"Expected $splice target to be an array; got "+e(M)}),_(D.$splice)}function _(M){i(Array.isArray(M),function(){return"update(): expected spec of $splice to be an array of arrays; got "+e(M)+". Did you forget to wrap your parameters in an array?"})}function b(M){i(typeof M=="function",function(){return"update(): expected spec of $apply to be a function; got "+e(M)+"."})}function w(M){i(Object.keys(M).length===1,function(){return"Cannot have more than one key in an object with $set"})}function T(M,D){i(D&&typeof D=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+e(D)}),i(M&&typeof M=="object",function(){return"update(): $merge expects a target of type 'object'; got "+e(M)})}function A(M,D){var P=l(M);i(P==="Map"||P==="Set",function(){return"update(): "+e(D)+" expects a target of type Set or Map; got "+e(P)})}})(km,km.exports)),km.exports}var LM,wF;function aB(){if(wF)return LM;wF=1;function r(t,e,n){var i=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+e];return o}return LM=r,LM}var NM,CF;function Che(){if(CF)return NM;CF=1;var r=tB(),t=1/0,e=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=r(i),i===t||i===-t){var a=i<0?-1:1;return a*e}return i===i?i:0}return NM=n,NM}var VM,TF;function oB(){if(TF)return VM;TF=1;var r=Che();function t(e){var n=r(e),i=n%1;return n===n?i?n-i:n:0}return VM=t,VM}var zM,AF;function The(){if(AF)return zM;AF=1;var r=aB(),t=oB();function e(n,i,a){var o=n==null?0:n.length;return o?(i=a||i===void 0?1:t(i),r(n,i<0?0:i,o)):[]}return zM=e,zM}var FM,MF;function Yj(){if(MF)return FM;MF=1;var r=aB(),t=oB();function e(n,i,a){var o=n==null?0:n.length;return o?(i=a||i===void 0?1:t(i),i=o-i,r(n,0,i<0?0:i)):[]}return FM=e,FM}var HM,DF;function Xj(){if(DF)return HM;DF=1;var r=FO();function t(e,n){return r(e,n)}return HM=t,HM}var GM,EF;function Ahe(){if(EF)return GM;EF=1;function r(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}return GM=r,GM}var WM,IF;function Mhe(){if(IF)return WM;IF=1;var r=tj();function t(e,n,i){return e==null?e:r(e,n,i)}return WM=t,WM}var UM,RF;function Dhe(){if(RF)return UM;RF=1;var r=aB(),t=oB();function e(n,i,a){return n&&n.length?(i=a||i===void 0?1:t(i),r(n,0,i<0?0:i)):[]}return UM=e,UM}var PF;function sB(){if(PF)return wn;PF=1;var r=wn&&wn.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(wn,"__esModule",{value:!0}),wn.createExpandUpdate=wn.createHideUpdate=wn.createDragToUpdates=wn.createRemoveUpdate=wn.updateTree=wn.buildSpecFromUpdate=void 0;var t=r(whe()),e=r(The()),n=r(Yj()),i=r(Xj()),a=r(Ahe()),o=r(Mhe()),s=r(Dhe()),l=iB(),u=tS();function c(x){return x.path.length>0?(0,o.default)({},x.path,x.spec):x.spec}wn.buildSpecFromUpdate=c;function f(x,_){var b=x;return _.forEach(function(w){b=(0,t.default)(b,c(w))}),b}wn.updateTree=f;function d(x,_){var b=(0,n.default)(_),w=(0,a.default)(_),T=b.concat((0,u.getOtherBranch)(w)),A=(0,u.getAndAssertNodeAtPathExists)(x,T);return{path:b,spec:{$set:A}}}wn.createRemoveUpdate=d;function h(x,_,b){return(0,i.default)((0,s.default)(x,b),(0,s.default)(_,b))}function v(x,_,b,w){var T=(0,u.getAndAssertNodeAtPathExists)(x,b),A=[],M=h(_,b,b.length);if(M)T=f(T,[d(T,(0,e.default)(_,b.length))]);else{A.push(d(x,_));var D=h(_,b,_.length-1);D&&b.splice(_.length-1,1)}var P=(0,u.getAndAssertNodeAtPathExists)(x,_),I,R;w===l.MosaicDropTargetPosition.LEFT||w===l.MosaicDropTargetPosition.TOP?(I=P,R=T):(I=T,R=P);var k="column";return(w===l.MosaicDropTargetPosition.LEFT||w===l.MosaicDropTargetPosition.RIGHT)&&(k="row"),A.push({path:b,spec:{$set:{first:I,second:R,direction:k}}}),A}wn.createDragToUpdates=v;function g(x){var _=(0,n.default)(x),b=(0,a.default)(x),w;return b==="first"?w=0:w=100,{path:_,spec:{splitPercentage:{$set:w}}}}wn.createHideUpdate=g;function m(x,_){for(var b,w={},T=x.length-1;T>=0;T--){var A=x[T],M=A==="first"?_:100-_;w=(b={splitPercentage:{$set:M}},b[A]=w,b)}return{spec:w,path:[]}}return wn.createExpandUpdate=m,wn}var OF;function Ehe(){if(OF)return Di;OF=1;var r=Di&&Di.__extends||(function(){var _=function(b,w){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,A){T.__proto__=A}||function(T,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(T[M]=A[M])},_(b,w)};return function(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");_(b,w);function T(){this.constructor=b}b.prototype=w===null?Object.create(w):(T.prototype=w.prototype,new T)}})(),t=Di&&Di.__assign||function(){return t=Object.assign||function(_){for(var b,w=1,T=arguments.length;w<T;w++){b=arguments[w];for(var A in b)Object.prototype.hasOwnProperty.call(b,A)&&(_[A]=b[A])}return _},t.apply(this,arguments)},e=Di&&Di.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Di,"__esModule",{value:!0}),Di.Mosaic=Di.MosaicWithoutDragDropContext=void 0;var n=e(Ma());e(Ile()),e(bf()),e(Ble());var i=hue,a=e(rn()),o=Kb,s=xfe,l=Ife(),u=Ea(),c=che(),f=Wj(),d=She(),h=sB(),v=70;function g(_){return _.initialValue!=null}var m=(function(_){r(b,_);function b(){var w=this,T;return w=_.apply(this,arguments)||this,w.state={currentNode:null,lastInitialValue:null,mosaicId:(T=w.props.mosaicId)!==null&&T!==void 0?T:(0,l.v4)()},w.updateRoot=function(A,M){M===void 0&&(M=!1);var D=w.getRoot()||{};w.replaceRoot((0,h.updateTree)(D,A),M)},w.replaceRoot=function(A,M){M===void 0&&(M=!1),w.props.onChange(A),!M&&w.props.onRelease&&w.props.onRelease(A),g(w.props)&&w.setState({currentNode:A})},w.actions={updateTree:w.updateRoot,remove:function(A){A.length===0?w.replaceRoot(null):w.updateRoot([(0,h.createRemoveUpdate)(w.getRoot(),A)])},expand:function(A,M){return M===void 0&&(M=v),w.updateRoot([(0,h.createExpandUpdate)(A,M)])},getRoot:function(){return w.getRoot()},hide:function(A){return w.updateRoot([(0,h.createHideUpdate)(A)])},replaceWith:function(A,M){return w.updateRoot([{path:A,spec:{$set:M}}])}},w.childContext={mosaicActions:w.actions,mosaicId:w.state.mosaicId,blueprintNamespace:w.props.blueprintNamespace},w}return b.getDerivedStateFromProps=function(w,T){return w.mosaicId&&(T.mosaicId,w.mosaicId),g(w)&&w.initialValue!==T.lastInitialValue?{lastInitialValue:w.initialValue,currentNode:w.initialValue}:null},b.prototype.render=function(){var w=this.props.className;return a.default.createElement(u.MosaicContext.Provider,{value:this.childContext},a.default.createElement("div",{className:(0,n.default)(w,"mosaic mosaic-drop-target")},this.renderTree(),a.default.createElement(d.RootDropTargets,null)))},b.prototype.getRoot=function(){return g(this.props)?this.state.currentNode:this.props.value},b.prototype.renderTree=function(){var w=this.getRoot();if(this.validateTree(w),w==null)return this.props.zeroStateView;var T=this.props,A=T.renderTile,M=T.resize;return a.default.createElement(c.MosaicRoot,{root:w,renderTile:A,resize:M})},b.prototype.validateTree=function(w){},b.defaultProps={onChange:function(){},zeroStateView:a.default.createElement(f.MosaicZeroState,null),className:"mosaic-blueprint-theme",blueprintNamespace:"bp3"},b})(a.default.PureComponent);Di.MosaicWithoutDragDropContext=m;var x=(function(_){r(b,_);function b(){return _!==null&&_.apply(this,arguments)||this}return b.prototype.render=function(){return a.default.createElement(o.DndProvider,t({backend:s.MultiBackend,options:i.HTML5toTouch},this.props.dragAndDropManager&&{manager:this.props.dragAndDropManager}),a.default.createElement(m,t({},this.props)))},b})(a.default.PureComponent);return Di.Mosaic=x,Di}var Zr={},qM,BF;function Ihe(){if(BF)return qM;BF=1;var r="Expected a function";function t(e,n,i){if(typeof e!="function")throw new TypeError(r);return setTimeout(function(){e.apply(void 0,i)},n)}return qM=t,qM}var YM,kF;function Rhe(){if(kF)return YM;kF=1;function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}return YM=r,YM}var XM,LF;function Phe(){if(LF)return XM;LF=1;var r=Rhe(),t=Math.max;function e(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=o[s];return c[i]=a(u),r(n,this,c)}}return XM=e,XM}var $M,NF;function Ohe(){if(NF)return $M;NF=1;function r(t){return function(){return t}}return $M=r,$M}var jM,VF;function Bhe(){if(VF)return jM;VF=1;var r=Ohe(),t=G$(),e=qO(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:e;return jM=n,jM}var ZM,zF;function khe(){if(zF)return ZM;zF=1;var r=800,t=16,e=Date.now;function n(i){var a=0,o=0;return function(){var s=e(),l=t-(s-o);if(o=s,l>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return ZM=n,ZM}var KM,FF;function Lhe(){if(FF)return KM;FF=1;var r=Bhe(),t=khe(),e=t(r);return KM=e,KM}var QM,HF;function Nhe(){if(HF)return QM;HF=1;var r=qO(),t=Phe(),e=Lhe();function n(i,a){return e(t(i,a,r),i+"")}return QM=n,QM}var JM,GF;function Vhe(){if(GF)return JM;GF=1;var r=Ihe(),t=Nhe(),e=t(function(n,i){return r(n,1,i)});return JM=e,JM}var eD,WF;function zhe(){if(WF)return eD;WF=1;var r=q$(),t=zg(),e=Lb(),n=Da(),i=zb(),a=Nb(),o=Vb(),s=OO(),l="[object Map]",u="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function d(h){if(h==null)return!0;if(i(h)&&(n(h)||typeof h=="string"||typeof h.splice=="function"||a(h)||s(h)||e(h)))return!h.length;var v=t(h);if(v==l||v==u)return!h.size;if(o(h))return!r(h).length;for(var g in h)if(f.call(h,g))return!1;return!0}return eD=d,eD}var ms={},xs={},gp={},UF;function Wg(){return UF||(UF=1,(function(r){var t=gp&&gp.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0}),r.createDefaultToolbarButton=r.DefaultToolbarButton=void 0;var e=t(Ma()),n=t(rn()),i=Ea(),a=Sf(),o=function(l){var u=l.title,c=l.className,f=l.onClick,d=l.text,h=n.default.useContext(i.MosaicContext).blueprintNamespace;return n.default.createElement("button",{title:u,onClick:f,className:(0,e.default)("mosaic-default-control",a.OptionalBlueprint.getClasses(h,"BUTTON","MINIMAL"),c)},d&&n.default.createElement("span",{className:"control-text"},d))};r.DefaultToolbarButton=o;var s=function(l,u,c,f){return n.default.createElement(r.DefaultToolbarButton,{title:l,className:u,onClick:c,text:f})};r.createDefaultToolbarButton=s})(gp)),gp}var qF;function $j(){if(qF)return xs;qF=1;var r=xs&&xs.__extends||(function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}})(),t=xs&&xs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(xs,"__esModule",{value:!0}),xs.ExpandButton=void 0;var e=t(Ma()),n=t(rn()),i=Ea(),a=Sf(),o=Wg(),s=(function(l){r(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.prototype.render=function(){var c=this;return n.default.createElement(i.MosaicContext.Consumer,null,function(f){var d=f.mosaicActions;return n.default.createElement(o.DefaultToolbarButton,{title:"Expand",className:(0,e.default)("expand-button",a.OptionalBlueprint.getIconClass(c.context.blueprintNamespace,"MAXIMIZE")),onClick:c.createExpand(d)})})},u.prototype.createExpand=function(c){var f=this;return function(){c.expand(f.context.mosaicWindowActions.getPath()),f.props.onClick&&f.props.onClick()}},u.contextType=i.MosaicWindowContext,u})(n.default.PureComponent);return xs.ExpandButton=s,xs}var _s={},YF;function jj(){if(YF)return _s;YF=1;var r=_s&&_s.__extends||(function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(f[h]=d[h])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}})(),t=_s&&_s.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(_s,"__esModule",{value:!0}),_s.RemoveButton=void 0;var e=t(Ma()),n=t(rn()),i=Ea(),a=Sf(),o=Wg(),s=(function(l){r(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.prototype.render=function(){var c=this;return n.default.createElement(i.MosaicContext.Consumer,null,function(f){var d=f.mosaicActions,h=f.blueprintNamespace;return n.default.createElement(o.DefaultToolbarButton,{title:"Close Window",className:(0,e.default)("close-button",a.OptionalBlueprint.getIconClass(h,"CROSS")),onClick:c.createRemove(d)})})},u.prototype.createRemove=function(c){var f=this;return function(){c.remove(f.context.mosaicWindowActions.getPath()),f.props.onClick&&f.props.onClick()}},u.contextType=i.MosaicWindowContext,u})(n.default.PureComponent);return _s.RemoveButton=s,_s}var bs={},XF;function Zj(){if(XF)return bs;XF=1;var r=bs&&bs.__extends||(function(){var u=function(c,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(d[v]=h[v])},u(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}})(),t=bs&&bs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(bs,"__esModule",{value:!0}),bs.ReplaceButton=void 0;var e=t(Ma()),n=t(nB()),i=t(rn()),a=Ea(),o=Sf(),s=Wg(),l=(function(u){r(c,u);function c(){var f=u!==null&&u.apply(this,arguments)||this;return f.replace=function(){f.context.mosaicWindowActions.replaceWithNew().then(function(){f.props.onClick&&f.props.onClick()}).catch(n.default)},f}return c.prototype.render=function(){return i.default.createElement(s.DefaultToolbarButton,{title:"Replace Window",className:(0,e.default)("replace-button",o.OptionalBlueprint.getIconClass(this.context.blueprintNamespace,"EXCHANGE")),onClick:this.replace})},c.contextType=a.MosaicWindowContext,c})(i.default.PureComponent);return bs.ReplaceButton=l,bs}var Ss={},$F;function Kj(){if($F)return Ss;$F=1;var r=Ss&&Ss.__extends||(function(){var u=function(c,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(d[v]=h[v])},u(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}})(),t=Ss&&Ss.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.SplitButton=void 0;var e=t(Ma()),n=t(nB()),i=t(rn()),a=Ea(),o=Sf(),s=Wg(),l=(function(u){r(c,u);function c(){var f=u!==null&&u.apply(this,arguments)||this;return f.split=function(){f.context.mosaicWindowActions.split().then(function(){f.props.onClick&&f.props.onClick()}).catch(n.default)},f}return c.prototype.render=function(){return i.default.createElement(s.DefaultToolbarButton,{title:"Split Window",className:(0,e.default)("split-button",o.OptionalBlueprint.getIconClass(this.context.blueprintNamespace,"ADD_COLUMN_RIGHT")),onClick:this.split})},c.contextType=a.MosaicWindowContext,c})(i.default.PureComponent);return Ss.SplitButton=l,Ss}var jF;function Qj(){if(jF)return ms;jF=1;var r=ms&&ms.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ms,"__esModule",{value:!0}),ms.DEFAULT_CONTROLS_WITHOUT_CREATION=ms.DEFAULT_CONTROLS_WITH_CREATION=void 0;var t=r(rn()),e=$j(),n=jj(),i=Zj(),a=Kj();return ms.DEFAULT_CONTROLS_WITH_CREATION=t.default.Children.toArray([t.default.createElement(i.ReplaceButton,null),t.default.createElement(a.SplitButton,null),t.default.createElement(e.ExpandButton,null),t.default.createElement(n.RemoveButton,null)]),ms.DEFAULT_CONTROLS_WITHOUT_CREATION=t.default.Children.toArray([t.default.createElement(e.ExpandButton,null),t.default.createElement(n.RemoveButton,null)]),ms}var ws={},ZF;function Jj(){if(ZF)return ws;ZF=1;var r=ws&&ws.__extends||(function(){var i=function(a,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},i(a,o)};return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(a,o);function s(){this.constructor=a}a.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}})(),t=ws&&ws.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ws,"__esModule",{value:!0}),ws.Separator=void 0;var e=t(rn()),n=(function(i){r(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.render=function(){return e.default.createElement("div",{className:"separator"})},a})(e.default.PureComponent);return ws.Separator=n,ws}var KF;function Fhe(){if(KF)return Zr;KF=1;var r=Zr&&Zr.__extends||(function(){var I=function(R,k){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,V){O.__proto__=V}||function(O,V){for(var N in V)Object.prototype.hasOwnProperty.call(V,N)&&(O[N]=V[N])},I(R,k)};return function(R,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");I(R,k);function O(){this.constructor=R}R.prototype=k===null?Object.create(k):(O.prototype=k.prototype,new O)}})(),t=Zr&&Zr.__assign||function(){return t=Object.assign||function(I){for(var R,k=1,O=arguments.length;k<O;k++){R=arguments[k];for(var V in R)Object.prototype.hasOwnProperty.call(R,V)&&(I[V]=R[V])}return I},t.apply(this,arguments)},e=Zr&&Zr.__createBinding||(Object.create?(function(I,R,k,O){O===void 0&&(O=k);var V=Object.getOwnPropertyDescriptor(R,k);(!V||("get"in V?!R.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return R[k]}}),Object.defineProperty(I,O,V)}):(function(I,R,k,O){O===void 0&&(O=k),I[O]=R[k]})),n=Zr&&Zr.__setModuleDefault||(Object.create?(function(I,R){Object.defineProperty(I,"default",{enumerable:!0,value:R})}):function(I,R){I.default=R}),i=Zr&&Zr.__importStar||function(I){if(I&&I.__esModule)return I;var R={};if(I!=null)for(var k in I)k!=="default"&&Object.prototype.hasOwnProperty.call(I,k)&&e(R,I,k);return n(R,I),R},a=Zr&&Zr.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.MosaicWindow=Zr.InternalMosaicWindow=void 0;var o=a(Ma()),s=a(Vhe()),l=a(Yj()),u=a(zhe()),c=a(Xj()),f=a(Uj()),d=i(rn()),h=Kb,v=Qj(),g=Jj(),m=Ea(),x=iB(),_=qj(),b=rS(),w=sB(),T=tS(),A=Sf(),M=(function(I){r(R,I);function R(){var k=I!==null&&I.apply(this,arguments)||this;return k.state={additionalControlsOpen:!1},k.rootElement=null,k.renderDropTarget=function(O){var V=k.props.path;return d.default.createElement(_.MosaicDropTarget,{position:O,path:V,key:O})},k.split=function(){for(var O=[],V=0;V<arguments.length;V++)O[V]=arguments[V];k.checkCreateNode();var N=k.props,L=N.createNode,G=N.path,W=k.context.mosaicActions,U=W.getRoot(),Z=k.rootElement.offsetWidth>k.rootElement.offsetHeight?"row":"column";return Promise.resolve(L.apply(void 0,O)).then(function(F){return W.replaceWith(G,{direction:Z,second:F,first:(0,T.getAndAssertNodeAtPathExists)(U,G)})})},k.swap=function(){for(var O=[],V=0;V<arguments.length;V++)O[V]=arguments[V];k.checkCreateNode();var N=k.context.mosaicActions,L=k.props,G=L.createNode,W=L.path;return Promise.resolve(G.apply(void 0,O)).then(function(U){return N.replaceWith(W,U)})},k.setAdditionalControlsOpen=function(O){var V,N,L=O==="toggle"?!k.state.additionalControlsOpen:O;k.setState({additionalControlsOpen:L}),(N=(V=k.props).onAdditionalControlsToggle)===null||N===void 0||N.call(V,L)},k.getPath=function(){return k.props.path},k.connectDragSource=function(O){var V=k.props.connectDragSource;return V(O)},k.childContext={blueprintNamespace:k.context.blueprintNamespace,mosaicWindowActions:{split:k.split,replaceWithNew:k.swap,setAdditionalControlsOpen:k.setAdditionalControlsOpen,getPath:k.getPath,connectDragSource:k.connectDragSource}},k}return R.prototype.render=function(){var k=this,O=this.props,V=O.className,N=O.isOver,L=O.renderPreview,G=O.additionalControls,W=O.connectDropTarget,U=O.connectDragPreview,Z=O.draggedMosaicId,F=O.disableAdditionalControlsOverlay;return d.default.createElement(m.MosaicWindowContext.Provider,{value:this.childContext},W(d.default.createElement("div",{className:(0,o.default)("mosaic-window mosaic-drop-target",V,{"drop-target-hover":N&&Z===this.context.mosaicId,"additional-controls-open":this.state.additionalControlsOpen}),ref:function(q){return k.rootElement=q}},this.renderToolbar(),d.default.createElement("div",{className:"mosaic-window-body"},this.props.children),!F&&d.default.createElement("div",{className:"mosaic-window-body-overlay",onClick:function(){k.setAdditionalControlsOpen(!1)}}),d.default.createElement("div",{className:"mosaic-window-additional-actions-bar"},G),U(L(this.props)),d.default.createElement("div",{className:"drop-target-container"},(0,f.default)(x.MosaicDropTargetPosition).map(this.renderDropTarget)))))},R.prototype.getToolbarControls=function(){var k=this.props,O=k.toolbarControls,V=k.createNode;return O||(V?v.DEFAULT_CONTROLS_WITH_CREATION:v.DEFAULT_CONTROLS_WITHOUT_CREATION)},R.prototype.renderToolbar=function(){var k,O=this,V=this.props,N=V.title,L=V.draggable,G=V.additionalControls,W=V.additionalControlButtonText,U=V.path,Z=V.renderToolbar,F=this.state.additionalControlsOpen,q=this.getToolbarControls(),$=L&&U.length>0,K=$?this.props.connectDragSource:function(de){return de};if(Z){var re=K(Z(this.props,L));return d.default.createElement("div",{className:(0,o.default)("mosaic-window-toolbar",{draggable:$})},re)}var ce=K(d.default.createElement("div",{title:N,className:"mosaic-window-title"},N)),pe=!(0,u.default)(G);return d.default.createElement("div",{className:(0,o.default)("mosaic-window-toolbar",{draggable:$})},ce,d.default.createElement("div",{className:(0,o.default)("mosaic-window-controls",A.OptionalBlueprint.getClasses("BUTTON_GROUP"))},pe&&d.default.createElement("button",{onClick:function(){return O.setAdditionalControlsOpen(!F)},className:(0,o.default)(A.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"BUTTON","MINIMAL"),A.OptionalBlueprint.getIconClass(this.context.blueprintNamespace,"MORE"),(k={},k[A.OptionalBlueprint.getClasses(this.context.blueprintNamespace,"ACTIVE")]=F,k))},d.default.createElement("span",{className:"control-text"},W)),pe&&d.default.createElement(g.Separator,null),q))},R.prototype.checkCreateNode=function(){if(this.props.createNode==null)throw new Error("Operation invalid unless `createNode` is defined")},R.defaultProps={additionalControlButtonText:"More",draggable:!0,renderPreview:function(k){var O=k.title;return d.default.createElement("div",{className:"mosaic-preview"},d.default.createElement("div",{className:"mosaic-window-toolbar"},d.default.createElement("div",{className:"mosaic-window-title"},O)),d.default.createElement("div",{className:"mosaic-window-body"},d.default.createElement("h4",null,O),d.default.createElement(A.OptionalBlueprint.Icon,{className:"default-preview-icon",size:"large",icon:"APPLICATION"})))},renderToolbar:null},R.contextType=m.MosaicContext,R})(d.default.Component);Zr.InternalMosaicWindow=M;function D(I){var R=(0,d.useContext)(m.MosaicContext),k=R.mosaicActions,O=R.mosaicId,V=(0,h.useDrag)({type:b.MosaicDragType.WINDOW,item:function(q){I.onDragStart&&I.onDragStart();var $=(0,s.default)(function(){return k.hide(I.path)});return{mosaicId:O,hideTimer:$}},end:function(q,$){var K=q.hideTimer;window.clearTimeout(K);var re=I.path,ce=$.getDropResult()||{},pe=ce.position,de=ce.path;pe!=null&&de!=null&&!(0,c.default)(de,re)?(k.updateTree((0,w.createDragToUpdates)(k.getRoot(),re,de,pe)),I.onDragEnd&&I.onDragEnd("drop")):(k.updateTree([{path:(0,l.default)(re),spec:{splitPercentage:{$set:void 0}}}]),I.onDragEnd&&I.onDragEnd("reset"))}}),N=V[1],L=V[2],G=(0,h.useDrop)({accept:b.MosaicDragType.WINDOW,collect:function(q){var $;return{isOver:q.isOver(),draggedMosaicId:($=q.getItem())===null||$===void 0?void 0:$.mosaicId}}}),W=G[0],U=W.isOver,Z=W.draggedMosaicId,F=G[1];return d.default.createElement(M,t({},I,{connectDragPreview:L,connectDragSource:N,connectDropTarget:F,isOver:U,draggedMosaicId:Z}))}var P=(function(I){r(R,I);function R(){return I!==null&&I.apply(this,arguments)||this}return R.prototype.render=function(){return d.default.createElement(D,t({},this.props))},R})(d.default.PureComponent);return Zr.MosaicWindow=P,Zr}var QF;function Hhe(){return QF||(QF=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_CONTROLS_WITHOUT_CREATION=r.DEFAULT_CONTROLS_WITH_CREATION=r.RemoveButton=r.SplitButton=r.ReplaceButton=r.ExpandButton=r.Separator=r.MosaicZeroState=r.DefaultToolbarButton=r.createDefaultToolbarButton=r.MosaicWindow=r.isParent=r.getPathToCorner=r.getOtherDirection=r.getOtherBranch=r.getNodeAtPath=r.getLeaves=r.getAndAssertNodeAtPathExists=r.Corner=r.createBalancedTreeFromLeaves=r.updateTree=r.createRemoveUpdate=r.createHideUpdate=r.createExpandUpdate=r.createDragToUpdates=r.buildSpecFromUpdate=r.MosaicWindowContext=r.MosaicContext=r.MosaicDragType=r.MosaicWithoutDragDropContext=r.Mosaic=void 0;var t=Ehe();Object.defineProperty(r,"Mosaic",{enumerable:!0,get:function(){return t.Mosaic}}),Object.defineProperty(r,"MosaicWithoutDragDropContext",{enumerable:!0,get:function(){return t.MosaicWithoutDragDropContext}});var e=rS();Object.defineProperty(r,"MosaicDragType",{enumerable:!0,get:function(){return e.MosaicDragType}});var n=Ea();Object.defineProperty(r,"MosaicContext",{enumerable:!0,get:function(){return n.MosaicContext}}),Object.defineProperty(r,"MosaicWindowContext",{enumerable:!0,get:function(){return n.MosaicWindowContext}});var i=sB();Object.defineProperty(r,"buildSpecFromUpdate",{enumerable:!0,get:function(){return i.buildSpecFromUpdate}}),Object.defineProperty(r,"createDragToUpdates",{enumerable:!0,get:function(){return i.createDragToUpdates}}),Object.defineProperty(r,"createExpandUpdate",{enumerable:!0,get:function(){return i.createExpandUpdate}}),Object.defineProperty(r,"createHideUpdate",{enumerable:!0,get:function(){return i.createHideUpdate}}),Object.defineProperty(r,"createRemoveUpdate",{enumerable:!0,get:function(){return i.createRemoveUpdate}}),Object.defineProperty(r,"updateTree",{enumerable:!0,get:function(){return i.updateTree}});var a=tS();Object.defineProperty(r,"createBalancedTreeFromLeaves",{enumerable:!0,get:function(){return a.createBalancedTreeFromLeaves}}),Object.defineProperty(r,"Corner",{enumerable:!0,get:function(){return a.Corner}}),Object.defineProperty(r,"getAndAssertNodeAtPathExists",{enumerable:!0,get:function(){return a.getAndAssertNodeAtPathExists}}),Object.defineProperty(r,"getLeaves",{enumerable:!0,get:function(){return a.getLeaves}}),Object.defineProperty(r,"getNodeAtPath",{enumerable:!0,get:function(){return a.getNodeAtPath}}),Object.defineProperty(r,"getOtherBranch",{enumerable:!0,get:function(){return a.getOtherBranch}}),Object.defineProperty(r,"getOtherDirection",{enumerable:!0,get:function(){return a.getOtherDirection}}),Object.defineProperty(r,"getPathToCorner",{enumerable:!0,get:function(){return a.getPathToCorner}}),Object.defineProperty(r,"isParent",{enumerable:!0,get:function(){return a.isParent}});var o=Fhe();Object.defineProperty(r,"MosaicWindow",{enumerable:!0,get:function(){return o.MosaicWindow}});var s=Wg();Object.defineProperty(r,"createDefaultToolbarButton",{enumerable:!0,get:function(){return s.createDefaultToolbarButton}}),Object.defineProperty(r,"DefaultToolbarButton",{enumerable:!0,get:function(){return s.DefaultToolbarButton}});var l=Wj();Object.defineProperty(r,"MosaicZeroState",{enumerable:!0,get:function(){return l.MosaicZeroState}});var u=Jj();Object.defineProperty(r,"Separator",{enumerable:!0,get:function(){return u.Separator}});var c=$j();Object.defineProperty(r,"ExpandButton",{enumerable:!0,get:function(){return c.ExpandButton}});var f=Zj();Object.defineProperty(r,"ReplaceButton",{enumerable:!0,get:function(){return f.ReplaceButton}});var d=Kj();Object.defineProperty(r,"SplitButton",{enumerable:!0,get:function(){return d.SplitButton}});var h=jj();Object.defineProperty(r,"RemoveButton",{enumerable:!0,get:function(){return h.RemoveButton}});var v=Qj();Object.defineProperty(r,"DEFAULT_CONTROLS_WITH_CREATION",{enumerable:!0,get:function(){return v.DEFAULT_CONTROLS_WITH_CREATION}}),Object.defineProperty(r,"DEFAULT_CONTROLS_WITHOUT_CREATION",{enumerable:!0,get:function(){return v.DEFAULT_CONTROLS_WITHOUT_CREATION}})})(uC)),uC}var JF=Hhe();function Ghe({initialLayout:r,renderWidget:t}){return it.jsx(JF.Mosaic,{renderTile:(e,n)=>it.jsx(JF.MosaicWindow,{path:n,title:e,createNode:()=>e,children:t(e,n)}),initialValue:r,className:"mosaic-dark"})}var tR=function(r,t){return tR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},tR(r,t)};function J(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tR(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var M0=function(){return M0=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},M0.apply(this,arguments)};function Whe(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function e7(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(r,[])).next())})}function t7(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){e.label=u[1];break}if(u[0]===6&&e.label<a[1]){e.label=a[1],a=u;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(u);break}a[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(r,e)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Uhe=(function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r})(),qhe=(function(){function r(){this.browser=new Uhe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r})(),ut=new qhe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(ut.wxa=!0,ut.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?ut.worker=!0:!ut.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(ut.node=!0,ut.svgSupported=!0):Yhe(navigator.userAgent,ut);function Yhe(r,t){var e=t.browser,n=r.match(/Firefox\/([\d.]+)/),i=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),a=r.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(r);n&&(e.firefox=!0,e.version=n[1]),i&&(e.ie=!0,e.version=i[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),o&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11);var s=t.domSupported=typeof document<"u";if(s){var l=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in l||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}}var lB=12,eZ="sans-serif",Qs=lB+"px "+eZ,Xhe=20,$he=100,jhe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Zhe(r){var t={};if(typeof JSON>"u")return t;for(var e=0;e<r.length;e++){var n=String.fromCharCode(e+32),i=(r.charCodeAt(e)-Xhe)/$he;t[n]=i}return t}var Khe=Zhe(jhe),yi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var r,t;return function(e,n){if(!r){var i=yi.createCanvas();r=i&&i.getContext("2d")}if(r)return t!==n&&(t=r.font=n||Qs),r.measureText(e);e=e||"",n=n||Qs;var a=/((?:\d+)?\.?\d*)px/.exec(n),o=a&&+a[1]||lB,s=0;if(n.indexOf("mono")>=0)s=o*e.length;else for(var l=0;l<e.length;l++){var u=Khe[e[l]];s+=u==null?o:u*o}return{width:s}}})(),loadImage:function(r,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=r,n}};function tZ(r){for(var t in yi)r[t]&&(yi[t]=r[t])}var rZ=Sa(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,t){return r["[object "+t+"]"]=!0,r},{}),nZ=Sa(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,t){return r["[object "+t+"Array]"]=!0,r},{}),Ld=Object.prototype.toString,nS=Array.prototype,Qhe=nS.forEach,Jhe=nS.filter,uB=nS.slice,ede=nS.map,r7=(function(){}).constructor,Lm=r7?r7.prototype:null,cB="__proto__",tde=2311;function fB(){return tde++}function iS(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];typeof console<"u"&&console.error.apply(console,r)}function Oe(r){if(r==null||typeof r!="object")return r;var t=r,e=Ld.call(r);if(e==="[object Array]"){if(!ld(r)){t=[];for(var n=0,i=r.length;n<i;n++)t[n]=Oe(r[n])}}else if(nZ[e]){if(!ld(r)){var a=r.constructor;if(a.from)t=a.from(r);else{t=new a(r.length);for(var n=0,i=r.length;n<i;n++)t[n]=r[n]}}}else if(!rZ[e]&&!ld(r)&&!af(r)){t={};for(var o in r)r.hasOwnProperty(o)&&o!==cB&&(t[o]=Oe(r[o]))}return t}function Ke(r,t,e){if(!Le(t)||!Le(r))return e?Oe(t):r;for(var n in t)if(t.hasOwnProperty(n)&&n!==cB){var i=r[n],a=t[n];Le(a)&&Le(i)&&!ue(a)&&!ue(i)&&!af(a)&&!af(i)&&!rR(a)&&!rR(i)&&!ld(a)&&!ld(i)?Ke(i,a,e):(e||!(n in r))&&(r[n]=Oe(t[n]))}return r}function aS(r,t){for(var e=r[0],n=1,i=r.length;n<i;n++)e=Ke(e,r[n],t);return e}function oe(r,t){if(Object.assign)Object.assign(r,t);else for(var e in t)t.hasOwnProperty(e)&&e!==cB&&(r[e]=t[e]);return r}function ke(r,t,e){for(var n=ht(t),i=0,a=n.length;i<a;i++){var o=n[i];(e?t[o]!=null:r[o]==null)&&(r[o]=t[o])}return r}var rde=yi.createCanvas;function Ze(r,t){if(r){if(r.indexOf)return r.indexOf(t);for(var e=0,n=r.length;e<n;e++)if(r[e]===t)return e}return-1}function hB(r,t){var e=r.prototype;function n(){}n.prototype=t.prototype,r.prototype=new n;for(var i in e)e.hasOwnProperty(i)&&(r.prototype[i]=e[i]);r.prototype.constructor=r,r.superClass=t}function mr(r,t,e){if(r="prototype"in r?r.prototype:r,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(e?t[a]!=null:r[a]==null)&&(r[a]=t[a])}else ke(r,t,e)}function En(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function z(r,t,e){if(r&&t)if(r.forEach&&r.forEach===Qhe)r.forEach(t,e);else if(r.length===+r.length)for(var n=0,i=r.length;n<i;n++)t.call(e,r[n],n,r);else for(var a in r)r.hasOwnProperty(a)&&t.call(e,r[a],a,r)}function he(r,t,e){if(!r)return[];if(!t)return oS(r);if(r.map&&r.map===ede)return r.map(t,e);for(var n=[],i=0,a=r.length;i<a;i++)n.push(t.call(e,r[i],i,r));return n}function Sa(r,t,e,n){if(r&&t){for(var i=0,a=r.length;i<a;i++)e=t.call(n,e,r[i],i,r);return e}}function Tt(r,t,e){if(!r)return[];if(!t)return oS(r);if(r.filter&&r.filter===Jhe)return r.filter(t,e);for(var n=[],i=0,a=r.length;i<a;i++)t.call(e,r[i],i,r)&&n.push(r[i]);return n}function Tu(r,t,e){if(r&&t){for(var n=0,i=r.length;n<i;n++)if(t.call(e,r[n],n,r))return r[n]}}function ht(r){if(!r)return[];if(Object.keys)return Object.keys(r);var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t}function nde(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return r.apply(t,e.concat(uB.call(arguments)))}}var Se=Lm&&Re(Lm.bind)?Lm.call.bind(Lm.bind):nde;function je(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return r.apply(this,t.concat(uB.call(arguments)))}}function ue(r){return Array.isArray?Array.isArray(r):Ld.call(r)==="[object Array]"}function Re(r){return typeof r=="function"}function be(r){return typeof r=="string"}function p_(r){return Ld.call(r)==="[object String]"}function yt(r){return typeof r=="number"}function Le(r){var t=typeof r;return t==="function"||!!r&&t==="object"}function rR(r){return!!rZ[Ld.call(r)]}function Kn(r){return!!nZ[Ld.call(r)]}function af(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function Ug(r){return r.colorStops!=null}function iZ(r){return r.image!=null}function aZ(r){return Ld.call(r)==="[object RegExp]"}function Dn(r){return r!==r}function dn(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0,n=r.length;e<n;e++)if(r[e]!=null)return r[e]}function Ie(r,t){return r??t}function gi(r,t,e){return r??t??e}function oS(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return uB.apply(r,t)}function qg(r){if(typeof r=="number")return[r,r,r,r];var t=r.length;return t===2?[r[0],r[1],r[0],r[1]]:t===3?[r[0],r[1],r[2],r[1]]:r}function In(r,t){if(!r)throw new Error(t)}function Vi(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var oZ="__ec_primitive__";function $0(r){r[oZ]=!0}function ld(r){return r[oZ]}var ide=(function(){function r(){this.data={}}return r.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},r.prototype.has=function(t){return this.data.hasOwnProperty(t)},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,e){return this.data[t]=e,this},r.prototype.keys=function(){return ht(this.data)},r.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},r})(),sZ=typeof Map=="function";function ade(){return sZ?new Map:new ide}var lZ=(function(){function r(t){var e=ue(t);this.data=ade();var n=this;t instanceof r?t.each(i):t&&z(t,i);function i(a,o){e?n.set(a,o):n.set(o,a)}}return r.prototype.hasKey=function(t){return this.data.has(t)},r.prototype.get=function(t){return this.data.get(t)},r.prototype.set=function(t,e){return this.data.set(t,e),e},r.prototype.each=function(t,e){this.data.forEach(function(n,i){t.call(e,n,i)})},r.prototype.keys=function(){var t=this.data.keys();return sZ?Array.from(t):t},r.prototype.removeKey=function(t){this.data.delete(t)},r})();function Me(r){return new lZ(r)}function gd(r,t){for(var e=new r.constructor(r.length+t.length),n=0;n<r.length;n++)e[n]=r[n];for(var i=r.length,n=0;n<t.length;n++)e[n+i]=t[n];return e}function Yg(r,t){var e;if(Object.create)e=Object.create(r);else{var n=function(){};n.prototype=r,e=new n}return t&&oe(e,t),e}function dB(r){var t=r.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Te(r,t){return r.hasOwnProperty(t)}function gr(){}var D0=180/Math.PI,ode=Number.EPSILON||Math.pow(2,-52);const sde=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:ode,HashMap:lZ,RADIAN_TO_DEGREE:D0,assert:In,bind:Se,clone:Oe,concatArray:gd,createCanvas:rde,createHashMap:Me,createObject:Yg,curry:je,defaults:ke,disableUserSelect:dB,each:z,eqNaN:Dn,extend:oe,filter:Tt,find:Tu,guid:fB,hasOwn:Te,indexOf:Ze,inherits:hB,isArray:ue,isArrayLike:En,isBuiltInObject:rR,isDom:af,isFunction:Re,isGradientObject:Ug,isImagePatternObject:iZ,isNumber:yt,isObject:Le,isPrimitive:ld,isRegExp:aZ,isString:be,isStringSafe:p_,isTypedArray:Kn,keys:ht,logError:iS,map:he,merge:Ke,mergeAll:aS,mixin:mr,noop:gr,normalizeCssArray:qg,reduce:Sa,retrieve:dn,retrieve2:Ie,retrieve3:gi,setAsPrimitive:$0,slice:oS,trim:Vi},Symbol.toStringTag,{value:"Module"}));function Au(r,t){return r==null&&(r=0),t==null&&(t=0),[r,t]}function Nn(r,t){return r[0]=t[0],r[1]=t[1],r}function ko(r){return[r[0],r[1]]}function sS(r,t,e){return r[0]=t,r[1]=e,r}function nR(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function g_(r,t,e,n){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function Zl(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function j0(r){return Math.sqrt(vB(r))}var lde=j0;function vB(r){return r[0]*r[0]+r[1]*r[1]}var ude=vB;function cde(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r}function fde(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r}function hde(r,t){return r[0]*t[0]+r[1]*t[1]}function E0(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function wf(r,t){var e=j0(t);return e===0?(r[0]=0,r[1]=0):(r[0]=t[0]/e,r[1]=t[1]/e),r}function y_(r,t){return Math.sqrt((r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1]))}var Fs=y_;function uZ(r,t){return(r[0]-t[0])*(r[0]-t[0])+(r[1]-t[1])*(r[1]-t[1])}var au=uZ;function dde(r,t){return r[0]=-t[0],r[1]=-t[1],r}function I0(r,t,e,n){return r[0]=t[0]+n*(e[0]-t[0]),r[1]=t[1]+n*(e[1]-t[1]),r}function yr(r,t,e){var n=t[0],i=t[1];return r[0]=e[0]*n+e[2]*i+e[4],r[1]=e[1]*n+e[3]*i+e[5],r}function Hs(r,t,e){return r[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r}function Gs(r,t,e){return r[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r}const vde=Object.freeze(Object.defineProperty({__proto__:null,add:nR,applyTransform:yr,clone:ko,copy:Nn,create:Au,dist:Fs,distSquare:au,distance:y_,distanceSquare:uZ,div:fde,dot:hde,len:j0,lenSquare:vB,length:lde,lengthSquare:ude,lerp:I0,max:Gs,min:Hs,mul:cde,negate:dde,normalize:wf,scale:E0,scaleAndAdd:g_,set:sS,sub:Zl},Symbol.toStringTag,{value:"Module"}));var _h=(function(){function r(t,e){this.target=t,this.topTarget=e&&e.topTarget}return r})(),pde=(function(){function r(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new _h(e,t),"dragstart",t.event))},r.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,a=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(a,o,t),this.handler.dispatchToElement(new _h(e,t),"drag",t.event);var s=this.handler.findHover(n,i,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new _h(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new _h(s,t),"dragenter",t.event))}},r.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new _h(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new _h(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},r})(),Ia=(function(){function r(t){t&&(this._$eventProcessor=t)}return r.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof e=="function"&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;e!=null&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),a[t]||(a[t]=[]);for(var s=0;s<a[t].length;s++)if(a[t][s].h===n)return this;var l={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=a[t].length-1,c=a[t][u];return c&&c.callAtLast?a[t].splice(u,0,l):a[t].push(l),this},r.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},r.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],a=0,o=n[t].length;a<o;a++)n[t][a].h!==e&&i.push(n[t][a]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},r.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=e.length,s=e[o-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,e[0]);break;case 2:c.h.call(s,e[0],e[1]);break;default:c.h.apply(s,e.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},r})(),gde=Math.log(2);function iR(r,t,e,n,i,a){var o=n+"-"+i,s=r.length;if(a.hasOwnProperty(o))return a[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~i)/gde);return r[e][l]}for(var u=n|1<<e,c=e+1;n&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var v=1<<d;v&i||(f+=(h%2?-1:1)*r[e][d]*iR(r,t-1,c,u,i|v,a),h++)}return a[o]=f,f}function n7(r,t){var e=[[r[0],r[1],1,0,0,0,-t[0]*r[0],-t[0]*r[1]],[0,0,0,r[0],r[1],1,-t[1]*r[0],-t[1]*r[1]],[r[2],r[3],1,0,0,0,-t[2]*r[2],-t[2]*r[3]],[0,0,0,r[2],r[3],1,-t[3]*r[2],-t[3]*r[3]],[r[4],r[5],1,0,0,0,-t[4]*r[4],-t[4]*r[5]],[0,0,0,r[4],r[5],1,-t[5]*r[4],-t[5]*r[5]],[r[6],r[7],1,0,0,0,-t[6]*r[6],-t[6]*r[7]],[0,0,0,r[6],r[7],1,-t[7]*r[6],-t[7]*r[7]]],n={},i=iR(e,8,0,0,0,n);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*iR(e,7,o===0?1:0,1<<o,1<<s,n)/i*t[o];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var m_="___zrEVENTSAVED",tD=[];function yde(r,t,e,n,i){return aR(tD,t,n,i,!0)&&aR(r,e,tD[0],tD[1])}function mde(r,t){r&&e(r),t&&e(t);function e(n){var i=n[m_];i&&(i.clearMarkers&&i.clearMarkers(),delete n[m_])}}function aR(r,t,e,n,i){if(t.getBoundingClientRect&&ut.domSupported&&!cZ(t)){var a=t[m_]||(t[m_]={}),o=xde(t,a),s=_de(o,a,i);if(s)return s(r,e,n),!0}return!1}function xde(r,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),r.appendChild(o),e.push(o)}return t.clearMarkers=function(){z(e,function(c){c.parentNode&&c.parentNode.removeChild(c)})},e}function _de(r,t,e){for(var n=e?"invTrans":"trans",i=t[n],a=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=r[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;o.push(d,h),l=l&&a&&d===a[f]&&h===a[f+1],s.push(r[u].offsetLeft,r[u].offsetTop)}return l&&i?i:(t.srcCoords=o,t[n]=e?n7(s,o):n7(o,s))}function cZ(r){return r.nodeName.toUpperCase()==="CANVAS"}var bde=/([&<>"'])/g,Sde={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function zn(r){return r==null?"":(r+"").replace(bde,function(t,e){return Sde[e]})}var wde=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rD=[],Cde=ut.browser.firefox&&+ut.browser.version.split(".")[0]<39;function oR(r,t,e,n){return e=e||{},n?i7(r,t,e):Cde&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):i7(r,t,e),e}function i7(r,t,e){if(ut.domSupported&&r.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(cZ(r)){var a=r.getBoundingClientRect();e.zrX=n-a.left,e.zrY=i-a.top;return}else if(aR(rD,r,n,i)){e.zrX=rD[0],e.zrY=rD[1];return}}e.zrX=e.zrY=0}function pB(r){return r||window.event}function ua(r,t,e){if(t=pB(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var o=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&oR(r,o,t,e)}else{oR(r,t,t,e);var a=Tde(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&wde.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function Tde(r){var t=r.wheelDelta;if(t)return t;var e=r.deltaX,n=r.deltaY;if(e==null||n==null)return t;var i=Math.abs(n!==0?n:e),a=n>0?-1:n<0?1:e>0?-1:1;return 3*i*a}function sR(r,t,e,n){r.addEventListener(t,e,n)}function Ade(r,t,e,n){r.removeEventListener(t,e,n)}var Js=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function a7(r){return r.which===2||r.which===3}var Mde=(function(){function r(){this._track=[]}return r.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},o=0,s=i.length;o<s;o++){var l=i[o],u=oR(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},r.prototype._recognize=function(t){for(var e in nD)if(nD.hasOwnProperty(e)){var n=nD[e](this._track,t);if(n)return n}},r})();function o7(r){var t=r[1][0]-r[0][0],e=r[1][1]-r[0][1];return Math.sqrt(t*t+e*e)}function Dde(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var nD={pinch:function(r,t){var e=r.length;if(e){var n=(r[e-1]||{}).points,i=(r[e-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=o7(n)/o7(i);!isFinite(a)&&(a=1),t.pinchScale=a;var o=Dde(n);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:r[0].target,event:t}}}}};function Jr(){return[1,0,0,1,0,0]}function Xg(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function $g(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function Ka(r,t,e){var n=t[0]*e[0]+t[2]*e[1],i=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return r[0]=n,r[1]=i,r[2]=a,r[3]=o,r[4]=s,r[5]=l,r}function to(r,t,e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4]+e[0],r[5]=t[5]+e[1],r}function sl(r,t,e,n){n===void 0&&(n=[0,0]);var i=t[0],a=t[2],o=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(e),f=Math.cos(e);return r[0]=i*f+s*c,r[1]=-i*c+s*f,r[2]=a*f+l*c,r[3]=-a*c+f*l,r[4]=f*(o-n[0])+c*(u-n[1])+n[0],r[5]=f*(u-n[1])-c*(o-n[0])+n[1],r}function lS(r,t,e){var n=e[0],i=e[1];return r[0]=t[0]*n,r[1]=t[1]*i,r[2]=t[2]*n,r[3]=t[3]*i,r[4]=t[4]*n,r[5]=t[5]*i,r}function wa(r,t){var e=t[0],n=t[2],i=t[4],a=t[1],o=t[3],s=t[5],l=e*o-a*n;return l?(l=1/l,r[0]=o*l,r[1]=-a*l,r[2]=-n*l,r[3]=e*l,r[4]=(n*s-o*i)*l,r[5]=(a*i-e*s)*l,r):null}function fZ(r){var t=Jr();return $g(t,r),t}const Ede=Object.freeze(Object.defineProperty({__proto__:null,clone:fZ,copy:$g,create:Jr,identity:Xg,invert:wa,mul:Ka,rotate:sl,scale:lS,translate:to},Symbol.toStringTag,{value:"Module"}));var ze=(function(){function r(t,e){this.x=t||0,this.y=e||0}return r.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(t,e){return this.x=t,this.y=e,this},r.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.scale=function(t){this.x*=t,this.y*=t},r.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},r.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},r.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},r.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},r.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},r.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},r.set=function(t,e,n){t.x=e,t.y=n},r.copy=function(t,e){t.x=e.x,t.y=e.y},r.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.lenSquare=function(t){return t.x*t.x+t.y*t.y},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},r.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},r.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},r.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},r.lerp=function(t,e,n,i){var a=1-i;t.x=a*e.x+i*n.x,t.y=a*e.y+i*n.y},r})(),zc=Math.min,td=Math.max,lR=Math.abs,s7=["x","y"],Ide=["width","height"],Qu=new ze,Ju=new ze,ec=new ze,tc=new ze,ki=hZ(),c0=ki.minTv,uR=ki.maxTv,R0=[0,0],Fe=(function(){function r(t,e,n,i){r.set(this,t,e,n,i)}return r.set=function(t,e,n,i,a){return i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),t.x=e,t.y=n,t.width=i,t.height=a,t},r.prototype.union=function(t){var e=zc(t.x,this.x),n=zc(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=td(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=td(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},r.prototype.applyTransform=function(t){r.applyTransform(this,this,t)},r.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,i=t.height/e.height,a=Jr();return to(a,a,[-e.x,-e.y]),lS(a,a,[n,i]),to(a,a,[t.x,t.y]),a},r.prototype.intersect=function(t,e,n){return r.intersect(this,t,e,n)},r.intersect=function(t,e,n,i){n&&ze.set(n,0,0);var a=i&&i.outIntersectRect||null,o=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!t||!e)return!1;t instanceof r||(t=r.set(Rde,t.x,t.y,t.width,t.height)),e instanceof r||(e=r.set(Pde,e.x,e.y,e.width,e.height));var s=!!n;ki.reset(i,s);var l=ki.touchThreshold,u=t.x+l,c=t.x+t.width-l,f=t.y+l,d=t.y+t.height-l,h=e.x+l,v=e.x+e.width-l,g=e.y+l,m=e.y+e.height-l;if(u>c||f>d||h>v||g>m)return!1;var x=!(c<h||v<u||d<g||m<f);return(s||a)&&(R0[0]=1/0,R0[1]=0,l7(u,c,h,v,0,s,a,o),l7(f,d,g,m,1,s,a,o),s&&ze.copy(n,x?ki.useDir?ki.dirMinTv:c0:uR)),x},r.contain=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},r.prototype.contain=function(t,e){return r.contain(this,t,e)},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(t){r.copy(this,t)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(t){return new r(t.x,t.y,t.width,t.height)},r.copy=function(t,e){return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t},r.applyTransform=function(t,e,n){if(!n){t!==e&&r.copy(t,e);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],o=n[4],s=n[5];t.x=e.x*i+o,t.y=e.y*a+s,t.width=e.width*i,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Qu.x=ec.x=e.x,Qu.y=tc.y=e.y,Ju.x=tc.x=e.x+e.width,Ju.y=ec.y=e.y+e.height,Qu.transform(n),tc.transform(n),Ju.transform(n),ec.transform(n),t.x=zc(Qu.x,Ju.x,ec.x,tc.x),t.y=zc(Qu.y,Ju.y,ec.y,tc.y);var l=td(Qu.x,Ju.x,ec.x,tc.x),u=td(Qu.y,Ju.y,ec.y,tc.y);t.width=l-t.x,t.height=u-t.y},r})(),Rde=new Fe(0,0,0,0),Pde=new Fe(0,0,0,0);function l7(r,t,e,n,i,a,o,s){var l=lR(t-e),u=lR(n-r),c=zc(l,u),f=s7[i],d=s7[1-i],h=Ide[i];t<e||n<r?l<u?(a&&(uR[f]=-l),s&&(o[f]=t,o[h]=0)):(a&&(uR[f]=u),s&&(o[f]=r,o[h]=0)):(o&&(o[f]=td(r,e),o[h]=zc(t,n)-o[f]),a&&(c<R0[0]||ki.useDir)&&(R0[0]=zc(c,R0[0]),(l<u||!ki.bidirectional)&&(c0[f]=l,c0[d]=0,ki.useDir&&ki.calcDirMTV()),(l>=u||!ki.bidirectional)&&(c0[f]=-u,c0[d]=0,ki.useDir&&ki.calcDirMTV())))}function hZ(){var r=0,t=new ze,e=new ze,n={minTv:new ze,maxTv:new ze,useDir:!1,dirMinTv:new ze,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,o){n.touchThreshold=0,a&&a.touchThreshold!=null&&(n.touchThreshold=td(0,a.touchThreshold)),n.negativeSize=!1,o&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,a&&a.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),e.copy(n.minTv),r=a.direction,n.bidirectional=a.bidirectional==null||!!a.bidirectional,n.bidirectional||t.set(Math.cos(r),Math.sin(r))))},calcDirMTV:function(){var a=n.minTv,o=n.dirMinTv,s=a.y*a.y+a.x*a.x,l=Math.sin(r),u=Math.cos(r),c=l*a.y+u*a.x;if(i(c)){i(a.x)&&i(a.y)&&o.set(0,0);return}if(e.x=s*u/c,e.y=s*l/c,i(e.x)&&i(e.y)){o.set(0,0);return}(n.bidirectional||t.dot(e)>0)&&e.len()<o.len()&&o.copy(e)}};function i(a){return lR(a)<1e-10}return n}var dZ="silent";function Ode(r,t,e){return{type:r,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:Bde}}function Bde(){Js(this.event)}var kde=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t})(Ia),yp=(function(){function r(t,e){this.x=t,this.y=e}return r})(),Lde=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],iD=new Fe(0,0,0,0),vZ=(function(r){J(t,r);function t(e,n,i,a,o){var s=r.call(this)||this;return s._hovered=new yp(0,0),s.storage=e,s.painter=n,s.painterRoot=a,s._pointerSize=o,i=i||new kde,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new pde(s),s}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(z(Lde,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,i=e.zrY,a=pZ(this,n,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new yp(n,i):this.findHover(n,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new yp(0,0)},t.prototype.dispatch=function(e,n){var i=this[e];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,i){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var o="on"+n,s=Ode(n,e,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},t.prototype.findHover=function(e,n,i){var a=this.storage.getDisplayList(),o=new yp(e,n);if(u7(a,o,e,n,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new Fe(e-u,n-u,l,l),f=a.length-1;f>=0;f--){var d=a[f];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(iD.copy(d.getBoundingRect()),d.transform&&iD.applyTransform(d.transform),iD.intersect(c)&&s.push(d))}if(s.length)for(var h=4,v=Math.PI/12,g=Math.PI*2,m=0;m<u;m+=h)for(var x=0;x<g;x+=v){var _=e+m*Math.cos(x),b=n+m*Math.sin(x);if(u7(s,o,_,b,i),o.target)return o}}return o},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new Mde);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var o=a.type;e.gestureEvent=o;var s=new yp;s.target=a.target,this.dispatchToElement(s,o,a.event)}},t})(Ia);z(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){vZ.prototype[r]=function(t){var e=t.zrX,n=t.zrY,i=pZ(this,e,n),a,o;if((r!=="mouseup"||!i)&&(a=this.findHover(e,n),o=a.target),r==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(r==="mouseup")this._upEl=o;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||Fs(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,r,t)}});function Nde(r,t,e){if(r[r.rectHover?"rectContain":"contain"](t,e)){for(var n=r,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(t,e))return!1}n.silent&&(i=!0);var s=n.__hostTarget;n=s?n.ignoreHostSilent?null:s:n.parent}return i?dZ:!0}return!1}function u7(r,t,e,n,i){for(var a=r.length-1;a>=0;a--){var o=r[a],s=void 0;if(o!==i&&!o.ignore&&(s=Nde(o,e,n))&&(!t.topTarget&&(t.topTarget=o),s!==dZ)){t.target=o;break}}}function pZ(r,t,e){var n=r.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var gZ=32,mp=7;function Vde(r){for(var t=0;r>=gZ;)t|=r&1,r>>=1;return r+t}function c7(r,t,e,n){var i=t+1;if(i===e)return 1;if(n(r[i++],r[t])<0){for(;i<e&&n(r[i],r[i-1])<0;)i++;zde(r,t,i)}else for(;i<e&&n(r[i],r[i-1])>=0;)i++;return i-t}function zde(r,t,e){for(e--;t<e;){var n=r[t];r[t++]=r[e],r[e--]=n}}function f7(r,t,e,n,i){for(n===t&&n++;n<e;n++){for(var a=r[n],o=t,s=n,l;o<s;)l=o+s>>>1,i(a,r[l])<0?s=l:o=l+1;var u=n-o;switch(u){case 3:r[o+3]=r[o+2];case 2:r[o+2]=r[o+1];case 1:r[o+1]=r[o];break;default:for(;u>0;)r[o+u]=r[o+u-1],u--}r[o]=a}}function aD(r,t,e,n,i,a){var o=0,s=0,l=1;if(a(r,t[e+i])>0){for(s=n-i;l<s&&a(r,t[e+i+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(r,t[e+i-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}for(o++;o<l;){var c=o+(l-o>>>1);a(r,t[e+c])>0?o=c+1:l=c}return l}function oD(r,t,e,n,i,a){var o=0,s=0,l=1;if(a(r,t[e+i])<0){for(s=i+1;l<s&&a(r,t[e+i-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}else{for(s=n-i;l<s&&a(r,t[e+i+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var c=o+(l-o>>>1);a(r,t[e+c])<0?l=c:o=c+1}return l}function Fde(r,t){var e=mp,n,i,a=0,o=[];n=[],i=[];function s(h,v){n[a]=h,i[a]=v,a+=1}function l(){for(;a>1;){var h=a-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;c(h)}}function u(){for(;a>1;){var h=a-2;h>0&&i[h-1]<i[h+1]&&h--,c(h)}}function c(h){var v=n[h],g=i[h],m=n[h+1],x=i[h+1];i[h]=g+x,h===a-3&&(n[h+1]=n[h+2],i[h+1]=i[h+2]),a--;var _=oD(r[m],r,v,g,0,t);v+=_,g-=_,g!==0&&(x=aD(r[v+g-1],r,m,x,x-1,t),x!==0&&(g<=x?f(v,g,m,x):d(v,g,m,x)))}function f(h,v,g,m){var x=0;for(x=0;x<v;x++)o[x]=r[h+x];var _=0,b=g,w=h;if(r[w++]=r[b++],--m===0){for(x=0;x<v;x++)r[w+x]=o[_+x];return}if(v===1){for(x=0;x<m;x++)r[w+x]=r[b+x];r[w+m]=o[_];return}for(var T=e,A,M,D;;){A=0,M=0,D=!1;do if(t(r[b],o[_])<0){if(r[w++]=r[b++],M++,A=0,--m===0){D=!0;break}}else if(r[w++]=o[_++],A++,M=0,--v===1){D=!0;break}while((A|M)<T);if(D)break;do{if(A=oD(r[b],o,_,v,0,t),A!==0){for(x=0;x<A;x++)r[w+x]=o[_+x];if(w+=A,_+=A,v-=A,v<=1){D=!0;break}}if(r[w++]=r[b++],--m===0){D=!0;break}if(M=aD(o[_],r,b,m,0,t),M!==0){for(x=0;x<M;x++)r[w+x]=r[b+x];if(w+=M,b+=M,m-=M,m===0){D=!0;break}}if(r[w++]=o[_++],--v===1){D=!0;break}T--}while(A>=mp||M>=mp);if(D)break;T<0&&(T=0),T+=2}if(e=T,e<1&&(e=1),v===1){for(x=0;x<m;x++)r[w+x]=r[b+x];r[w+m]=o[_]}else{if(v===0)throw new Error;for(x=0;x<v;x++)r[w+x]=o[_+x]}}function d(h,v,g,m){var x=0;for(x=0;x<m;x++)o[x]=r[g+x];var _=h+v-1,b=m-1,w=g+m-1,T=0,A=0;if(r[w--]=r[_--],--v===0){for(T=w-(m-1),x=0;x<m;x++)r[T+x]=o[x];return}if(m===1){for(w-=v,_-=v,A=w+1,T=_+1,x=v-1;x>=0;x--)r[A+x]=r[T+x];r[w]=o[b];return}for(var M=e;;){var D=0,P=0,I=!1;do if(t(o[b],r[_])<0){if(r[w--]=r[_--],D++,P=0,--v===0){I=!0;break}}else if(r[w--]=o[b--],P++,D=0,--m===1){I=!0;break}while((D|P)<M);if(I)break;do{if(D=v-oD(o[b],r,h,v,v-1,t),D!==0){for(w-=D,_-=D,v-=D,A=w+1,T=_+1,x=D-1;x>=0;x--)r[A+x]=r[T+x];if(v===0){I=!0;break}}if(r[w--]=o[b--],--m===1){I=!0;break}if(P=m-aD(r[_],o,0,m,m-1,t),P!==0){for(w-=P,b-=P,m-=P,A=w+1,T=b+1,x=0;x<P;x++)r[A+x]=o[T+x];if(m<=1){I=!0;break}}if(r[w--]=r[_--],--v===0){I=!0;break}M--}while(D>=mp||P>=mp);if(I)break;M<0&&(M=0),M+=2}if(e=M,e<1&&(e=1),m===1){for(w-=v,_-=v,A=w+1,T=_+1,x=v-1;x>=0;x--)r[A+x]=r[T+x];r[w]=o[b]}else{if(m===0)throw new Error;for(T=w-(m-1),x=0;x<m;x++)r[T+x]=o[x]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function lx(r,t,e,n){e||(e=0),n||(n=r.length);var i=n-e;if(!(i<2)){var a=0;if(i<gZ){a=c7(r,e,n,t),f7(r,e,n,e+a,t);return}var o=Fde(r,t),s=Vde(i);do{if(a=c7(r,e,n,t),a<s){var l=i;l>s&&(l=s),f7(r,e,e+l,e+a,t),a=l}o.pushRun(e,a),o.mergeRuns(),i-=a,e+=a}while(i!==0);o.forceMergeRuns()}}var Li=1,f0=2,Zh=4,h7=!1;function sD(){h7||(h7=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function d7(r,t){return r.zlevel===t.zlevel?r.z===t.z?r.z2-t.z2:r.z-t.z:r.zlevel-t.zlevel}var Hde=(function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=d7}return r.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},r.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(e),n},r.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,lx(n,d7)},r.prototype._updateAndAddDisplayable=function(t,e,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath(),a=e&&e.length,o=0,s=t.__clipPaths;if(!t.ignoreClip&&(a||i)){if(s||(s=t.__clipPaths=[]),a)for(var l=0;l<e.length;l++)s[o++]=e[l];for(var u=i,c=t;u;)u.parent=c,u.updateTransform(),s[o++]=u,c=u,u=u.getClipPath()}if(s&&(s.length=o),t.childrenRef){for(var f=t.childrenRef(),d=0;d<f.length;d++){var h=f[d];t.__dirty&&(h.__dirty|=Li),this._updateAndAddDisplayable(h,s,n)}t.__dirty=0}else{var v=t;isNaN(v.z)&&(sD(),v.z=0),isNaN(v.z2)&&(sD(),v.z2=0),isNaN(v.zlevel)&&(sD(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var g=t.getDecalElement&&t.getDecalElement();g&&this._updateAndAddDisplayable(g,s,n);var m=t.getTextGuideLine();m&&this._updateAndAddDisplayable(m,s,n);var x=t.getTextContent();x&&this._updateAndAddDisplayable(x,s,n)}},r.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},r.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);return}var i=Ze(this._roots,t);i>=0&&this._roots.splice(i,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r})(),x_;x_=ut.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var P0={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)))},elasticOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*r)*Math.sin((r-t)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var t,e=.1,n=.4;return r===0?0:r===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),(r*=2)<1?-.5*(e*Math.pow(2,10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)):e*Math.pow(2,-10*(r-=1))*Math.sin((r-t)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var t=1.70158;return r*r*((t+1)*r-t)},backOut:function(r){var t=1.70158;return--r*r*((t+1)*r+t)+1},backInOut:function(r){var t=2.5949095;return(r*=2)<1?.5*(r*r*((t+1)*r-t)):.5*((r-=2)*r*((t+1)*r+t)+2)},bounceIn:function(r){return 1-P0.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?P0.bounceIn(r*2)*.5:P0.bounceOut(r*2-1)*.5+.5}},Nm=Math.pow,ou=Math.sqrt,__=1e-8,yZ=1e-4,v7=ou(3),Vm=1/3,To=Au(),va=Au(),ud=Au();function Kl(r){return r>-__&&r<__}function mZ(r){return r>__||r<-__}function Kr(r,t,e,n,i){var a=1-i;return a*a*(a*r+3*i*t)+i*i*(i*n+3*a*e)}function p7(r,t,e,n,i){var a=1-i;return 3*(((t-r)*a+2*(e-t)*i)*a+(n-e)*i*i)}function b_(r,t,e,n,i,a){var o=n+3*(t-e)-r,s=3*(e-t*2+r),l=3*(t-r),u=r-i,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(Kl(c)&&Kl(f))if(Kl(s))a[0]=0;else{var v=-l/s;v>=0&&v<=1&&(a[h++]=v)}else{var g=f*f-4*c*d;if(Kl(g)){var m=f/c,v=-s/o+m,x=-m/2;v>=0&&v<=1&&(a[h++]=v),x>=0&&x<=1&&(a[h++]=x)}else if(g>0){var _=ou(g),b=c*s+1.5*o*(-f+_),w=c*s+1.5*o*(-f-_);b<0?b=-Nm(-b,Vm):b=Nm(b,Vm),w<0?w=-Nm(-w,Vm):w=Nm(w,Vm);var v=(-s-(b+w))/(3*o);v>=0&&v<=1&&(a[h++]=v)}else{var T=(2*c*s-3*o*f)/(2*ou(c*c*c)),A=Math.acos(T)/3,M=ou(c),D=Math.cos(A),v=(-s-2*M*D)/(3*o),x=(-s+M*(D+v7*Math.sin(A)))/(3*o),P=(-s+M*(D-v7*Math.sin(A)))/(3*o);v>=0&&v<=1&&(a[h++]=v),x>=0&&x<=1&&(a[h++]=x),P>=0&&P<=1&&(a[h++]=P)}}return h}function xZ(r,t,e,n,i){var a=6*e-12*t+6*r,o=9*t+3*n-3*r-9*e,s=3*t-3*r,l=0;if(Kl(o)){if(mZ(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(Kl(c))i[0]=-a/(2*o);else if(c>0){var f=ou(c),u=(-a+f)/(2*o),d=(-a-f)/(2*o);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function mu(r,t,e,n,i,a){var o=(t-r)*i+r,s=(e-t)*i+t,l=(n-e)*i+e,u=(s-o)*i+o,c=(l-s)*i+s,f=(c-u)*i+u;a[0]=r,a[1]=o,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=n}function _Z(r,t,e,n,i,a,o,s,l,u,c){var f,d=.005,h=1/0,v,g,m,x;To[0]=l,To[1]=u;for(var _=0;_<1;_+=.05)va[0]=Kr(r,e,i,o,_),va[1]=Kr(t,n,a,s,_),m=au(To,va),m<h&&(f=_,h=m);h=1/0;for(var b=0;b<32&&!(d<yZ);b++)v=f-d,g=f+d,va[0]=Kr(r,e,i,o,v),va[1]=Kr(t,n,a,s,v),m=au(va,To),v>=0&&m<h?(f=v,h=m):(ud[0]=Kr(r,e,i,o,g),ud[1]=Kr(t,n,a,s,g),x=au(ud,To),g<=1&&x<h?(f=g,h=x):d*=.5);return c&&(c[0]=Kr(r,e,i,o,f),c[1]=Kr(t,n,a,s,f)),ou(h)}function Gde(r,t,e,n,i,a,o,s,l){for(var u=r,c=t,f=0,d=1/l,h=1;h<=l;h++){var v=h*d,g=Kr(r,e,i,o,v),m=Kr(t,n,a,s,v),x=g-u,_=m-c;f+=Math.sqrt(x*x+_*_),u=g,c=m}return f}function fn(r,t,e,n){var i=1-n;return i*(i*r+2*n*t)+n*n*e}function cR(r,t,e,n){return 2*((1-n)*(t-r)+n*(e-t))}function Wde(r,t,e,n,i){var a=r-2*t+e,o=2*(t-r),s=r-n,l=0;if(Kl(a)){if(mZ(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(Kl(c)){var u=-o/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=ou(c),u=(-o+f)/(2*a),d=(-o-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function bZ(r,t,e){var n=r+e-2*t;return n===0?.5:(r-t)/n}function Z0(r,t,e,n,i){var a=(t-r)*n+r,o=(e-t)*n+t,s=(o-a)*n+a;i[0]=r,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=e}function SZ(r,t,e,n,i,a,o,s,l){var u,c=.005,f=1/0;To[0]=o,To[1]=s;for(var d=0;d<1;d+=.05){va[0]=fn(r,e,i,d),va[1]=fn(t,n,a,d);var h=au(To,va);h<f&&(u=d,f=h)}f=1/0;for(var v=0;v<32&&!(c<yZ);v++){var g=u-c,m=u+c;va[0]=fn(r,e,i,g),va[1]=fn(t,n,a,g);var h=au(va,To);if(g>=0&&h<f)u=g,f=h;else{ud[0]=fn(r,e,i,m),ud[1]=fn(t,n,a,m);var x=au(ud,To);m<=1&&x<f?(u=m,f=x):c*=.5}}return l&&(l[0]=fn(r,e,i,u),l[1]=fn(t,n,a,u)),ou(f)}function Ude(r,t,e,n,i,a,o){for(var s=r,l=t,u=0,c=1/o,f=1;f<=o;f++){var d=f*c,h=fn(r,e,i,d),v=fn(t,n,a,d),g=h-s,m=v-l;u+=Math.sqrt(g*g+m*m),s=h,l=v}return u}var qde=/cubic-bezier\(([0-9,\.e ]+)\)/;function gB(r){var t=r&&qde.exec(r);if(t){var e=t[1].split(","),n=+Vi(e[0]),i=+Vi(e[1]),a=+Vi(e[2]),o=+Vi(e[3]);if(isNaN(n+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:b_(0,n,a,1,l,s)&&Kr(0,i,o,1,s[0])}}}var Yde=(function(){function r(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||gr,this.ondestroy=t.ondestroy||gr,this.onrestart=t.onrestart||gr,t.easing&&this.setEasing(t.easing)}return r.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Re(t)?t:P0[t]||gB(t)},r})(),wZ=(function(){function r(t){this.value=t}return r})(),Xde=(function(){function r(){this._len=0}return r.prototype.insert=function(t){var e=new wZ(t);return this.insertEntry(e),e},r.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r})(),yd=(function(){function r(t){this._list=new Xde,this._maxSize=10,this._map={},this._maxSize=t}return r.prototype.put=function(t,e){var n=this._list,i=this._map,a=null;if(i[t]==null){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new wZ(e),s.key=t,n.insertEntry(s),i[t]=s}return a},r.prototype.get=function(t){var e=this._map[t],n=this._list;if(e!=null)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r})(),g7={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Qa(r){return r=Math.round(r),r<0?0:r>255?255:r}function $de(r){return r=Math.round(r),r<0?0:r>360?360:r}function K0(r){return r<0?0:r>1?1:r}function ux(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?Qa(parseFloat(t)/100*255):Qa(parseInt(t,10))}function qs(r){var t=r;return t.length&&t.charAt(t.length-1)==="%"?K0(parseFloat(t)/100):K0(parseFloat(t))}function lD(r,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?r+(t-r)*e*6:e*2<1?t:e*3<2?r+(t-r)*(2/3-e)*6:r}function Ql(r,t,e){return r+(t-r)*e}function la(r,t,e,n,i){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function fR(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}var CZ=new yd(20),zm=null;function bh(r,t){zm&&fR(zm,t),zm=CZ.put(r,zm||t.slice())}function Fn(r,t){if(r){t=t||[];var e=CZ.get(r);if(e)return fR(t,e);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in g7)return fR(t,g7[n]),bh(r,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){la(t,0,0,0,1);return}return la(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),bh(r,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){la(t,0,0,0,1);return}return la(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),bh(r,t),t}return}var o=n.indexOf("("),s=n.indexOf(")");if(o!==-1&&s+1===i){var l=n.substr(0,o),u=n.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?la(t,+u[0],+u[1],+u[2],1):la(t,0,0,0,1);c=qs(u.pop());case"rgb":if(u.length>=3)return la(t,ux(u[0]),ux(u[1]),ux(u[2]),u.length===3?c:qs(u[3])),bh(r,t),t;la(t,0,0,0,1);return;case"hsla":if(u.length!==4){la(t,0,0,0,1);return}return u[3]=qs(u[3]),hR(u,t),bh(r,t),t;case"hsl":if(u.length!==3){la(t,0,0,0,1);return}return hR(u,t),bh(r,t),t;default:return}}la(t,0,0,0,1)}}function hR(r,t){var e=(parseFloat(r[0])%360+360)%360/360,n=qs(r[1]),i=qs(r[2]),a=i<=.5?i*(n+1):i+n-i*n,o=i*2-a;return t=t||[],la(t,Qa(lD(o,a,e+1/3)*255),Qa(lD(o,a,e)*255),Qa(lD(o,a,e-1/3)*255),1),r.length===4&&(t[3]=r[3]),t}function jde(r){if(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,i=Math.min(t,e,n),a=Math.max(t,e,n),o=a-i,s=(a+i)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+i):u=o/(2-a-i);var c=((a-t)/6+o/2)/o,f=((a-e)/6+o/2)/o,d=((a-n)/6+o/2)/o;t===a?l=d-f:e===a?l=1/3+c-d:n===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return r[3]!=null&&h.push(r[3]),h}}function S_(r,t){var e=Fn(r);if(e){for(var n=0;n<3;n++)t<0?e[n]=e[n]*(1-t)|0:e[n]=(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return _a(e,e.length===4?"rgba":"rgb")}}function Zde(r){var t=Fn(r);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function O0(r,t,e){if(!(!(t&&t.length)||!(r>=0&&r<=1))){e=e||[];var n=r*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=t[i],s=t[a],l=n-i;return e[0]=Qa(Ql(o[0],s[0],l)),e[1]=Qa(Ql(o[1],s[1],l)),e[2]=Qa(Ql(o[2],s[2],l)),e[3]=K0(Ql(o[3],s[3],l)),e}}var Kde=O0;function yB(r,t,e){if(!(!(t&&t.length)||!(r>=0&&r<=1))){var n=r*(t.length-1),i=Math.floor(n),a=Math.ceil(n),o=Fn(t[i]),s=Fn(t[a]),l=n-i,u=_a([Qa(Ql(o[0],s[0],l)),Qa(Ql(o[1],s[1],l)),Qa(Ql(o[2],s[2],l)),K0(Ql(o[3],s[3],l))],"rgba");return e?{color:u,leftIndex:i,rightIndex:a,value:n}:u}}var Qde=yB;function Ys(r,t,e,n){var i=Fn(r);if(r)return i=jde(i),t!=null&&(i[0]=$de(Re(t)?t(i[0]):t)),e!=null&&(i[1]=qs(Re(e)?e(i[1]):e)),n!=null&&(i[2]=qs(Re(n)?n(i[2]):n)),_a(hR(i),"rgba")}function Q0(r,t){var e=Fn(r);if(e&&t!=null)return e[3]=K0(t),_a(e,"rgba")}function _a(r,t){if(!(!r||!r.length)){var e=r[0]+","+r[1]+","+r[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+r[3]),t+"("+e+")"}}function J0(r,t){var e=Fn(r);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function Jde(){return _a([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var y7=new yd(100);function w_(r){if(be(r)){var t=y7.get(r);return t||(t=S_(r,-.1),y7.put(r,t)),t}else if(Ug(r)){var e=oe({},r);return e.colorStops=he(r.colorStops,function(n){return{offset:n.offset,color:S_(n.color,-.1)}}),e}return r}const eve=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:O0,fastMapToColor:Kde,lerp:yB,lift:S_,liftColor:w_,lum:J0,mapToColor:Qde,modifyAlpha:Q0,modifyHSL:Ys,parse:Fn,parseCssFloat:qs,parseCssInt:ux,random:Jde,stringify:_a,toHex:Zde},Symbol.toStringTag,{value:"Module"}));var C_=Math.round;function eg(r){var t;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var e=Fn(r);e&&(r="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}return{color:r,opacity:t??1}}var m7=1e-4;function Jl(r){return r<m7&&r>-m7}function Fm(r){return C_(r*1e3)/1e3}function dR(r){return C_(r*1e4)/1e4}function tve(r){return"matrix("+Fm(r[0])+","+Fm(r[1])+","+Fm(r[2])+","+Fm(r[3])+","+dR(r[4])+","+dR(r[5])+")"}var rve={left:"start",right:"end",center:"middle",middle:"middle"};function nve(r,t,e){return e==="top"?r+=t/2:e==="bottom"&&(r-=t/2),r}function ive(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function ave(r){var t=r.style,e=r.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}function TZ(r){return r&&!!r.image}function ove(r){return r&&!!r.svgElement}function mB(r){return TZ(r)||ove(r)}function AZ(r){return r.type==="linear"}function MZ(r){return r.type==="radial"}function DZ(r){return r&&(r.type==="linear"||r.type==="radial")}function uS(r){return"url(#"+r+")"}function EZ(r){var t=r.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function IZ(r){var t=r.x||0,e=r.y||0,n=(r.rotation||0)*D0,i=Ie(r.scaleX,1),a=Ie(r.scaleY,1),o=r.skewX||0,s=r.skewY||0,l=[];return(t||e)&&l.push("translate("+t+"px,"+e+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(o||s)&&l.push("skew("+C_(o*D0)+"deg, "+C_(s*D0)+"deg)"),l.join(" ")}var sve=(function(){return ut.hasGlobalWindow&&Re(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}})(),vR=Array.prototype.slice;function ks(r,t,e){return(t-r)*e+r}function uD(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=ks(t[a],e[a],n);return r}function lve(r,t,e,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){r[o]||(r[o]=[]);for(var s=0;s<a;s++)r[o][s]=ks(t[o][s],e[o][s],n)}return r}function Hm(r,t,e,n){for(var i=t.length,a=0;a<i;a++)r[a]=t[a]+e[a]*n;return r}function x7(r,t,e,n){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){r[o]||(r[o]=[]);for(var s=0;s<a;s++)r[o][s]=t[o][s]+e[o][s]*n}return r}function uve(r,t){for(var e=r.length,n=t.length,i=e>n?t:r,a=Math.min(e,n),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(e,n);s++)i.push({offset:o.offset,color:o.color.slice()})}function cve(r,t,e){var n=r,i=t;if(!(!n.push||!i.push)){var a=n.length,o=i.length;if(a!==o){var s=a>o;if(s)n.length=o;else for(var l=a;l<o;l++)n.push(e===1?i[l]:vR.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(e===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function B0(r){if(En(r)){var t=r.length;if(En(r[0])){for(var e=[],n=0;n<t;n++)e.push(vR.call(r[n]));return e}return vR.call(r)}return r}function cx(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function fve(r){return En(r&&r[0])?2:1}var Gm=0,fx=1,RZ=2,h0=3,pR=4,gR=5,_7=6;function b7(r){return r===pR||r===gR}function Wm(r){return r===fx||r===RZ}var xp=[0,0,0,0],hve=(function(){function r(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=_7,l=e;if(En(e)){var u=fve(e);s=u,(u===1&&!yt(e[0])||u===2&&!yt(e[0][0]))&&(o=!0)}else if(yt(e)&&!Dn(e))s=Gm;else if(be(e))if(!isNaN(+e))s=Gm;else{var c=Fn(e);c&&(l=c,s=h0)}else if(Ug(e)){var f=oe({},l);f.colorStops=he(e.colorStops,function(h){return{offset:h.offset,color:Fn(h.color)}}),AZ(e)?s=pR:MZ(e)&&(s=gR),l=f}a===0?this.valType=s:(s!==this.valType||s===_7)&&(o=!0),this.discrete=this.discrete||o;var d={time:t,value:l,rawValue:e,percent:0};return n&&(d.easing=n,d.easingFunc=Re(n)?n:P0[n]||gB(n)),i.push(d),d},r.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(g,m){return g.time-m.time});for(var i=this.valType,a=n.length,o=n[a-1],s=this.discrete,l=Wm(i),u=b7(i),c=0;c<a;c++){var f=n[c],d=f.value,h=o.value;f.percent=f.time/t,s||(l&&c!==a-1?cve(d,h,i):u&&uve(d.colorStops,h.colorStops))}if(!s&&i!==gR&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;for(var v=n[0].value,c=0;c<a;c++)i===Gm?n[c].additiveValue=n[c].value-v:i===h0?n[c].additiveValue=Hm([],n[c].value,v,-1):Wm(i)&&(n[c].additiveValue=i===fx?Hm([],n[c].value,v,-1):x7([],n[c].value,v,-1))}},r.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===h0,c,f=this._lastFr,d=Math.min,h,v;if(s===1)h=v=o[0];else{if(e<0)c=0;else if(e<this._lastFrP){var g=d(f+1,s-1);for(c=g;c>=0&&!(o[c].percent<=e);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>e);c++);c=d(c-1,s-2)}v=o[c+1],h=o[c]}if(h&&v){this._lastFr=c,this._lastFrP=e;var m=v.percent-h.percent,x=m===0?1:d((e-h.percent)/m,1);v.easingFunc&&(x=v.easingFunc(x));var _=n?this._additiveValue:u?xp:t[l];if((Wm(a)||u)&&!_&&(_=this._additiveValue=[]),this.discrete)t[l]=x<1?h.rawValue:v.rawValue;else if(Wm(a))a===fx?uD(_,h[i],v[i],x):lve(_,h[i],v[i],x);else if(b7(a)){var b=h[i],w=v[i],T=a===pR;t[l]={type:T?"linear":"radial",x:ks(b.x,w.x,x),y:ks(b.y,w.y,x),colorStops:he(b.colorStops,function(M,D){var P=w.colorStops[D];return{offset:ks(M.offset,P.offset,x),color:cx(uD([],M.color,P.color,x))}}),global:w.global},T?(t[l].x2=ks(b.x2,w.x2,x),t[l].y2=ks(b.y2,w.y2,x)):t[l].r=ks(b.r,w.r,x)}else if(u)uD(_,h[i],v[i],x),n||(t[l]=cx(_));else{var A=ks(h[i],v[i],x);n?this._additiveValue=A:t[l]=A}n&&this._addToTarget(t)}}},r.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;e===Gm?t[n]=t[n]+i:e===h0?(Fn(t[n],xp),Hm(xp,xp,i,1),t[n]=cx(xp)):e===fx?Hm(t[n],t[n],i,1):e===RZ&&x7(t[n],t[n],i,1)},r})(),xB=(function(){function r(t,e,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i){iS("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(t){this._target=t},r.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,ht(e),n)},r.prototype.whenWithKeys=function(t,e,n,i){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],l=a[s];if(!l){l=a[s]=new hve(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===h0&&u&&(u=cx(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,B0(u),i),this._trackKeys.push(s)}l.addKeyframe(t,B0(e[s]),i)}return this._maxTime=Math.max(this._maxTime,t),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},r.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},r.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(e=a)}return e},r.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(e._target[s.propName]=f.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var d=new Yde({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){e._started=2;var v=e._additiveAnimators;if(v){for(var g=!1,m=0;m<v.length;m++)if(v[m]._clip){g=!0;break}g||(e._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(e._target,h);var x=e._onframeCbs;if(x)for(var m=0;m<x.length;m++)x[m](e._target,h)},ondestroy:function(){e._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},r.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},r.prototype.delay=function(t){return this._delay=t,this},r.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},r.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},r.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(t){return this._tracks[t]},r.prototype.getTracks=function(){var t=this;return he(this._trackKeys,function(e){return t._tracks[e]})},r.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var o=n[t[a]];o&&!o.isFinished()&&(e?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},r.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var a=e[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[n?0:s.length-1];l&&(t[a]=B0(l.rawValue))}}}},r.prototype.__changeFinalValue=function(t,e){e=e||ht(t);for(var n=0;n<e.length;n++){var i=e[n],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},r})();function rd(){return new Date().getTime()}var dve=(function(r){J(t,r);function t(e){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,i=e.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=rd()-this._pausedTime,i=n-this._time,a=this._head;a;){var o=a.next,s=a.step(n,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function n(){e._running&&(x_(n),!e._paused&&e.update())}x_(n)},t.prototype.start=function(){this._running||(this._time=rd(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=rd(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=rd()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,n){n=n||{},this.start();var i=new xB(e,n.loop);return this.addAnimator(i),i},t})(Ia),vve=300,cD=ut.domSupported,fD=(function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=he(r,function(i){var a=i.replace("mouse","pointer");return e.hasOwnProperty(a)?a:i});return{mouse:r,touch:t,pointer:n}})(),S7={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},w7=!1;function yR(r){var t=r.pointerType;return t==="pen"||t==="touch"}function pve(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function hD(r){r&&(r.zrByTouch=!0)}function gve(r,t){return ua(r.dom,new yve(r,t),!0)}function PZ(r,t){for(var e=t,n=!1;e&&e.nodeType!==9&&!(n=e.domBelongToZr||e!==t&&e===r.painterRoot);)e=e.parentNode;return n}var yve=(function(){function r(t,e){this.stopPropagation=gr,this.stopImmediatePropagation=gr,this.preventDefault=gr,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return r})(),Ua={mousedown:function(r){r=ua(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=ua(this.dom,r);var t=this.__mayPointerCapture;t&&(r.zrX!==t[0]||r.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=ua(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=ua(this.dom,r);var t=r.toElement||r.relatedTarget;PZ(this,t)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){w7=!0,r=ua(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){w7||(r=ua(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=ua(this.dom,r),hD(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),Ua.mousemove.call(this,r),Ua.mousedown.call(this,r)},touchmove:function(r){r=ua(this.dom,r),hD(r),this.handler.processGesture(r,"change"),Ua.mousemove.call(this,r)},touchend:function(r){r=ua(this.dom,r),hD(r),this.handler.processGesture(r,"end"),Ua.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<vve&&Ua.click.call(this,r)},pointerdown:function(r){Ua.mousedown.call(this,r)},pointermove:function(r){yR(r)||Ua.mousemove.call(this,r)},pointerup:function(r){Ua.mouseup.call(this,r)},pointerout:function(r){yR(r)||Ua.mouseout.call(this,r)}};z(["click","dblclick","contextmenu"],function(r){Ua[r]=function(t){t=ua(this.dom,t),this.trigger(r,t)}});var mR={pointermove:function(r){yR(r)||mR.mousemove.call(this,r)},pointerup:function(r){mR.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),t&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function mve(r,t){var e=t.domHandlers;ut.pointerEventsSupported?z(fD.pointer,function(n){hx(t,n,function(i){e[n].call(r,i)})}):(ut.touchEventsSupported&&z(fD.touch,function(n){hx(t,n,function(i){e[n].call(r,i),pve(t)})}),z(fD.mouse,function(n){hx(t,n,function(i){i=pB(i),t.touching||e[n].call(r,i)})}))}function xve(r,t){ut.pointerEventsSupported?z(S7.pointer,e):ut.touchEventsSupported||z(S7.mouse,e);function e(n){function i(a){a=pB(a),PZ(r,a.target)||(a=gve(r,a),t.domHandlers[n].call(r,a))}hx(t,n,i,{capture:!0})}}function hx(r,t,e,n){r.mounted[t]=e,r.listenerOpts[t]=n,sR(r.domTarget,t,e,n)}function dD(r){var t=r.mounted;for(var e in t)t.hasOwnProperty(e)&&Ade(r.domTarget,e,t[e],r.listenerOpts[e]);r.mounted={}}var C7=(function(){function r(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return r})(),_ve=(function(r){J(t,r);function t(e,n){var i=r.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=n,i._localHandlerScope=new C7(e,Ua),cD&&(i._globalHandlerScope=new C7(document,mR)),mve(i,i._localHandlerScope),i}return t.prototype.dispose=function(){dD(this._localHandlerScope),cD&&dD(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,cD&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?xve(this,n):dD(n)}},t})(Ia),OZ=1;ut.hasGlobalWindow&&(OZ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var T_=OZ,xR=.4,_R="#333",bR="#ccc",bve="#eee",T7=Xg,A7=5e-5;function rc(r){return r>A7||r<-A7}var nc=[],Sh=[],vD=Jr(),pD=Math.abs,Ws=(function(){function r(){}return r.prototype.getLocalTransform=function(t){return r.getLocalTransform(this,t)},r.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},r.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},r.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},r.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},r.prototype.needLocalTransform=function(){return rc(this.rotation)||rc(this.x)||rc(this.y)||rc(this.scaleX-1)||rc(this.scaleY-1)||rc(this.skewX)||rc(this.skewY)},r.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;if(!(e||t)){n&&(T7(n),this.invTransform=null);return}n=n||Jr(),e?this.getLocalTransform(n):T7(n),t&&(e?Ka(n,t,n):$g(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(nc);var n=nc[0]<0?-1:1,i=nc[1]<0?-1:1,a=((nc[0]-n)*e+n)/nc[0]||0,o=((nc[1]-i)*e+i)/nc[1]||0;t[0]*=a,t[1]*=a,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||Jr(),wa(this.invTransform,t)},r.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},r.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||Jr(),Ka(Sh,t.invTransform,e),e=Sh);var n=this.originX,i=this.originY;(n||i)&&(vD[4]=n,vD[5]=i,Ka(Sh,e,vD),Sh[4]-=n,Sh[5]-=i,e=Sh),this.setLocalTransform(e)}},r.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},r.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&yr(n,n,i),n},r.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&yr(n,n,i),n},r.prototype.getLineScale=function(){var t=this.transform;return t&&pD(t[0]-1)>1e-10&&pD(t[3]-1)>1e-10?Math.sqrt(pD(t[0]*t[3]-t[2]*t[1])):1},r.prototype.copyTransform=function(t){A_(this,t)},r.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,i=t.originY||0,a=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,d=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;if(n||i||s||l){var v=n+s,g=i+l;e[4]=-v*a-d*g*o,e[5]=-g*o-h*v*a}else e[4]=e[5]=0;return e[0]=a,e[3]=o,e[1]=h*a,e[2]=d*o,u&&sl(e,e,u),e[4]+=n+c,e[5]+=i+f,e},r.initDefaultProps=(function(){var t=r.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0})(),r})(),Fo=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function A_(r,t){for(var e=0;e<Fo.length;e++){var n=Fo[e];r[n]=t[n]}}function Lo(r){Um||(Um=new yd(100)),r=r||Qs;var t=Um.get(r);return t||(t={font:r,strWidthCache:new yd(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:yi.measureText("",r).width,asciiCharWidth:yi.measureText("a",r).width},Um.put(r,t)),t}var Um;function Sve(r){if(!(gD>=M7)){r=r||Qs;for(var t=[],e=+new Date,n=0;n<=127;n++)t[n]=yi.measureText(String.fromCharCode(n),r).width;var i=+new Date-e;return i>16?gD=M7:i>2&&gD++,t}}var gD=0,M7=5;function BZ(r,t){return r.asciiWidthMapTried||(r.asciiWidthMap=Sve(r.font),r.asciiWidthMapTried=!0),0<=t&&t<=127?r.asciiWidthMap!=null?r.asciiWidthMap[t]:r.asciiCharWidth:r.stWideCharWidth}function No(r,t){var e=r.strWidthCache,n=e.get(t);return n==null&&(n=yi.measureText(t,r.font).width,e.put(t,n)),n}function D7(r,t,e,n){var i=No(Lo(t),r),a=jg(t),o=md(0,i,e),s=Zc(0,a,n),l=new Fe(o,s,i,a);return l}function cS(r,t,e,n){var i=((r||"")+"").split(`
`),a=i.length;if(a===1)return D7(i[0],t,e,n);for(var o=new Fe(0,0,0,0),s=0;s<i.length;s++){var l=D7(i[s],t,e,n);s===0?o.copy(l):o.union(l)}return o}function md(r,t,e,n){return e==="right"?n?r+=t:r-=t:e==="center"&&(n?r+=t/2:r-=t/2),r}function Zc(r,t,e,n){return e==="middle"?n?r+=t/2:r-=t/2:e==="bottom"&&(n?r+=t:r-=t),r}function jg(r){return Lo(r).stWideCharWidth}function ro(r,t){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*t:parseFloat(r):r}function M_(r,t,e){var n=t.position||"inside",i=t.distance!=null?t.distance:5,a=e.height,o=e.width,s=a/2,l=e.x,u=e.y,c="left",f="top";if(n instanceof Array)l+=ro(n[0],e.width),u+=ro(n[1],e.height),c=null,f=null;else switch(n){case"left":l-=i,u+=s,c="right",f="middle";break;case"right":l+=i+o,u+=s,f="middle";break;case"top":l+=o/2,u-=i,c="center",f="bottom";break;case"bottom":l+=o/2,u+=a+i,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=i,u+=s,f="middle";break;case"insideRight":l+=o-i,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=i,c="center";break;case"insideBottom":l+=o/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=o-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=o-i,u+=a-i,c="right",f="bottom";break}return r=r||{},r.x=l,r.y=u,r.align=c,r.verticalAlign=f,r}var yD="__zr_normal__",mD=Fo.concat(["ignore"]),wve=Sa(Fo,function(r,t){return r[t]=!0,r},{ignore:!1}),wh={},Cve=new Fe(0,0,0,0),qm=[],fS=(function(){function r(t){this.id=fB(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return r.prototype._init=function(t){this.attr(t)},r.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=e.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var u=!1;a.copyTransform(e);var c=n.position!=null,f=n.autoOverflowArea,d=void 0;if((f||c)&&(d=Cve,n.layoutRect?d.copy(n.layoutRect):d.copy(this.getBoundingRect()),i||d.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(wh,n,d):M_(wh,n,d),a.x=wh.x,a.y=wh.y,o=wh.align,s=wh.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var v=void 0,g=void 0;h==="center"?(v=d.width*.5,g=d.height*.5):(v=ro(h[0],d.width),g=ro(h[1],d.height)),u=!0,a.originX=-a.x+v+(i?0:d.x),a.originY=-a.y+g+(i?0:d.y)}}n.rotation!=null&&(a.rotation=n.rotation);var m=n.offset;m&&(a.x+=m[0],a.y+=m[1],u||(a.originX=-m[0],a.originY=-m[1]));var x=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var _=x.overflowRect=x.overflowRect||new Fe(0,0,0,0);a.getLocalTransform(qm),wa(qm,qm),Fe.copy(_,d),_.applyTransform(qm)}else x.overflowRect=null;var b=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,w=void 0,T=void 0,A=void 0;b&&this.canBeInsideText()?(w=n.insideFill,T=n.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(T==null||T==="auto")&&(T=this.getInsideTextStroke(w),A=!0)):(w=n.outsideFill,T=n.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(T==null||T==="auto")&&(T=this.getOutsideStroke(w),A=!0)),w=w||"#000",(w!==x.fill||T!==x.stroke||A!==x.autoStroke||o!==x.align||s!==x.verticalAlign)&&(l=!0,x.fill=w,x.stroke=T,x.autoStroke=A,x.align=o,x.verticalAlign=s,e.setDefaultTextStyle(x)),e.__dirty|=Li,l&&e.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(t){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?bR:_R},r.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=typeof e=="string"&&Fn(e);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(a?0:255)*(1-i);return n[3]=1,_a(n,"rgba")},r.prototype.traverse=function(t,e){},r.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},oe(this.extra,e)):this[t]=e},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(Le(t))for(var n=t,i=ht(n),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,t[o])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==yD)){var o=i.targetName,s=o?e[o]:e;i.saveTo(s)}}},r.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,mD)},r.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var a=n[i];t[a]!=null&&!(a in e)&&(e[a]=this[a])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(t){return this.states[t]},r.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},r.prototype.clearStates=function(t){this.useState(yD,!1,t)},r.prototype.useState=function(t,e,n,i){var a=t===yD,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(Ze(s,t)>=0&&(e||s.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!a){iS("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,e,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(t,e,n,c),d&&d.useState(t,e,n,c),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Li),u}}},r.prototype.useStates=function(t,e,n){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,o=t.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(t[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&i.push(c)}var f=i[o-1],d=!!(f&&f.hoverLayer||n);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!e&&!this.__inHover&&v&&v.duration>0,v);var g=this._textContent,m=this._textGuide;g&&g.useStates(t,e,d),m&&m.useStates(t,e,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Li)}},r.prototype.isSilent=function(){for(var t=this;t;){if(t.silent)return!0;var e=t.__hostTarget;t=e?t.ignoreHostSilent?null:e:t.parent}return!1},r.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},r.prototype.removeState=function(t){var e=Ze(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},r.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),a=Ze(i,t),o=Ze(i,e)>=0;a>=0?o?i.splice(a,1):i[a]=e:n&&!o&&i.push(e),this.useStates(i)},r.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},r.prototype._mergeStates=function(t){for(var e={},n,i=0;i<t.length;i++){var a=t[i];oe(e,a),a.textConfig&&(n=n||{},oe(n,a.textConfig))}return n&&(e.textConfig=n),e},r.prototype._applyStateObj=function(t,e,n,i,a,o){var s=!(e&&i);e&&e.textConfig?(this.textConfig=oe({},i?this.textConfig:n.textConfig),oe(this.textConfig,e.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<mD.length;c++){var f=mD[c],d=a&&wve[f];e&&e[f]!=null?d?(u=!0,l[f]=e[f]):this[f]=e[f]:s&&n[f]!=null&&(d?(u=!0,l[f]=n[f]):this[f]=n[f])}if(!a)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],v=h.targetName;h.getLoop()||h.__changeFinalValue(v?(e||n)[v]:e||n)}u&&this._transitionState(t,l,o)},r.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},r.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},r.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new Ws,this._attachComponent(t),this._textContent=t,this.markRedraw())},r.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),oe(this.textConfig,t),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Li;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},r.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},r.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},r.prototype.animate=function(t,e,n){var i=t?this[t]:this,a=new xB(i,e,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},r.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var a=i.animators,o=Ze(a,t);o>=0&&a.splice(o,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(t){this.markRedraw()},r.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,a=[],o=0;o<i;o++){var s=n[o];!t||t===s.scope?s.stop(e):a.push(s)}return this.animators=a,this},r.prototype.animateTo=function(t,e,n){xD(this,t,e,n)},r.prototype.animateFrom=function(t,e,n){xD(this,t,e,n,!0)},r.prototype._transitionState=function(t,e,n,i){for(var a=xD(this,e,n,i),o=0;o<a.length;o++)a[o].__fromStateTransition=t},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=(function(){var t=r.prototype;t.type="element",t.name="",t.ignore=t.silent=t.ignoreHostSilent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Li;function e(n,i,a,o){Object.defineProperty(t,n,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[a]=l[0],this[o]=l[1],this[i]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))})(),r})();mr(fS,Ia);mr(fS,Ws);function xD(r,t,e,n,i){e=e||{};var a=[];kZ(r,"",r,t,e,n,a,i);var o=a.length,s=!1,l=e.done,u=e.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&e.during&&a[0].during(function(v,g){e.during(g)});for(var d=0;d<a.length;d++){var h=a[d];c&&h.done(c),f&&h.aborted(f),e.force&&h.duration(e.duration),h.start(e.easing)}return a}function _D(r,t,e){for(var n=0;n<e;n++)r[n]=t[n]}function Tve(r){return En(r[0])}function Ave(r,t,e){if(En(t[e]))if(En(r[e])||(r[e]=[]),Kn(t[e])){var n=t[e].length;r[e].length!==n&&(r[e]=new t[e].constructor(n),_D(r[e],t[e],n))}else{var i=t[e],a=r[e],o=i.length;if(Tve(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?_D(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else _D(a,i,o);a.length=i.length}else r[e]=t[e]}function Mve(r,t){return r===t||En(r)&&En(t)&&Dve(r,t)}function Dve(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}function kZ(r,t,e,n,i,a,o,s){for(var l=ht(n),u=i.duration,c=i.delay,f=i.additive,d=i.setToFinal,h=!Le(a),v=r.animators,g=[],m=0;m<l.length;m++){var x=l[m],_=n[x];if(_!=null&&e[x]!=null&&(h||a[x]))if(Le(_)&&!En(_)&&!Ug(_)){if(t){s||(e[x]=_,r.updateDuringAnimation(t));continue}kZ(r,x,e[x],_,i,a&&a[x],o,s)}else g.push(x);else s||(e[x]=_,r.updateDuringAnimation(t),g.push(x))}var b=g.length;if(!f&&b)for(var w=0;w<v.length;w++){var T=v[w];if(T.targetName===t){var A=T.stopTracks(g);if(A){var M=Ze(v,T);v.splice(M,1)}}}if(i.force||(g=Tt(g,function(R){return!Mve(n[R],e[R])}),b=g.length),b>0||i.force&&!o.length){var D=void 0,P=void 0,I=void 0;if(s){P={},d&&(D={});for(var w=0;w<b;w++){var x=g[w];P[x]=e[x],d?D[x]=n[x]:e[x]=n[x]}}else if(d){I={};for(var w=0;w<b;w++){var x=g[w];I[x]=B0(e[x]),Ave(e,n,x)}}var T=new xB(e,!1,!1,f?Tt(v,function(k){return k.targetName===t}):null);T.targetName=t,i.scope&&(T.scope=i.scope),d&&D&&T.whenWithKeys(0,D,g),I&&T.whenWithKeys(0,I,g),T.whenWithKeys(u??500,s?P:n,g).delay(c||0),r.addAnimator(T,t),o.push(T)}}var Be=(function(r){J(t,r);function t(e){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===e)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var i=Ze(this._children,e);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(e,n){var i=this._children,a=i[n];if(e&&e!==this&&e.parent!==this&&e!==a){i[n]=e,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,i=this._children,a=Ze(i,e);return a<0?this:(i.splice(a,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,i=0;i<e.length;i++){var a=e[i];n&&a.removeSelfFromZr(n),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];e.call(n,o,a)}return this},t.prototype.traverse=function(e,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=e.call(n,a);a.isGroup&&!o&&a.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var n=new Fe(0,0,0,0),i=e||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(Fe.applyTransform(n,u,c),o=o||n.clone(),o.union(n)):(o=o||u.clone(),o.union(u))}}return o||n},t})(fS);Be.prototype.type="group";var dx={},Fc={};function Eve(r){delete Fc[r]}function Ive(r){if(!r)return!1;if(typeof r=="string")return J0(r,1)<xR;if(r.colorStops){for(var t=r.colorStops,e=0,n=t.length,i=0;i<n;i++)e+=J0(t[i].color,1);return e/=n,e<xR}return!1}var Rve=(function(){function r(t,e,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new Hde,o=n.renderer||"canvas";dx[o]||(o=ht(dx)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var s=new dx[o](e,a,n,t),l=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var u=!ut.node&&!ut.worker&&!l?new _ve(s.getViewportRoot(),s.root):null,c=n.useCoarsePointer,f=c==null||c==="auto"?ut.touchEventsSupported:!!c,d=44,h;f&&(h=Ie(n.pointerSize,d)),this.handler=new vZ(a,s,u,s.root,h),this.animation=new dve({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return r.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},r.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},r.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=Ive(t))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(t){this._darkMode=t},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(t){var e,n=rd();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=rd();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},r.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},r.prototype.on=function(t,e,n){return this._disposed||this.handler.on(t,e,n),this},r.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},r.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},r.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Be&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Eve(this.id))},r})();function SR(r,t){var e=new Rve(fB(),r,t);return Fc[e.id]=e,e}function Pve(r){r.dispose()}function Ove(){for(var r in Fc)Fc.hasOwnProperty(r)&&Fc[r].dispose();Fc={}}function Bve(r){return Fc[r]}function LZ(r,t){dx[r]=t}var wR;function NZ(r){if(typeof wR=="function")return wR(r)}function VZ(r){wR=r}var kve="6.0.0";const Lve=Object.freeze(Object.defineProperty({__proto__:null,dispose:Pve,disposeAll:Ove,getElementSSRData:NZ,getInstance:Bve,init:SR,registerPainter:LZ,registerSSRDataGetter:VZ,version:kve},Symbol.toStringTag,{value:"Module"}));var E7=1e-4,zZ=20;function Nve(r){return r.replace(/^\s+|\s+$/g,"")}var Wi=Math.min,Tr=Math.max,Io=Math.abs;function At(r,t,e,n){var i=t[0],a=t[1],o=e[0],s=e[1],l=a-i,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(n)if(l>0){if(r<=i)return o;if(r>=a)return s}else{if(r>=i)return o;if(r<=a)return s}else{if(r===i)return o;if(r===a)return s}return(r-i)/l*u+o}var _e=Vve;function Vve(r,t,e){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return D_(r,t,e)}function D_(r,t,e){return be(r)?Nve(r).match(/%$/)?parseFloat(r)/100*t+(e||0):parseFloat(r):r==null?NaN:+r}function Ar(r,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),zZ),r=(+r).toFixed(t),e?r:+r}function zi(r){return r.sort(function(t,e){return t-e}),r}function $a(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(r*t)/t===r)return e}return FZ(r)}function FZ(r){var t=r.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,i=e>0?e:t.length,a=t.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-n)}function _B(r,t){var e=Math.log,n=Math.LN10,i=Math.floor(e(r[1]-r[0])/n),a=Math.round(e(Io(t[1]-t[0]))/n),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function zve(r,t,e){if(!r[t])return 0;var n=HZ(r,e);return n[t]||0}function HZ(r,t){var e=Sa(r,function(h,v){return h+(isNaN(v)?0:v)},0);if(e===0)return[];for(var n=Math.pow(10,t),i=he(r,function(h){return(isNaN(h)?0:h)/e*n*100}),a=n*100,o=he(i,function(h){return Math.floor(h)}),s=Sa(o,function(h,v){return h+v},0),l=he(i,function(h,v){return h-o[v]});s<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return he(o,function(h){return h/n})}function Fve(r,t){var e=Math.max($a(r),$a(t)),n=r+t;return e>zZ?n:Ar(n,e)}var CR=9007199254740991;function bB(r){var t=Math.PI*2;return(r%t+t)%t}function xd(r){return r>-E7&&r<E7}var Hve=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Xo(r){if(r instanceof Date)return r;if(be(r)){var t=Hve.exec(r);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function GZ(r){return Math.pow(10,hS(r))}function hS(r){if(r===0)return 0;var t=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,t)>=10&&t++,t}function SB(r,t){var e=hS(r),n=Math.pow(10,e),i=r/n,a;return t?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,r=a*n,e>=-20?+r.toFixed(e<0?-e:0):r}function vx(r,t){var e=(r.length-1)*t+1,n=Math.floor(e),i=+r[n-1],a=e-n;return a?i+a*(r[n]-i):i}function TR(r){r.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,e=1,n=0;n<r.length;){for(var i=r[n].interval,a=r[n].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-e),t=i[o],e=a[o];i[0]===i[1]&&a[0]*a[1]!==1?r.splice(n,1):n++}return r;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function Ho(r){var t=parseFloat(r);return t==r&&(t!==0||!be(r)||r.indexOf("x")<=0)?t:NaN}function wB(r){return!isNaN(Ho(r))}function WZ(){return Math.round(Math.random()*9)}function UZ(r,t){return t===0?r:UZ(t,r%t)}function I7(r,t){return r==null?t:t==null?r:r*t/UZ(r,t)}var Gve="[ECharts] ",Wve=typeof console<"u"&&console.warn&&console.log;function Uve(r,t,e){Wve&&console[r](Gve+t)}function qZ(r,t){Uve("error",r)}function Mt(r){throw new Error(r)}function R7(r,t,e){return(t-r)*e+r}var YZ="series\0",XZ="\0_ec_\0";function qt(r){return r instanceof Array?r:r==null?[]:[r]}function of(r,t,e){if(r){r[t]=r[t]||{},r.emphasis=r.emphasis||{},r.emphasis[t]=r.emphasis[t]||{};for(var n=0,i=e.length;n<i;n++){var a=e[n];!r.emphasis[t].hasOwnProperty(a)&&r[t].hasOwnProperty(a)&&(r.emphasis[t][a]=r[t][a])}}}var P7=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Nd(r){return Le(r)&&!ue(r)&&!(r instanceof Date)?r.value:r}function qve(r){return Le(r)&&!(r instanceof Array)}function $Z(r,t,e){var n=e==="normalMerge",i=e==="replaceMerge",a=e==="replaceAll";r=r||[],t=(t||[]).slice();var o=Me();z(t,function(l,u){if(!Le(l)){t[u]=null;return}});var s=Yve(r,o,e);return(n||i)&&Xve(s,r,o,t),n&&$ve(s,t),n||i?jve(s,t,i):a&&Zve(s,t),Kve(s),s}function Yve(r,t,e){var n=[];if(e==="replaceAll")return n;for(var i=0;i<r.length;i++){var a=r[i];a&&a.id!=null&&t.set(a.id,i),n.push({existing:e==="replaceMerge"||tg(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function Xve(r,t,e,n){z(n,function(i,a){if(!(!i||i.id==null)){var o=k0(i.id),s=e.get(o);if(s!=null){var l=r[s];In(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=t[s],n[a]=null}}})}function $ve(r,t){z(t,function(e,n){if(!(!e||e.name==null))for(var i=0;i<r.length;i++){var a=r[i].existing;if(!r[i].newOption&&a&&(a.id==null||e.id==null)&&!tg(e)&&!tg(a)&&jZ("name",a,e)){r[i].newOption=e,t[n]=null;return}}})}function jve(r,t,e){z(t,function(n){if(n){for(var i,a=0;(i=r[a])&&(i.newOption||tg(i.existing)||i.existing&&n.id!=null&&!jZ("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=e):r.push({newOption:n,brandNew:e,existing:null,keyInfo:null}),a++}})}function Zve(r,t){z(t,function(e){r.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function Kve(r){var t=Me();z(r,function(e){var n=e.existing;n&&t.set(n.id,e)}),z(r,function(e){var n=e.newOption;In(!n||n.id==null||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),z(r,function(e,n){var i=e.existing,a=e.newOption,o=e.keyInfo;if(Le(a)){if(o.name=a.name!=null?k0(a.name):i?i.name:YZ+n,i)o.id=k0(i.id);else if(a.id!=null)o.id=k0(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,e)}})}function jZ(r,t,e){var n=Gr(t[r],null),i=Gr(e[r],null);return n!=null&&i!=null&&n===i}function k0(r){return Gr(r,"")}function Gr(r,t){return r==null?t:be(r)?r:yt(r)||p_(r)?r+"":t}function CB(r){var t=r.name;return!!(t&&t.indexOf(YZ))}function tg(r){return r&&r.id!=null&&k0(r.id).indexOf(XZ)===0}function Qve(r){return XZ+r}function Jve(r,t,e){z(r,function(n){var i=n.newOption;Le(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=epe(t,i,n.existing,e))})}function epe(r,t,e,n){var i=t.type?t.type:e?e.subType:n.determineSubType(r,t);return i}function tpe(r,t){var e={},n={};return i(r||[],e),i(t||[],n,e),[a(e),a(n)];function i(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=Gr(o[u].seriesId,null);if(f==null)return;for(var d=qt(o[u].dataIndex),h=l&&l[f],v=0,g=d.length;v<g;v++){var m=d[v];h&&h[m]?h[m]=null:(s[f]||(s[f]={}))[m]=1}}}function a(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=a(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function sf(r,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return ue(t.dataIndex)?he(t.dataIndex,function(e){return r.indexOfRawIndex(e)}):r.indexOfRawIndex(t.dataIndex);if(t.name!=null)return ue(t.name)?he(t.name,function(e){return r.indexOfName(e)}):r.indexOfName(t.name)}function ot(){var r="__ec_inner_"+rpe++;return function(t){return t[r]||(t[r]={})}}var rpe=WZ();function cd(r,t,e){var n=TB(t,e),i=n.mainTypeSpecified,a=n.queryOptionMap,o=n.others,s=o,l=e?e.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=Vd(r,c,u,{useDefault:l===c,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function TB(r,t){var e;if(be(r)){var n={};n[r+"Index"]=0,e=n}else e=r;var i=Me(),a={},o=!1;return z(e,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&Ze(t.includeMainTypes,c)<0)){o=o||!!c;var d=i.get(c)||i.set(c,{});d[f]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var vr={useDefault:!0,enableAll:!1,enableNone:!1},npe={useDefault:!1,enableAll:!0,enableNone:!0};function Vd(r,t,e,n){n=n||vr;var i=e.index,a=e.id,o=e.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=r.getComponent(t))?[l]:[],s}if(i==="none"||i===!1){if(n.enableNone)return s.models=[],s;i=-1}return i==="all"&&(n.enableAll?i=a=o=null:i=-1),s.models=r.queryComponents({mainType:t,index:i,id:a,name:o}),s}function ZZ(r,t,e){r.setAttribute?r.setAttribute(t,e):r[t]=e}function ipe(r,t){return r.getAttribute?r.getAttribute(t):r[t]}function ape(r){return r==="auto"?ut.domSupported?"html":"richText":r||"html"}function AR(r,t){var e=Me(),n=[];return z(r,function(i){var a=t(i);(e.get(a)||(n.push(a),e.set(a,[]))).push(i)}),{keys:n,buckets:e}}function KZ(r,t,e,n,i){var a=t==null||t==="auto";if(n==null)return n;if(yt(n)){var o=R7(e||0,n,i);return Ar(o,a?Math.max($a(e||0),$a(n)):t)}else{if(be(n))return i<1?e:n;for(var s=[],l=e,u=n,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=r.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(i<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,v=u[f],o=R7(h,v,i);s[f]=Ar(o,a?Math.max($a(h),$a(v)):t)}}return s}}var su=(function(){function r(){}return r.prototype.reset=function(t,e,n,i){return this._list=t,this._step=i=i||1,this._idx=e,this._end=n??(i>0?t.length:0),this.item=null,this.key=NaN,this},r.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},r})();function bD(r){r.option=r.parentModel=r.ecModel=null}var ope=".",ic="___EC__COMPONENT__CONTAINER___",QZ="___EC__EXTENDED_CLASS___";function Ro(r){var t={main:"",sub:""};if(r){var e=r.split(ope);t.main=e[0]||"",t.sub=e[1]||""}return t}function spe(r){In(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function lpe(r){return!!(r&&r[QZ])}function AB(r,t){r.$constructor=r,r.extend=function(e){var n=this,i;return upe(n)?i=(function(a){J(o,a);function o(){return a.apply(this,arguments)||this}return o})(n):(i=function(){(e.$constructor||n).apply(this,arguments)},hB(i,this)),oe(i.prototype,e),i[QZ]=!0,i.extend=this.extend,i.superCall=hpe,i.superApply=dpe,i.superClass=n,i}}function upe(r){return Re(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function JZ(r,t){r.extend=t.extend}var cpe=Math.round(Math.random()*10);function fpe(r){var t=["__\0is_clz",cpe++].join("_");r.prototype[t]=!0,r.isInstance=function(e){return!!(e&&e[t])}}function hpe(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(r,e)}function dpe(r,t,e){return this.superClass.prototype[t].apply(r,e)}function dS(r){var t={};r.registerClass=function(n){var i=n.type||n.prototype.type;if(i){spe(i),n.prototype.type=i;var a=Ro(i);if(!a.sub)t[a.main]=n;else if(a.sub!==ic){var o=e(a);o[a.sub]=n}}return n},r.getClass=function(n,i,a){var o=t[n];if(o&&o[ic]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return o},r.getClassesByMainType=function(n){var i=Ro(n),a=[],o=t[i.main];return o&&o[ic]?z(o,function(s,l){l!==ic&&a.push(s)}):a.push(o),a},r.hasClass=function(n){var i=Ro(n);return!!t[i.main]},r.getAllClassMainTypes=function(){var n=[];return z(t,function(i,a){n.push(a)}),n},r.hasSubTypes=function(n){var i=Ro(n),a=t[i.main];return a&&a[ic]};function e(n){var i=t[n.main];return(!i||!i[ic])&&(i=t[n.main]={},i[ic]=!0),i}}function lf(r,t){for(var e=0;e<r.length;e++)r[e][1]||(r[e][1]=r[e][0]);return t=t||!1,function(n,i,a){for(var o={},s=0;s<r.length;s++){var l=r[s][1];if(!(i&&Ze(i,l)>=0||a&&Ze(a,l)<0)){var u=n.getShallow(l,t);u!=null&&(o[r[s][0]]=u)}}return o}}var vpe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],ppe=lf(vpe),gpe=(function(){function r(){}return r.prototype.getAreaStyle=function(t,e){return ppe(this,t,e)},r})(),MR=new yd(50);function ype(r){if(typeof r=="string"){var t=MR.get(r);return t&&t.image}else return r}function MB(r,t,e,n,i){if(r)if(typeof r=="string"){if(t&&t.__zrImageSrc===r||!e)return t;var a=MR.get(r),o={hostEl:e,cb:n,cbPayload:i};return a?(t=a.image,!vS(t)&&a.pending.push(o)):(t=yi.loadImage(r,O7,O7),t.__zrImageSrc=r,MR.put(r,t.__cachedImgObj={image:t,pending:[o]})),t}else return r;else return t}function O7(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<r.pending.length;t++){var e=r.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}r.pending.length=0}function vS(r){return r&&r.width&&r.height}var SD=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function mpe(r,t,e,n,i){var a={};return eK(a,r,t,e,n,i),a.text}function eK(r,t,e,n,i,a){if(!e){r.text="",r.isTruncated=!1;return}var o=(t+"").split(`
`);a=tK(e,n,i,a);for(var s=!1,l={},u=0,c=o.length;u<c;u++)rK(l,o[u],a),o[u]=l.textLine,s=s||l.isTruncated;r.text=o.join(`
`),r.isTruncated=s}function tK(r,t,e,n){n=n||{};var i=oe({},n);e=Ie(e,"..."),i.maxIterations=Ie(n.maxIterations,2);var a=i.minChar=Ie(n.minChar,0),o=i.fontMeasureInfo=Lo(t),s=o.asciiCharWidth;i.placeholder=Ie(n.placeholder,"");for(var l=r=Math.max(0,r-1),u=0;u<a&&l>=s;u++)l-=s;var c=No(o,e);return c>l&&(e="",c=0),l=r-c,i.ellipsis=e,i.ellipsisWidth=c,i.contentWidth=l,i.containerWidth=r,i}function rK(r,t,e){var n=e.containerWidth,i=e.contentWidth,a=e.fontMeasureInfo;if(!n){r.textLine="",r.isTruncated=!1;return}var o=No(a,t);if(o<=n){r.textLine=t,r.isTruncated=!1;return}for(var s=0;;s++){if(o<=i||s>=e.maxIterations){t+=e.ellipsis;break}var l=s===0?xpe(t,i,a):o>0?Math.floor(t.length*i/o):0;t=t.substr(0,l),o=No(a,t)}t===""&&(t=e.placeholder),r.textLine=t,r.isTruncated=!0}function xpe(r,t,e){for(var n=0,i=0,a=r.length;i<a&&n<t;i++)n+=BZ(e,r.charCodeAt(i));return i}function _pe(r,t,e,n){var i=DB(r),a=t.overflow,o=t.padding,s=o?o[1]+o[3]:0,l=o?o[0]+o[2]:0,u=t.font,c=a==="truncate",f=jg(u),d=Ie(t.lineHeight,f),h=t.lineOverflow==="truncate",v=!1,g=t.width;g==null&&e!=null&&(g=e-s);var m=t.height;m==null&&n!=null&&(m=n-l);var x;g!=null&&(a==="break"||a==="breakAll")?x=i?nK(i,t.font,g,a==="breakAll",0).lines:[]:x=i?i.split(`
`):[];var _=x.length*d;if(m==null&&(m=_),_>m&&h){var b=Math.floor(m/d);v=v||x.length>b,x=x.slice(0,b),_=x.length*d}if(i&&c&&g!=null)for(var w=tK(g,u,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),T={},A=0;A<x.length;A++)rK(T,x[A],w),x[A]=T.textLine,v=v||T.isTruncated;for(var M=m,D=0,P=Lo(u),A=0;A<x.length;A++)D=Math.max(No(P,x[A]),D);g==null&&(g=D);var I=g;return M+=l,I+=s,{lines:x,height:m,outerWidth:I,outerHeight:M,lineHeight:d,calculatedLineHeight:f,contentWidth:D,contentHeight:_,width:g,isTruncated:v}}var bpe=(function(){function r(){}return r})(),B7=(function(){function r(t){this.tokens=[],t&&(this.tokens=t)}return r})(),Spe=(function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r})();function wpe(r,t,e,n,i){var a=new Spe,o=DB(r);if(!o)return a;var s=t.padding,l=s?s[1]+s[3]:0,u=s?s[0]+s[2]:0,c=t.width;c==null&&e!=null&&(c=e-l);var f=t.height;f==null&&n!=null&&(f=n-u);for(var d=t.overflow,h=(d==="break"||d==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:d==="breakAll"}:null,v=SD.lastIndex=0,g;(g=SD.exec(o))!=null;){var m=g.index;m>v&&wD(a,o.substring(v,m),t,h),wD(a,g[2],t,h,g[1]),v=SD.lastIndex}v<o.length&&wD(a,o.substring(v,o.length),t,h);var x=[],_=0,b=0,w=d==="truncate",T=t.lineOverflow==="truncate",A={};function M(ce,pe,de){ce.width=pe,ce.lineHeight=de,_+=de,b=Math.max(b,pe)}e:for(var D=0;D<a.lines.length;D++){for(var P=a.lines[D],I=0,R=0,k=0;k<P.tokens.length;k++){var O=P.tokens[k],V=O.styleName&&t.rich[O.styleName]||{},N=O.textPadding=V.padding,L=N?N[1]+N[3]:0,G=O.font=V.font||t.font;O.contentHeight=jg(G);var W=Ie(V.height,O.contentHeight);if(O.innerHeight=W,N&&(W+=N[0]+N[2]),O.height=W,O.lineHeight=gi(V.lineHeight,t.lineHeight,W),O.align=V&&V.align||i,O.verticalAlign=V&&V.verticalAlign||"middle",T&&f!=null&&_+O.lineHeight>f){var U=a.lines.length;k>0?(P.tokens=P.tokens.slice(0,k),M(P,R,I),a.lines=a.lines.slice(0,D+1)):a.lines=a.lines.slice(0,D),a.isTruncated=a.isTruncated||a.lines.length<U;break e}var Z=V.width,F=Z==null||Z==="auto";if(typeof Z=="string"&&Z.charAt(Z.length-1)==="%")O.percentWidth=Z,x.push(O),O.contentWidth=No(Lo(G),O.text);else{if(F){var q=V.backgroundColor,$=q&&q.image;$&&($=ype($),vS($)&&(O.width=Math.max(O.width,$.width*W/$.height)))}var K=w&&c!=null?c-R:null;K!=null&&K<O.width?!F||K<L?(O.text="",O.width=O.contentWidth=0):(eK(A,O.text,K-L,G,t.ellipsis,{minChar:t.truncateMinChar}),O.text=A.text,a.isTruncated=a.isTruncated||A.isTruncated,O.width=O.contentWidth=No(Lo(G),O.text)):O.contentWidth=No(Lo(G),O.text)}O.width+=L,R+=O.width,V&&(I=Math.max(I,O.lineHeight))}M(P,R,I)}a.outerWidth=a.width=Ie(c,b),a.outerHeight=a.height=Ie(f,_),a.contentHeight=_,a.contentWidth=b,a.outerWidth+=l,a.outerHeight+=u;for(var D=0;D<x.length;D++){var O=x[D],re=O.percentWidth;O.width=parseInt(re,10)/100*a.width}return a}function wD(r,t,e,n,i){var a=t==="",o=i&&e.rich[i]||{},s=r.lines,l=o.font||e.font,u=!1,c,f;if(n){var d=o.padding,h=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var v=ro(o.width,n.width)+h;s.length>0&&v+n.accumWidth>n.width&&(c=t.split(`
`),u=!0),n.accumWidth=v}else{var g=nK(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+h,f=g.linesWidths,c=g.lines}}c||(c=t.split(`
`));for(var m=Lo(l),x=0;x<c.length;x++){var _=c[x],b=new bpe;if(b.styleName=i,b.text=_,b.isLineHolder=!_&&!a,typeof o.width=="number"?b.width=o.width:b.width=f?f[x]:No(m,_),!x&&!u){var w=(s[s.length-1]||(s[0]=new B7)).tokens,T=w.length;T===1&&w[0].isLineHolder?w[0]=b:(_||!T||a)&&w.push(b)}else s.push(new B7([b]))}}function Cpe(r){var t=r.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var Tpe=Sa(",&?/;] ".split(""),function(r,t){return r[t]=!0,r},{});function Ape(r){return Cpe(r)?!!Tpe[r]:!0}function nK(r,t,e,n,i){for(var a=[],o=[],s="",l="",u=0,c=0,f=Lo(t),d=0;d<r.length;d++){var h=r.charAt(d);if(h===`
`){l&&(s+=l,c+=u),a.push(s),o.push(c),s="",l="",u=0,c=0;continue}var v=BZ(f,h.charCodeAt(0)),g=n?!1:!Ape(h);if(a.length?c+v>e:i+c+v>e){c?(s||l)&&(g?(s||(s=l,l="",u=0,c=u),a.push(s),o.push(c-u),l+=h,u+=v,s="",c=u):(l&&(s+=l,l="",u=0),a.push(s),o.push(c),s=h,c=v)):g?(a.push(l),o.push(u),l=h,u=v):(a.push(h),o.push(v));continue}c+=v,g?(l+=h,u+=v):(l&&(s+=l,l="",u=0),s+=h)}return l&&(s+=l),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}function k7(r,t,e,n,i,a){if(r.baseX=e,r.baseY=n,r.outerWidth=r.outerHeight=null,!!t){var o=t.width*2,s=t.height*2;Fe.set(L7,md(e,o,i),Zc(n,s,a),o,s),Fe.intersect(t,L7,null,N7);var l=N7.outIntersectRect;r.outerWidth=l.width,r.outerHeight=l.height,r.baseX=md(l.x,l.width,i,!0),r.baseY=Zc(l.y,l.height,a,!0)}}var L7=new Fe(0,0,0,0),N7={outIntersectRect:{},clamp:!0};function DB(r){return r!=null?r+="":r=""}function Mpe(r){var t=DB(r.text),e=r.font,n=No(Lo(e),t),i=jg(e);return DR(r,n,i,null)}function DR(r,t,e,n){var i=new Fe(md(r.x||0,t,r.textAlign),Zc(r.y||0,e,r.textBaseline),t,e),a=n??(iK(r)?r.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function iK(r){var t=r.stroke;return t!=null&&t!=="none"&&r.lineWidth>0}var ER="__zr_style_"+Math.round(Math.random()*10),Kc={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},pS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Kc[ER]=!0;var V7=["z","z2","invisible"],Dpe=["invisible"],Ca=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype._init=function(e){for(var n=ht(e),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(e[a]):r.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,n,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Epe(this,e,n)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(e,n){return this.rectContain(e,n)},t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.rectContain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Fe(0,0,0,0)),n?Fe.applyTransform(e,i,n):e.copy(i),(o||s||l)&&(e.width+=o*2+Math.abs(s),e.height+=o*2+Math.abs(l),e.x=Math.min(e.x,e.x+s-o),e.y=Math.min(e.y,e.y+l-o));var u=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-u),e.y=Math.floor(e.y-u),e.width=Math.ceil(e.width+1+u*2),e.height=Math.ceil(e.height+1+u*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Fe(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,n){e!=="style"?r.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,n){return typeof e=="string"?this.style[e]=n:oe(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=f0,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&f0)},t.prototype.styleUpdated=function(){this.__dirty&=~f0},t.prototype.createStyle=function(e){return Yg(Kc,e)},t.prototype.useStyle=function(e){e[ER]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[ER]},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,V7)},t.prototype._applyStateObj=function(e,n,i,a,o,s){r.prototype._applyStateObj.call(this,e,n,i,a,o,s);var l=!(n&&a),u;if(n&&n.style?o?a?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=ht(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var v=ht(u),d=0;d<v.length;d++){var h=v[d];this.style[h]=this.style[h]}this._transitionState(e,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var g=this.__inHover?Dpe:V7,d=0;d<g.length;d++){var h=g[d];n&&n[h]!=null?this[h]=n[h]:l&&i[h]!=null&&(this[h]=i[h])}},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var o=e[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(e,n){return oe(e,n),e},t.prototype.getAnimationStyleProps=function(){return pS},t.initDefaultProps=(function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Li|f0})(),t})(fS),CD=new Fe(0,0,0,0),TD=new Fe(0,0,0,0);function Epe(r,t,e){return CD.copy(r.getBoundingRect()),r.transform&&CD.applyTransform(r.transform),TD.width=t,TD.height=e,!CD.intersect(TD)}var fi=Math.min,hi=Math.max,AD=Math.sin,MD=Math.cos,ac=Math.PI*2,Ym=Au(),Xm=Au(),$m=Au();function gS(r,t,e){if(r.length!==0){for(var n=r[0],i=n[0],a=n[0],o=n[1],s=n[1],l=1;l<r.length;l++)n=r[l],i=fi(i,n[0]),a=hi(a,n[0]),o=fi(o,n[1]),s=hi(s,n[1]);t[0]=i,t[1]=o,e[0]=a,e[1]=s}}function z7(r,t,e,n,i,a){i[0]=fi(r,e),i[1]=fi(t,n),a[0]=hi(r,e),a[1]=hi(t,n)}var F7=[],H7=[];function Ipe(r,t,e,n,i,a,o,s,l,u){var c=xZ,f=Kr,d=c(r,e,i,o,F7);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var v=f(r,e,i,o,F7[h]);l[0]=fi(v,l[0]),u[0]=hi(v,u[0])}d=c(t,n,a,s,H7);for(var h=0;h<d;h++){var g=f(t,n,a,s,H7[h]);l[1]=fi(g,l[1]),u[1]=hi(g,u[1])}l[0]=fi(r,l[0]),u[0]=hi(r,u[0]),l[0]=fi(o,l[0]),u[0]=hi(o,u[0]),l[1]=fi(t,l[1]),u[1]=hi(t,u[1]),l[1]=fi(s,l[1]),u[1]=hi(s,u[1])}function Rpe(r,t,e,n,i,a,o,s){var l=bZ,u=fn,c=hi(fi(l(r,e,i),1),0),f=hi(fi(l(t,n,a),1),0),d=u(r,e,i,c),h=u(t,n,a,f);o[0]=fi(r,i,d),o[1]=fi(t,a,h),s[0]=hi(r,i,d),s[1]=hi(t,a,h)}function Ppe(r,t,e,n,i,a,o,s,l){var u=Hs,c=Gs,f=Math.abs(i-a);if(f%ac<1e-4&&f>1e-4){s[0]=r-e,s[1]=t-n,l[0]=r+e,l[1]=t+n;return}if(Ym[0]=MD(i)*e+r,Ym[1]=AD(i)*n+t,Xm[0]=MD(a)*e+r,Xm[1]=AD(a)*n+t,u(s,Ym,Xm),c(l,Ym,Xm),i=i%ac,i<0&&(i=i+ac),a=a%ac,a<0&&(a=a+ac),i>a&&!o?a+=ac:i<a&&o&&(i+=ac),o){var d=a;a=i,i=d}for(var h=0;h<a;h+=Math.PI/2)h>i&&($m[0]=MD(h)*e+r,$m[1]=AD(h)*n+t,u(s,$m,s),c(l,$m,l))}var Xt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},oc=[],sc=[],vo=[],kl=[],po=[],go=[],DD=Math.min,ED=Math.max,lc=Math.cos,uc=Math.sin,Cs=Math.abs,IR=Math.PI,ql=IR*2,ID=typeof Float32Array<"u",_p=[];function RD(r){var t=Math.round(r/IR*1e8)/1e8;return t%2*IR}function yS(r,t){var e=RD(r[0]);e<0&&(e+=ql);var n=e-r[0],i=r[1];i+=n,!t&&i-e>=ql?i=e+ql:t&&e-i>=ql?i=e-ql:!t&&e>i?i=e+(ql-RD(e-i)):t&&e<i&&(i=e-(ql-RD(i-e))),r[0]=e,r[1]=i}var Go=(function(){function r(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=Cs(n/T_/t)||0,this._uy=Cs(n/T_/e)||0)},r.prototype.setDPR=function(t){this.dpr=t},r.prototype.setContext=function(t){this._ctx=t},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Xt.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},r.prototype.lineTo=function(t,e){var n=Cs(t-this._xi),i=Cs(e-this._yi),a=n>this._ux||i>this._uy;if(this.addData(Xt.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},r.prototype.bezierCurveTo=function(t,e,n,i,a,o){return this._drawPendingPt(),this.addData(Xt.C,t,e,n,i,a,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,a,o),this._xi=a,this._yi=o,this},r.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(Xt.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},r.prototype.arc=function(t,e,n,i,a,o){this._drawPendingPt(),_p[0]=i,_p[1]=a,yS(_p,o),i=_p[0],a=_p[1];var s=a-i;return this.addData(Xt.A,t,e,n,n,i,s,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,a,o),this._xi=lc(a)*n+t,this._yi=uc(a)*n+e,this},r.prototype.arcTo=function(t,e,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,a),this},r.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(Xt.R,t,e,n,i),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(Xt.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},r.prototype.fill=function(t){t&&t.fill(),this.toStatic()},r.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(t){if(this._saveData){var e=t.length;!(this.data&&this.data.length===e)&&ID&&(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e}},r.prototype.appendPath=function(t){if(this._saveData){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,a=0;a<e;a++)n+=t[a].len();var o=this.data;if(ID&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(i+n),i>0&&o))for(var s=0;s<i;s++)this.data[s]=o[s];for(var a=0;a<e;a++)for(var l=t[a].data,s=0;s<l.length;s++)this.data[i++]=l[s];this._len=i}},r.prototype.addData=function(t,e,n,i,a,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,ID&&this._len>11&&(this.data=new Float32Array(t)))}},r.prototype.getBoundingRect=function(){vo[0]=vo[1]=po[0]=po[1]=Number.MAX_VALUE,kl[0]=kl[1]=go[0]=go[1]=-Number.MAX_VALUE;var t=this.data,e=0,n=0,i=0,a=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(e=t[o],n=t[o+1],i=e,a=n),s){case Xt.M:e=i=t[o++],n=a=t[o++],po[0]=i,po[1]=a,go[0]=i,go[1]=a;break;case Xt.L:z7(e,n,t[o],t[o+1],po,go),e=t[o++],n=t[o++];break;case Xt.C:Ipe(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],po,go),e=t[o++],n=t[o++];break;case Xt.Q:Rpe(e,n,t[o++],t[o++],t[o],t[o+1],po,go),e=t[o++],n=t[o++];break;case Xt.A:var u=t[o++],c=t[o++],f=t[o++],d=t[o++],h=t[o++],v=t[o++]+h;o+=1;var g=!t[o++];l&&(i=lc(h)*f+u,a=uc(h)*d+c),Ppe(u,c,f,d,h,v,g,po,go),e=lc(v)*f+u,n=uc(v)*d+c;break;case Xt.R:i=e=t[o++],a=n=t[o++];var m=t[o++],x=t[o++];z7(i,a,i+m,a+x,po,go);break;case Xt.Z:e=i,n=a;break}Hs(vo,vo,po),Gs(kl,kl,go)}return o===0&&(vo[0]=vo[1]=kl[0]=kl[1]=0),new Fe(vo[0],vo[1],kl[0]-vo[0],kl[1]-vo[1])},r.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<e;){var h=t[d++],v=d===1;v&&(a=t[d],o=t[d+1],s=a,l=o);var g=-1;switch(h){case Xt.M:a=s=t[d++],o=l=t[d++];break;case Xt.L:{var m=t[d++],x=t[d++],_=m-a,b=x-o;(Cs(_)>n||Cs(b)>i||d===e-1)&&(g=Math.sqrt(_*_+b*b),a=m,o=x);break}case Xt.C:{var w=t[d++],T=t[d++],m=t[d++],x=t[d++],A=t[d++],M=t[d++];g=Gde(a,o,w,T,m,x,A,M,10),a=A,o=M;break}case Xt.Q:{var w=t[d++],T=t[d++],m=t[d++],x=t[d++];g=Ude(a,o,w,T,m,x,10),a=m,o=x;break}case Xt.A:var D=t[d++],P=t[d++],I=t[d++],R=t[d++],k=t[d++],O=t[d++],V=O+k;d+=1,v&&(s=lc(k)*I+D,l=uc(k)*R+P),g=ED(I,R)*DD(ql,Math.abs(O)),a=lc(V)*I+D,o=uc(V)*R+P;break;case Xt.R:{s=a=t[d++],l=o=t[d++];var N=t[d++],L=t[d++];g=N*2+L*2;break}case Xt.Z:{var _=s-a,b=l-o;g=Math.sqrt(_*_+b*b),a=s,o=l;break}}g>=0&&(u[f++]=g,c+=g)}return this._pathLen=c,c},r.prototype.rebuildPath=function(t,e){var n=this.data,i=this._ux,a=this._uy,o=this._len,s,l,u,c,f,d,h=e<1,v,g,m=0,x=0,_,b=0,w,T;if(!(h&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,g=this._pathLen,_=e*g,!_)))e:for(var A=0;A<o;){var M=n[A++],D=A===1;switch(D&&(u=n[A],c=n[A+1],s=u,l=c),M!==Xt.L&&b>0&&(t.lineTo(w,T),b=0),M){case Xt.M:s=u=n[A++],l=c=n[A++],t.moveTo(u,c);break;case Xt.L:{f=n[A++],d=n[A++];var P=Cs(f-u),I=Cs(d-c);if(P>i||I>a){if(h){var R=v[x++];if(m+R>_){var k=(_-m)/R;t.lineTo(u*(1-k)+f*k,c*(1-k)+d*k);break e}m+=R}t.lineTo(f,d),u=f,c=d,b=0}else{var O=P*P+I*I;O>b&&(w=f,T=d,b=O)}break}case Xt.C:{var V=n[A++],N=n[A++],L=n[A++],G=n[A++],W=n[A++],U=n[A++];if(h){var R=v[x++];if(m+R>_){var k=(_-m)/R;mu(u,V,L,W,k,oc),mu(c,N,G,U,k,sc),t.bezierCurveTo(oc[1],sc[1],oc[2],sc[2],oc[3],sc[3]);break e}m+=R}t.bezierCurveTo(V,N,L,G,W,U),u=W,c=U;break}case Xt.Q:{var V=n[A++],N=n[A++],L=n[A++],G=n[A++];if(h){var R=v[x++];if(m+R>_){var k=(_-m)/R;Z0(u,V,L,k,oc),Z0(c,N,G,k,sc),t.quadraticCurveTo(oc[1],sc[1],oc[2],sc[2]);break e}m+=R}t.quadraticCurveTo(V,N,L,G),u=L,c=G;break}case Xt.A:var Z=n[A++],F=n[A++],q=n[A++],$=n[A++],K=n[A++],re=n[A++],ce=n[A++],pe=!n[A++],de=q>$?q:$,ge=Cs(q-$)>.001,Ce=K+re,xe=!1;if(h){var R=v[x++];m+R>_&&(Ce=K+re*(_-m)/R,xe=!0),m+=R}if(ge&&t.ellipse?t.ellipse(Z,F,q,$,ce,K,Ce,pe):t.arc(Z,F,de,K,Ce,pe),xe)break e;D&&(s=lc(K)*q+Z,l=uc(K)*$+F),u=lc(Ce)*q+Z,c=uc(Ce)*$+F;break;case Xt.R:s=u=n[A],l=c=n[A+1],f=n[A++],d=n[A++];var we=n[A++],Pe=n[A++];if(h){var R=v[x++];if(m+R>_){var De=_-m;t.moveTo(f,d),t.lineTo(f+DD(De,we),d),De-=we,De>0&&t.lineTo(f+we,d+DD(De,Pe)),De-=Pe,De>0&&t.lineTo(f+ED(we-De,0),d+Pe),De-=we,De>0&&t.lineTo(f,d+ED(Pe-De,0));break e}m+=R}t.rect(f,d,we,Pe);break;case Xt.Z:if(h){var R=v[x++];if(m+R>_){var k=(_-m)/R;t.lineTo(u*(1-k)+s*k,c*(1-k)+l*k);break e}m+=R}t.closePath(),u=s,c=l}}},r.prototype.clone=function(){var t=new r,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},r.prototype.canSave=function(){return!!this._saveData},r.CMD=Xt,r.initDefaultProps=(function(){var t=r.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0})(),r})();function Xl(r,t,e,n,i,a,o){if(i===0)return!1;var s=i,l=0,u=r;if(o>t+s&&o>n+s||o<t-s&&o<n-s||a>r+s&&a>e+s||a<r-s&&a<e-s)return!1;if(r!==e)l=(t-n)/(r-e),u=(r*n-e*t)/(r-e);else return Math.abs(a-r)<=s/2;var c=l*a-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function Ope(r,t,e,n,i,a,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>n+f&&c>a+f&&c>s+f||c<t-f&&c<n-f&&c<a-f&&c<s-f||u>r+f&&u>e+f&&u>i+f&&u>o+f||u<r-f&&u<e-f&&u<i-f&&u<o-f)return!1;var d=_Z(r,t,e,n,i,a,o,s,u,c,null);return d<=f/2}function aK(r,t,e,n,i,a,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>n+u&&l>a+u||l<t-u&&l<n-u&&l<a-u||s>r+u&&s>e+u&&s>i+u||s<r-u&&s<e-u&&s<i-u)return!1;var c=SZ(r,t,e,n,i,a,s,l,null);return c<=u/2}var G7=Math.PI*2;function Fi(r){return r%=G7,r<0&&(r+=G7),r}var bp=Math.PI*2;function Bpe(r,t,e,n,i,a,o,s,l){if(o===0)return!1;var u=o;s-=r,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>e||c+u<e)return!1;if(Math.abs(n-i)%bp<1e-4)return!0;if(a){var f=n;n=Fi(i),i=Fi(f)}else n=Fi(n),i=Fi(i);n>i&&(i+=bp);var d=Math.atan2(l,s);return d<0&&(d+=bp),d>=n&&d<=i||d+bp>=n&&d+bp<=i}function Ls(r,t,e,n,i,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var o=(a-t)/(n-t),s=n<t?1:-1;(o===1||o===0)&&(s=n<t?.5:-.5);var l=o*(e-r)+r;return l===i?1/0:l>i?s:0}var Ll=Go.CMD,cc=Math.PI*2,kpe=1e-4;function Lpe(r,t){return Math.abs(r-t)<kpe}var Yn=[-1,-1,-1],fa=[-1,-1];function Npe(){var r=fa[0];fa[0]=fa[1],fa[1]=r}function Vpe(r,t,e,n,i,a,o,s,l,u){if(u>t&&u>n&&u>a&&u>s||u<t&&u<n&&u<a&&u<s)return 0;var c=b_(t,n,a,s,u,Yn);if(c===0)return 0;for(var f=0,d=-1,h=void 0,v=void 0,g=0;g<c;g++){var m=Yn[g],x=m===0||m===1?.5:1,_=Kr(r,e,i,o,m);_<l||(d<0&&(d=xZ(t,n,a,s,fa),fa[1]<fa[0]&&d>1&&Npe(),h=Kr(t,n,a,s,fa[0]),d>1&&(v=Kr(t,n,a,s,fa[1]))),d===2?m<fa[0]?f+=h<t?x:-x:m<fa[1]?f+=v<h?x:-x:f+=s<v?x:-x:m<fa[0]?f+=h<t?x:-x:f+=s<h?x:-x)}return f}function zpe(r,t,e,n,i,a,o,s){if(s>t&&s>n&&s>a||s<t&&s<n&&s<a)return 0;var l=Wde(t,n,a,s,Yn);if(l===0)return 0;var u=bZ(t,n,a);if(u>=0&&u<=1){for(var c=0,f=fn(t,n,a,u),d=0;d<l;d++){var h=Yn[d]===0||Yn[d]===1?.5:1,v=fn(r,e,i,Yn[d]);v<o||(Yn[d]<u?c+=f<t?h:-h:c+=a<f?h:-h)}return c}else{var h=Yn[0]===0||Yn[0]===1?.5:1,v=fn(r,e,i,Yn[0]);return v<o?0:a<t?h:-h}}function Fpe(r,t,e,n,i,a,o,s){if(s-=t,s>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);Yn[0]=-l,Yn[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=cc-1e-4){n=0,i=cc;var c=a?1:-1;return o>=Yn[0]+r&&o<=Yn[1]+r?c:0}if(n>i){var f=n;n=i,i=f}n<0&&(n+=cc,i+=cc);for(var d=0,h=0;h<2;h++){var v=Yn[h];if(v+r>o){var g=Math.atan2(s,v),c=a?1:-1;g<0&&(g=cc+g),(g>=n&&g<=i||g+cc>=n&&g+cc<=i)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),d+=c)}}return d}function oK(r,t,e,n,i){for(var a=r.data,o=r.len(),s=0,l=0,u=0,c=0,f=0,d,h,v=0;v<o;){var g=a[v++],m=v===1;switch(g===Ll.M&&v>1&&(e||(s+=Ls(l,u,c,f,n,i))),m&&(l=a[v],u=a[v+1],c=l,f=u),g){case Ll.M:c=a[v++],f=a[v++],l=c,u=f;break;case Ll.L:if(e){if(Xl(l,u,a[v],a[v+1],t,n,i))return!0}else s+=Ls(l,u,a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Ll.C:if(e){if(Ope(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],t,n,i))return!0}else s+=Vpe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Ll.Q:if(e){if(aK(l,u,a[v++],a[v++],a[v],a[v+1],t,n,i))return!0}else s+=zpe(l,u,a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Ll.A:var x=a[v++],_=a[v++],b=a[v++],w=a[v++],T=a[v++],A=a[v++];v+=1;var M=!!(1-a[v++]);d=Math.cos(T)*b+x,h=Math.sin(T)*w+_,m?(c=d,f=h):s+=Ls(l,u,d,h,n,i);var D=(n-x)*w/b+x;if(e){if(Bpe(x,_,w,T,T+A,M,t,D,i))return!0}else s+=Fpe(x,_,w,T,T+A,M,D,i);l=Math.cos(T+A)*b+x,u=Math.sin(T+A)*w+_;break;case Ll.R:c=l=a[v++],f=u=a[v++];var P=a[v++],I=a[v++];if(d=c+P,h=f+I,e){if(Xl(c,f,d,f,t,n,i)||Xl(d,f,d,h,t,n,i)||Xl(d,h,c,h,t,n,i)||Xl(c,h,c,f,t,n,i))return!0}else s+=Ls(d,f,d,h,n,i),s+=Ls(c,h,c,f,n,i);break;case Ll.Z:if(e){if(Xl(l,u,c,f,t,n,i))return!0}else s+=Ls(l,u,c,f,n,i);l=c,u=f;break}}return!e&&!Lpe(u,f)&&(s+=Ls(l,u,c,f,n,i)||0),s!==0}function Hpe(r,t,e){return oK(r,0,!1,t,e)}function Gpe(r,t,e,n){return oK(r,t,!0,e,n)}var E_=ke({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Kc),Wpe={style:ke({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},pS.style)},PD=Fo.concat(["invisible","culling","z","z2","zlevel","parent"]),lt=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.update=function(){var e=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){e.buildPath(l,e.shape)}),i.silent=!0;var a=i.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<PD.length;++s)i[PD[s]]=this[PD[s]];i.__dirty|=Li}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var n=ht(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var o=n[a],s=e[o];o==="style"?this.style?oe(this.style,s):this.useStyle(s):o==="shape"?oe(this.shape,s):r.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(be(e)){var n=J0(e,0);return n>.5?_R:n>.2?bve:bR}else if(e)return bR}return _R},t.prototype.getInsideTextStroke=function(e){var n=this.style.fill;if(be(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=J0(e,0)<xR;if(a===o)return n}},t.prototype.buildPath=function(e,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Zh},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Go(!1)},t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return!(n==null||n==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,i=!e;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&Zh)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),e=o.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){s.copy(e);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return e},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect(),o=this.style;if(e=i[0],n=i[1],a.contain(e,n)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),Gpe(s,l/u,e,n)))return!0}if(this.hasFill())return Hpe(s,e,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Zh,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,n){e==="shape"?this.setShape(n):r.prototype.attrKV.call(this,e,n)},t.prototype.setShape=function(e,n){var i=this.shape;return i||(i=this.shape={}),typeof e=="string"?i[e]=n:oe(i,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Zh)},t.prototype.createStyle=function(e){return Yg(E_,e)},t.prototype._innerSaveToNormal=function(e){r.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=oe({},this.shape))},t.prototype._applyStateObj=function(e,n,i,a,o,s){r.prototype._applyStateObj.call(this,e,n,i,a,o,s);var l=!(n&&a),u;if(n&&n.shape?o?a?u=n.shape:(u=oe({},i.shape),oe(u,n.shape)):(u=oe({},a?this.shape:i.shape),oe(u,n.shape)):l&&(u=i.shape),u)if(o){this.shape=oe({},this.shape);for(var c={},f=ht(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(e,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var n=r.prototype._mergeStates.call(this,e),i,a=0;a<e.length;a++){var o=e[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return Wpe},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=(function(a){J(o,a);function o(s){var l=a.call(this,s)||this;return e.init&&e.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return Oe(e.style)},o.prototype.getDefaultShape=function(){return Oe(e.shape)},o})(t);for(var i in e)typeof e[i]=="function"&&(n.prototype[i]=e[i]);return n},t.initDefaultProps=(function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Li|f0|Zh})(),t})(Ca),Upe=ke({strokeFirst:!0,font:Qs,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},E_),_d=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.hasStroke=function(){return iK(this.style)},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(e){return Yg(Upe,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){return this._rect||(this._rect=Mpe(this.style)),this._rect},t.initDefaultProps=(function(){var e=t.prototype;e.dirtyRectTolerance=10})(),t})(Ca);_d.prototype.type="tspan";var qpe=ke({x:0,y:0},Kc),Ype={style:ke({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},pS.style)};function Xpe(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var nn=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return Yg(qpe,e)},t.prototype._getSize=function(e){var n=this.style,i=n[e];if(i!=null)return i;var a=Xpe(n.image)?n.image:this.__image;if(!a)return 0;var o=e==="width"?"height":"width",s=n[o];return s==null?a[e]:a[e]/a[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Ype},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Fe(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t})(Ca);nn.prototype.type="image";function $pe(r,t){var e=t.x,n=t.y,i=t.width,a=t.height,o=t.r,s,l,u,c;i<0&&(e=e+i,i=-i),a<0&&(n=n+a,a=-a),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>i&&(f=s+l,s*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),s+c>a&&(f=s+c,s*=a/f,c*=a/f),r.moveTo(e+s,n),r.lineTo(e+i-l,n),l!==0&&r.arc(e+i-l,n+l,l,-Math.PI/2,0),r.lineTo(e+i,n+a-u),u!==0&&r.arc(e+i-u,n+a-u,u,0,Math.PI/2),r.lineTo(e+c,n+a),c!==0&&r.arc(e+c,n+a-c,c,Math.PI/2,Math.PI),r.lineTo(e,n+s),s!==0&&r.arc(e+s,n+s,s,Math.PI,Math.PI*1.5)}var nd=Math.round;function mS(r,t,e){if(t){var n=t.x1,i=t.x2,a=t.y1,o=t.y2;r.x1=n,r.x2=i,r.y1=a,r.y2=o;var s=e&&e.lineWidth;return s&&(nd(n*2)===nd(i*2)&&(r.x1=r.x2=Hi(n,s,!0)),nd(a*2)===nd(o*2)&&(r.y1=r.y2=Hi(a,s,!0))),r}}function sK(r,t,e){if(t){var n=t.x,i=t.y,a=t.width,o=t.height;r.x=n,r.y=i,r.width=a,r.height=o;var s=e&&e.lineWidth;return s&&(r.x=Hi(n,s,!0),r.y=Hi(i,s,!0),r.width=Math.max(Hi(n+a,s,!1)-r.x,a===0?0:1),r.height=Math.max(Hi(i+o,s,!1)-r.y,o===0?0:1)),r}}function Hi(r,t,e){if(!t)return r;var n=nd(r*2);return(n+nd(t))%2===0?n/2:(n+(e?1:-1))/2}var jpe=(function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r})(),Zpe={},rt=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new jpe},t.prototype.buildPath=function(e,n){var i,a,o,s;if(this.subPixelOptimize){var l=sK(Zpe,n,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,o=n.width,s=n.height;n.r?$pe(e,n):e.rect(i,a,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t})(lt);rt.prototype.type="rect";var W7={fill:"#000"},U7=2,yo={},Kpe={style:ke({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},pS.style)},gt=(function(r){J(t,r);function t(e){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=W7,n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):r.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):r.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,e0e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){r.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){r.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Fe(0,0,0,0),n=this._children,i=[],a=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(e.copy(l),e.applyTransform(u),a=a||e.clone(),a.union(e)):(a=a||l.clone(),a.union(l))}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||W7},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var i=n.rich,a=e.rich||i&&{};return oe(e,n),i&&a?(this._mergeRich(a,i),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,n){for(var i=ht(n),a=0;a<i.length;a++){var o=i[a];e[o]=e[o]||{},oe(e[o],n[o])}},t.prototype.getAnimationStyleProps=function(){return Kpe},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return(!n||!(n instanceof e))&&(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||Qs,i=e.padding,a=this._defaultStyle,o=e.x||0,s=e.y||0,l=e.align||a.align||"left",u=e.verticalAlign||a.verticalAlign||"top";k7(yo,a.overflowRect,o,s,l,u),o=yo.baseX,s=yo.baseY;var c=K7(e),f=_pe(c,e,yo.outerWidth,yo.outerHeight),d=OD(e),h=!!e.backgroundColor,v=f.outerHeight,g=f.outerWidth,m=f.lines,x=f.lineHeight;this.isTruncated=!!f.isTruncated;var _=o,b=Zc(s,f.contentHeight,u);if(d||i){var w=md(o,g,l),T=Zc(s,v,u);d&&this._renderBackground(e,e,w,T,g,v)}b+=x/2,i&&(_=Z7(o,l,i),u==="top"?b+=i[0]:u==="bottom"&&(b-=i[2]));for(var A=0,M=!1,D=!1,P=j7("fill"in e?e.fill:(D=!0,a.fill)),I=$7("stroke"in e?e.stroke:!h&&(!a.autoStroke||D)?(A=U7,M=!0,a.stroke):null),R=e.textShadowBlur>0,k=0;k<m.length;k++){var O=this._getOrCreateChild(_d),V=O.createStyle();O.useStyle(V),V.text=m[k],V.x=_,V.y=b,V.textAlign=l,V.textBaseline="middle",V.opacity=e.opacity,V.strokeFirst=!0,R&&(V.shadowBlur=e.textShadowBlur||0,V.shadowColor=e.textShadowColor||"transparent",V.shadowOffsetX=e.textShadowOffsetX||0,V.shadowOffsetY=e.textShadowOffsetY||0),V.stroke=I,V.fill=P,I&&(V.lineWidth=e.lineWidth||A,V.lineDash=e.lineDash,V.lineDashOffset=e.lineDashOffset||0),V.font=n,Y7(V,e),b+=x,O.setBoundingRect(DR(V,f.contentWidth,f.calculatedLineHeight,M?0:null))}},t.prototype._updateRichTexts=function(){var e=this.style,n=this._defaultStyle,i=e.align||n.align,a=e.verticalAlign||n.verticalAlign,o=e.x||0,s=e.y||0;k7(yo,n.overflowRect,o,s,i,a),o=yo.baseX,s=yo.baseY;var l=K7(e),u=wpe(l,e,yo.outerWidth,yo.outerHeight,i),c=u.width,f=u.outerWidth,d=u.outerHeight,h=e.padding;this.isTruncated=!!u.isTruncated;var v=md(o,f,i),g=Zc(s,d,a),m=v,x=g;h&&(m+=h[3],x+=h[0]);var _=m+c;OD(e)&&this._renderBackground(e,e,v,g,f,d);for(var b=!!e.backgroundColor,w=0;w<u.lines.length;w++){for(var T=u.lines[w],A=T.tokens,M=A.length,D=T.lineHeight,P=T.width,I=0,R=m,k=_,O=M-1,V=void 0;I<M&&(V=A[I],!V.align||V.align==="left");)this._placeToken(V,e,D,x,R,"left",b),P-=V.width,R+=V.width,I++;for(;O>=0&&(V=A[O],V.align==="right");)this._placeToken(V,e,D,x,k,"right",b),P-=V.width,k-=V.width,O--;for(R+=(c-(R-m)-(_-k)-P)/2;I<=O;)V=A[I],this._placeToken(V,e,D,x,R+V.width/2,"center",b),R+=V.width,I++;x+=D}},t.prototype._placeToken=function(e,n,i,a,o,s,l){var u=n.rich[e.styleName]||{};u.text=e.text;var c=e.verticalAlign,f=a+i/2;c==="top"?f=a+e.height/2:c==="bottom"&&(f=a+i-e.height/2);var d=!e.isLineHolder&&OD(u);d&&this._renderBackground(u,n,s==="right"?o-e.width:s==="center"?o-e.width/2:o,f-e.height/2,e.width,e.height);var h=!!u.backgroundColor,v=e.textPadding;v&&(o=Z7(o,s,v),f-=e.height/2-v[0]-e.innerHeight/2);var g=this._getOrCreateChild(_d),m=g.createStyle();g.useStyle(m);var x=this._defaultStyle,_=!1,b=0,w=!1,T=j7("fill"in u?u.fill:"fill"in n?n.fill:(_=!0,x.fill)),A=$7("stroke"in u?u.stroke:"stroke"in n?n.stroke:!h&&!l&&(!x.autoStroke||_)?(b=U7,w=!0,x.stroke):null),M=u.textShadowBlur>0||n.textShadowBlur>0;m.text=e.text,m.x=o,m.y=f,M&&(m.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,m.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=e.font||Qs,m.opacity=gi(u.opacity,n.opacity,1),Y7(m,u),A&&(m.lineWidth=gi(u.lineWidth,n.lineWidth,b),m.lineDash=Ie(u.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=A),T&&(m.fill=T),g.setBoundingRect(DR(m,e.contentWidth,e.contentHeight,w?0:null))},t.prototype._renderBackground=function(e,n,i,a,o,s){var l=e.backgroundColor,u=e.borderWidth,c=e.borderColor,f=l&&l.image,d=l&&!f,h=e.borderRadius,v=this,g,m;if(d||e.lineHeight||u&&c){g=this._getOrCreateChild(rt),g.useStyle(g.createStyle()),g.style.fill=null;var x=g.shape;x.x=i,x.y=a,x.width=o,x.height=s,x.r=h,g.dirtyShape()}if(d){var _=g.style;_.fill=l||null,_.fillOpacity=Ie(e.fillOpacity,1)}else if(f){m=this._getOrCreateChild(nn),m.onload=function(){v.dirtyStyle()};var b=m.style;b.image=l.image,b.x=i,b.y=a,b.width=o,b.height=s}if(u&&c){var _=g.style;_.lineWidth=u,_.stroke=c,_.strokeOpacity=Ie(e.strokeOpacity,1),_.lineDash=e.borderDash,_.lineDashOffset=e.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var w=(g||m).style;w.shadowBlur=e.shadowBlur||0,w.shadowColor=e.shadowColor||"transparent",w.shadowOffsetX=e.shadowOffsetX||0,w.shadowOffsetY=e.shadowOffsetY||0,w.opacity=gi(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return uK(e)&&(n=[e.fontStyle,e.fontWeight,lK(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&Vi(n)||e.textFont||e.font},t})(Ca),Qpe={left:!0,right:1,center:1},Jpe={top:1,bottom:1,middle:1},q7=["fontStyle","fontWeight","fontSize","fontFamily"];function lK(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?lB+"px":r+"px"}function Y7(r,t){for(var e=0;e<q7.length;e++){var n=q7[e],i=t[n];i!=null&&(r[n]=i)}}function uK(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function e0e(r){return X7(r),z(r.rich,X7),r}function X7(r){if(r){r.font=gt.makeFont(r);var t=r.align;t==="middle"&&(t="center"),r.align=t==null||Qpe[t]?t:"left";var e=r.verticalAlign;e==="center"&&(e="middle"),r.verticalAlign=e==null||Jpe[e]?e:"top";var n=r.padding;n&&(r.padding=qg(r.padding))}}function $7(r,t){return r==null||t<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function j7(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function Z7(r,t,e){return t==="right"?r-e[1]:t==="center"?r+e[3]/2-e[1]/2:r+e[3]}function K7(r){var t=r.text;return t!=null&&(t+=""),t}function OD(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var He=ot(),RR=function(r,t,e,n){if(n){var i=He(n);i.dataIndex=e,i.dataType=t,i.seriesIndex=r,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var o=He(a);o.seriesIndex=r,o.dataIndex=e,o.dataType=t,o.ssrType="chart"})}},Q7=1,J7={},cK=ot(),EB=ot(),IB=0,Zg=1,xS=2,Qn=["emphasis","blur","select"],rg=["normal","emphasis","blur","select"],zd=10,t0e=9,Qc="highlight",px="downplay",I_="select",PR="unselect",R_="toggleSelect",RB="selectchanged";function Ch(r){return r!=null&&r!=="none"}function _S(r,t,e){r.onHoverStateChange&&(r.hoverState||0)!==e&&r.onHoverStateChange(t),r.hoverState=e}function fK(r){_S(r,"emphasis",xS)}function hK(r){r.hoverState===xS&&_S(r,"normal",IB)}function PB(r){_S(r,"blur",Zg)}function dK(r){r.hoverState===Zg&&_S(r,"normal",IB)}function r0e(r){r.selected=!0}function n0e(r){r.selected=!1}function e9(r,t,e){t(r,e)}function ll(r,t,e){e9(r,t,e),r.isGroup&&r.traverse(function(n){e9(n,t,e)})}function P_(r,t){switch(t){case"emphasis":r.hoverState=xS;break;case"normal":r.hoverState=IB;break;case"blur":r.hoverState=Zg;break;case"select":r.selected=!0}}function i0e(r,t,e,n){for(var i=r.style,a={},o=0;o<t.length;o++){var s=t[o],l=i[s];a[s]=l??(n&&n[s])}for(var o=0;o<r.animators.length;o++){var u=r.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(e)<0&&u.targetName==="style"&&u.saveTo(a,t)}return a}function a0e(r,t,e,n){var i=e&&Ze(e,"select")>=0,a=!1;if(r instanceof lt){var o=cK(r),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(Ch(s)||Ch(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=oe({},n),u=oe({},u),u.fill=s):!Ch(u.fill)&&Ch(s)?(a=!0,n=oe({},n),u=oe({},u),u.fill=w_(s)):!Ch(u.stroke)&&Ch(l)&&(a||(n=oe({},n),u=oe({},u)),u.stroke=w_(l)),n.style=u}}if(n&&n.z2==null){a||(n=oe({},n));var c=r.z2EmphasisLift;n.z2=r.z2+(c??zd)}return n}function o0e(r,t,e){if(e&&e.z2==null){e=oe({},e);var n=r.z2SelectLift;e.z2=r.z2+(n??t0e)}return e}function s0e(r,t,e){var n=Ze(r.currentStates,t)>=0,i=r.style.opacity,a=n?null:i0e(r,["opacity"],t,{opacity:1});e=e||{};var o=e.style||{};return o.opacity==null&&(e=oe({},e),o=oe({opacity:n?i:a.opacity*.1},o),e.style=o),e}function BD(r,t){var e=this.states[r];if(this.style){if(r==="emphasis")return a0e(this,r,t,e);if(r==="blur")return s0e(this,r,e);if(r==="select")return o0e(this,r,e)}return e}function uf(r){r.stateProxy=BD;var t=r.getTextContent(),e=r.getTextGuideLine();t&&(t.stateProxy=BD),e&&(e.stateProxy=BD)}function t9(r,t){!yK(r,t)&&!r.__highByOuter&&ll(r,fK)}function r9(r,t){!yK(r,t)&&!r.__highByOuter&&ll(r,hK)}function el(r,t){r.__highByOuter|=1<<(t||0),ll(r,fK)}function tl(r,t){!(r.__highByOuter&=~(1<<(t||0)))&&ll(r,hK)}function vK(r){ll(r,PB)}function OB(r){ll(r,dK)}function pK(r){ll(r,r0e)}function gK(r){ll(r,n0e)}function yK(r,t){return r.__highDownSilentOnTouch&&t.zrByTouch}function mK(r){var t=r.getModel(),e=[],n=[];t.eachComponent(function(i,a){var o=EB(a),s=i==="series",l=s?r.getViewOfSeriesModel(a):r.getViewOfComponentModel(a);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(u){dK(u)}),s&&e.push(a)),o.isBlured=!1}),z(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(e,!1,t)})}function OR(r,t,e,n){var i=n.getModel();e=e||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&OB(d)}}if(r!=null&&!(!t||t==="none")){var o=i.getSeriesByIndex(r),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(e==="series"&&!c||e==="coordinateSystem"&&!d||t==="series"&&c)){var h=n.getViewOfSeriesModel(u);if(h.group.traverse(function(m){m.__highByOuter&&c&&t==="self"||PB(m)}),En(t))a(u.getData(),t);else if(Le(t))for(var v=ht(t),g=0;g<v.length;g++)a(u.getData(v[g]),t[v[g]]);l.push(u),EB(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=n.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function BR(r,t,e){if(!(r==null||t==null)){var n=e.getModel().getComponent(r,t);if(n){EB(n).isBlured=!0;var i=e.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){PB(a)})}}}function l0e(r,t,e){var n=r.seriesIndex,i=r.getData(t.dataType);if(i){var a=sf(i,t);a=(ue(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var u=He(o);OR(n,u.focus,u.blurScope,e)}else{var c=r.get(["emphasis","focus"]),f=r.get(["emphasis","blurScope"]);c!=null&&OR(n,c,f,e)}}}function BB(r,t,e,n){var i={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||t==null||e==null)return i;var a=n.getModel().getComponent(r,t);if(!a)return i;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(e),l,u=0;u<s.length;u++)if(He(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function u0e(r,t,e){var n=He(r),i=BB(n.componentMainType,n.componentIndex,n.componentHighDownName,e),a=i.dispatchers,o=i.focusSelf;a?(o&&BR(n.componentMainType,n.componentIndex,e),z(a,function(s){return t9(s,t)})):(OR(n.seriesIndex,n.focus,n.blurScope,e),n.focus==="self"&&BR(n.componentMainType,n.componentIndex,e),t9(r,t))}function c0e(r,t,e){mK(e);var n=He(r),i=BB(n.componentMainType,n.componentIndex,n.componentHighDownName,e).dispatchers;i?z(i,function(a){return r9(a,t)}):r9(r,t)}function f0e(r,t,e){if(LR(t)){var n=t.dataType,i=r.getData(n),a=sf(i,t);ue(a)||(a=[a]),r[t.type===R_?"toggleSelect":t.type===I_?"select":"unselect"](a,n)}}function n9(r){var t=r.getAllData();z(t,function(e){var n=e.data,i=e.type;n.eachItemGraphicEl(function(a,o){r.isSelected(o,i)?pK(a):gK(a)})})}function h0e(r){var t=[];return r.eachSeries(function(e){var n=e.getAllData();z(n,function(i){i.data;var a=i.type,o=e.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:e.seriesIndex};a!=null&&(s.dataType=a),t.push(s)}})}),t}function lu(r,t,e){Hc(r,!0),ll(r,uf),kR(r,t,e)}function d0e(r){Hc(r,!1)}function or(r,t,e,n){n?d0e(r):lu(r,t,e)}function kR(r,t,e){var n=He(r);t!=null?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var i9=["emphasis","blur","select"],v0e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Wr(r,t,e,n){e=e||"itemStyle";for(var i=0;i<i9.length;i++){var a=i9[i],o=t.getModel([a,e]),s=r.ensureState(a);s.style=n?n(o):o[v0e[e]]()}}function Hc(r,t){var e=t===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!e||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function ng(r){return!!(r&&r.__highDownDispatcher)}function p0e(r,t,e){var n=He(r);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=e}function g0e(r){var t=J7[r];return t==null&&Q7<=32&&(t=J7[r]=Q7++),t}function LR(r){var t=r.type;return t===I_||t===PR||t===R_}function a9(r){var t=r.type;return t===Qc||t===px}function y0e(r){var t=cK(r);t.normalFill=r.style.fill,t.normalStroke=r.style.stroke;var e=r.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var Th=Go.CMD,m0e=[[],[],[]],o9=Math.sqrt,x0e=Math.atan2;function xK(r,t){if(t){var e=r.data,n=r.len(),i,a,o,s,l,u,c=Th.M,f=Th.C,d=Th.L,h=Th.R,v=Th.A,g=Th.Q;for(o=0,s=0;o<n;){switch(i=e[o++],s=o,a=0,i){case c:a=1;break;case d:a=1;break;case f:a=3;break;case g:a=2;break;case v:var m=t[4],x=t[5],_=o9(t[0]*t[0]+t[1]*t[1]),b=o9(t[2]*t[2]+t[3]*t[3]),w=x0e(-t[1]/b,t[0]/_);e[o]*=_,e[o++]+=m,e[o]*=b,e[o++]+=x,e[o++]*=_,e[o++]*=b,e[o++]+=w,e[o++]+=w,o+=2,s=o;break;case h:u[0]=e[o++],u[1]=e[o++],yr(u,u,t),e[s++]=u[0],e[s++]=u[1],u[0]+=e[o++],u[1]+=e[o++],yr(u,u,t),e[s++]=u[0],e[s++]=u[1]}for(l=0;l<a;l++){var T=m0e[l];T[0]=e[o++],T[1]=e[o++],yr(T,T,t),e[s++]=T[0],e[s++]=T[1]}}r.increaseVersion()}}var kD=Math.sqrt,jm=Math.sin,Zm=Math.cos,Sp=Math.PI;function s9(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function NR(r,t){return(r[0]*t[0]+r[1]*t[1])/(s9(r)*s9(t))}function l9(r,t){return(r[0]*t[1]<r[1]*t[0]?-1:1)*Math.acos(NR(r,t))}function u9(r,t,e,n,i,a,o,s,l,u,c){var f=l*(Sp/180),d=Zm(f)*(r-e)/2+jm(f)*(t-n)/2,h=-1*jm(f)*(r-e)/2+Zm(f)*(t-n)/2,v=d*d/(o*o)+h*h/(s*s);v>1&&(o*=kD(v),s*=kD(v));var g=(i===a?-1:1)*kD((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)))||0,m=g*o*h/s,x=g*-s*d/o,_=(r+e)/2+Zm(f)*m-jm(f)*x,b=(t+n)/2+jm(f)*m+Zm(f)*x,w=l9([1,0],[(d-m)/o,(h-x)/s]),T=[(d-m)/o,(h-x)/s],A=[(-1*d-m)/o,(-1*h-x)/s],M=l9(T,A);if(NR(T,A)<=-1&&(M=Sp),NR(T,A)>=1&&(M=0),M<0){var D=Math.round(M/Sp*1e6)/1e6;M=Sp*2+D%2*Sp}c.addData(u,_,b,o,s,w,M,f,a)}var _0e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,b0e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function S0e(r){var t=new Go;if(!r)return t;var e=0,n=0,i=e,a=n,o,s=Go.CMD,l=r.match(_0e);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(b0e)||[],v=h.length,g=0;g<v;g++)h[g]=parseFloat(h[g]);for(var m=0;m<v;){var x=void 0,_=void 0,b=void 0,w=void 0,T=void 0,A=void 0,M=void 0,D=e,P=n,I=void 0,R=void 0;switch(f){case"l":e+=h[m++],n+=h[m++],d=s.L,t.addData(d,e,n);break;case"L":e=h[m++],n=h[m++],d=s.L,t.addData(d,e,n);break;case"m":e+=h[m++],n+=h[m++],d=s.M,t.addData(d,e,n),i=e,a=n,f="l";break;case"M":e=h[m++],n=h[m++],d=s.M,t.addData(d,e,n),i=e,a=n,f="L";break;case"h":e+=h[m++],d=s.L,t.addData(d,e,n);break;case"H":e=h[m++],d=s.L,t.addData(d,e,n);break;case"v":n+=h[m++],d=s.L,t.addData(d,e,n);break;case"V":n=h[m++],d=s.L,t.addData(d,e,n);break;case"C":d=s.C,t.addData(d,h[m++],h[m++],h[m++],h[m++],h[m++],h[m++]),e=h[m-2],n=h[m-1];break;case"c":d=s.C,t.addData(d,h[m++]+e,h[m++]+n,h[m++]+e,h[m++]+n,h[m++]+e,h[m++]+n),e+=h[m-2],n+=h[m-1];break;case"S":x=e,_=n,I=t.len(),R=t.data,o===s.C&&(x+=e-R[I-4],_+=n-R[I-3]),d=s.C,D=h[m++],P=h[m++],e=h[m++],n=h[m++],t.addData(d,x,_,D,P,e,n);break;case"s":x=e,_=n,I=t.len(),R=t.data,o===s.C&&(x+=e-R[I-4],_+=n-R[I-3]),d=s.C,D=e+h[m++],P=n+h[m++],e+=h[m++],n+=h[m++],t.addData(d,x,_,D,P,e,n);break;case"Q":D=h[m++],P=h[m++],e=h[m++],n=h[m++],d=s.Q,t.addData(d,D,P,e,n);break;case"q":D=h[m++]+e,P=h[m++]+n,e+=h[m++],n+=h[m++],d=s.Q,t.addData(d,D,P,e,n);break;case"T":x=e,_=n,I=t.len(),R=t.data,o===s.Q&&(x+=e-R[I-4],_+=n-R[I-3]),e=h[m++],n=h[m++],d=s.Q,t.addData(d,x,_,e,n);break;case"t":x=e,_=n,I=t.len(),R=t.data,o===s.Q&&(x+=e-R[I-4],_+=n-R[I-3]),e+=h[m++],n+=h[m++],d=s.Q,t.addData(d,x,_,e,n);break;case"A":b=h[m++],w=h[m++],T=h[m++],A=h[m++],M=h[m++],D=e,P=n,e=h[m++],n=h[m++],d=s.A,u9(D,P,e,n,A,M,b,w,T,d,t);break;case"a":b=h[m++],w=h[m++],T=h[m++],A=h[m++],M=h[m++],D=e,P=n,e+=h[m++],n+=h[m++],d=s.A,u9(D,P,e,n,A,M,b,w,T,d,t);break}}(f==="z"||f==="Z")&&(d=s.Z,t.addData(d),e=i,n=a),o=d}return t.toStatic(),t}var _K=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t})(lt);function bK(r){return r.setData!=null}function SK(r,t){var e=S0e(r),n=oe({},t);return n.buildPath=function(i){var a=bK(i);if(a&&i.canSave()){i.appendPath(e);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=a?i.getContext():i;o&&e.rebuildPath(o,1)}},n.applyTransform=function(i){xK(e,i),this.dirtyShape()},n}function wK(r,t){return new _K(SK(r,t))}function w0e(r,t){var e=SK(r,t),n=(function(i){J(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=e.applyTransform,s.buildPath=e.buildPath,s}return a})(_K);return n}function C0e(r,t){for(var e=[],n=r.length,i=0;i<n;i++){var a=r[i];e.push(a.getUpdatedPathProxy(!0))}var o=new lt(t);return o.createPathProxy(),o.buildPath=function(s){if(bK(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function kB(r,t){t=t||{};var e=new lt;return r.shape&&e.setShape(r.shape),e.setStyle(r.style),t.bakeTransform?xK(e.path,r.getComputedTransform()):t.toLocal?e.setLocalTransform(r.getComputedTransform()):e.copyTransform(r),e.buildPath=r.buildPath,e.applyTransform=e.applyTransform,e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e}var T0e=(function(){function r(){this.cx=0,this.cy=0,this.r=0}return r})(),$o=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new T0e},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t})(lt);$o.prototype.type="circle";var A0e=(function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r})(),Kg=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new A0e},t.prototype.buildPath=function(e,n){var i=.5522848,a=n.cx,o=n.cy,s=n.rx,l=n.ry,u=s*i,c=l*i;e.moveTo(a-s,o),e.bezierCurveTo(a-s,o-c,a-u,o-l,a,o-l),e.bezierCurveTo(a+u,o-l,a+s,o-c,a+s,o),e.bezierCurveTo(a+s,o+c,a+u,o+l,a,o+l),e.bezierCurveTo(a-u,o+l,a-s,o+c,a-s,o),e.closePath()},t})(lt);Kg.prototype.type="ellipse";var CK=Math.PI,LD=CK*2,fc=Math.sin,Ah=Math.cos,M0e=Math.acos,Ln=Math.atan2,c9=Math.abs,L0=Math.sqrt,d0=Math.max,mo=Math.min,Wa=1e-4;function D0e(r,t,e,n,i,a,o,s){var l=e-r,u=n-t,c=o-i,f=s-a,d=f*l-c*u;if(!(d*d<Wa))return d=(c*(t-a)-f*(r-i))/d,[r+d*l,t+d*u]}function Km(r,t,e,n,i,a,o){var s=r-e,l=t-n,u=(o?a:-a)/L0(s*s+l*l),c=u*l,f=-u*s,d=r+c,h=t+f,v=e+c,g=n+f,m=(d+v)/2,x=(h+g)/2,_=v-d,b=g-h,w=_*_+b*b,T=i-a,A=d*g-v*h,M=(b<0?-1:1)*L0(d0(0,T*T*w-A*A)),D=(A*b-_*M)/w,P=(-A*_-b*M)/w,I=(A*b+_*M)/w,R=(-A*_+b*M)/w,k=D-m,O=P-x,V=I-m,N=R-x;return k*k+O*O>V*V+N*N&&(D=I,P=R),{cx:D,cy:P,x0:-c,y0:-f,x1:D*(i/T-1),y1:P*(i/T-1)}}function E0e(r){var t;if(ue(r)){var e=r.length;if(!e)return r;e===1?t=[r[0],r[0],0,0]:e===2?t=[r[0],r[0],r[1],r[1]]:e===3?t=r.concat(r[2]):t=r}else t=[r,r,r,r];return t}function I0e(r,t){var e,n=d0(t.r,0),i=d0(t.r0||0,0),a=n>0,o=i>0;if(!(!a&&!o)){if(a||(n=i,i=0),i>n){var s=n;n=i,i=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,d=!!t.clockwise,h=c9(u-l),v=h>LD&&h%LD;if(v>Wa&&(h=v),!(n>Wa))r.moveTo(c,f);else if(h>LD-Wa)r.moveTo(c+n*Ah(l),f+n*fc(l)),r.arc(c,f,n,l,u,!d),i>Wa&&(r.moveTo(c+i*Ah(u),f+i*fc(u)),r.arc(c,f,i,u,l,d));else{var g=void 0,m=void 0,x=void 0,_=void 0,b=void 0,w=void 0,T=void 0,A=void 0,M=void 0,D=void 0,P=void 0,I=void 0,R=void 0,k=void 0,O=void 0,V=void 0,N=n*Ah(l),L=n*fc(l),G=i*Ah(u),W=i*fc(u),U=h>Wa;if(U){var Z=t.cornerRadius;Z&&(e=E0e(Z),g=e[0],m=e[1],x=e[2],_=e[3]);var F=c9(n-i)/2;if(b=mo(F,x),w=mo(F,_),T=mo(F,g),A=mo(F,m),P=M=d0(b,w),I=D=d0(T,A),(M>Wa||D>Wa)&&(R=n*Ah(u),k=n*fc(u),O=i*Ah(l),V=i*fc(l),h<CK)){var q=D0e(N,L,O,V,R,k,G,W);if(q){var $=N-q[0],K=L-q[1],re=R-q[0],ce=k-q[1],pe=1/fc(M0e(($*re+K*ce)/(L0($*$+K*K)*L0(re*re+ce*ce)))/2),de=L0(q[0]*q[0]+q[1]*q[1]);P=mo(M,(n-de)/(pe+1)),I=mo(D,(i-de)/(pe-1))}}}if(!U)r.moveTo(c+N,f+L);else if(P>Wa){var ge=mo(x,P),Ce=mo(_,P),xe=Km(O,V,N,L,n,ge,d),we=Km(R,k,G,W,n,Ce,d);r.moveTo(c+xe.cx+xe.x0,f+xe.cy+xe.y0),P<M&&ge===Ce?r.arc(c+xe.cx,f+xe.cy,P,Ln(xe.y0,xe.x0),Ln(we.y0,we.x0),!d):(ge>0&&r.arc(c+xe.cx,f+xe.cy,ge,Ln(xe.y0,xe.x0),Ln(xe.y1,xe.x1),!d),r.arc(c,f,n,Ln(xe.cy+xe.y1,xe.cx+xe.x1),Ln(we.cy+we.y1,we.cx+we.x1),!d),Ce>0&&r.arc(c+we.cx,f+we.cy,Ce,Ln(we.y1,we.x1),Ln(we.y0,we.x0),!d))}else r.moveTo(c+N,f+L),r.arc(c,f,n,l,u,!d);if(!(i>Wa)||!U)r.lineTo(c+G,f+W);else if(I>Wa){var ge=mo(g,I),Ce=mo(m,I),xe=Km(G,W,R,k,i,-Ce,d),we=Km(N,L,O,V,i,-ge,d);r.lineTo(c+xe.cx+xe.x0,f+xe.cy+xe.y0),I<D&&ge===Ce?r.arc(c+xe.cx,f+xe.cy,I,Ln(xe.y0,xe.x0),Ln(we.y0,we.x0),!d):(Ce>0&&r.arc(c+xe.cx,f+xe.cy,Ce,Ln(xe.y0,xe.x0),Ln(xe.y1,xe.x1),!d),r.arc(c,f,i,Ln(xe.cy+xe.y1,xe.cx+xe.x1),Ln(we.cy+we.y1,we.cx+we.x1),d),ge>0&&r.arc(c+we.cx,f+we.cy,ge,Ln(we.y1,we.x1),Ln(we.y0,we.x0),!d))}else r.lineTo(c+G,f+W),r.arc(c,f,i,u,l,d)}r.closePath()}}}var R0e=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r})(),Rn=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new R0e},t.prototype.buildPath=function(e,n){I0e(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t})(lt);Rn.prototype.type="sector";var P0e=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r})(),Fd=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new P0e},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.PI*2;e.moveTo(i+n.r,a),e.arc(i,a,n.r,0,o,!1),e.moveTo(i+n.r0,a),e.arc(i,a,n.r0,0,o,!0)},t})(lt);Fd.prototype.type="ring";function O0e(r,t,e,n){var i=[],a=[],o=[],s=[],l,u,c,f;if(n){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=r.length;d<h;d++)Hs(c,c,r[d]),Gs(f,f,r[d]);Hs(c,c,n[0]),Gs(f,f,n[1])}for(var d=0,h=r.length;d<h;d++){var v=r[d];if(e)l=r[d?d-1:h-1],u=r[(d+1)%h];else if(d===0||d===h-1){i.push(ko(r[d]));continue}else l=r[d-1],u=r[d+1];Zl(a,u,l),E0(a,a,t);var g=y_(v,l),m=y_(v,u),x=g+m;x!==0&&(g/=x,m/=x),E0(o,a,-g),E0(s,a,m);var _=nR([],v,o),b=nR([],v,s);n&&(Gs(_,_,c),Hs(_,_,f),Gs(b,b,c),Hs(b,b,f)),i.push(_),i.push(b)}return e&&i.push(i.shift()),i}function TK(r,t,e){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var a=O0e(i,n,e,t.smoothConstraint);r.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(e?o:o-1);s++){var l=a[s*2],u=a[s*2+1],c=i[(s+1)%o];r.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{r.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)r.lineTo(i[s][0],i[s][1])}e&&r.closePath()}}var B0e=(function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r})(),Pn=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new B0e},t.prototype.buildPath=function(e,n){TK(e,n,!0)},t})(lt);Pn.prototype.type="polygon";var k0e=(function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r})(),pn=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new k0e},t.prototype.buildPath=function(e,n){TK(e,n,!1)},t})(lt);pn.prototype.type="polyline";var L0e={},N0e=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})(),Mr=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new N0e},t.prototype.buildPath=function(e,n){var i,a,o,s;if(this.subPixelOptimize){var l=mS(L0e,n,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=n.x1,a=n.y1,o=n.x2,s=n.y2;var u=n.percent;u!==0&&(e.moveTo(i,a),u<1&&(o=i*(1-u)+o*u,s=a*(1-u)+s*u),e.lineTo(o,s))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t})(lt);Mr.prototype.type="line";var ci=[],V0e=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r})();function f9(r,t,e){var n=r.cpx2,i=r.cpy2;return n!=null||i!=null?[(e?p7:Kr)(r.x1,r.cpx1,r.cpx2,r.x2,t),(e?p7:Kr)(r.y1,r.cpy1,r.cpy2,r.y2,t)]:[(e?cR:fn)(r.x1,r.cpx1,r.x2,t),(e?cR:fn)(r.y1,r.cpy1,r.y2,t)]}var Hd=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new V0e},t.prototype.buildPath=function(e,n){var i=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,f=n.cpy2,d=n.percent;d!==0&&(e.moveTo(i,a),c==null||f==null?(d<1&&(Z0(i,l,o,d,ci),l=ci[1],o=ci[2],Z0(a,u,s,d,ci),u=ci[1],s=ci[2]),e.quadraticCurveTo(l,u,o,s)):(d<1&&(mu(i,l,c,o,d,ci),l=ci[1],c=ci[2],o=ci[3],mu(a,u,f,s,d,ci),u=ci[1],f=ci[2],s=ci[3]),e.bezierCurveTo(l,u,c,f,o,s)))},t.prototype.pointAt=function(e){return f9(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=f9(this.shape,e,!0);return wf(n,n)},t})(lt);Hd.prototype.type="bezier-curve";var z0e=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),Qg=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new z0e},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(s),f=Math.sin(s);e.moveTo(c*o+i,f*o+a),e.arc(i,a,o,s,l,!u)},t})(lt);Qg.prototype.type="arc";var Jg=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),i=0;i<e.length;i++)n=n||e[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(n[0],n[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(e,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),lt.prototype.getBoundingRect.call(this)},t})(lt),AK=(function(){function r(t){this.colorStops=t||[]}return r.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},r})(),Cf=(function(r){J(t,r);function t(e,n,i,a,o,s){var l=r.call(this,o)||this;return l.x=e??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return t})(AK),LB=(function(r){J(t,r);function t(e,n,i,a,o){var s=r.call(this,a)||this;return s.x=e??.5,s.y=n??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return t})(AK),ND=Math.min,F0e=Math.max,Qm=Math.abs,hc=[0,0],dc=[0,0],un=hZ(),Jm=un.minTv,e1=un.maxTv,MK=(function(){function r(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new ze;for(var n=0;n<2;n++)this._axes[n]=new ze;t&&this.fromBoundingRect(t,e)}return r.prototype.fromBoundingRect=function(t,e){var n=this._corners,i=this._axes,a=t.x,o=t.y,s=a+t.width,l=o+t.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,l),n[3].set(a,l),e)for(var u=0;u<4;u++)n[u].transform(e);ze.sub(i[0],n[1],n[0]),ze.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},r.prototype.intersect=function(t,e,n){var i=!0,a=!e;return e&&ze.set(e,0,0),un.reset(n,!a),!this._intersectCheckOneSide(this,t,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(t,this,a,-1)&&(i=!1,a)||!a&&!un.negativeSize&&ze.copy(e,i?un.useDir?un.dirMinTv:Jm:e1),i},r.prototype._intersectCheckOneSide=function(t,e,n,i){for(var a=!0,o=0;o<2;o++){var s=t._axes[o];if(t._getProjMinMaxOnAxis(o,t._corners,hc),t._getProjMinMaxOnAxis(o,e._corners,dc),un.negativeSize||hc[1]<dc[0]||hc[0]>dc[1]){if(a=!1,un.negativeSize||n)return a;var l=Qm(dc[0]-hc[1]),u=Qm(hc[0]-dc[1]);ND(l,u)>e1.len()&&(l<u?ze.scale(e1,s,-l*i):ze.scale(e1,s,u*i))}else if(!n){var l=Qm(dc[0]-hc[1]),u=Qm(hc[0]-dc[1]);(un.useDir||ND(l,u)<Jm.len())&&((l<u||!un.bidirectional)&&(ze.scale(Jm,s,l*i),un.useDir&&un.calcDirMTV()),(l>=u||!un.bidirectional)&&(ze.scale(Jm,s,-u*i),un.useDir&&un.calcDirMTV()))}}return a},r.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],a=this._origin,o=e[0].dot(i)+a[t],s=o,l=o,u=1;u<e.length;u++){var c=e[u].dot(i)+a[t];s=ND(c,s),l=F0e(c,l)}n[0]=s+un.touchThreshold,n[1]=l-un.touchThreshold,un.negativeSize=n[1]<n[0]},r})(),H0e=[],DK=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var n=this._displayables[e];n.parent=this,n.update(),n.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var n=this._temporaryDisplayables[e];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Fe(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(H0e)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(e,n))return!0}return!1},t})(Ca),EK=ot();function Gd(r,t,e,n,i){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=r==="update";if(s){var u=void 0,c=void 0,f=void 0;n?(u=Ie(n.duration,200),c=Ie(n.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),Re(f)&&(f=f(e,i)),Re(u)&&(u=u(e));var d={duration:u||0,delay:f,easing:c};return d}else return null}function NB(r,t,e,n,i,a,o){var s=!1,l;Re(i)?(o=a,a=i,i=null):Le(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=r==="leave";u||t.stopAnimation("leave");var c=Gd(r,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,v={duration:f,delay:d||0,easing:h,done:a,force:!!a||!!o,setToFinal:!u,scope:r,during:o};s?t.animateFrom(e,v):t.animateTo(e,v)}else t.stopAnimation(),!s&&t.attr(e),o&&o(1),a&&a()}function bt(r,t,e,n,i,a){NB("update",r,t,e,n,i,a)}function Kt(r,t,e,n,i,a){NB("enter",r,t,e,n,i,a)}function fd(r){if(!r.__zr)return!0;for(var t=0;t<r.animators.length;t++){var e=r.animators[t];if(e.scope==="leave")return!0}return!1}function xu(r,t,e,n,i,a){fd(r)||NB("leave",r,t,e,n,i,a)}function h9(r,t,e,n){r.removeTextContent(),r.removeTextGuideLine(),xu(r,{style:{opacity:0}},t,e,n)}function Xs(r,t,e){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(i){i.isGroup||h9(i,t,e,n)}):h9(r,t,e,n)}function Ta(r){EK(r).oldStyle=r.style}function G0e(r){return EK(r).oldStyle}var VR={},qe=["x","y"],Or=["width","height"];function IK(r){return lt.extend(r)}var W0e=w0e;function RK(r,t){return W0e(r,t)}function Ra(r,t){VR[r]=t}function ig(r){if(VR.hasOwnProperty(r))return VR[r]}function bd(r,t,e,n){var i=wK(r,t);return e&&(n==="center"&&(e=PK(e,i.getBoundingRect())),zB(i,e)),i}function VB(r,t,e){var n=new nn({style:{image:r,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(e==="center"){var a={width:i.width,height:i.height};n.setStyle(PK(t,a))}}});return n}function PK(r,t){var e=t.width/t.height,n=r.height*e,i;n<=r.width?i=r.height:(n=r.width,i=n/e);var a=r.x+r.width/2,o=r.y+r.height/2;return{x:a-n/2,y:o-i/2,width:n,height:i}}var Ni=C0e;function zB(r,t){if(r.applyTransform){var e=r.getBoundingRect(),n=e.calculateTransform(t);r.applyTransform(n)}}function Sd(r,t){return mS(r,r,{lineWidth:t}),r}function U0e(r,t){return sK(r,r,t),r}var gx=Hi;function uu(r,t){for(var e=Xg([]);r&&r!==t;)Ka(e,r.getLocalTransform(),e),r=r.parent;return e}function Ja(r,t,e){return t&&!En(t)&&(t=Ws.getLocalTransform(t)),e&&(t=wa([],t)),yr([],r,t)}function bS(r,t,e){var n=t[4]===0||t[5]===0||t[0]===0?1:Io(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Io(2*t[4]/t[2]),a=[r==="left"?-n:r==="right"?n:0,r==="top"?-i:r==="bottom"?i:0];return a=Ja(a,t,e),Io(a[0])>Io(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function d9(r){return!r.isGroup}function q0e(r){return r.shape!=null}function ey(r,t,e){if(!r||!t)return;function n(o){var s={};return o.traverse(function(l){d9(l)&&l.anid&&(s[l.anid]=l)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return q0e(o)&&(s.shape=Oe(o.shape)),s}var a=n(r);t.traverse(function(o){if(d9(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),bt(o,l,e,He(o).dataIndex)}}})}function FB(r,t){return he(r,function(e){var n=e[0];n=Tr(n,t.x),n=Wi(n,t.x+t.width);var i=e[1];return i=Tr(i,t.y),i=Wi(i,t.y+t.height),[n,i]})}function OK(r,t){var e=Tr(r.x,t.x),n=Wi(r.x+r.width,t.x+t.width),i=Tr(r.y,t.y),a=Wi(r.y+r.height,t.y+t.height);if(n>=e&&a>=i)return{x:e,y:i,width:n-e,height:a-i}}function Wd(r,t,e){var n=oe({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(i.image=r.slice(8),ke(i,e),new nn(n)):bd(r.replace("path://",""),n,e,"center")}function v0(r,t,e,n,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(BK(r,t,e,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function BK(r,t,e,n,i,a,o,s){var l=e-r,u=n-t,c=o-i,f=s-a,d=VD(c,f,l,u);if(Y0e(d))return!1;var h=r-i,v=t-a,g=VD(h,v,l,u)/d;if(g<0||g>1)return!1;var m=VD(h,v,c,f)/d;return!(m<0||m>1)}function VD(r,t,e,n){return r*n-e*t}function Y0e(r){return r<=1e-6&&r>=-1e-6}function cf(r,t,e,n,i){return t==null||(yt(t)?sr[0]=sr[1]=sr[2]=sr[3]=t:(sr[0]=t[0],sr[1]=t[1],sr[2]=t[2],sr[3]=t[3]),n&&(sr[0]=Tr(0,sr[0]),sr[1]=Tr(0,sr[1]),sr[2]=Tr(0,sr[2]),sr[3]=Tr(0,sr[3])),e&&(sr[0]=-sr[0],sr[1]=-sr[1],sr[2]=-sr[2],sr[3]=-sr[3]),v9(r,sr,"x","width",3,1,i&&i[0]||0),v9(r,sr,"y","height",0,2,i&&i[1]||0)),r}var sr=[0,0,0,0];function v9(r,t,e,n,i,a,o){var s=t[a]+t[i],l=r[n];r[n]+=s,o=Tr(0,Wi(o,l)),r[n]<o?(r[n]=o,r[e]+=t[i]>=0?-t[i]:t[a]>=0?l+t[a]:Io(s)>1e-8?(l-o)*t[i]/s:0):r[e]-=t[i]}function ul(r){var t=r.itemTooltipOption,e=r.componentModel,n=r.itemName,i=be(t)?{formatter:t}:t,a=e.mainType,o=e.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var l=r.formatterParamsExtra;l&&z(ht(l),function(c){Te(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=He(r.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:n,option:ke({content:n,encodeHTMLContent:!0,formatterParams:s},i)}}function zR(r,t){var e;r.isGroup&&(e=t(r)),e||r.traverse(t)}function Mu(r,t){if(r)if(ue(r))for(var e=0;e<r.length;e++)zR(r[e],t);else zR(r,t)}function HB(r){return!r||Io(r[1])<t1&&Io(r[2])<t1||Io(r[0])<t1&&Io(r[3])<t1}var t1=1e-5;function ag(r,t){return r?Fe.copy(r,t):t.clone()}function GB(r,t){return t?$g(r||Jr(),t):void 0}function ff(r){return{z:r.get("z")||0,zlevel:r.get("zlevel")||0}}function kK(r){var t=-1/0,e=1/0;zR(r,function(a){n(a),n(a.getTextContent()),n(a.getTextGuideLine())});function n(a){if(!(!a||a.isGroup)){var o=a.currentStates;if(o.length)for(var s=0;s<o.length;s++)i(a.states[o[s]]);i(a)}}function i(a){if(a){var o=a.z2;o>t&&(t=o),o<e&&(e=o)}}return e>t&&(e=t=0),{min:e,max:t}}function SS(r,t,e){LK(r,t,e,-1/0)}function LK(r,t,e,n){if(r.ignoreModelZ)return n;var i=r.getTextContent(),a=r.getTextGuideLine(),o=r.isGroup;if(o)for(var s=r.childrenRef(),l=0;l<s.length;l++)n=Tr(LK(s[l],t,e,n),n);else r.z=t,r.zlevel=e,n=Tr(r.z2||0,n);if(i&&(i.z=t,i.zlevel=e,isFinite(n)&&(i.z2=n+2)),a){var u=r.textGuideLineConfig;a.z=t,a.zlevel=e,isFinite(n)&&(a.z2=n+(u&&u.showAbove?1:-1))}return n}Ra("circle",$o);Ra("ellipse",Kg);Ra("sector",Rn);Ra("ring",Fd);Ra("polygon",Pn);Ra("polyline",pn);Ra("rect",rt);Ra("line",Mr);Ra("bezierCurve",Hd);Ra("arc",Qg);const Tf=Object.freeze(Object.defineProperty({__proto__:null,Arc:Qg,BezierCurve:Hd,BoundingRect:Fe,Circle:$o,CompoundPath:Jg,Ellipse:Kg,Group:Be,Image:nn,IncrementalDisplayable:DK,Line:Mr,LinearGradient:Cf,OrientedBoundingRect:MK,Path:lt,Point:ze,Polygon:Pn,Polyline:pn,RadialGradient:LB,Rect:rt,Ring:Fd,Sector:Rn,Text:gt,WH:Or,XY:qe,applyTransform:Ja,calcZ2Range:kK,clipPointsByRect:FB,clipRectByRect:OK,createIcon:Wd,ensureCopyRect:ag,ensureCopyTransform:GB,expandOrShrinkRect:cf,extendPath:RK,extendShape:IK,getShapeClass:ig,getTransform:uu,groupTransition:ey,initProps:Kt,isBoundingRectAxisAligned:HB,isElementRemoved:fd,lineLineIntersect:BK,linePolygonIntersect:v0,makeImage:VB,makePath:bd,mergePath:Ni,registerShape:Ra,removeElement:xu,removeElementWithFadeOut:Xs,resizePath:zB,retrieveZInfo:ff,setTooltipConfig:ul,subPixelOptimize:gx,subPixelOptimizeLine:Sd,subPixelOptimizeRect:U0e,transformDirection:bS,traverseElements:Mu,traverseUpdateZ:SS,updateProps:bt},Symbol.toStringTag,{value:"Module"}));var wS={};function NK(r,t){for(var e=0;e<Qn.length;e++){var n=Qn[e],i=t[n],a=r.ensureState(n);a.style=a.style||{},a.style.text=i}var o=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:t.normal}),r.useStates(o,!0)}function FR(r,t,e){var n=r.labelFetcher,i=r.labelDataIndex,a=r.labelDimIndex,o=t.normal,s;n&&(s=n.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),e!=null?{interpolatedValue:e}:null)),s==null&&(s=Re(r.defaultText)?r.defaultText(i,r,e):r.defaultText);for(var l={normal:s},u=0;u<Qn.length;u++){var c=Qn[u],f=t[c];l[c]=Ie(n?n.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,s)}return l}function tn(r,t,e,n){e=e||wS;for(var i=r instanceof gt,a=!1,o=0;o<rg.length;o++){var s=t[rg[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=i?r:r.getTextContent();if(a){i||(l||(l=new gt,r.setTextContent(l)),r.stateProxy&&(l.stateProxy=r.stateProxy));var u=FR(e,t),c=t.normal,f=!!c.getShallow("show"),d=Ut(c,n&&n.normal,e,!1,!i);d.text=u.normal,i||r.setTextConfig(O_(c,e,!1));for(var o=0;o<Qn.length;o++){var h=Qn[o],s=t[h];if(s){var v=l.ensureState(h),g=!!Ie(s.getShallow("show"),f);if(g!==f&&(v.ignore=!g),v.style=Ut(s,n&&n[h],e,!0,!i),v.style.text=u[h],!i){var m=r.ensureState(h);m.textConfig=O_(s,e,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),e.enableTextSetter&&(Ud(l).setLabelText=function(x){var _=FR(e,t,x);NK(l,_)})}else l&&(l.ignore=!0);r.dirty()}function Ur(r,t){t=t||"label";for(var e={normal:r.getModel(t)},n=0;n<Qn.length;n++){var i=Qn[n];e[i]=r.getModel([i,t])}return e}function Ut(r,t,e,n,i){var a={};return X0e(a,r,e,n,i),t&&oe(a,t),a}function O_(r,t,e){t=t||{};var n={},i,a=r.getShallow("rotate"),o=Ie(r.getShallow("distance"),e?null:5),s=r.getShallow("offset");return i=r.getShallow("position")||(e?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),s!=null&&(n.offset=s),a!=null&&(a*=Math.PI/180,n.rotation=a),o!=null&&(n.distance=o),n.outsideFill=r.get("color")==="inherit"?t.inheritColor||null:"auto",t.autoOverflowArea!=null&&(n.autoOverflowArea=t.autoOverflowArea),t.layoutRect!=null&&(n.layoutRect=t.layoutRect),n}function X0e(r,t,e,n,i){e=e||wS;var a=t.ecModel,o=a&&a.option.textStyle,s=$0e(t),l;if(s){l={};var u="richInheritPlainLabel",c=Ie(t.get(u),a?a.get(u):void 0);for(var f in s)if(s.hasOwnProperty(f)){var d=t.getModel(["rich",f]);m9(l[f]={},d,o,t,c,e,n,i,!1,!0)}}l&&(r.rich=l);var h=t.get("overflow");h&&(r.overflow=h);var v=t.get("lineOverflow");v&&(r.lineOverflow=v);var g=r,m=t.get("minMargin");if(m!=null)m=yt(m)?m/2:0,g.margin=[m,m,m,m],g.__marginType=id.minMargin;else{var x=t.get("textMargin");x!=null&&(g.margin=qg(x),g.__marginType=id.textMargin)}m9(r,t,o,null,null,e,n,i,!0,!1)}function $0e(r){for(var t;r&&r!==r.ecModel;){var e=(r.option||wS).rich;if(e){t=t||{};for(var n=ht(e),i=0;i<n.length;i++){var a=n[i];t[a]=1}}r=r.parentModel}return t}var p9=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],g9=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],y9=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function m9(r,t,e,n,i,a,o,s,l,u){e=!o&&e||wS;var c=a&&a.inheritColor,f=t.getShallow("color"),d=t.getShallow("textBorderColor"),h=Ie(t.getShallow("opacity"),e.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(d==="inherit"||d==="auto")&&(c?d=c:d=null),s||(f=f||e.color,d=d||e.textBorderColor),f!=null&&(r.fill=f),d!=null&&(r.stroke=d);var v=Ie(t.getShallow("textBorderWidth"),e.textBorderWidth);v!=null&&(r.lineWidth=v);var g=Ie(t.getShallow("textBorderType"),e.textBorderType);g!=null&&(r.lineDash=g);var m=Ie(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);m!=null&&(r.lineDashOffset=m),!o&&h==null&&!u&&(h=a&&a.defaultOpacity),h!=null&&(r.opacity=h),!o&&!s&&r.fill==null&&a.inheritColor&&(r.fill=a.inheritColor);for(var x=0;x<p9.length;x++){var _=p9[x],b=i!==!1&&n?gi(t.getShallow(_),n.getShallow(_),e[_]):Ie(t.getShallow(_),e[_]);b!=null&&(r[_]=b)}for(var x=0;x<g9.length;x++){var _=g9[x],b=t.getShallow(_);b!=null&&(r[_]=b)}if(r.verticalAlign==null){var w=t.getShallow("baseline");w!=null&&(r.verticalAlign=w)}if(!l||!a.disableBox){for(var x=0;x<y9.length;x++){var _=y9[x],b=t.getShallow(_);b!=null&&(r[_]=b)}var T=t.getShallow("borderType");T!=null&&(r.borderDash=T),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&c&&(r.backgroundColor=c),(r.borderColor==="auto"||r.borderColor==="inherit")&&c&&(r.borderColor=c)}}function WB(r,t){var e=t&&t.getModel("textStyle");return Vi([r.fontStyle||e&&e.getShallow("fontStyle")||"",r.fontWeight||e&&e.getShallow("fontWeight")||"",(r.fontSize||e&&e.getShallow("fontSize")||12)+"px",r.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ud=ot();function VK(r,t,e,n){if(r){var i=Ud(r);i.prevValue=i.value,i.value=e;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function zK(r,t,e,n,i){var a=Ud(r);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=Ie(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=KZ(e,a.precision,s,l,c);a.interpolatedValue=c===1?null:f;var d=FR({labelDataIndex:t,labelFetcher:i,defaultText:o?o(f):f+""},a.statesModels,f);NK(r,d)}r.percent=0,(a.prevValue==null?Kt:bt)(r,{percent:1},n,t,null,u)}var id={minMargin:1,textMargin:2},j0e=["textStyle","color"],zD=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],FD=new gt,Z0e=(function(){function r(){}return r.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(j0e):null)},r.prototype.getFont=function(){return WB({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<zD.length;n++)e[zD[n]]=this.getShallow(zD[n]);return FD.useStyle(e),FD.update(),FD.getBoundingRect()},r})(),FK=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],K0e=lf(FK),Q0e=(function(){function r(){}return r.prototype.getLineStyle=function(t){return K0e(this,t)},r})(),HK=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],J0e=lf(HK),ege=(function(){function r(){}return r.prototype.getItemStyle=function(t,e){return J0e(this,t,e)},r})(),st=(function(){function r(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return r.prototype.init=function(t,e,n){},r.prototype.mergeOption=function(t,e){Ke(this.option,t,!0)},r.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},r.prototype.getShallow=function(t,e){var n=this.option,i=n==null?n:n[t];if(i==null&&!e){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},r.prototype.getModel=function(t,e){var n=t!=null,i=n?this.parsePath(t):null,a=n?this._doGet(i):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new r(a,e,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var t=this.constructor;return new t(Oe(this.option))},r.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},r.prototype.resolveParentPath=function(t){return t},r.prototype.isAnimationEnabled=function(){if(!ut.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},r})();AB(st);fpe(st);mr(st,Q0e);mr(st,ege);mr(st,gpe);mr(st,Z0e);var tge=Math.round(Math.random()*10);function qd(r){return[r||"",tge++].join("_")}function rge(r){var t={};r.registerSubTypeDefaulter=function(e,n){var i=Ro(e);t[i.main]=n},r.determineSubType=function(e,n){var i=n.type;if(!i){var a=Ro(e).main;r.hasSubTypes(e)&&t[a]&&(i=t[a](n))}return i}}function nge(r,t){r.topologicalTravel=function(a,o,s,l){if(!a.length)return;var u=e(o),c=u.graph,f=u.noEntryList,d={};for(z(a,function(_){d[_]=!0});f.length;){var h=f.pop(),v=c[h],g=!!d[h];g&&(s.call(l,h,v.originalDeps.slice()),delete d[h]),z(v.successor,g?x:m)}z(d,function(){var _="";throw new Error(_)});function m(_){c[_].entryCount--,c[_].entryCount===0&&f.push(_)}function x(_){d[_]=!0,m(_)}};function e(a){var o={},s=[];return z(a,function(l){var u=n(o,l),c=u.originalDeps=t(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&s.push(l),z(f,function(d){Ze(u.predecessor,d)<0&&u.predecessor.push(d);var h=n(o,d);Ze(h.successor,d)<0&&h.successor.push(l)})}),{graph:o,noEntryList:s}}function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return z(a,function(l){Ze(o,l)>=0&&s.push(l)}),s}}function Du(r,t){return Ke(Ke({},r,!0),t,!0)}const ige={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},age={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var B_="ZH",UB="EN",hd=UB,yx={},qB={},GK=ut.domSupported?(function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||hd).toUpperCase();return r.indexOf(B_)>-1?B_:hd})():hd;function YB(r,t){r=r.toUpperCase(),qB[r]=new st(t),yx[r]=t}function oge(r){if(be(r)){var t=yx[r.toUpperCase()]||{};return r===B_||r===UB?Oe(t):Ke(Oe(t),Oe(yx[hd]),!1)}else return Ke(Oe(r),Oe(yx[hd]),!1)}function HR(r){return qB[r]}function sge(){return qB[hd]}YB(UB,ige);YB(B_,age);var GR=null;function lge(r){GR||(GR=r)}function Pr(){return GR}var XB=1e3,$B=XB*60,N0=$B*60,ga=N0*24,x9=ga*365,uge={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},mx={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},cge="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",r1="{yyyy}-{MM}-{dd}",_9={year:"{yyyy}",month:"{yyyy}-{MM}",day:r1,hour:r1+" "+mx.hour,minute:r1+" "+mx.minute,second:r1+" "+mx.second,millisecond:cge},Bi=["year","month","day","hour","minute","second","millisecond"],fge=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function hge(r){return!be(r)&&!Re(r)?dge(r):r}function dge(r){r=r||{};var t={},e=!0;return z(Bi,function(n){e&&(e=r[n]==null)}),z(Bi,function(n,i){var a=r[n];t[n]={};for(var o=null,s=i;s>=0;s--){var l=Bi[s],u=Le(a)&&!ue(a)?a[l]:a,c=void 0;ue(u)?(c=u.slice(),o=c[0]||""):be(u)?(o=u,c=[o]):(o==null?o=mx[n]:uge[l].test(o)||(o=t[l][l][0]+" "+o),c=[o],e&&(c[1]="{primary|"+o+"}")),t[n][l]=c}}),t}function Xn(r,t){return r+="","0000".substr(0,t-r.length)+r}function V0(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function vge(r){return r===V0(r)}function pge(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function ty(r,t,e,n){var i=Xo(r),a=i[WK(e)](),o=i[jB(e)]()+1,s=Math.floor((o-1)/3)+1,l=i[ZB(e)](),u=i["get"+(e?"UTC":"")+"Day"](),c=i[KB(e)](),f=(c-1)%12+1,d=i[QB(e)](),h=i[JB(e)](),v=i[ek(e)](),g=c>=12?"pm":"am",m=g.toUpperCase(),x=n instanceof st?n:HR(n||GK)||sge(),_=x.getModel("time"),b=_.get("month"),w=_.get("monthAbbr"),T=_.get("dayOfWeek"),A=_.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,g+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Xn(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,b[o-1]).replace(/{MMM}/g,w[o-1]).replace(/{MM}/g,Xn(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Xn(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,T[u]).replace(/{ee}/g,A[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Xn(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Xn(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Xn(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Xn(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Xn(v,3)).replace(/{S}/g,v+"")}function gge(r,t,e,n,i){var a=null;if(be(e))a=e;else if(Re(e)){var o={time:r.time,level:r.time.level},s=Pr();s&&s.makeAxisLabelFormatterParamBreak(o,r.break),a=e(r.value,t,o)}else{var l=r.time;if(l){var u=e[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var c=ad(r.value,i);a=e[c][c][0]}}return ty(new Date(r.value),a,i,n)}function ad(r,t){var e=Xo(r),n=e[jB(t)]()+1,i=e[ZB(t)](),a=e[KB(t)](),o=e[QB(t)](),s=e[JB(t)](),l=e[ek(t)](),u=l===0,c=u&&s===0,f=c&&o===0,d=f&&a===0,h=d&&i===1,v=h&&n===1;return v?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function k_(r,t,e){switch(t){case"year":r[UK(e)](0);case"month":r[qK(e)](1);case"day":r[YK(e)](0);case"hour":r[XK(e)](0);case"minute":r[$K(e)](0);case"second":r[jK(e)](0)}return r}function WK(r){return r?"getUTCFullYear":"getFullYear"}function jB(r){return r?"getUTCMonth":"getMonth"}function ZB(r){return r?"getUTCDate":"getDate"}function KB(r){return r?"getUTCHours":"getHours"}function QB(r){return r?"getUTCMinutes":"getMinutes"}function JB(r){return r?"getUTCSeconds":"getSeconds"}function ek(r){return r?"getUTCMilliseconds":"getMilliseconds"}function yge(r){return r?"setUTCFullYear":"setFullYear"}function UK(r){return r?"setUTCMonth":"setMonth"}function qK(r){return r?"setUTCDate":"setDate"}function YK(r){return r?"setUTCHours":"setHours"}function XK(r){return r?"setUTCMinutes":"setMinutes"}function $K(r){return r?"setUTCSeconds":"setSeconds"}function jK(r){return r?"setUTCMilliseconds":"setMilliseconds"}function mge(r,t,e,n,i,a,o,s){var l=new gt({style:{text:r,font:t,align:e,verticalAlign:n,padding:i,rich:a,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function tk(r){if(!wB(r))return be(r)?r:"-";var t=(r+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function rk(r,t){return r=(r||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var Yd=qg;function WR(r,t,e){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&Vi(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=r instanceof Date;if(o||s){var l=o?Xo(r):r;if(isNaN(+l)){if(s)return"-"}else return ty(l,n,e)}if(t==="ordinal")return p_(r)?i(r):yt(r)&&a(r)?r+"":"-";var u=Ho(r);return a(u)?tk(u):p_(r)?i(r):typeof r=="boolean"?r+"":"-"}var b9=["a","b","c","d","e","f","g"],HD=function(r,t){return"{"+r+(t??"")+"}"};function nk(r,t,e){ue(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=b9[a];r=r.replace(HD(o),HD(o,0))}for(var s=0;s<n;s++)for(var l=0;l<i.length;l++){var u=t[s][i[l]];r=r.replace(HD(b9[l],s),e?zn(u):u)}return r}function xge(r,t,e){return z(t,function(n,i){r=r.replace("{"+i+"}",n)}),r}function ZK(r,t){var e=be(r)?{color:r,extraCssText:t}:r||{},n=e.color,i=e.type;t=e.extraCssText;var a=e.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+zn(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+zn(n)+";"+(t||"")+'"></span>';var o=e.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function _ge(r,t,e){(r==="week"||r==="month"||r==="quarter"||r==="half-year"||r==="year")&&(r=`MM-dd
yyyy`);var n=Xo(t),i=e?"getUTC":"get",a=n[i+"FullYear"](),o=n[i+"Month"]()+1,s=n[i+"Date"](),l=n[i+"Hours"](),u=n[i+"Minutes"](),c=n[i+"Seconds"](),f=n[i+"Milliseconds"]();return r=r.replace("MM",Xn(o,2)).replace("M",o).replace("yyyy",a).replace("yy",Xn(a%100+"",2)).replace("dd",Xn(s,2)).replace("d",s).replace("hh",Xn(l,2)).replace("h",l).replace("mm",Xn(u,2)).replace("m",u).replace("ss",Xn(c,2)).replace("s",c).replace("SSS",Xn(f,3)),r}function bge(r){return r&&r.charAt(0).toUpperCase()+r.substr(1)}function hf(r,t){return t=t||"transparent",be(r)?r:Le(r)&&r.colorStops&&(r.colorStops[0]||{}).color||t}function L_(r,t){if(t==="_blank"||t==="blank"){var e=window.open();e.opener=null,e.location.href=r}else window.open(r,t)}var xx={},GD={},Xd=(function(){function r(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return r.prototype.create=function(t,e){this._nonSeriesBoxMasterList=n(xx),this._normalMasterList=n(GD);function n(i,a){var o=[];return z(i,function(s,l){var u=s.create(t,e);o=o.concat(u||[])}),o}},r.prototype.update=function(t,e){z(this._normalMasterList,function(n){n.update&&n.update(t,e)})},r.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},r.register=function(t,e){if(t==="matrix"||t==="calendar"){xx[t]=e;return}GD[t]=e},r.get=function(t){return GD[t]||xx[t]},r})();function Sge(r){return!!xx[r]}var UR={coord:1,coord2:2};function wge(r){KK.set(r.fullType,{getCoord2:void 0}).getCoord2=r.getCoord2}var KK=Me();function Cge(r){var t=r.getShallow("coord",!0),e=UR.coord;if(t==null){var n=KK.get(r.type);n&&n.getCoord2&&(e=UR.coord2,t=n.getCoord2(r))}return{coord:t,from:e}}var Ao={none:0,dataCoordSys:1,boxCoordSys:2};function QK(r,t){var e=r.getShallow("coordinateSystem"),n=r.getShallow("coordinateSystemUsage",!0),i=Ao.none;if(e){var a=r.mainType==="series";n==null&&(n=a?"data":"box"),n==="data"?(i=Ao.dataCoordSys,a||(i=Ao.none)):n==="box"&&(i=Ao.boxCoordSys,!a&&!Sge(e)&&(i=Ao.none))}return{coordSysType:e,kind:i}}function ry(r){var t=r.targetModel,e=r.coordSysType,n=r.coordSysProvider,i=r.isDefaultDataCoordSys;r.allowNotFound;var a=QK(t),o=a.kind,s=a.coordSysType;if(i&&o!==Ao.dataCoordSys&&(o=Ao.dataCoordSys,s=e),o===Ao.none||s!==e)return!1;var l=n(e,t);return l?(o===Ao.dataCoordSys?t.coordinateSystem=l:t.boxCoordinateSystem=l,!0):!1}var JK=function(r,t){var e=t.getReferringComponents(r,vr).models[0];return e&&e.coordinateSystem},_x=z,eQ=["left","right","top","bottom","width","height"],Gc=[["width","left","right"],["height","top","bottom"]];function ik(r,t,e,n,i){var a=0,o=0;n==null&&(n=1/0),i==null&&(i=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),d=f&&f.getBoundingRect(),h,v;if(r==="horizontal"){var g=c.width+(d?-d.x+c.x:0);h=a+g,h>n||l.newline?(a=0,h=g,o+=s+e,s=c.height):s=Math.max(s,c.height)}else{var m=c.height+(d?-d.y+c.y:0);v=o+m,v>i||l.newline?(a+=s+e,o=0,v=m,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),r==="horizontal"?a=h+e:o=v+e)})}var Jc=ik;je(ik,"vertical");je(ik,"horizontal");function tQ(r,t){return{left:r.getShallow("left",t),top:r.getShallow("top",t),right:r.getShallow("right",t),bottom:r.getShallow("bottom",t),width:r.getShallow("width",t),height:r.getShallow("height",t)}}function Tge(r,t){var e=qr(r,t,{enableLayoutOnlyByCenter:!0}),n=r.getBoxLayoutParams(),i,a;if(e.type===p0.point)a=e.refPoint,i=rr(n,{width:t.getWidth(),height:t.getHeight()});else{var o=r.get("center"),s=ue(o)?o:[o,o];i=rr(n,e.refContainer),a=e.boxCoordFrom===UR.coord2?e.refPoint:[_e(s[0],i.width)+i.x,_e(s[1],i.height)+i.y]}return{viewRect:i,center:a}}function rQ(r,t){var e=Tge(r,t),n=e.viewRect,i=e.center,a=r.get("radius");ue(a)||(a=[0,a]);var o=_e(n.width,t.getWidth()),s=_e(n.height,t.getHeight()),l=Math.min(o,s),u=_e(a[0],l/2),c=_e(a[1],l/2);return{cx:i[0],cy:i[1],r0:u,r:c,viewRect:n}}function rr(r,t,e){e=Yd(e||0);var n=t.width,i=t.height,a=_e(r.left,n),o=_e(r.top,i),s=_e(r.right,n),l=_e(r.bottom,i),u=_e(r.width,n),c=_e(r.height,i),f=e[2]+e[0],d=e[1]+e[3],h=r.aspect;switch(isNaN(u)&&(u=n-s-d-a),isNaN(c)&&(c=i-l-f-o),h!=null&&(isNaN(u)&&isNaN(c)&&(h>n/i?u=n*.8:c=i*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(a)&&(a=n-s-u-d),isNaN(o)&&(o=i-l-c-f),r.left||r.right){case"center":a=n/2-u/2-e[3];break;case"right":a=n-u-d;break}switch(r.top||r.bottom){case"middle":case"center":o=i/2-c/2-e[0];break;case"bottom":o=i-c-f;break}a=a||0,o=o||0,isNaN(u)&&(u=n-d-a-(s||0)),isNaN(c)&&(c=i-f-o-(l||0));var v=new Fe((t.x||0)+a+e[3],(t.y||0)+o+e[0],u,c);return v.margin=e,v}function nQ(r,t,e){var n=r.getShallow("preserveAspect",!0);if(!n)return t;var i=t.width/t.height;if(Math.abs(Math.atan(e)-Math.atan(i))<1e-9)return t;var a=r.getShallow("preserveAspectAlign",!0),o=r.getShallow("preserveAspectVerticalAlign",!0),s={width:t.width,height:t.height},l=n==="cover";return i>e&&!l||i<e&&l?(s.width=t.height*e,a==="left"?s.left=0:a==="right"?s.right=0:s.left="center"):(s.height=t.width/e,o==="top"?s.top=0:o==="bottom"?s.bottom=0:s.top="middle"),rr(s,t)}var p0={rect:1,point:2};function qr(r,t,e){var n,i,a,o=r.boxCoordinateSystem,s;if(o){var l=Cge(r),u=l.coord,c=l.from;if(o.dataToLayout){a=p0.rect,s=c;var f=o.dataToLayout(u);n=f.contentRect||f.rect}else e&&e.enableLayoutOnlyByCenter&&o.dataToPoint&&(a=p0.point,s=c,i=o.dataToPoint(u))}return a==null&&(a=p0.rect),a===p0.rect&&(n||(n={x:0,y:0,width:t.getWidth(),height:t.getHeight()}),i=[n.x+n.width/2,n.y+n.height/2]),{type:a,refContainer:n,refPoint:i,boxCoordFrom:s}}function CS(r,t,e,n,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||r,a.x=r.x,a.y=r.y,!o&&!s)return!1;var u;if(l==="raw")u=r.type==="group"?new Fe(0,0,+t.width||0,+t.height||0):r.getBoundingRect();else if(u=r.getBoundingRect(),r.needLocalTransform()){var c=r.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=rr(ke({width:u.width,height:u.height},t),e,n),d=o?f.x-u.x:0,h=s?f.y-u.y:0;return l==="raw"?(a.x=d,a.y=h):(a.x+=d,a.y+=h),a===r&&r.markRedraw(),!0}function Age(r,t){return r[Gc[t][0]]!=null||r[Gc[t][1]]!=null&&r[Gc[t][2]]!=null}function og(r){var t=r.layoutMode||r.constructor.layoutMode;return Le(t)?t:t?{type:t}:null}function Wo(r,t,e){var n=e&&e.ignoreSize;!ue(n)&&(n=[n,n]);var i=o(Gc[0],0),a=o(Gc[1],1);l(Gc[0],r,i),l(Gc[1],r,a);function o(u,c){var f={},d=0,h={},v=0,g=2;if(_x(u,function(_){h[_]=r[_]}),_x(u,function(_){Te(t,_)&&(f[_]=h[_]=t[_]),s(f,_)&&d++,s(h,_)&&v++}),n[c])return s(t,u[1])?h[u[2]]=null:s(t,u[2])&&(h[u[1]]=null),h;if(v===g||!d)return h;if(d>=g)return f;for(var m=0;m<u.length;m++){var x=u[m];if(!Te(f,x)&&Te(r,x)){f[x]=r[x];break}}return f}function s(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){_x(u,function(d){c[d]=f[d]})}}function Af(r){return iQ({},r)}function iQ(r,t){return t&&r&&_x(eQ,function(e){Te(t,e)&&(r[e]=t[e])}),r}var Mge=ot(),at=(function(r){J(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.uid=qd("ec_cpt_model"),a}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=og(this),a=i?Af(e):{},o=n.getTheme();Ke(e,o.get(this.mainType)),Ke(e,this.getDefaultOption()),i&&Wo(e,a,i)},t.prototype.mergeOption=function(e,n){Ke(this.option,e,!0);var i=og(this);i&&Wo(this.option,e,i)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!lpe(e))return e.defaultOption;var n=Mge(this);if(!n.defaultOption){for(var i=[],a=e;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=Ke(s,i[l],!0);n.defaultOption=s}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var i=e+"Index",a=e+"Id";return Vd(this.ecModel,e,{index:this.get(i,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){return tQ(this,!1)},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=(function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0})(),t})(st);JZ(at,st);dS(at);rge(at);nge(at,Dge);function Dge(r){var t=[];return z(at.getClassesByMainType(r),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=he(t,function(e){return Ro(e).main}),r!=="dataset"&&Ze(t,"dataset")<=0&&t.unshift("dataset"),t}var te={color:{},darkColor:{},size:{}},wr=te.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};oe(wr,{primary:wr.neutral80,secondary:wr.neutral70,tertiary:wr.neutral60,quaternary:wr.neutral50,disabled:wr.neutral20,border:wr.neutral30,borderTint:wr.neutral20,borderShade:wr.neutral40,background:wr.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:wr.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:wr.neutral70,axisLineTint:wr.neutral40,axisTick:wr.neutral70,axisTickMinor:wr.neutral60,axisLabel:wr.neutral70,axisSplitLine:wr.neutral15,axisMinorSplitLine:wr.neutral05});for(var vc in wr)if(wr.hasOwnProperty(vc)){var S9=wr[vc];vc==="theme"?te.darkColor.theme=wr.theme.slice():vc==="highlight"?te.darkColor.highlight="rgba(255,231,130,0.4)":vc.indexOf("accent")===0?te.darkColor[vc]=Ys(S9,null,function(r){return r*.5},function(r){return Math.min(1,1.3-r)}):te.darkColor[vc]=Ys(S9,null,function(r){return r*.9},function(r){return 1-Math.pow(r,1.5)})}te.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var aQ="";typeof navigator<"u"&&(aQ=navigator.platform||"");var Mh="rgba(0, 0, 0, 0.2)",oQ=te.color.theme[0],Ege=Ys(oQ,null,null,.9);const Ige={darkMode:"auto",colorBy:"series",color:te.color.theme,gradientColor:[Ege,oQ],aria:{decal:{decals:[{color:Mh,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Mh,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Mh,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Mh,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Mh,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Mh,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:aQ.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var sQ=Me(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Ui="original",gn="arrayRows",qi="objectRows",ao="keyedColumns",cu="typedArray",lQ="unknown",eo="column",Mf="row",Tn={Must:1,Might:2,Not:3},uQ=ot();function Rge(r){uQ(r).datasetMap=Me()}function cQ(r,t,e){var n={},i=ok(t);if(!i||!r)return n;var a=[],o=[],s=t.ecModel,l=uQ(s).datasetMap,u=i.uid+"_"+e.seriesLayoutBy,c,f;r=r.slice(),z(r,function(g,m){var x=Le(g)?g:r[m]={name:g};x.type==="ordinal"&&c==null&&(c=m,f=v(x)),n[x.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});z(r,function(g,m){var x=g.name,_=v(g);if(c==null){var b=d.valueWayDim;h(n[x],b,_),h(o,b,_),d.valueWayDim+=_}else if(c===m)h(n[x],0,_),h(a,0,_);else{var b=d.categoryWayDim;h(n[x],b,_),h(o,b,_),d.categoryWayDim+=_}});function h(g,m,x){for(var _=0;_<x;_++)g.push(m+_)}function v(g){var m=g.dimsDef;return m?m.length:1}return a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function ak(r,t,e){var n={},i=ok(r);if(!i)return n;var a=t.sourceFormat,o=t.dimensionsDefine,s;(a===qi||a===ao)&&z(o,function(c,f){(Le(c)?c.name:c)==="name"&&(s=f)});var l=(function(){for(var c={},f={},d=[],h=0,v=Math.min(5,e);h<v;h++){var g=hQ(t.data,a,t.seriesLayoutBy,o,t.startIndex,h);d.push(g);var m=g===Tn.Not;if(m&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!m&&d[c.n]===Tn.Not)&&(c.n=h),x(c)&&d[c.n]!==Tn.Not)return c;m||(g===Tn.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function x(_){return _.v!=null&&_.n!=null}return x(c)?c:x(f)?f:null})();if(l){n.value=[l.v];var u=s??l.n;n.itemName=[u],n.seriesName=[u]}return n}function ok(r){var t=r.get("data",!0);if(!t)return Vd(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},vr).models[0]}function Pge(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:Vd(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},vr).models}function fQ(r,t){return hQ(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,t)}function hQ(r,t,e,n,i,a){var o,s=5;if(Kn(r))return Tn.Not;var l,u;if(n){var c=n[a];Le(c)?(l=c.name,u=c.type):be(c)&&(l=c)}if(u!=null)return u==="ordinal"?Tn.Must:Tn.Not;if(t===gn){var f=r;if(e===Mf){for(var d=f[a],h=0;h<(d||[]).length&&h<s;h++)if((o=w(d[i+h]))!=null)return o}else for(var h=0;h<f.length&&h<s;h++){var v=f[i+h];if(v&&(o=w(v[a]))!=null)return o}}else if(t===qi){var g=r;if(!l)return Tn.Not;for(var h=0;h<g.length&&h<s;h++){var m=g[h];if(m&&(o=w(m[l]))!=null)return o}}else if(t===ao){var x=r;if(!l)return Tn.Not;var d=x[l];if(!d||Kn(d))return Tn.Not;for(var h=0;h<d.length&&h<s;h++)if((o=w(d[h]))!=null)return o}else if(t===Ui)for(var _=r,h=0;h<_.length&&h<s;h++){var m=_[h],b=Nd(m);if(!ue(b))return Tn.Not;if((o=w(b[a]))!=null)return o}function w(T){var A=be(T);if(T!=null&&Number.isFinite(Number(T))&&T!=="")return A?Tn.Might:Tn.Not;if(A&&T!=="-")return Tn.Must}return Tn.Not}var qR=Me();function Oge(r,t){In(qR.get(r)==null&&t),qR.set(r,t)}function Bge(r,t,e){var n=qR.get(t);if(!n)return e;var i=n(r);return i?e.concat(i):e}var w9=ot(),kge=ot(),sk=(function(){function r(){}return r.prototype.getColorFromPalette=function(t,e,n){var i=qt(this.get("color",!0)),a=this.get("colorLayer",!0);return dQ(this,w9,i,a,t,e,n)},r.prototype.clearColorPalette=function(){Nge(this,w9)},r})();function YR(r,t,e,n){var i=qt(r.get(["aria","decal","decals"]));return dQ(r,kge,i,null,t,e,n)}function Lge(r,t){for(var e=r.length,n=0;n<e;n++)if(r[n].length>t)return r[n];return r[e-1]}function dQ(r,t,e,n,i,a,o){a=a||r;var s=t(a),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=o==null||!n?e:Lge(n,o);if(c=c||e,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),s.paletteIdx=(l+1)%c.length,f}}function Nge(r,t){t(r).paletteIdx=0,t(r).paletteNameMap={}}var n1,wp,C9,T9="\0_ec_inner",Vge=1,lk=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e,n,i,a,o,s){a=a||{},this.option=null,this._theme=new st(a),this._locale=new st(o),this._optionManager=s},t.prototype.setOption=function(e,n,i){var a=D9(n);this._optionManager.setOption(e,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,n){return this._resetOption(e,D9(n))},t.prototype._resetOption=function(e,n){var i=!1,a=this._optionManager;if(!e||e==="recreate"){var o=a.mountOption(e==="recreate");!this.option||e==="recreate"?C9(this,o):(this.restoreData(),this._mergeOption(o,n)),i=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,n))}if(!e||e==="recreate"||e==="media"){var l=a.getMediaOption(this);l.length&&z(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=Me(),u=n&&n.replaceMergeMainTypeMap;Rge(this),z(e,function(f,d){f!=null&&(at.hasClass(d)?d&&(s.push(d),l.set(d,!0)):i[d]=i[d]==null?Oe(f):Ke(i[d],f,!0))}),u&&u.each(function(f,d){at.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),at.topologicalTravel(s,at.getAllClassMainTypes(),c,this);function c(f){var d=Bge(this,f,qt(e[f])),h=a.get(f),v=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",g=$Z(h,d,v);Jve(g,f,at),i[f]=null,a.set(f,null),o.set(f,0);var m=[],x=[],_=0,b;z(g,function(w,T){var A=w.existing,M=w.newOption;if(!M)A&&(A.mergeOption({},this),A.optionUpdated({},!1));else{var D=f==="series",P=at.getClass(f,w.keyInfo.subType,!D);if(!P)return;if(f==="tooltip"){if(b)return;b=!0}if(A&&A.constructor===P)A.name=w.keyInfo.name,A.mergeOption(M,this),A.optionUpdated(M,!1);else{var I=oe({componentIndex:T},w.keyInfo);A=new P(M,this,this,I),oe(A,I),w.brandNew&&(A.__requireNewView=!0),A.init(M,this,this),A.optionUpdated(null,!0)}}A?(m.push(A.option),x.push(A),_++):(m.push(void 0),x.push(void 0))},this),i[f]=m,a.set(f,x),o.set(f,_),f==="series"&&n1(this)}this._seriesIndices||n1(this)},t.prototype.getOption=function(){var e=Oe(this.option);return z(e,function(n,i){if(at.hasClass(i)){for(var a=qt(n),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!tg(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,e[i]=a}}),delete e[T9],e},t.prototype.setTheme=function(e){this._theme=new st(e),this._resetOption("recreate",null)},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var i=this._componentsMap.get(e);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var i=e.index,a=e.id,o=e.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var l;return i!=null?(l=[],z(qt(i),function(u){s[u]&&l.push(s[u])})):a!=null?l=A9("id",a,s):o!=null?l=A9("name",o,s):l=Tt(s,function(u){return!!u}),M9(l,e)},t.prototype.findComponents=function(e){var n=e.query,i=e.mainType,a=s(n),o=a?this.queryComponents(a):Tt(this._componentsMap.get(i),function(u){return!!u});return l(M9(o,e));function s(u){var c=i+"Index",f=i+"Id",d=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:i,index:u[c],id:u[f],name:u[d]}:null}function l(u){return e.filter?Tt(u,e.filter):u}},t.prototype.eachComponent=function(e,n,i){var a=this._componentsMap;if(Re(e)){var o=n,s=e;a.each(function(f,d){for(var h=0;f&&h<f.length;h++){var v=f[h];v&&s.call(o,d,v,v.componentIndex)}})}else for(var l=be(e)?a.get(e):Le(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(i,c,c.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=Gr(e,null);return Tt(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Tt(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return Tt(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){wp(this),z(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];e.call(n,a,i)},this)},t.prototype.eachRawSeries=function(e,n){z(this._componentsMap.get("series"),function(i){i&&e.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,i){wp(this),z(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===e&&n.call(i,o,a)},this)},t.prototype.eachRawSeriesByType=function(e,n,i){return z(this.getSeriesByType(e),n,i)},t.prototype.isSeriesFiltered=function(e){return wp(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){wp(this);var i=[];z(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];e.call(n,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Me(i)},t.prototype.restoreData=function(e){n1(this);var n=this._componentsMap,i=[];n.each(function(a,o){at.hasClass(o)&&i.push(o)}),at.topologicalTravel(i,at.getAllClassMainTypes(),function(a){z(n.get(a),function(o){o&&(a!=="series"||!zge(o,e))&&o.restoreData()})})},t.internalField=(function(){n1=function(e){var n=e._seriesIndices=[];z(e._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),e._seriesIndicesMap=Me(n)},wp=function(e){},C9=function(e,n){e.option={},e.option[T9]=Vge,e._componentsMap=Me({series:[]}),e._componentsCount=Me();var i=n.aria;Le(i)&&i.enabled==null&&(i.enabled=!0),Fge(n,e._theme.option),Ke(n,Ige,!1),e._mergeOption(n,null)}})(),t})(st);function zge(r,t){if(t){var e=t.seriesIndex,n=t.seriesId,i=t.seriesName;return e!=null&&r.componentIndex!==e||n!=null&&r.id!==n||i!=null&&r.name!==i}}function Fge(r,t){var e=r.color&&!r.colorLayer;z(t,function(n,i){i==="colorLayer"&&e||i==="color"&&r.color||at.hasClass(i)||(typeof n=="object"?r[i]=r[i]?Ke(r[i],n,!1):Oe(n):r[i]==null&&(r[i]=n))})}function A9(r,t,e){if(ue(t)){var n=Me();return z(t,function(a){if(a!=null){var o=Gr(a,null);o!=null&&n.set(a,!0)}}),Tt(e,function(a){return a&&n.get(a[r])})}else{var i=Gr(t,null);return Tt(e,function(a){return a&&i!=null&&a[r]===i})}}function M9(r,t){return t.hasOwnProperty("subType")?Tt(r,function(e){return e&&e.subType===t.subType}):r}function D9(r){var t=Me();return r&&z(qt(r.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}mr(lk,sk);var Hge=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],vQ=(function(){function r(t){z(Hge,function(e){this[e]=Se(t[e],t)},this)}return r})(),Gge=/^(min|max)?(.+)$/,Wge=(function(){function r(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return r.prototype.setOption=function(t,e,n){t&&(z(qt(t.series),function(o){o&&o.data&&Kn(o.data)&&$0(o.data)}),z(qt(t.dataset),function(o){o&&o.source&&Kn(o.source)&&$0(o.source)})),t=Oe(t);var i=this._optionBackup,a=Uge(t,e,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},r.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Oe(t?e.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=Oe(n[i.getCurrentIndex()]))}return e},r.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,u=i.length;l<u;l++)qge(i[l].query,e,n)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!Xge(o,this._currentMediaIndices)&&(s=he(o,function(c){return Oe(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},r})();function Uge(r,t,e){var n=[],i,a,o=r.baseOption,s=r.timeline,l=r.options,u=r.media,c=!!r.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||c)&&(r.options=r.media=null),a=r),c&&ue(u)&&z(u,function(h){h&&h.option&&(h.query?n.push(h):i||(i=h))}),d(a),z(l,function(h){return d(h)}),z(n,function(h){return d(h.option)});function d(h){z(t,function(v){v(h,e)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function qge(r,t,e){var n={width:t,height:e,aspectratio:t/e},i=!0;return z(r,function(a,o){var s=o.match(Gge);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();Yge(n[u],a,l)||(i=!1)}}),i}function Yge(r,t,e){return e==="min"?r>=t:e==="max"?r<=t:r===t}function Xge(r,t){return r.join(",")===t.join(",")}var Ha=z,sg=Le,E9=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function WD(r){var t=r&&r.itemStyle;if(t)for(var e=0,n=E9.length;e<n;e++){var i=E9[e],a=t.normal,o=t.emphasis;a&&a[i]&&(r[i]=r[i]||{},r[i].normal?Ke(r[i].normal,a[i]):r[i].normal=a[i],a[i]=null),o&&o[i]&&(r[i]=r[i]||{},r[i].emphasis?Ke(r[i].emphasis,o[i]):r[i].emphasis=o[i],o[i]=null)}}function Vn(r,t,e){if(r&&r[t]&&(r[t].normal||r[t].emphasis)){var n=r[t].normal,i=r[t].emphasis;n&&(e?(r[t].normal=r[t].emphasis=null,ke(r[t],n)):r[t]=n),i&&(r.emphasis=r.emphasis||{},r.emphasis[t]=i,i.focus&&(r.emphasis.focus=i.focus),i.blurScope&&(r.emphasis.blurScope=i.blurScope))}}function g0(r){Vn(r,"itemStyle"),Vn(r,"lineStyle"),Vn(r,"areaStyle"),Vn(r,"label"),Vn(r,"labelLine"),Vn(r,"upperLabel"),Vn(r,"edgeLabel")}function Rr(r,t){var e=sg(r)&&r[t],n=sg(e)&&e.textStyle;if(n)for(var i=0,a=P7.length;i<a;i++){var o=P7[i];n.hasOwnProperty(o)&&(e[o]=n[o])}}function ca(r){r&&(g0(r),Rr(r,"label"),r.emphasis&&Rr(r.emphasis,"label"))}function $ge(r){if(sg(r)){WD(r),g0(r),Rr(r,"label"),Rr(r,"upperLabel"),Rr(r,"edgeLabel"),r.emphasis&&(Rr(r.emphasis,"label"),Rr(r.emphasis,"upperLabel"),Rr(r.emphasis,"edgeLabel"));var t=r.markPoint;t&&(WD(t),ca(t));var e=r.markLine;e&&(WD(e),ca(e));var n=r.markArea;n&&ca(n);var i=r.data;if(r.type==="graph"){i=i||r.nodes;var a=r.links||r.edges;if(a&&!Kn(a))for(var o=0;o<a.length;o++)ca(a[o]);z(r.categories,function(u){g0(u)})}if(i&&!Kn(i))for(var o=0;o<i.length;o++)ca(i[o]);if(t=r.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)ca(s[o]);if(e=r.markLine,e&&e.data)for(var l=e.data,o=0;o<l.length;o++)ue(l[o])?(ca(l[o][0]),ca(l[o][1])):ca(l[o]);r.type==="gauge"?(Rr(r,"axisLabel"),Rr(r,"title"),Rr(r,"detail")):r.type==="treemap"?(Vn(r.breadcrumb,"itemStyle"),z(r.levels,function(u){g0(u)})):r.type==="tree"&&g0(r.leaves)}}function Ts(r){return ue(r)?r:r?[r]:[]}function I9(r){return(ue(r)?r[0]:r)||{}}function jge(r,t){Ha(Ts(r.series),function(n){sg(n)&&$ge(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ha(e,function(n){Ha(Ts(r[n]),function(i){i&&(Rr(i,"axisLabel"),Rr(i.axisPointer,"label"))})}),Ha(Ts(r.parallel),function(n){var i=n&&n.parallelAxisDefault;Rr(i,"axisLabel"),Rr(i&&i.axisPointer,"label")}),Ha(Ts(r.calendar),function(n){Vn(n,"itemStyle"),Rr(n,"dayLabel"),Rr(n,"monthLabel"),Rr(n,"yearLabel")}),Ha(Ts(r.radar),function(n){Rr(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Ha(Ts(r.geo),function(n){sg(n)&&(ca(n),Ha(Ts(n.regions),function(i){ca(i)}))}),Ha(Ts(r.timeline),function(n){ca(n),Vn(n,"label"),Vn(n,"itemStyle"),Vn(n,"controlStyle",!0);var i=n.data;ue(i)&&z(i,function(a){Le(a)&&(Vn(a,"label"),Vn(a,"itemStyle"))})}),Ha(Ts(r.toolbox),function(n){Vn(n,"iconStyle"),Ha(n.feature,function(i){Vn(i,"iconStyle")})}),Rr(I9(r.axisPointer),"label"),Rr(I9(r.tooltip).axisPointer,"label")}function Zge(r,t){for(var e=t.split(","),n=r,i=0;i<e.length&&(n=n&&n[e[i]],n!=null);i++);return n}function Kge(r,t,e,n){for(var i=t.split(","),a=r,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=e)}function R9(r){r&&z(Qge,function(t){t[0]in r&&!(t[1]in r)&&(r[t[1]]=r[t[0]])})}var Qge=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Jge=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],UD=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Cp(r){var t=r&&r.itemStyle;if(t)for(var e=0;e<UD.length;e++){var n=UD[e][1],i=UD[e][0];t[n]!=null&&(t[i]=t[n])}}function P9(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function O9(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function eye(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function pQ(r,t){if(r)for(var e=0;e<r.length;e++)t(r[e]),r[e]&&pQ(r[e].children,t)}function gQ(r,t){jge(r,t),r.series=qt(r.series),z(r.series,function(e){if(Le(e)){var n=e.type;if(n==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(n==="pie"||n==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),P9(e.label);var i=e.data;if(i&&!Kn(i))for(var a=0;a<i.length;a++)P9(i[a]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(n==="gauge"){var o=Zge(e,"pointer.color");o!=null&&Kge(e,"itemStyle.color",o)}else if(n==="bar"){Cp(e),Cp(e.backgroundStyle),Cp(e.emphasis);var i=e.data;if(i&&!Kn(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Cp(i[a]),Cp(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),O9(e),pQ(e.data,O9)}else n==="graph"||n==="sankey"?eye(e):n==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&ke(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),R9(e)}}),r.dataRange&&(r.visualMap=r.dataRange),z(Jge,function(e){var n=r[e];n&&(ue(n)||(n=[n]),z(n,function(i){R9(i)}))})}function tye(r){var t=Me();r.eachSeries(function(e){var n=e.get("stack");if(n){var i=t.get(n)||t.set(n,[]),a=e.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.push(o)}}),t.each(function(e){if(e.length!==0){var n=e[0].seriesModel,i=n.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&e.reverse(),z(e,function(a,o){a.data.setCalculationInfo("stackedOnSeries",o>0?e[o-1].seriesModel:null)}),rye(e)}})}function rye(r){z(r,function(t,e){var n=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,c,f){var d=o.get(t.stackedDimension,f);if(isNaN(d))return i;var h,v;s?v=o.getRawIndex(f):h=o.get(t.stackedByDimension,f);for(var g=NaN,m=e-1;m>=0;m--){var x=r[m];if(s||(v=x.data.rawIndexOf(x.stackedByDimension,h)),v>=0){var _=x.data.getByRawIndex(x.stackResultDimension,v);if(l==="all"||l==="positive"&&_>0||l==="negative"&&_<0||l==="samesign"&&d>=0&&_>0||l==="samesign"&&d<=0&&_<0){d=Fve(d,_),g=_;break}}}return n[0]=d,n[1]=g,n})})}var TS=(function(){function r(t){this.data=t.data||(t.sourceFormat===ao?{}:[]),this.sourceFormat=t.sourceFormat||lQ,this.seriesLayoutBy=t.seriesLayoutBy||eo,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];i.type==null&&fQ(this,n)===Tn.Must&&(i.type="ordinal")}}return r})();function uk(r){return r instanceof TS}function XR(r,t,e){e=e||yQ(r);var n=t.seriesLayoutBy,i=iye(r,e,n,t.sourceHeader,t.dimensions),a=new TS({data:r,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Oe(t)});return a}function ck(r){return new TS({data:r,sourceFormat:Kn(r)?cu:Ui})}function nye(r){return new TS({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:Oe(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function yQ(r){var t=lQ;if(Kn(r))t=cu;else if(ue(r)){r.length===0&&(t=gn);for(var e=0,n=r.length;e<n;e++){var i=r[e];if(i!=null){if(ue(i)||Kn(i)){t=gn;break}else if(Le(i)){t=qi;break}}}}else if(Le(r)){for(var a in r)if(Te(r,a)&&En(r[a])){t=ao;break}}return t}function iye(r,t,e,n,i){var a,o;if(!r)return{dimensionsDefine:B9(i),startIndex:o,dimensionsDetectedCount:a};if(t===gn){var s=r;n==="auto"||n==null?k9(function(u){u!=null&&u!=="-"&&(be(u)?o==null&&(o=1):o=0)},e,s,10):o=yt(n)?n:n?1:0,!i&&o===1&&(i=[],k9(function(u,c){i[c]=u!=null?u+"":""},e,s,1/0)),a=i?i.length:e===Mf?s.length:s[0]?s[0].length:null}else if(t===qi)i||(i=aye(r));else if(t===ao)i||(i=[],z(r,function(u,c){i.push(c)}));else if(t===Ui){var l=Nd(r[0]);a=ue(l)&&l.length||1}return{startIndex:o,dimensionsDefine:B9(i),dimensionsDetectedCount:a}}function aye(r){for(var t=0,e;t<r.length&&!(e=r[t++]););if(e)return ht(e)}function B9(r){if(r){var t=Me();return he(r,function(e,n){e=Le(e)?e:{name:e};var i={name:e.name,displayName:e.displayName,type:e.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function k9(r,t,e,n){if(t===Mf)for(var i=0;i<e.length&&i<n;i++)r(e[i]?e[i][0]:null,i);else for(var a=e[0]||[],i=0;i<a.length&&i<n;i++)r(a[i],i)}function mQ(r){var t=r.sourceFormat;return t===qi||t===ao}var pc,gc,yc,mc,L9,N9,xQ=(function(){function r(t,e){var n=uk(t)?t:ck(t);this._source=n;var i=this._data=n.data,a=n.sourceFormat;n.seriesLayoutBy,a===cu&&(this._offset=0,this._dimSize=e,this._data=i),N9(this,i,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(t,e){},r.prototype.appendData=function(t){},r.prototype.clean=function(){},r.protoInitialize=(function(){var t=r.prototype;t.pure=!1,t.persistent=!0})(),r.internalField=(function(){var t;N9=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=L9[fk(u,c)];if(oe(o,h),u===cu)o.getItem=e,o.count=i,o.fillStorage=n;else{var v=_Q(u,c);o.getItem=Se(v,null,s,f,d);var g=bQ(u,c);o.count=Se(g,null,s,f,d)}};var e=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},n=function(o,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],v=h[0]==null?1/0:h[0],g=h[1]==null?-1/0:h[1],m=s-o,x=l[d],_=0;_<m;_++){var b=c[_*f+d];x[o+_]=b,b<v&&(v=b),b>g&&(g=b)}h[0]=v,h[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};L9=(t={},t[gn+"_"+eo]={pure:!0,appendData:a},t[gn+"_"+Mf]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[qi]={pure:!0,appendData:a},t[ao]={pure:!0,appendData:function(o){var s=this._data;z(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[Ui]={appendData:a},t[cu]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}})(),r})(),i1=function(r){ue(r)||qZ("series.data or dataset.source must be an array.")};pc={},pc[gn+"_"+eo]=i1,pc[gn+"_"+Mf]=i1,pc[qi]=i1,pc[ao]=function(r,t){for(var e=0;e<t.length;e++){var n=t[e].name;n==null&&qZ("dimension name must not be null/undefined.")}},pc[Ui]=i1;var V9=function(r,t,e,n){return r[n]},oye=(gc={},gc[gn+"_"+eo]=function(r,t,e,n){return r[n+t]},gc[gn+"_"+Mf]=function(r,t,e,n,i){n+=t;for(var a=i||[],o=r,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[n]:null}return a},gc[qi]=V9,gc[ao]=function(r,t,e,n,i){for(var a=i||[],o=0;o<e.length;o++){var s=e[o].name,l=s!=null?r[s]:null;a[o]=l?l[n]:null}return a},gc[Ui]=V9,gc);function _Q(r,t){var e=oye[fk(r,t)];return e}var z9=function(r,t,e){return r.length},sye=(yc={},yc[gn+"_"+eo]=function(r,t,e){return Math.max(0,r.length-t)},yc[gn+"_"+Mf]=function(r,t,e){var n=r[0];return n?Math.max(0,n.length-t):0},yc[qi]=z9,yc[ao]=function(r,t,e){var n=e[0].name,i=n!=null?r[n]:null;return i?i.length:0},yc[Ui]=z9,yc);function bQ(r,t){var e=sye[fk(r,t)];return e}var qD=function(r,t,e){return r[t]},lye=(mc={},mc[gn]=qD,mc[qi]=function(r,t,e){return r[e]},mc[ao]=qD,mc[Ui]=function(r,t,e){var n=Nd(r);return n instanceof Array?n[t]:n},mc[cu]=qD,mc);function SQ(r){var t=lye[r];return t}function fk(r,t){return r===gn?r+"_"+t:r}function wd(r,t,e){if(r){var n=r.getRawDataItem(t);if(n!=null){var i=r.getStore(),a=i.getSource().sourceFormat;if(e!=null){var o=r.getDimensionIndex(e),s=i.getDimensionProperty(o);return SQ(a)(n,o,s)}else{var l=n;return a===Ui&&(l=Nd(n)),l}}}}var uye=/\{@(.+?)\}/g,AS=(function(){function r(){}return r.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),a=n.getRawIndex(t),o=n.getName(t),s=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:a,data:s,dataType:e,value:i,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(t,e,n,i,a,o){e=e||"normal";var s=this.getData(n),l=this.getDataParams(t,n);if(o&&(l.value=o.interpolatedValue),i!=null&&ue(l.value)&&(l.value=l.value[i]),!a){var u=s.getItemModel(t);a=u.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(Re(a))return l.status=e,l.dimensionIndex=i,a(l);if(be(a)){var c=nk(a,l);return c.replace(uye,function(f,d){var h=d.length,v=d;v.charAt(0)==="["&&v.charAt(h-1)==="]"&&(v=+v.slice(1,h-1));var g=wd(s,t,v);if(o&&ue(o.interpolatedValue)){var m=s.getDimensionIndex(v);m>=0&&(g=o.interpolatedValue[m])}return g!=null?g+"":""})}},r.prototype.getRawValue=function(t,e){return wd(this.getData(e),t)},r.prototype.formatTooltip=function(t,e,n){},r})();function F9(r){var t,e;return Le(r)?r.type&&(e=r):t=r,{text:t,frag:e}}function z0(r){return new cye(r)}var cye=(function(){function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return r.prototype.perform=function(t){var e=this._upstream,n=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(a="reset");function c(_){return!(_>=1)&&(_=1),_}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=u;var d=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,v=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!n&&(f||h<v)){var g=this._progress;if(ue(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],h,v,l,u);else this._doProgress(g,h,v,l,u)}this._dueIndex=v;var x=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(t,e,n,i,a){H9.reset(e,n,i,a),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:H9.next},this.context)},r.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,n;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),ue(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},r})(),H9=(function(){var r,t,e,n,i,a={reset:function(l,u,c,f){t=l,r=u,e=c,n=f,i=Math.ceil(n/e),a.next=e>1&&n>0?s:o}};return a;function o(){return t<r?t++:null}function s(){var l=t%i*e+Math.ceil(t/i),u=t>=r?null:l<n?l:t;return t++,u}})();function fu(r,t){var e=t&&t.type;return e==="ordinal"?r:(e==="time"&&!yt(r)&&r!=null&&r!=="-"&&(r=+Xo(r)),r==null||r===""?NaN:Number(r))}var fye=Me({number:function(r){return parseFloat(r)},time:function(r){return+Xo(r)},trim:function(r){return be(r)?Vi(r):r}});function wQ(r){return fye.get(r)}var CQ={lt:function(r,t){return r<t},lte:function(r,t){return r<=t},gt:function(r,t){return r>t},gte:function(r,t){return r>=t}},hye=(function(){function r(t,e){if(!yt(e)){var n="";Mt(n)}this._opFn=CQ[t],this._rvalFloat=Ho(e)}return r.prototype.evaluate=function(t){return yt(t)?this._opFn(t,this._rvalFloat):this._opFn(Ho(t),this._rvalFloat)},r})(),TQ=(function(){function r(t,e){var n=t==="desc";this._resultLT=n?1:-1,e==null&&(e=n?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return r.prototype.evaluate=function(t,e){var n=yt(t)?t:Ho(t),i=yt(e)?e:Ho(e),a=isNaN(n),o=isNaN(i);if(a&&(n=this._incomparable),o&&(i=this._incomparable),a&&o){var s=be(t),l=be(e);s&&(n=l?t:0),l&&(i=s?e:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},r})(),dye=(function(){function r(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Ho(e)}return r.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(e=Ho(t)===this._rvalFloat)}return this._isEQ?e:!e},r})();function vye(r,t){return r==="eq"||r==="ne"?new dye(r==="eq",t):Te(CQ,r)?new hye(r,t):null}var pye=(function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(t){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(t){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(t,e){},r.prototype.retrieveValueFromItem=function(t,e){},r.prototype.convertValue=function(t,e){return fu(t,e)},r})();function gye(r,t){var e=new pye,n=r.data,i=e.sourceFormat=r.sourceFormat,a=r.startIndex,o="";r.seriesLayoutBy!==eo&&Mt(o);var s=[],l={},u=r.dimensionsDefine;if(u)z(u,function(g,m){var x=g.name,_={index:m,name:x,displayName:g.displayName};if(s.push(_),x!=null){var b="";Te(l,x)&&Mt(b),l[x]=_}});else for(var c=0;c<r.dimensionsDetectedCount;c++)s.push({index:c});var f=_Q(i,eo);t.__isBuiltIn&&(e.getRawDataItem=function(g){return f(n,a,s,g)},e.getRawData=Se(yye,null,r)),e.cloneRawData=Se(mye,null,r);var d=bQ(i,eo);e.count=Se(d,null,n,a,s);var h=SQ(i);e.retrieveValue=function(g,m){var x=f(n,a,s,g);return v(x,m)};var v=e.retrieveValueFromItem=function(g,m){if(g!=null){var x=s[m];if(x)return h(g,m,x.name)}};return e.getDimensionInfo=Se(xye,null,s,l),e.cloneAllDimensionInfo=Se(_ye,null,s),e}function yye(r){var t=r.sourceFormat;if(!hk(t)){var e="";Mt(e)}return r.data}function mye(r){var t=r.sourceFormat,e=r.data;if(!hk(t)){var n="";Mt(n)}if(t===gn){for(var i=[],a=0,o=e.length;a<o;a++)i.push(e[a].slice());return i}else if(t===qi){for(var i=[],a=0,o=e.length;a<o;a++)i.push(oe({},e[a]));return i}}function xye(r,t,e){if(e!=null){if(yt(e)||!isNaN(e)&&!Te(t,e))return r[e];if(Te(t,e))return t[e]}}function _ye(r){return Oe(r)}var AQ=Me();function bye(r){r=Oe(r);var t=r.type,e="";t||Mt(e);var n=t.split(":");n.length!==2&&Mt(e);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),r.__isBuiltIn=i,AQ.set(t,r)}function Sye(r,t,e){var n=qt(r),i=n.length,a="";i||Mt(a);for(var o=0,s=i;o<s;o++){var l=n[o];t=wye(l,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function wye(r,t,e,n){var i="";t.length||Mt(i),Le(r)||Mt(i);var a=r.type,o=AQ.get(a);o||Mt(i);var s=he(t,function(u){return gye(u,o)}),l=qt(o.transform({upstream:s[0],upstreamList:s,config:Oe(r.config)}));return he(l,function(u,c){var f="";Le(u)||Mt(f),u.data||Mt(f);var d=yQ(u.data);hk(d)||Mt(f);var h,v=t[0];if(v&&c===0&&!u.dimensions){var g=v.startIndex;g&&(u.data=v.data.slice(0,g).concat(u.data)),h={seriesLayoutBy:eo,sourceHeader:g,dimensions:v.metaRawOption.dimensions}}else h={seriesLayoutBy:eo,sourceHeader:0,dimensions:u.dimensions};return XR(u.data,h,null)})}function hk(r){return r===gn||r===qi}var MS="undefined",Cye=typeof Uint32Array===MS?Array:Uint32Array,Tye=typeof Uint16Array===MS?Array:Uint16Array,MQ=typeof Int32Array===MS?Array:Int32Array,G9=typeof Float64Array===MS?Array:Float64Array,DQ={float:G9,int:MQ,ordinal:Array,number:Array,time:G9},YD;function Dh(r){return r>65535?Cye:Tye}function Eh(){return[1/0,-1/0]}function Aye(r){var t=r.constructor;return t===Array?r.slice():new t(r)}function W9(r,t,e,n,i){var a=DQ[e||"float"];if(i){var o=r[t],s=o&&o.length;if(s!==n){for(var l=new a(n),u=0;u<s;u++)l[u]=o[u];r[t]=l}}else r[t]=new a(n)}var $R=(function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Me()}return r.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=YD[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],mQ(i),this._dimensions=he(e,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(t);if(a!=null){if(i[a].type===e)return a}else a=i.length;return i[a]={type:e},n.set(t,a),this._chunks[a]=new DQ[e||"float"](this._rawCount),this._rawExtent[a]=Eh(),a},r.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,o=i.ordinalOffset||0,s=n.length;o===0&&(a[t]=Eh());for(var l=a[t],u=o;u<s;u++){var c=n[u]=e.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=e,i.ordinalOffset=s,i.type="ordinal"},r.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},r.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},r.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},r.prototype.appendValues=function(t,e){for(var n=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),u=0;u<a;u++){var c=i[u];W9(n,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,v=0;v<a;v++){var c=i[v],g=YD.arrayRows.call(this,t[h]||f,c.property,h,v);n[v][d]=g;var m=o[v];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},r.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=he(o,function(_){return _.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=Eh()),W9(a,c,f.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,a,l);else for(var d=[],h=t;h<e;h++){d=i.getItem(h,d);for(var v=0;v<s;v++){var g=a[v],m=this._dimValueGetter(d,u[v],h,v);g[h]=m;var x=l[v];m<x[0]&&(x[0]=m),m>x[1]&&(x[1]=m)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},r.prototype.getValues=function(t,e){var n=[],i=[];if(e==null){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,o=i.length;a<o;a++)n.push(this.get(i[a],e));return n},r.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},r.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var i=0,a=this.count();i<a;i++){var o=this.get(t,i);isNaN(o)||(n+=o)}return n},r.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var n=e.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},r.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(e[o]<t)i=o+1;else if(e[o]>t)a=o-1;else return o}return-1},r.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new n(e.buffer,0,i)}else{var n=Dh(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},r.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=Dh(n._rawCount),o=new a(i),s=[],l=t.length,u=0,c=t[0],f=n._chunks,d=0;d<i;d++){var h=void 0,v=n.getRawIndex(d);if(l===0)h=e(d);else if(l===1){var g=f[c][v];h=e(g,d)}else{for(var m=0;m<l;m++)s[m]=f[t[m]][v];s[m]=d,h=e.apply(null,s)}h&&(o[u++]=v)}return u<i&&(n._indices=o),n._count=u,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=ht(t),a=i.length;if(!a)return this;var o=e.count(),s=Dh(e._rawCount),l=new s(o),u=0,c=i[0],f=t[c][0],d=t[c][1],h=e._chunks,v=!1;if(!e._indices){var g=0;if(a===1){for(var m=h[i[0]],x=0;x<n;x++){var _=m[x];(_>=f&&_<=d||isNaN(_))&&(l[u++]=g),g++}v=!0}else if(a===2){for(var m=h[i[0]],b=h[i[1]],w=t[i[1]][0],T=t[i[1]][1],x=0;x<n;x++){var _=m[x],A=b[x];(_>=f&&_<=d||isNaN(_))&&(A>=w&&A<=T||isNaN(A))&&(l[u++]=g),g++}v=!0}}if(!v)if(a===1)for(var x=0;x<o;x++){var M=e.getRawIndex(x),_=h[i[0]][M];(_>=f&&_<=d||isNaN(_))&&(l[u++]=M)}else for(var x=0;x<o;x++){for(var D=!0,M=e.getRawIndex(x),P=0;P<a;P++){var I=i[P],_=h[I][M];(_<t[I][0]||_>t[I][1])&&(D=!1)}D&&(l[u++]=e.getRawIndex(x))}return u<o&&(e._indices=l),e._count=u,e._extent=[],e._updateGetRawIdx(),e},r.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},r.prototype.modify=function(t,e){this._updateDims(this,t,e)},r.prototype._updateDims=function(t,e,n){for(var i=t._chunks,a=[],o=e.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<e.length;c++)u[e[c]]=Eh();for(var f=0;f<s;f++){for(var d=t.getRawIndex(f),h=0;h<o;h++)l[h]=i[e[h]][d];l[o]=f;var v=n&&n.apply(null,l);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var g=e[c],m=v[c],x=u[g],_=i[g];_&&(_[d]=m),m<x[0]&&(x[0]=m),m>x[1]&&(x[1]=m)}}}},r.prototype.lttbDownSample=function(t,e){var n=this.clone([t],!0),i=n._chunks,a=i[t],o=this.count(),s=0,l=Math.floor(1/e),u=this.getRawIndex(0),c,f,d,h=new(Dh(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));h[s++]=u;for(var v=1;v<o-1;v+=l){for(var g=Math.min(v+l,o-1),m=Math.min(v+l*2,o),x=(m+g)/2,_=0,b=g;b<m;b++){var w=this.getRawIndex(b),T=a[w];isNaN(T)||(_+=T)}_/=m-g;var A=v,M=Math.min(v+l,o),D=v-1,P=a[u];c=-1,d=A;for(var I=-1,R=0,b=A;b<M;b++){var w=this.getRawIndex(b),T=a[w];if(isNaN(T)){R++,I<0&&(I=w);continue}f=Math.abs((D-x)*(T-P)-(D-b)*(_-P)),f>c&&(c=f,d=w)}R>0&&R<M-A&&(h[s++]=Math.min(I,d),d=Math.max(I,d)),h[s++]=d,u=d}return h[s++]=this.getRawIndex(o-1),n._count=s,n._indices=h,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(t,e){for(var n=this.clone([t],!0),i=n._chunks,a=Math.floor(1/e),o=i[t],s=this.count(),l=new(Dh(this._rawCount))(Math.ceil(s/a)*2),u=0,c=0;c<s;c+=a){var f=c,d=o[this.getRawIndex(f)],h=c,v=o[this.getRawIndex(h)],g=a;c+a>s&&(g=s-c);for(var m=0;m<g;m++){var x=this.getRawIndex(c+m),_=o[x];_<d&&(d=_,f=c+m),_>v&&(v=_,h=c+m)}var b=this.getRawIndex(f),w=this.getRawIndex(h);f<h?(l[u++]=b,l[u++]=w):(l[u++]=w,l[u++]=b)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},r.prototype.downSample=function(t,e,n,i){for(var a=this.clone([t],!0),o=a._chunks,s=[],l=Math.floor(1/e),u=o[t],c=this.count(),f=a._rawExtent[t]=Eh(),d=new(Dh(this._rawCount))(Math.ceil(c/l)),h=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,s.length=l);for(var g=0;g<l;g++){var m=this.getRawIndex(v+g);s[g]=u[m]}var x=n(s),_=this.getRawIndex(Math.min(v+i(s,x)||0,c-1));u[_]=x,x<f[0]&&(f[0]=x),x>f[1]&&(f[1]=x),d[h++]=_}return a._count=h,a._indices=d,a._updateGetRawIdx(),a},r.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:e(a);break;case 1:e(i[t[0]][s],a);break;case 2:e(i[t[0]][s],i[t[1]][s],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[t[l]][s];u[l]=a,e.apply(null,u)}}},r.prototype.getDataExtent=function(t){var e=this._chunks[t],n=Eh();if(!e)return n;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=n;for(var s=o[0],l=o[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=e[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[t]=o,o},r.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][e]);return n},r.prototype.clone=function(t,e){var n=new r,i=this._chunks,a=t&&Sa(t,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)n._chunks[o]=a[o]?Aye(i[o]):i[o];else n._chunks=i;return this._copyCommonProps(n),e||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Oe(this._extent),t._rawExtent=Oe(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i<n;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},r.prototype._getRawIdxIdentity=function(t){return t},r.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=(function(){function t(e,n,i,a){return fu(e[a],this._dimensions[a])}YD={arrayRows:t,objectRows:function(e,n,i,a){return fu(e[n],this._dimensions[a])},keyedColumns:t,original:function(e,n,i,a){var o=e&&(e.value==null?e:e.value);return fu(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(e,n,i,a){return e[a]}}})(),r})(),EQ=(function(){function r(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),n=!!e.length,i,a;if(a1(t)){var o=t,s=void 0,l=void 0,u=void 0;if(n){var c=e[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),l=Kn(s)?cu:Ui,a=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=Ie(f.seriesLayoutBy,d.seriesLayoutBy)||null,v=Ie(f.sourceHeader,d.sourceHeader),g=Ie(f.dimensions,d.dimensions),m=h!==d.seriesLayoutBy||!!v!=!!d.sourceHeader||g;i=m?[XR(s,{seriesLayoutBy:h,sourceHeader:v,dimensions:g},l)]:[]}else{var x=t;if(n){var _=this._applyTransform(e);i=_.sourceList,a=_.upstreamSignList}else{var b=x.get("source",!0);i=[XR(b,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},r.prototype._applyTransform=function(t){var e=this._sourceHost,n=e.get("transform",!0),i=e.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&q9(a)}var o,s=[],l=[];return z(t,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&q9(f),s.push(c),l.push(u._getVersionSign())}),n?o=Sye(n,s,{datasetIndex:e.componentIndex}):i!=null&&(o=[nye(s[0])]),{sourceList:o,upstreamSignList:l}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},r.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},r.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},r.prototype._innerGetDataStore=function(t,e,n){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];a1(this._sourceHost)&&l?s=l._innerGetDataStore(t,e,n):(s=new $R,s.initData(new xQ(e,t.length),t)),o[n]=s}return s},r.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(a1(t)){var e=ok(t);return e?[e.getSourceManager()]:[]}else return he(Pge(t),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,n,i;if(a1(t))e=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:n,dimensions:i}},r})();function U9(r){var t=r.option.transform;t&&$0(r.option.transform)}function a1(r){return r.mainType==="series"}function q9(r){throw new Error(r)}var Mye="line-height:1";function IQ(r){var t=r.lineHeight;return t==null?Mye:"line-height:"+zn(t+"")+"px"}function RQ(r,t){var e=r.color||te.color.tertiary,n=r.fontSize||12,i=r.fontWeight||"400",a=r.color||te.color.secondary,o=r.fontSize||14,s=r.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+zn(n+"")+"px;color:"+zn(e)+";font-weight:"+zn(i+""),valueStyle:"font-size:"+zn(o+"")+"px;color:"+zn(a)+";font-weight:"+zn(s+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var Dye=[0,10,20,30],Eye=["",`
`,`

`,`


`];function Br(r,t){return t.type=r,t}function jR(r){return r.type==="section"}function PQ(r){return jR(r)?Iye:Rye}function OQ(r){if(jR(r)){var t=0,e=r.blocks.length,n=e>1||e>0&&!r.noHeader;return z(r.blocks,function(i){var a=OQ(i);a>=t&&(t=a+ +(n&&(!a||jR(i)&&!i.noHeader)))}),t}return 0}function Iye(r,t,e,n){var i=t.noHeader,a=Pye(OQ(t)),o=[],s=t.blocks||[];In(!s||ue(s)),s=s||[];var l=r.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Te(u,l)){var c=new TQ(u[l],null);s.sort(function(g,m){return c.evaluate(g.sortParam,m.sortParam)})}else l==="seriesDesc"&&s.reverse()}z(s,function(g,m){var x=t.valueFormatter,_=PQ(g)(x?oe(oe({},r),{valueFormatter:x}):r,g,m>0?a.html:0,n);_!=null&&o.push(_)});var f=r.renderMode==="richText"?o.join(a.richText):ZR(n,o.join(""),i?e:a.html);if(i)return f;var d=WR(t.header,"ordinal",r.useUTC),h=RQ(n,r.renderMode).nameStyle,v=IQ(n);return r.renderMode==="richText"?BQ(r,d,h)+a.richText+f:ZR(n,'<div style="'+h+";"+v+';">'+zn(d)+"</div>"+f,e)}function Rye(r,t,e,n){var i=r.renderMode,a=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=r.useUTC,c=t.valueFormatter||r.valueFormatter||function(w){return w=ue(w)?w:[w],he(w,function(T,A){return WR(T,ue(h)?h[A]:h,u)})};if(!(a&&o)){var f=s?"":r.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||te.color.secondary,i),d=a?"":WR(l,"ordinal",u),h=t.valueType,v=o?[]:c(t.value,t.dataIndex),g=!s||!a,m=!s&&a,x=RQ(n,i),_=x.nameStyle,b=x.valueStyle;return i==="richText"?(s?"":f)+(a?"":BQ(r,d,_))+(o?"":kye(r,v,g,m,b)):ZR(n,(s?"":f)+(a?"":Oye(d,!s,_))+(o?"":Bye(v,g,m,b)),e)}}function Y9(r,t,e,n,i,a){if(r){var o=PQ(r),s={useUTC:i,renderMode:e,orderMode:n,markupStyleCreator:t,valueFormatter:r.valueFormatter};return o(s,r,0,a)}}function Pye(r){return{html:Dye[r],richText:Eye[r]}}function ZR(r,t,e){var n='<div style="clear:both"></div>',i="margin: "+e+"px 0 0",a=IQ(r);return'<div style="'+i+";"+a+';">'+t+n+"</div>"}function Oye(r,t,e){var n=t?"margin-left:2px":"";return'<span style="'+e+";"+n+'">'+zn(r)+"</span>"}function Bye(r,t,e,n){var i=e?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return r=ue(r)?r:[r],'<span style="'+a+";"+n+'">'+he(r,function(o){return zn(o)}).join("&nbsp;&nbsp;")+"</span>"}function BQ(r,t,e){return r.markupStyleCreator.wrapRichTextStyle(t,e)}function kye(r,t,e,n,i){var a=[i],o=n?10:20;return e&&a.push({padding:[0,0,0,o],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(ue(t)?t.join("  "):t,a)}function kQ(r,t){var e=r.getData().getItemVisual(t,"style"),n=e[r.visualDrawType];return hf(n)}function LQ(r,t){var e=r.get("padding");return e??(t==="richText"?[8,10]:10)}var XD=(function(){function r(){this.richTextStyles={},this._nextStyleNameId=WZ()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(t,e,n){var i=n==="richText"?this._generateStyleName():null,a=ZK({color:e,type:t,renderMode:n,markerId:i});return be(a)?a:(this.richTextStyles[i]=a.style,a.content)},r.prototype.wrapRichTextStyle=function(t,e){var n={};ue(e)?z(e,function(a){return oe(n,a)}):oe(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},r})();function NQ(r){var t=r.series,e=r.dataIndex,n=r.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=t.getRawValue(e),l=ue(s),u=kQ(t,e),c,f,d,h;if(o>1||l&&!o){var v=Lye(s,t,e,a,u);c=v.inlineValues,f=v.inlineValueTypes,d=v.blocks,h=v.inlineValues[0]}else if(o){var g=i.getDimensionInfo(a[0]);h=c=wd(i,e,a[0]),f=g.type}else h=c=l?s[0]:s;var m=CB(t),x=m&&t.name||"",_=i.getName(e),b=n?x:_;return Br("section",{header:x,noHeader:n||!m,sortParam:h,blocks:[Br("nameValue",{markerType:"item",markerColor:u,name:b,noName:!Vi(b),value:c,valueType:f,dataIndex:e})].concat(d||[])})}function Lye(r,t,e,n,i){var a=t.getData(),o=Sa(r,function(f,d,h){var v=a.getDimensionInfo(h);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],l=[],u=[];n.length?z(n,function(f){c(wd(a,e,f),f)}):z(r,c);function c(f,d){var h=a.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(o?u.push(Br("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Nl=ot();function o1(r,t){return r.getName(t)||r.getId(t)}var bx="__universalTransitionEnabled",Vt=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=z0({count:Vye,reset:zye}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i);var a=Nl(this).sourceManager=new EQ(this);a.prepareSource();var o=this.getInitialData(e,i);$9(o,this),this.dataTask.context.data=o,Nl(this).dataBeforeProcessed=o,X9(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,n){var i=og(this),a=i?Af(e):{},o=this.subType;at.hasClass(o)&&(o+="Series"),Ke(e,n.getTheme().get(this.subType)),Ke(e,this.getDefaultOption()),of(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&Wo(e,a,i)},t.prototype.mergeOption=function(e,n){e=Ke(this.option,e,!0),this.fillDataTextStyle(e.data);var i=og(this);i&&Wo(this.option,e,i);var a=Nl(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(e,n);$9(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Nl(this).dataBeforeProcessed=o,X9(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(e){if(e&&!Kn(e))for(var n=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&of(e[i],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){var n=this.getRawData();n.appendData(e.data)},t.prototype.getData=function(e){var n=KR(this);if(n){var i=n.context.data;return e==null||!i.getLinkedData?i:i.getLinkedData(e)}else return Nl(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=KR(this);if(n){var i=n.context;i.outputData=e,n!==this.dataTask&&(i.data=e)}Nl(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Me(e)},t.prototype.getSourceManager=function(){return Nl(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Nl(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.indicesOfNearest=function(e,n,i,a){var o=this.getData(),s=this.coordinateSystem,l=s&&s.getAxis(e);if(!s||!l)return[];var u=l.dataToCoord(i);a==null&&(a=1/0);var c=[],f=1/0,d=-1,h=0;return o.each(n,function(v,g){var m=l.dataToCoord(v),x=u-m,_=Math.abs(x);_<=a&&((_<f||_===f&&x>=0&&d<0)&&(f=_,d=x,h=0),x===d&&(c[h++]=g))}),c.length=h,c},t.prototype.formatTooltip=function(e,n,i){return NQ({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(ut.node&&!(e&&e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,i){var a=this.ecModel,o=sk.prototype.getColorFromPalette.call(this,e,n,i);return o||(o=a.getColorFromPalette(e,n,i)),o},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<e.length;s++){var l=e[s],u=o1(o,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(e,n){for(var i=[],a=0;a<e.length;a++)i[0]=e[a],this.isSelected(e[a],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=ht(e),i=[],a=0;a<n.length;a++){var o=e[n[a]];o>=0&&i.push(o)}return i},t.prototype.isSelected=function(e,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[o1(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[bx])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,n){var i,a,o=this.option,s=o.selectedMode,l=n.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Le(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=n[c],d=o1(e,f);u[d]=!0,this._selectedDataIndicesMap[d]=e.getRawIndex(f)}}else if(s==="single"||s===!0){var h=n[l-1],d=o1(e,h);o.selectedMap=(i={},i[d]=!0,i),this._selectedDataIndicesMap=(a={},a[d]=e.getRawIndex(h),a)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(i){var a=e.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return at.registerClass(e)},t.protoInitialize=(function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"})(),t})(at);mr(Vt,AS);mr(Vt,sk);JZ(Vt,at);function X9(r){var t=r.name;CB(r)||(r.name=Nye(r)||t)}function Nye(r){var t=r.getRawData(),e=t.mapDimensionsAll("seriesName"),n=[];return z(e,function(i){var a=t.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function Vye(r){return r.model.getRawData().count()}function zye(r){var t=r.model;return t.setData(t.getRawData().cloneShallow()),Fye}function Fye(r,t){t.outputData&&r.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function $9(r,t){z(gd(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(e){r.wrapMethod(e,je(Hye,t))})}function Hye(r,t){var e=KR(r);return e&&e.setOutputEnd((t||this).count()),t}function KR(r){var t=(r.ecModel||{}).scheduler,e=t&&t.getPipeline(r.uid);if(e){var n=e.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(r.uid))}return n}}var Yt=(function(){function r(){this.group=new Be,this.uid=qd("viewComponent")}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){},r.prototype.updateLayout=function(t,e,n,i){},r.prototype.updateVisual=function(t,e,n,i){},r.prototype.toggleBlurSeries=function(t,e,n){},r.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},r})();AB(Yt);dS(Yt);function $d(){var r=ot();return function(t){var e=r(t),n=t.pipelineContext,i=!!e.large,a=!!e.progressiveRender,o=e.large=!!(n&&n.large),s=e.progressiveRender=!!(n&&n.progressiveRender);return(i!==o||a!==s)&&"reset"}}var VQ=ot(),Gye=$d(),Bt=(function(){function r(){this.group=new Be,this.uid=qd("viewChart"),this.renderTask=z0({plan:Wye,reset:Uye}),this.renderTask.context={view:this}}return r.prototype.init=function(t,e){},r.prototype.render=function(t,e,n,i){},r.prototype.highlight=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&Z9(a,i,"emphasis")},r.prototype.downplay=function(t,e,n,i){var a=t.getData(i&&i.dataType);a&&Z9(a,i,"normal")},r.prototype.remove=function(t,e){this.group.removeAll()},r.prototype.dispose=function(t,e){},r.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},r.prototype.eachRendered=function(t){Mu(this.group,t)},r.markUpdateMethod=function(t,e){VQ(t).updateMethod=e},r.protoInitialize=(function(){var t=r.prototype;t.type="chart"})(),r})();function j9(r,t,e){r&&ng(r)&&(t==="emphasis"?el:tl)(r,e)}function Z9(r,t,e){var n=sf(r,t),i=t&&t.highlightKey!=null?g0e(t.highlightKey):null;n!=null?z(qt(n),function(a){j9(r.getItemGraphicEl(a),e,i)}):r.eachItemGraphicEl(function(a){j9(a,e,i)})}AB(Bt);dS(Bt);function Wye(r){return Gye(r.model)}function Uye(r){var t=r.model,e=r.ecModel,n=r.api,i=r.payload,a=t.pipelineContext.progressiveRender,o=r.view,s=i&&VQ(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,e,n,i),qye[l]}var qye={incrementalPrepareRender:{progress:function(r,t){t.view.incrementalRender(r,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(r,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},N_="\0__throttleOriginMethod",K9="\0__throttleRate",Q9="\0__throttleType";function DS(r,t,e){var n,i=0,a=0,o=null,s,l,u,c;t=t||0;function f(){a=new Date().getTime(),o=null,r.apply(l,u||[])}var d=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];n=new Date().getTime(),l=this,u=h;var g=c||t,m=c||e;c=null,s=n-(m?i:a)-g,clearTimeout(o),m?o=setTimeout(f,g):s>=0?f():o=setTimeout(f,-s),i=n};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(h){c=h},d}function jd(r,t,e,n){var i=r[t];if(i){var a=i[N_]||i,o=i[Q9],s=i[K9];if(s!==e||o!==n){if(e==null||!n)return r[t]=a;i=r[t]=DS(a,e,n==="debounce"),i[N_]=a,i[Q9]=n,i[K9]=e}return i}}function lg(r,t){var e=r[t];e&&e[N_]&&(e.clear&&e.clear(),r[t]=e[N_])}var J9=ot(),eH={itemStyle:lf(HK,!0),lineStyle:lf(FK,!0)},Yye={lineStyle:"stroke",itemStyle:"fill"};function zQ(r,t){var e=r.visualStyleMapper||eH[t];return e||(console.warn("Unknown style type '"+t+"'."),eH.itemStyle)}function FQ(r,t){var e=r.visualDrawType||Yye[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var Xye={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=r.getModel(n),a=zQ(r,n),o=a(i),s=i.getShallow("decal");s&&(e.setVisual("decal",s),s.dirty=!0);var l=FQ(r,n),u=o[l],c=Re(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var d=r.getColorFromPalette(r.name,null,t.getSeriesCount());o[l]||(o[l]=d,e.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Re(o.fill)?d:o.fill,o.stroke=o.stroke==="auto"||Re(o.stroke)?d:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",l),!t.isSeriesFiltered(r)&&c)return e.setVisual("colorFromPalette",!1),{dataEach:function(h,v){var g=r.getDataParams(v),m=oe({},o);m[l]=c(g),h.setItemVisual(v,"style",m)}}}},Tp=new st,$ye={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!(r.ignoreStyleOnData||t.isSeriesFiltered(r))){var e=r.getData(),n=r.visualStyleAccessPath||"itemStyle",i=zQ(r,n),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){Tp.option=l[n];var u=i(Tp),c=o.ensureUniqueItemVisual(s,"style");oe(c,u),Tp.option.decal&&(o.setItemVisual(s,"decal",Tp.option.decal),Tp.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},jye={performRawSeries:!0,overallReset:function(r){var t=Me();r.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+n,a=t.get(i);a||(a={},t.set(i,a)),J9(e).scope=a}}),r.eachSeries(function(e){if(!(e.isColorBySeries()||r.isSeriesFiltered(e))){var n=e.getRawData(),i={},a=e.getData(),o=J9(e).scope,s=e.visualStyleAccessPath||"itemStyle",l=FQ(e,s);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),n.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var d=a.ensureUniqueItemVisual(c,"style"),h=n.getName(u)||u+"",v=n.count();d[l]=e.getColorFromPalette(h,o,v)}})}})}},s1=Math.PI;function Zye(r,t){t=t||{},ke(t,{text:"loading",textColor:te.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:te.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Be,n=new rt({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var i=new gt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new rt({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(a);var o;return t.showSpinner&&(o=new Qg({shape:{startAngle:-s1/2,endAngle:-s1/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:s1*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:s1*3/2}).delay(300).start("circularInOut"),e.add(o)),e.resize=function(){var s=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(r.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=r.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},e.resize(),e}var HQ=(function(){function r(t,e,n,i){this._stageTaskMap=Me(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return r.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},r.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,a=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,o=a?n.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},r.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},r.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),o=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,s=t.get("large")&&a>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},r.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Me();t.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;n.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(i,i.dataTask)})},r.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;z(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),o="";In(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,e,n),i.overallReset&&this._createOverallStageTask(i,a,e,n)},this)},r.prototype.prepareView=function(t,e,n,i){var a=t.renderTask,o=a.context;o.model=e,o.ecModel=n,o.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},r.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},r.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},r.prototype._performStageTasks=function(t,e,n,i){i=i||{};var a=!1,o=this;z(t,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,v=d.agentStubMap;v.each(function(m){s(i,m)&&(m.dirty(),h=!0)}),h&&d.dirty(),o.updatePayload(d,n);var g=o.getPerformArgs(d,i.block);v.each(function(m){m.perform(g)}),d.perform(g)&&(a=!0)}else f&&f.each(function(m,x){s(i,m)&&m.dirty();var _=o.getPerformArgs(m,i.block);_.skip=!l.performRawSeries&&e.isSeriesFiltered(m.context.model),o.updatePayload(m,n),m.perform(_)&&(a=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},r.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},r.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},r.prototype._createSeriesStageTask=function(t,e,n,i){var a=this,o=e.seriesTaskMap,s=e.seriesTaskMap=Me(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,i).each(c);function c(f){var d=f.uid,h=s.set(d,o&&o.get(d)||z0({plan:tme,reset:rme,count:ime}));h.context={model:f,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(f,h)}},r.prototype._createOverallStageTask=function(t,e,n,i){var a=this,o=e.overallTask=e.overallTask||z0({reset:Kye});o.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=Me(),u=t.seriesType,c=t.getTargetSeries,f=!0,d=!1,h="";In(!t.createOnAllSeries,h),u?n.eachRawSeriesByType(u,v):c?c(n,i).each(v):(f=!1,z(n.getSeries(),v));function v(g){var m=g.uid,x=l.set(m,s&&s.get(m)||(d=!0,z0({reset:Qye,onDirty:eme})));x.context={model:g,overallProgress:f},x.agent=o,x.__block=f,a._pipe(g,x)}d&&o.dirty()},r.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},r.wrapStageHandler=function(t,e){return Re(t)&&(t={overallReset:t,seriesType:ame(t)}),t.uid=qd("stageHandler"),e&&(t.visualType=e),t},r})();function Kye(r){r.overallReset(r.ecModel,r.api,r.payload)}function Qye(r){return r.overallProgress&&Jye}function Jye(){this.agent.dirty(),this.getDownstream().dirty()}function eme(){this.agent&&this.agent.dirty()}function tme(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function rme(r){r.useClearVisual&&r.data.clearAllVisual();var t=r.resetDefines=qt(r.reset(r.model,r.ecModel,r.api,r.payload));return t.length>1?he(t,function(e,n){return GQ(n)}):nme}var nme=GQ(0);function GQ(r){return function(t,e){var n=e.data,i=e.resetDefines[r];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(t,n)}}function ime(r){return r.data.count()}function ame(r){V_=null;try{r(ug,WQ)}catch{}return V_}var ug={},WQ={},V_;UQ(ug,lk);UQ(WQ,vQ);ug.eachSeriesByType=ug.eachRawSeriesByType=function(r){V_=r};ug.eachComponent=function(r){r.mainType==="series"&&r.subType&&(V_=r.subType)};function UQ(r,t){for(var e in t.prototype)r[e]=gr}var Ve=te.darkColor,ome=Ve.background,Ap=function(){return{axisLine:{lineStyle:{color:Ve.axisLine}},splitLine:{lineStyle:{color:Ve.axisSplitLine}},splitArea:{areaStyle:{color:[Ve.backgroundTint,Ve.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Ve.axisMinorSplitLine}},axisLabel:{color:Ve.axisLabel},axisName:{}}},tH={label:{color:Ve.secondary},itemStyle:{borderColor:Ve.borderTint},dividerLineStyle:{color:Ve.border}},qQ={darkMode:!0,color:Ve.theme,backgroundColor:ome,axisPointer:{lineStyle:{color:Ve.border},crossStyle:{color:Ve.borderShade},label:{color:Ve.tertiary}},legend:{textStyle:{color:Ve.secondary},pageTextStyle:{color:Ve.tertiary}},textStyle:{color:Ve.secondary},title:{textStyle:{color:Ve.primary},subtextStyle:{color:Ve.quaternary}},toolbox:{iconStyle:{borderColor:Ve.accent50}},tooltip:{backgroundColor:Ve.neutral20,defaultBorderColor:Ve.border,textStyle:{color:Ve.tertiary}},dataZoom:{borderColor:Ve.accent10,textStyle:{color:Ve.tertiary},brushStyle:{color:Ve.backgroundTint},handleStyle:{color:Ve.neutral00,borderColor:Ve.accent20},moveHandleStyle:{color:Ve.accent40},emphasis:{handleStyle:{borderColor:Ve.accent50}},dataBackground:{lineStyle:{color:Ve.accent30},areaStyle:{color:Ve.accent20}},selectedDataBackground:{lineStyle:{color:Ve.accent50},areaStyle:{color:Ve.accent30}}},visualMap:{textStyle:{color:Ve.secondary},handleStyle:{borderColor:Ve.neutral30}},timeline:{lineStyle:{color:Ve.accent10},label:{color:Ve.tertiary},controlStyle:{color:Ve.accent30,borderColor:Ve.accent30}},calendar:{itemStyle:{color:Ve.neutral00,borderColor:Ve.neutral20},dayLabel:{color:Ve.tertiary},monthLabel:{color:Ve.secondary},yearLabel:{color:Ve.secondary}},matrix:{x:tH,y:tH,backgroundColor:{borderColor:Ve.axisLine},body:{itemStyle:{borderColor:Ve.borderTint}}},timeAxis:Ap(),logAxis:Ap(),valueAxis:Ap(),categoryAxis:Ap(),line:{symbol:"circle"},graph:{color:Ve.theme},gauge:{title:{color:Ve.secondary},axisLine:{lineStyle:{color:[[1,Ve.neutral05]]}},axisLabel:{color:Ve.axisLabel},detail:{color:Ve.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:Ve.background}},radar:(function(){var r=Ap();return r.axisName={color:Ve.axisLabel},r.axisLine.lineStyle.color=Ve.neutral20,r})(),treemap:{breadcrumb:{itemStyle:{color:Ve.neutral20,textStyle:{color:Ve.secondary}},emphasis:{itemStyle:{color:Ve.neutral30}}}},sunburst:{itemStyle:{borderColor:Ve.background}},map:{itemStyle:{borderColor:Ve.border,areaColor:Ve.neutral10},label:{color:Ve.tertiary},emphasis:{label:{color:Ve.primary},itemStyle:{areaColor:Ve.highlight}},select:{label:{color:Ve.primary},itemStyle:{areaColor:Ve.highlight}}},geo:{itemStyle:{borderColor:Ve.border,areaColor:Ve.neutral10},emphasis:{label:{color:Ve.primary},itemStyle:{areaColor:Ve.highlight}},select:{label:{color:Ve.primary},itemStyle:{color:Ve.highlight}}}};qQ.categoryAxis.splitLine.show=!1;var sme=(function(){function r(){}return r.prototype.normalizeQuery=function(t){var e={},n={},i={};if(be(t)){var a=Ro(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};z(t,function(l,u){for(var c=!1,f=0;f<o.length;f++){var d=o[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var v=u.slice(0,h);v!=="data"&&(e.mainType=v,e[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:e,dataQuery:n,otherQuery:i}},r.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,i,a));function c(f,d,h,v){return f[h]==null||d[v||h]===f[h]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r})(),QR=["symbol","symbolSize","symbolRotate","symbolOffset"],rH=QR.concat(["symbolKeepAspect"]),lme={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){var e=r.getData();if(r.legendIcon&&e.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},i={},a=!1,o=0;o<QR.length;o++){var s=QR[o],l=r.get(s);Re(l)?(a=!0,i[s]=l):n[s]=l}if(n.symbol=n.symbol||r.defaultSymbol,e.setVisual(oe({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),t.isSeriesFiltered(r))return;var u=ht(i);function c(f,d){for(var h=r.getRawValue(d),v=r.getDataParams(d),g=0;g<u.length;g++){var m=u[g];f.setItemVisual(d,m,i[m](h,v))}}return{dataEach:a?c:null}}},ume={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,t){if(!r.hasSymbolVisual||t.isSeriesFiltered(r))return;var e=r.getData();function n(i,a){for(var o=i.getItemModel(a),s=0;s<rH.length;s++){var l=rH[s],u=o.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:e.hasItemOption?n:null}}};function dk(r,t,e){switch(e){case"color":var n=r.getItemVisual(t,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(t,e)}}function ny(r,t){switch(t){case"color":var e=r.getVisual("style");return e[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(t)}}function YQ(r,t,e,n){switch(e){case"color":var i=r.ensureUniqueItemVisual(t,"style");i[r.getVisual("drawType")]=n,r.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(t,e,n);break}}function XQ(r,t){function e(n,i){var a=[];return n.eachComponent({mainType:"series",subType:r,query:i},function(o){a.push(o.seriesIndex)}),a}z([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){t(n[0],function(i,a,o){i=oe({},i),o.dispatchAction(oe(i,{type:n[1],seriesIndex:e(a,i)}))})})}function Ih(r,t,e,n,i){var a=r+t;e.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),d=sf(f,i.fromActionPayload);e.trigger(a,{type:a,seriesId:o.id,name:ue(d)?f.getName(d[0]):f.getName(d),selected:be(l)?l:oe({},l)})}})}function cme(r,t,e){r.on("selectchanged",function(n){var i=e.getModel();n.isFromClick?(Ih("map","selectchanged",t,i,n),Ih("pie","selectchanged",t,i,n)):n.fromAction==="select"?(Ih("map","selected",t,i,n),Ih("pie","selected",t,i,n)):n.fromAction==="unselect"&&(Ih("map","unselected",t,i,n),Ih("pie","unselected",t,i,n))})}function Wc(r,t,e){for(var n;r&&!(t(r)&&(n=r,e));)r=r.__hostTarget||r.parent;return n}var fme=Math.round(Math.random()*9),hme=typeof Object.defineProperty=="function",dme=(function(){function r(){this._id="__ec_inner_"+fme++}return r.prototype.get=function(t){return this._guard(t)[this._id]},r.prototype.set=function(t,e){var n=this._guard(t);return hme?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},r.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},r.prototype.has=function(t){return!!this._guard(t)[this._id]},r.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},r})(),vme=lt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n+a),r.lineTo(e-i,n+a),r.closePath()}}),pme=lt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,t){var e=t.cx,n=t.cy,i=t.width/2,a=t.height/2;r.moveTo(e,n-a),r.lineTo(e+i,n),r.lineTo(e,n+a),r.lineTo(e-i,n),r.closePath()}}),gme=lt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.x,n=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,s=o*o/(a-o),l=n-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),d=Math.cos(u),h=o*.6,v=o*.7;r.moveTo(e-c,l+s),r.arc(e,l,o,Math.PI-u,Math.PI*2+u),r.bezierCurveTo(e+c-f*h,l+s+d*h,e,n-v,e,n),r.bezierCurveTo(e,n-v,e-c+f*h,l+s+d*h,e-c,l+s),r.closePath()}}),yme=lt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,t){var e=t.height,n=t.width,i=t.x,a=t.y,o=n/3*2;r.moveTo(i,a),r.lineTo(i+o,a+e),r.lineTo(i,a+e/4*3),r.lineTo(i-o,a+e),r.lineTo(i,a),r.closePath()}}),mme={line:Mr,rect:rt,roundRect:rt,square:rt,circle:$o,diamond:pme,pin:gme,arrow:yme,triangle:vme},xme={line:function(r,t,e,n,i){i.x1=r,i.y1=t+n/2,i.x2=r+e,i.y2=t+n/2},rect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n},roundRect:function(r,t,e,n,i){i.x=r,i.y=t,i.width=e,i.height=n,i.r=Math.min(e,n)/4},square:function(r,t,e,n,i){var a=Math.min(e,n);i.x=r,i.y=t,i.width=a,i.height=a},circle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.r=Math.min(e,n)/2},diamond:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n},pin:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},arrow:function(r,t,e,n,i){i.x=r+e/2,i.y=t+n/2,i.width=e,i.height=n},triangle:function(r,t,e,n,i){i.cx=r+e/2,i.cy=t+n/2,i.width=e,i.height=n}},z_={};z(mme,function(r,t){z_[t]=new r});var _me=lt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,t,e){var n=M_(r,t,e),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=e.y+e.height*.4),n},buildPath:function(r,t,e){var n=t.symbolType;if(n!=="none"){var i=z_[n];i||(n="rect",i=z_[n]),xme[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(r,i.shape,e)}}});function bme(r,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=r,e.fill=t||te.color.neutral00,e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=r:e.fill=r,this.markRedraw()}}function Dr(r,t,e,n,i,a,o){var s=r.indexOf("empty")===0;s&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var l;return r.indexOf("image://")===0?l=VB(r.slice(8),new Fe(t,e,n,i),o?"center":"cover"):r.indexOf("path://")===0?l=bd(r.slice(7),{},new Fe(t,e,n,i),o?"center":"cover"):l=new _me({shape:{symbolType:r,x:t,y:e,width:n,height:i}}),l.__isEmptyBrush=s,l.setColor=bme,a&&l.setColor(a),l}function Zd(r){return ue(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function Df(r,t){if(r!=null)return ue(r)||(r=[r,r]),[_e(r[0],t[0])||0,_e(Ie(r[1],r[0]),t[1])||0]}function Uc(r){return isFinite(r)}function Sme(r,t,e){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(n=n*e.width+e.x,i=i*e.width+e.x,a=a*e.height+e.y,o=o*e.height+e.y),n=Uc(n)?n:0,i=Uc(i)?i:1,a=Uc(a)?a:0,o=Uc(o)?o:0;var s=r.createLinearGradient(n,a,i,o);return s}function wme(r,t,e){var n=e.width,i=e.height,a=Math.min(n,i),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*n+e.x,s=s*i+e.y,l=l*a),o=Uc(o)?o:.5,s=Uc(s)?s:.5,l=l>=0&&Uc(l)?l:.5;var u=r.createRadialGradient(o,s,0,o,s,l);return u}function JR(r,t,e){for(var n=t.type==="radial"?wme(r,t,e):Sme(r,t,e),i=t.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function Cme(r,t){if(r===t||!r&&!t)return!1;if(!r||!t||r.length!==t.length)return!0;for(var e=0;e<r.length;e++)if(r[e]!==t[e])return!0;return!1}function l1(r){return parseInt(r,10)}function od(r,t,e){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var s=document.defaultView.getComputedStyle(r);return(r[i]||l1(s[n])||l1(r.style[n]))-(l1(s[a])||0)-(l1(s[o])||0)|0}function Tme(r,t){return!r||r==="solid"||!(t>0)?null:r==="dashed"?[4*t,2*t]:r==="dotted"?[t]:yt(r)?[r]:ue(r)?r:null}function vk(r){var t=r.style,e=t.lineDash&&t.lineWidth>0&&Tme(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(e){var i=t.strokeNoScale&&r.getLineScale?r.getLineScale():1;i&&i!==1&&(e=he(e,function(a){return a/i}),n/=i)}return[e,n]}var Ame=new Go(!0);function F_(r){var t=r.stroke;return!(t==null||t==="none"||!(r.lineWidth>0))}function nH(r){return typeof r=="string"&&r!=="none"}function H_(r){var t=r.fill;return t!=null&&t!=="none"}function iH(r,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.fillOpacity*t.opacity,r.fill(),r.globalAlpha=e}else r.fill()}function aH(r,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=r.globalAlpha;r.globalAlpha=t.strokeOpacity*t.opacity,r.stroke(),r.globalAlpha=e}else r.stroke()}function eP(r,t,e){var n=MB(t.image,t.__image,e);if(vS(n)){var i=r.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*D0),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function Mme(r,t,e,n){var i,a=F_(e),o=H_(e),s=e.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||Ame,f=t.__dirty;if(!n){var d=e.fill,h=e.stroke,v=o&&!!d.colorStops,g=a&&!!h.colorStops,m=o&&!!d.image,x=a&&!!h.image,_=void 0,b=void 0,w=void 0,T=void 0,A=void 0;(v||g)&&(A=t.getBoundingRect()),v&&(_=f?JR(r,d,A):t.__canvasFillGradient,t.__canvasFillGradient=_),g&&(b=f?JR(r,h,A):t.__canvasStrokeGradient,t.__canvasStrokeGradient=b),m&&(w=f||!t.__canvasFillPattern?eP(r,d,t):t.__canvasFillPattern,t.__canvasFillPattern=w),x&&(T=f||!t.__canvasStrokePattern?eP(r,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=T),v?r.fillStyle=_:m&&(w?r.fillStyle=w:o=!1),g?r.strokeStyle=b:x&&(T?r.strokeStyle=T:a=!1)}var M=t.getGlobalScale();c.setScale(M[0],M[1],t.segmentIgnoreThreshold);var D,P;r.setLineDash&&e.lineDash&&(i=vk(t),D=i[0],P=i[1]);var I=!0;(u||f&Zh)&&(c.setDPR(r.dpr),l?c.setContext(null):(c.setContext(r),I=!1),c.reset(),t.buildPath(c,t.shape,n),c.toStatic(),t.pathUpdated()),I&&c.rebuildPath(r,l?s:1),D&&(r.setLineDash(D),r.lineDashOffset=P),n||(e.strokeFirst?(a&&aH(r,e),o&&iH(r,e)):(o&&iH(r,e),a&&aH(r,e))),D&&r.setLineDash([])}function Dme(r,t,e){var n=t.__image=MB(e.image,t.__image,t,t.onload);if(!(!n||!vS(n))){var i=e.x||0,a=e.y||0,o=t.getWidth(),s=t.getHeight(),l=n.width/n.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=n.width,s=n.height),e.sWidth&&e.sHeight){var u=e.sx||0,c=e.sy||0;r.drawImage(n,u,c,e.sWidth,e.sHeight,i,a,o,s)}else if(e.sx&&e.sy){var u=e.sx,c=e.sy,f=o-u,d=s-c;r.drawImage(n,u,c,f,d,i,a,o,s)}else r.drawImage(n,i,a,o,s)}}function Eme(r,t,e){var n,i=e.text;if(i!=null&&(i+=""),i){r.font=e.font||Qs,r.textAlign=e.textAlign,r.textBaseline=e.textBaseline;var a=void 0,o=void 0;r.setLineDash&&e.lineDash&&(n=vk(t),a=n[0],o=n[1]),a&&(r.setLineDash(a),r.lineDashOffset=o),e.strokeFirst?(F_(e)&&r.strokeText(i,e.x,e.y),H_(e)&&r.fillText(i,e.x,e.y)):(H_(e)&&r.fillText(i,e.x,e.y),F_(e)&&r.strokeText(i,e.x,e.y)),a&&r.setLineDash([])}}var oH=["shadowBlur","shadowOffsetX","shadowOffsetY"],sH=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function $Q(r,t,e,n,i){var a=!1;if(!n&&(e=e||{},t===e))return!1;if(n||t.opacity!==e.opacity){di(r,i),a=!0;var o=Math.max(Math.min(t.opacity,1),0);r.globalAlpha=isNaN(o)?Kc.opacity:o}(n||t.blend!==e.blend)&&(a||(di(r,i),a=!0),r.globalCompositeOperation=t.blend||Kc.blend);for(var s=0;s<oH.length;s++){var l=oH[s];(n||t[l]!==e[l])&&(a||(di(r,i),a=!0),r[l]=r.dpr*(t[l]||0))}return(n||t.shadowColor!==e.shadowColor)&&(a||(di(r,i),a=!0),r.shadowColor=t.shadowColor||Kc.shadowColor),a}function lH(r,t,e,n,i){var a=cg(t,i.inHover),o=n?null:e&&cg(e,i.inHover)||{};if(a===o)return!1;var s=$Q(r,a,o,n,i);if((n||a.fill!==o.fill)&&(s||(di(r,i),s=!0),nH(a.fill)&&(r.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(di(r,i),s=!0),nH(a.stroke)&&(r.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(di(r,i),s=!0),r.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);r.lineWidth!==u&&(s||(di(r,i),s=!0),r.lineWidth=u)}for(var c=0;c<sH.length;c++){var f=sH[c],d=f[0];(n||a[d]!==o[d])&&(s||(di(r,i),s=!0),r[d]=a[d]||f[1])}return s}function Ime(r,t,e,n,i){return $Q(r,cg(t,i.inHover),e&&cg(e,i.inHover),n,i)}function jQ(r,t){var e=t.transform,n=r.dpr||1;e?r.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):r.setTransform(n,0,0,n,0,0)}function Rme(r,t,e){for(var n=!1,i=0;i<r.length;i++){var a=r[i];n=n||a.isZeroArea(),jQ(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=n}function Pme(r,t){return r&&t?r[0]!==t[0]||r[1]!==t[1]||r[2]!==t[2]||r[3]!==t[3]||r[4]!==t[4]||r[5]!==t[5]:!(!r&&!t)}var uH=1,cH=2,fH=3,hH=4;function Ome(r){var t=H_(r),e=F_(r);return!(r.lineDash||!(+t^+e)||t&&typeof r.fill!="string"||e&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function di(r,t){t.batchFill&&r.fill(),t.batchStroke&&r.stroke(),t.batchFill="",t.batchStroke=""}function cg(r,t){return t&&r.__hoverStyle||r.style}function pk(r,t){qc(r,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function qc(r,t,e,n){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Li,t.__isRendered=!1;return}var a=t.__clipPaths,o=e.prevElClipPaths,s=!1,l=!1;if((!o||Cme(a,o))&&(o&&o.length&&(di(r,e),r.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(di(r,e),r.save(),Rme(a,r,e),s=!0),e.prevElClipPaths=a),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=s=!0);var c=t instanceof lt&&t.autoBatch&&Ome(t.style);s||Pme(i,u.transform)?(di(r,e),jQ(r,t)):c||di(r,e);var f=cg(t,e.inHover);t instanceof lt?(e.lastDrawType!==uH&&(l=!0,e.lastDrawType=uH),lH(r,t,u,l,e),(!c||!e.batchFill&&!e.batchStroke)&&r.beginPath(),Mme(r,t,f,c),c&&(e.batchFill=f.fill||"",e.batchStroke=f.stroke||"")):t instanceof _d?(e.lastDrawType!==fH&&(l=!0,e.lastDrawType=fH),lH(r,t,u,l,e),Eme(r,t,f)):t instanceof nn?(e.lastDrawType!==cH&&(l=!0,e.lastDrawType=cH),Ime(r,t,u,l,e),Dme(r,t,f)):t.getTemporalDisplayables&&(e.lastDrawType!==hH&&(l=!0,e.lastDrawType=hH),Bme(r,t,e)),c&&n&&di(r,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function Bme(r,t,e){var n=t.getDisplayables(),i=t.getTemporalDisplayables();r.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},o,s;for(o=t.getCursor(),s=n.length;o<s;o++){var l=n[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),qc(r,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),qc(r,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,r.restore()}var $D=new dme,dH=new yd(100),vH=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Cd(r,t){if(r==="none")return null;var e=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";r.dirty&&$D.delete(r);var a=$D.get(r);if(a)return a;var o=ke(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/e,$D.set(r,s),r.dirty=!1,s;function l(u){for(var c=[e],f=!0,d=0;d<vH.length;++d){var h=o[vH[d]];if(h!=null&&!ue(h)&&!be(h)&&!yt(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var v;if(f){v=c.join(",")+(i?"-svg":"");var g=dH.get(v);g&&(i?u.svgElement=g:u.image=g)}var m=KQ(o.dashArrayX),x=kme(o.dashArrayY),_=ZQ(o.symbol),b=Lme(m),w=QQ(x),T=!i&&yi.createCanvas(),A=i&&{tag:"g",attrs:{},key:"dcl",children:[]},M=P(),D;T&&(T.width=M.width*e,T.height=M.height*e,D=T.getContext("2d")),I(),f&&dH.put(v,T||A),u.image=T,u.svgElement=A,u.svgWidth=M.width,u.svgHeight=M.height;function P(){for(var R=1,k=0,O=b.length;k<O;++k)R=I7(R,b[k]);for(var V=1,k=0,O=_.length;k<O;++k)V=I7(V,_[k].length);R*=V;var N=w*b.length*_.length;return{width:Math.max(1,Math.min(R,o.maxTileWidth)),height:Math.max(1,Math.min(N,o.maxTileHeight))}}function I(){D&&(D.clearRect(0,0,T.width,T.height),o.backgroundColor&&(D.fillStyle=o.backgroundColor,D.fillRect(0,0,T.width,T.height)));for(var R=0,k=0;k<x.length;++k)R+=x[k];if(R<=0)return;for(var O=-w,V=0,N=0,L=0;O<M.height;){if(V%2===0){for(var G=N/2%_.length,W=0,U=0,Z=0;W<M.width*2;){for(var F=0,k=0;k<m[L].length;++k)F+=m[L][k];if(F<=0)break;if(U%2===0){var q=(1-o.symbolSize)*.5,$=W+m[L][U]*q,K=O+x[V]*q,re=m[L][U]*o.symbolSize,ce=x[V]*o.symbolSize,pe=Z/2%_[G].length;de($,K,re,ce,_[G][pe])}W+=m[L][U],++Z,++U,U===m[L].length&&(U=0)}++L,L===m.length&&(L=0)}O+=x[V],++N,++V,V===x.length&&(V=0)}function de(ge,Ce,xe,we,Pe){var De=i?1:e,Ae=Dr(Pe,ge*De,Ce*De,xe*De,we*De,o.color,o.symbolKeepAspect);if(i){var Xe=n.painter.renderOneToVNode(Ae);Xe&&A.children.push(Xe)}else pk(D,Ae)}}}}function ZQ(r){if(!r||r.length===0)return[["rect"]];if(be(r))return[[r]];for(var t=!0,e=0;e<r.length;++e)if(!be(r[e])){t=!1;break}if(t)return ZQ([r]);for(var n=[],e=0;e<r.length;++e)be(r[e])?n.push([r[e]]):n.push(r[e]);return n}function KQ(r){if(!r||r.length===0)return[[0,0]];if(yt(r)){var t=Math.ceil(r);return[[t,t]]}for(var e=!0,n=0;n<r.length;++n)if(!yt(r[n])){e=!1;break}if(e)return KQ([r]);for(var i=[],n=0;n<r.length;++n)if(yt(r[n])){var t=Math.ceil(r[n]);i.push([t,t])}else{var t=he(r[n],function(s){return Math.ceil(s)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function kme(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(yt(r)){var t=Math.ceil(r);return[t,t]}var e=he(r,function(n){return Math.ceil(n)});return r.length%2?e.concat(e):e}function Lme(r){return he(r,function(t){return QQ(t)})}function QQ(r){for(var t=0,e=0;e<r.length;++e)t+=r[e];return r.length%2===1?t*2:t}function Nme(r,t){r.eachRawSeries(function(e){if(!r.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var l=n.ensureUniqueItemVisual(o,"style");l.decal=Cd(s,t)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=Cd(i,t)}}})}var qa=new Ia,JQ={};function Vme(r,t){JQ[r]=t}function eJ(r){return JQ[r]}var tJ={};function rJ(r,t){tJ[r]=t}function zme(r){return tJ[r]}var Fme="6.0.0",Hme={zrender:"6.0.0"},Gme=1,Wme=800,Ume=900,qme=1e3,Yme=2e3,Xme=5e3,nJ=1e3,$me=1100,gk=2e3,iJ=3e3,jme=4e3,ES=4500,Zme=4600,Kme=5e3,Qme=6e3,aJ=7e3,oJ={PROCESSOR:{FILTER:qme,SERIES_FILTER:Wme,STATISTIC:Xme},VISUAL:{LAYOUT:nJ,PROGRESSIVE_LAYOUT:$me,GLOBAL:gk,CHART:iJ,POST_CHART_LAYOUT:Zme,COMPONENT:jme,BRUSH:Kme,CHART_ITEM:ES,ARIA:Qme,DECAL:aJ}},Hr="__flagInMainProcess",u1="__mainProcessVersion",ln="__pendingUpdate",jD="__needsUpdateStatus",pH=/^[a-zA-Z0-9_]+$/,ZD="__connectUpdateStatus",gH=0,Jme=1,e1e=2;function sJ(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return uJ(this,r,t)}}function lJ(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return uJ(this,r,t)}}function uJ(r,t,e){return e[0]=e[0]&&e[0].toLowerCase(),Ia.prototype[t].apply(r,e)}var cJ=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(Ia),fJ=cJ.prototype;fJ.on=lJ("on");fJ.off=lJ("off");var xc,KD,c1,As,f1,QD,JD,Rh,Ph,yH,mH,eE,xH,h1,_H,hJ,ia,bH,Oh,G_=(function(r){J(t,r);function t(e,n,i){var a=r.call(this,new sme)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=e;var o="canvas",s="auto",l=!1;a[u1]=1,i.ssr&&VZ(function(d){var h=He(d),v=h.dataIndex;if(v!=null){var g=Me();return g.set("series_index",h.seriesIndex),g.set("data_index",v),h.ssrType&&g.set("ssr_type",h.ssrType),g}});var u=a._zr=SR(e,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Ie(i.useDirtyRect,l),useCoarsePointer:Ie(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=DS(Se(u.flush,u),17),a._updateTheme(n),a._locale=oge(i.locale||GK),a._coordSysMgr=new Xd;var c=a._api=_H(a);function f(d,h){return d.__prio-h.__prio}return lx(U_,f),lx(nP,f),a._scheduler=new HQ(a,c,nP,U_),a._messageCenter=new cJ,a._initEvents(),a.resize=Se(a.resize,a),u.animation.on("frame",a._onframe,a),yH(u,a),mH(u,a),$0(a),a}return t.prototype._onframe=function(){if(!this._disposed){bH(this);var e=this._scheduler;if(this[ln]){var n=this[ln].silent;this[Hr]=!0,Oh(this);try{xc(this),As.update.call(this,null,this[ln].updateParams)}catch(l){throw this[Hr]=!1,this[ln]=null,l}this._zr.flush(),this[Hr]=!1,this[ln]=null,Rh.call(this,n),Ph.call(this,n)}else if(e.unfinished){var i=Gme,a=this._model,o=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),QD(this,a),e.performVisualTasks(a),h1(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,i){if(!this[Hr]){if(this._disposed){this.id;return}var a,o,s;if(Le(n)&&(i=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[Hr]=!0,Oh(this),!this._model||n){var l=new Wge(this._api),u=this._theme,c=this._model=new lk;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:o},iP);var f={seriesTransition:s,optionChanged:!0};if(i)this[ln]={silent:a,updateParams:f},this[Hr]=!1,this.getZr().wakeUp();else{try{xc(this),As.update.call(this,null,f)}catch(d){throw this[ln]=null,this[Hr]=!1,d}this._ssr||this._zr.flush(),this[ln]=null,this[Hr]=!1,Rh.call(this,a),Ph.call(this,a)}}},t.prototype.setTheme=function(e,n){if(!this[Hr]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=n&&n.silent,o=null;this[ln]&&(a==null&&(a=this[ln].silent),o=this[ln].updateParams,this[ln]=null),this[Hr]=!0,Oh(this);try{this._updateTheme(e),i.setTheme(this._theme),xc(this),As.update.call(this,{type:"setTheme"},o)}catch(s){throw this[Hr]=!1,s}this[Hr]=!1,Rh.call(this,a),Ph.call(this,a)}}},t.prototype._updateTheme=function(e){be(e)&&(e=dJ[e]),e&&(e=Oe(e),e&&gQ(e,!0),this._theme=e)},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ut.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var n=this._zr.painter;return n.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){var e=this._zr,n=e.storage.getDisplayList();return z(n,function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var n=e.excludeComponents,i=this._model,a=[],o=this;z(n,function(l){i.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return z(a,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var n=e.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(q_[i]){var l=s,u=s,c=-s,f=-s,d=[],h=e&&e.pixelRatio||this.getDevicePixelRatio();z(ef,function(b,w){if(b.group===i){var T=n?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(Oe(e)),A=b.getDom().getBoundingClientRect();l=a(A.left,l),u=a(A.top,u),c=o(A.right,c),f=o(A.bottom,f),d.push({dom:T,left:A.left,top:A.top})}}),l*=h,u*=h,c*=h,f*=h;var v=c-l,g=f-u,m=yi.createCanvas(),x=SR(m,{renderer:n?"svg":"canvas"});if(x.resize({width:v,height:g}),n){var _="";return z(d,function(b){var w=b.left-l,T=b.top-u;_+='<g transform="translate('+w+","+T+')">'+b.dom+"</g>"}),x.painter.getSvgRoot().innerHTML=_,e.connectedBackgroundColor&&x.painter.setBackgroundColor(e.connectedBackgroundColor),x.refreshImmediately(),x.painter.toDataURL()}else return e.connectedBackgroundColor&&x.add(new rt({shape:{x:0,y:0,width:v,height:g},style:{fill:e.connectedBackgroundColor}})),z(d,function(b){var w=new nn({style:{x:b.left*h-l,y:b.top*h-u,image:b.dom}});x.add(w)}),x.refreshImmediately(),m.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,n,i){return f1(this,"convertToPixel",e,n,i)},t.prototype.convertToLayout=function(e,n,i){return f1(this,"convertToLayout",e,n,i)},t.prototype.convertFromPixel=function(e,n,i){return f1(this,"convertFromPixel",e,n,i)},t.prototype.containPixel=function(e,n){if(this._disposed){this.id;return}var i=this._model,a,o=cd(i,e);return z(o,function(s,l){l.indexOf("Models")>=0&&z(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(n,u))}},this)},this),!!a},t.prototype.getVisual=function(e,n){var i=this._model,a=cd(i,e,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?dk(s,l,n):ny(s,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;z(t1e,function(i){var a=function(o){var s=e.getModel(),l=o.target,u,c=i==="globalout";if(c?u={}:l&&Wc(l,function(g){var m=He(g);if(m&&m.dataIndex!=null){var x=m.dataModel||s.getSeriesByIndex(m.seriesIndex);return u=x&&x.getDataParams(m.dataIndex,m.dataType,l)||{},!0}else if(m.eventData)return u=oe({},m.eventData),!0},!0),u){var f=u.componentType,d=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",d=u.seriesIndex);var h=f&&d!=null&&s.getComponent(f,d),v=h&&e[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];u.event=o,u.type=i,e._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:h,view:v},e.trigger(i,u)}};a.zrEventfulCallAtLast=!0,e._zr.on(i,a,e)});var n=this._messageCenter;z(rP,function(i,a){n.on(a,function(o){e.trigger(a,o)})}),cme(n,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&ZZ(this.getDom(),mk,"");var n=this,i=n._api,a=n._model;z(n._componentsViews,function(o){o.dispose(a,i)}),z(n._chartsViews,function(o){o.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete ef[n.id]},t.prototype.resize=function(e){if(!this[Hr]){if(this._disposed){this.id;return}this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=e&&e.silent;this[ln]&&(a==null&&(a=this[ln].silent),i=!0,this[ln]=null),this[Hr]=!0,Oh(this);try{i&&xc(this),As.update.call(this,{type:"resize",animation:oe({duration:0},e&&e.animation)})}catch(o){throw this[Hr]=!1,o}this[Hr]=!1,Rh.call(this,a),Ph.call(this,a)}}},t.prototype.showLoading=function(e,n){if(this._disposed){this.id;return}if(Le(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),!!aP[e]){var i=aP[e](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var n=oe({},e);return n.type=tP[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed){this.id;return}if(Le(n)||(n={silent:!!n}),!!W_[e.type]&&this._model){if(this[Hr]){this._pendingActions.push(e);return}var i=n.silent;JD.call(this,e,i);var a=n.flush;a?this._zr.flush():a!==!1&&ut.browser.weChat&&this._throttledZrFlush(),Rh.call(this,i),Ph.call(this,i)}},t.prototype.updateLabelLayout=function(){qa.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var n=e.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=(function(){xc=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),KD(f,!0),KD(f,!1),d.plan()},KD=function(f,d){for(var h=f._model,v=f._scheduler,g=d?f._componentsViews:f._chartsViews,m=d?f._componentsMap:f._chartsMap,x=f._zr,_=f._api,b=0;b<g.length;b++)g[b].__alive=!1;d?h.eachComponent(function(A,M){A!=="series"&&w(M)}):h.eachSeries(w);function w(A){var M=A.__requireNewView;A.__requireNewView=!1;var D="_ec_"+A.id+"_"+A.type,P=!M&&m[D];if(!P){var I=Ro(A.type),R=d?Yt.getClass(I.main,I.sub):Bt.getClass(I.sub);P=new R,P.init(h,_),m[D]=P,g.push(P),x.add(P.group)}A.__viewId=P.__id=D,P.__alive=!0,P.__model=A,P.group.__ecComponentInfo={mainType:A.mainType,index:A.componentIndex},!d&&v.prepareView(P,A,h,_)}for(var b=0;b<g.length;){var T=g[b];T.__alive?b++:(!d&&T.renderTask.dispose(),x.remove(T.group),T.dispose(h,_),g.splice(b,1),m[T.__id]===T&&delete m[T.__id],T.__id=T.group.__ecComponentInfo=null)}},c1=function(f,d,h,v,g){var m=f._model;if(m.setUpdatePayload(h),!v){z([].concat(f._componentsViews).concat(f._chartsViews),T);return}var x={};x[v+"Id"]=h[v+"Id"],x[v+"Index"]=h[v+"Index"],x[v+"Name"]=h[v+"Name"];var _={mainType:v,query:x};g&&(_.subType=g);var b=h.excludeSeriesId,w;b!=null&&(w=Me(),z(qt(b),function(A){var M=Gr(A,null);M!=null&&w.set(M,!0)})),m&&m.eachComponent(_,function(A){var M=w&&w.get(A.id)!=null;if(!M)if(a9(h))if(A instanceof Vt)h.type===Qc&&!h.notBlur&&!A.get(["emphasis","disabled"])&&l0e(A,h,f._api);else{var D=BB(A.mainType,A.componentIndex,h.name,f._api),P=D.focusSelf,I=D.dispatchers;h.type===Qc&&P&&!h.notBlur&&BR(A.mainType,A.componentIndex,f._api),I&&z(I,function(R){h.type===Qc?el(R):tl(R)})}else LR(h)&&A instanceof Vt&&(f0e(A,h,f._api),n9(A),ia(f))},f),m&&m.eachComponent(_,function(A){var M=w&&w.get(A.id)!=null;M||T(f[v==="series"?"_chartsMap":"_componentsMap"][A.__viewId])},f);function T(A){A&&A.__alive&&A[d]&&A[d](A.__model,m,f._api,h)}},As={prepareAndUpdate:function(f){xc(this),As.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,v=this._api,g=this._zr,m=this._coordSysMgr,x=this._scheduler;if(h){h.setUpdatePayload(f),x.restoreData(h,f),x.performSeriesTasks(h),m.create(h,v),x.performDataProcessorTasks(h,f),QD(this,h),m.update(h,v),n(h),x.performVisualTasks(h,f);var _=h.get("backgroundColor")||"transparent";g.setBackgroundColor(_);var b=h.get("darkMode");b!=null&&b!=="auto"&&g.setDarkMode(b),eE(this,h,v,f,d),qa.trigger("afterupdate",h,v)}},updateTransform:function(f){var d=this,h=this._model,v=this._api;if(h){h.setUpdatePayload(f);var g=[];h.eachComponent(function(x,_){if(x!=="series"){var b=d.getViewOfComponentModel(_);if(b&&b.__alive)if(b.updateTransform){var w=b.updateTransform(_,h,v,f);w&&w.update&&g.push(b)}else g.push(b)}});var m=Me();h.eachSeries(function(x){var _=d._chartsMap[x.__viewId];if(_.updateTransform){var b=_.updateTransform(x,h,v,f);b&&b.update&&m.set(x.uid,1)}else m.set(x.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:m}),h1(this,h,v,f,{},m),qa.trigger("afterupdate",h,v)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),Bt.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),eE(this,d,this._api,f,{}),qa.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(v){v.getData().clearAllVisual()}),Bt.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(v,g){if(v!=="series"){var m=d.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,h,d._api,f)}}),h.eachSeries(function(v){var g=d._chartsMap[v.__viewId];g.updateVisual(v,h,d._api,f)}),qa.trigger("afterupdate",h,this._api))},updateLayout:function(f){As.update.call(this,f)}};function e(f,d,h,v,g){if(f._disposed){f.id;return}for(var m=f._model,x=f._coordSysMgr.getCoordinateSystems(),_,b=cd(m,h),w=0;w<x.length;w++){var T=x[w];if(T[d]&&(_=T[d](m,b,v,g))!=null)return _}}f1=e,QD=function(f,d){var h=f._chartsMap,v=f._scheduler;d.eachSeries(function(g){v.updateStreamModes(g,h[g.__viewId])})},JD=function(f,d){var h=this,v=this.getModel(),g=f.type,m=f.escapeConnect,x=W_[g],_=(x.update||"update").split(":"),b=_.pop(),w=_[0]!=null&&Ro(_[0]);this[Hr]=!0,Oh(this);var T=[f],A=!1;f.batch&&(A=!0,T=he(f.batch,function(L){return L=ke(oe({},L),f),L.batch=null,L}));var M=[],D,P=[],I=x.nonRefinedEventType,R=LR(f),k=a9(f);if(k&&mK(this._api),z(T,function(L){var G=x.action(L,v,h._api);if(x.refineEvent?P.push(G):D=G,D=D||oe({},L),D.type=I,M.push(D),k){var W=TB(f),U=W.queryOptionMap,Z=W.mainTypeSpecified,F=Z?U.keys()[0]:"series";c1(h,b,L,F),ia(h)}else R?(c1(h,b,L,"series"),ia(h)):w&&c1(h,b,L,w.main,w.sub)}),b!=="none"&&!k&&!R&&!w)try{this[ln]?(xc(this),As.update.call(this,f),this[ln]=null):As[b].call(this,f)}catch(L){throw this[Hr]=!1,L}if(A?D={type:I,escapeConnect:m,batch:M}:D=M[0],this[Hr]=!1,!d){var O=void 0;if(x.refineEvent){var V=x.refineEvent(P,f,v,this._api).eventContent;In(Le(V)),O=ke({type:x.refinedEventType},V),O.fromAction=f.type,O.fromActionPayload=f,O.escapeConnect=!0}var N=this._messageCenter;N.trigger(D.type,D),O&&N.trigger(O.type,O)}},Rh=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();JD.call(this,h,f)}},Ph=function(f){!f&&this.trigger("updated")},yH=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[ln]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},mH=function(f,d){f.on("mouseover",function(h){var v=h.target,g=Wc(v,ng);g&&(u0e(g,h,d._api),ia(d))}).on("mouseout",function(h){var v=h.target,g=Wc(v,ng);g&&(c0e(g,h,d._api),ia(d))}).on("click",function(h){var v=h.target,g=Wc(v,function(_){return He(_).dataIndex!=null},!0);if(g){var m=g.selected?"unselect":"select",x=He(g);d._api.dispatchAction({type:m,dataType:x.dataType,dataIndexInside:x.dataIndex,seriesIndex:x.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function i(f){var d=[],h=[],v=!1;if(f.eachComponent(function(_,b){var w=b.get("zlevel")||0,T=b.get("z")||0,A=b.getZLevelKey();v=v||!!A,(_==="series"?h:d).push({zlevel:w,z:T,idx:b.componentIndex,type:_,key:A})}),v){var g=d.concat(h),m,x;lx(g,function(_,b){return _.zlevel===b.zlevel?_.z-b.z:_.zlevel-b.zlevel}),z(g,function(_){var b=f.getComponent(_.type,_.idx),w=_.zlevel,T=_.key;m!=null&&(w=Math.max(m,w)),T?(w===m&&T!==x&&w++,x=T):x&&(w===m&&w++,x=""),m=w,b.setZLevel(w)})}}eE=function(f,d,h,v,g){i(d),xH(f,d,h,v,g),z(f._chartsViews,function(m){m.__alive=!1}),h1(f,d,h,v,g),z(f._chartsViews,function(m){m.__alive||m.remove(d,h)})},xH=function(f,d,h,v,g,m){z(m||f._componentsViews,function(x){var _=x.__model;u(_,x),x.render(_,d,h,v),l(_,x),c(_,x)})},h1=function(f,d,h,v,g,m){var x=f._scheduler;g=oe(g||{},{updatedSeries:d.getSeries()}),qa.trigger("series:beforeupdate",d,h,g);var _=!1;d.eachSeries(function(b){var w=f._chartsMap[b.__viewId];w.__alive=!0;var T=w.renderTask;x.updatePayload(T,v),u(b,w),m&&m.get(b.uid)&&T.dirty(),T.perform(x.getPerformArgs(T))&&(_=!0),w.group.silent=!!b.get("silent"),s(b,w),n9(b)}),x.unfinished=_||x.unfinished,qa.trigger("series:layoutlabels",d,h,g),qa.trigger("series:transition",d,h,g),d.eachSeries(function(b){var w=f._chartsMap[b.__viewId];l(b,w),c(b,w)}),o(f,d),qa.trigger("series:afterupdate",d,h,g)},ia=function(f){f[jD]=!0,f.getZr().wakeUp()},Oh=function(f){f[u1]=(f[u1]+1)%1e3},bH=function(f){f[jD]&&(f.getZr().storage.traverse(function(d){fd(d)||a(d)}),f[jD]=!1)};function a(f){for(var d=[],h=f.currentStates,v=0;v<h.length;v++){var g=h[v];g==="emphasis"||g==="blur"||g==="select"||d.push(g)}f.selected&&f.states.select&&d.push("select"),f.hoverState===xS&&f.states.emphasis?d.push("emphasis"):f.hoverState===Zg&&f.states.blur&&d.push("blur"),f.useStates(d)}function o(f,d){var h=f._zr,v=h.storage,g=0;v.traverse(function(m){m.isGroup||g++}),g>d.get("hoverLayerThreshold")&&!ut.node&&!ut.worker&&d.eachSeries(function(m){if(!m.preventUsingHoverLayer){var x=f._chartsMap[m.__viewId];x.__alive&&x.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}function s(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(v){v.isGroup||(v.style.blend=h)})}function l(f,d){if(!f.preventAutoZ){var h=ff(f);d.eachRendered(function(v){return SS(v,h.z,h.zlevel),!0})}}function u(f,d){d.eachRendered(function(h){if(!fd(h)){var v=h.getTextContent(),g=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),g=h.get("duration"),m=g>0?{duration:g,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(x){if(x.states&&x.states.emphasis){if(fd(x))return;if(x instanceof lt&&y0e(x),x.__dirty){var _=x.prevStates;_&&x.useStates(_)}if(v){x.stateTransition=m;var b=x.getTextContent(),w=x.getTextGuideLine();b&&(b.stateTransition=m),w&&(w.stateTransition=m)}x.__dirty&&a(x)}})}_H=function(f){return new((function(d){J(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(v){for(;v;){var g=v.__ecComponentInfo;if(g!=null)return f._model.getComponent(g.mainType,g.index);v=v.parent}},h.prototype.enterEmphasis=function(v,g){el(v,g),ia(f)},h.prototype.leaveEmphasis=function(v,g){tl(v,g),ia(f)},h.prototype.enterBlur=function(v){vK(v),ia(f)},h.prototype.leaveBlur=function(v){OB(v),ia(f)},h.prototype.enterSelect=function(v){pK(v),ia(f)},h.prototype.leaveSelect=function(v){gK(v),ia(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},h.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},h.prototype.getMainProcessVersion=function(){return f[u1]},h})(vQ))(f)},hJ=function(f){function d(h,v){for(var g=0;g<h.length;g++){var m=h[g];m[ZD]=v}}z(tP,function(h,v){f._messageCenter.on(v,function(g){if(q_[f.group]&&f[ZD]!==gH){if(g&&g.escapeConnect)return;var m=f.makeActionFromEvent(g),x=[];z(ef,function(_){_!==f&&_.group===f.group&&x.push(_)}),d(x,gH),z(x,function(_){_[ZD]!==Jme&&_.dispatchAction(m)}),d(x,e1e)}})})}})(),t})(Ia),yk=G_.prototype;yk.on=sJ("on");yk.off=sJ("off");yk.one=function(r,t,e){var n=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];t&&t.apply&&t.apply(this,a),n.off(r,i)}this.on.call(this,r,i,e)};var t1e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var W_={},tP={},rP={},nP=[],iP=[],U_=[],dJ={},aP={},ef={},q_={},r1e=+new Date-0,n1e=+new Date-0,mk="_echarts_instance_";function i1e(r,t,e){var n=!(e&&e.ssr);if(n){var i=xk(r);if(i)return i}var a=new G_(r,t,e);return a.id="ec_"+r1e++,ef[a.id]=a,n&&ZZ(r,mk,a.id),hJ(a),qa.trigger("afterinit",a),a}function a1e(r){if(ue(r)){var t=r;r=null,z(t,function(e){e.group!=null&&(r=e.group)}),r=r||"g_"+n1e++,z(t,function(e){e.group=r})}return q_[r]=!0,r}function vJ(r){q_[r]=!1}var o1e=vJ;function s1e(r){be(r)?r=ef[r]:r instanceof G_||(r=xk(r)),r instanceof G_&&!r.isDisposed()&&r.dispose()}function xk(r){return ef[ipe(r,mk)]}function l1e(r){return ef[r]}function _k(r,t){dJ[r]=t}function bk(r){Ze(iP,r)<0&&iP.push(r)}function Sk(r,t){wk(nP,r,t,Yme)}function pJ(r){IS("afterinit",r)}function gJ(r){IS("afterupdate",r)}function IS(r,t){qa.on(r,t)}function oo(r,t,e){var n,i,a,o,s;Re(t)&&(e=t,t=""),Le(r)?(n=r.type,i=r.event,o=r.update,s=r.publishNonRefinedEvent,e||(e=r.action),a=r.refineEvent):(n=r,i=t);function l(c){return c.toLowerCase()}i=l(i||n);var u=a?l(n):i;W_[n]||(In(pH.test(n)&&pH.test(i)),a&&In(i!==n),W_[n]={actionType:n,refinedEventType:i,nonRefinedEventType:u,update:o,action:e,refineEvent:a},rP[i]=1,a&&s&&(rP[u]=1),tP[u]=n)}function yJ(r,t){Xd.register(r,t)}function u1e(r){var t=Xd.get(r);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function c1e(r,t){rJ(r,t)}function mJ(r,t){wk(U_,r,t,nJ,"layout")}function Eu(r,t){wk(U_,r,t,iJ,"visual")}var SH=[];function wk(r,t,e,n,i){if((Re(t)||Le(t))&&(e=t,t=n),!(Ze(SH,e)>=0)){SH.push(e);var a=HQ.wrapStageHandler(e,i);a.__prio=t,a.__raw=e,r.push(a)}}function Ck(r,t){aP[r]=t}function f1e(r){tZ({createCanvas:r})}function xJ(r,t,e){var n=eJ("registerMap");n&&n(r,t,e)}function h1e(r){var t=eJ("getMap");return t&&t(r)}var _J=bye;Eu(gk,Xye);Eu(ES,$ye);Eu(ES,jye);Eu(gk,lme);Eu(ES,ume);Eu(aJ,Nme);bk(gQ);Sk(Ume,tye);Ck("default",Zye);oo({type:Qc,event:Qc,update:Qc},gr);oo({type:px,event:px,update:px},gr);oo({type:I_,event:RB,update:I_,action:gr,refineEvent:Tk,publishNonRefinedEvent:!0});oo({type:PR,event:RB,update:PR,action:gr,refineEvent:Tk,publishNonRefinedEvent:!0});oo({type:R_,event:RB,update:R_,action:gr,refineEvent:Tk,publishNonRefinedEvent:!0});function Tk(r,t,e,n){return{eventContent:{selected:h0e(e),isFromClick:t.isFromClick||!1}}}_k("default",{});_k("dark",qQ);var d1e={},wH=[],v1e={registerPreprocessor:bk,registerProcessor:Sk,registerPostInit:pJ,registerPostUpdate:gJ,registerUpdateLifecycle:IS,registerAction:oo,registerCoordinateSystem:yJ,registerLayout:mJ,registerVisual:Eu,registerTransform:_J,registerLoading:Ck,registerMap:xJ,registerImpl:Vme,PRIORITY:oJ,ComponentModel:at,ComponentView:Yt,SeriesModel:Vt,ChartView:Bt,registerComponentModel:function(r){at.registerClass(r)},registerComponentView:function(r){Yt.registerClass(r)},registerSeriesModel:function(r){Vt.registerClass(r)},registerChartView:function(r){Bt.registerClass(r)},registerCustomSeries:function(r,t){rJ(r,t)},registerSubTypeDefaulter:function(r,t){at.registerSubTypeDefaulter(r,t)},registerPainter:function(r,t){LZ(r,t)}};function Je(r){if(ue(r)){z(r,function(t){Je(t)});return}Ze(wH,r)>=0||(wH.push(r),Re(r)&&(r={install:r}),r.install(v1e))}function Mp(r){return r==null?0:r.length||1}function CH(r){return r}var rl=(function(){function r(t,e,n,i,a,o){this._old=t,this._new=e,this._oldKeyGetter=n||CH,this._newKeyGetter=i||CH,this.context=a,this._diffModeMultiple=o==="multiple"}return r.prototype.add=function(t){return this._add=t,this},r.prototype.update=function(t){return this._update=t,this},r.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},r.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},r.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},r.prototype.remove=function(t){return this._remove=t,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=i[o],l=n[s],u=Mp(l);if(u>1){var c=l.shift();l.length===1&&(n[s]=l[0]),this._update&&this._update(c,o)}else u===1?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},r.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},a=[],o=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=n[l],c=i[l],f=Mp(u),d=Mp(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},r.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],a=e[i],o=Mp(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);e[i]=null}},r.prototype._initIndexMap=function(t,e,n,i){for(var a=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[i](t[o],o);if(a||(n[o]=s),!!e){var l=e[s],u=Mp(l);u===0?(e[s]=o,a&&n.push(s)):u===1?e[s]=[l,o]:l.push(o)}}},r})(),p1e=(function(){function r(t,e){this._encode=t,this._schema=e}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r})();function g1e(r,t){var e={},n=e.encode={},i=Me(),a=[],o=[],s={};z(r.dimensions,function(d){var h=r.getDimensionInfo(d),v=h.coordDim;if(v){var g=h.coordDimIndex;tE(n,v)[g]=d,h.isExtraCoord||(i.set(v,1),y1e(h.type)&&(a[0]=d),tE(s,v)[g]=r.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(d)}sQ.each(function(m,x){var _=tE(n,x),b=h.otherDims[x];b!=null&&b!==!1&&(_[b]=h.name)})});var l=[],u={};i.each(function(d,h){var v=n[h];u[h]=v[0],l=l.concat(v)}),e.dataDimsOnCoord=l,e.dataDimIndicesOnCoord=he(l,function(d){return r.getDimensionInfo(d).storeDimIndex}),e.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var f=n.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,e.userOutput=new p1e(s,t),e}function tE(r,t){return r.hasOwnProperty(t)||(r[t]=[]),r[t]}function Y_(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function y1e(r){return!(r==="ordinal"||r==="time")}var Sx=(function(){function r(t){this.otherDims={},t!=null&&oe(this,t)}return r})(),m1e=ot(),x1e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},bJ=(function(){function r(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=CJ(this.source)))},r.prototype.getSourceDimensionIndex=function(t){return Ie(this._dimNameMap.get(t),-1)},r.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},r.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=mQ(this.source),n=!TJ(t),i="",a=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=e?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=e?d.name:null,u=d.type)}a.push({property:l,type:u,ordinalMeta:c}),e&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=x1e[u]||"f",c&&(i+=c.uid),i+="$"}var h=this.source,v=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:a,hash:v}},r.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(i=a.name),n++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},r.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r})();function SJ(r){return r instanceof bJ}function wJ(r){for(var t=Me(),e=0;e<(r||[]).length;e++){var n=r[e],i=Le(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,e)}return t}function CJ(r){var t=m1e(r);return t.dimNameMap||(t.dimNameMap=wJ(r.dimensionsDefine))}function TJ(r){return r>30}var Dp=Le,Vl=he,_1e=typeof Int32Array>"u"?Array:Int32Array,b1e="e\0\0",TH=-1,S1e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],w1e=["_approximateExtent"],AH,d1,Ep,Ip,rE,Rp,nE,Hn=(function(){function r(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;SJ(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var a={},o=[],s={},l=!1,u={},c=0;c<n.length;c++){var f=n[c],d=be(f)?new Sx({name:f}):f instanceof Sx?f:new Sx(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var v=d.otherDims=d.otherDims||{};o.push(h),a[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]);var g=c;yt(d.storeDimIndex)&&(g=d.storeDimIndex),v.itemName===0&&(this._nameDimIdx=g),v.itemId===0&&(this._idDimIdx=g),i&&(d.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var m=this._dimIdxToName=Me();z(o,function(x){m.set(a[x].storeDimIndex,x)})}}return r.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(n!=null)return n;var i=this._schema.getSourceDimension(e);if(i)return i.name},r.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},r.prototype._recognizeDimIndex=function(t){if(yt(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},r.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},r.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},r.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(e==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},r.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(t,e,n){var i=this,a;if(t instanceof $R&&(a=t),!a){var o=this.dimensions,s=uk(t)||En(t)?new xQ(t,o.length):t;a=new $R;var l=Vl(o,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(s,l,n)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=g1e(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},r.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e&&e.length),i=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=i;s<a;s++){var l=s-i;this._nameList[s]=e[l],o&&nE(this,s)}},r.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==cu&&!t.fillStorage},r.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===Ui;if(l&&!i.pure)for(var u=[],c=t;c<e;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&qve(f)&&(this.hasItemOption=!0),f){var d=f.name;a[c]==null&&d!=null&&(a[c]=Gr(d,null));var h=f.id;o[c]==null&&h!=null&&(o[c]=Gr(h,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<e;c++)nE(this,c);AH(this)}},r.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},r.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},r.prototype.setCalculationInfo=function(t,e){Dp(t)?oe(this._calculationInfo,t):this._calculationInfo[t]=e},r.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return n==null&&this._nameDimIdx!=null&&(n=Ep(this,this._nameDimIdx,e)),n==null&&(n=""),n},r.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},r.prototype.getId=function(t){return d1(this,this.getRawIndex(t))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},r.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},r.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},r.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},r.prototype.getValues=function(t,e){var n=this,i=this._store;return ue(t)?i.getValues(Vl(t,function(a){return n._getStoreDimIndex(a)}),e):i.getValues(t)},r.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},r.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},r.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},r.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},r.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],i=n&&n[e];return i==null||isNaN(i)?TH:i},r.prototype.each=function(t,e,n){Re(t)&&(n=e,e=t,t=[]);var i=n||this,a=Vl(Ip(t),this._getStoreDimIndex,this);this._store.each(a,i?Se(e,i):e)},r.prototype.filterSelf=function(t,e,n){Re(t)&&(n=e,e=t,t=[]);var i=n||this,a=Vl(Ip(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Se(e,i):e),this},r.prototype.selectRange=function(t){var e=this,n={},i=ht(t);return z(i,function(a){var o=e._getStoreDimIndex(a);n[o]=t[a]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(t,e,n){Re(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},n),i},r.prototype.map=function(t,e,n,i){var a=n||i||this,o=Vl(Ip(t),this._getStoreDimIndex,this),s=Rp(this);return s._store=this._store.map(o,a?Se(e,a):e),s},r.prototype.modify=function(t,e,n,i){var a=n||i||this,o=Vl(Ip(t),this._getStoreDimIndex,this);this._store.modify(o,a?Se(e,a):e)},r.prototype.downSample=function(t,e,n,i){var a=Rp(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),a},r.prototype.minmaxDownSample=function(t,e){var n=Rp(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),n},r.prototype.lttbDownSample=function(t,e){var n=Rp(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},r.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},r.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new st(n,e,e&&e.ecModel)},r.prototype.diff=function(t){var e=this;return new rl(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return d1(t,n)},function(n){return d1(e,n)})},r.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},r.prototype.setVisual=function(t,e){this._visual=this._visual||{},Dp(t)?oe(this._visual,t):this._visual[t]=e},r.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return i??this.getVisual(e)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var a=i[e];return a==null&&(a=this.getVisual(e),ue(a)?a=a.slice():Dp(a)&&(a=oe({},a)),i[e]=a),a},r.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Dp(e)?oe(i,e):i[e]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(t,e){Dp(t)?oe(this._layout,t):this._layout[t]=e},r.prototype.getLayout=function(t){return this._layout[t]},r.prototype.getItemLayout=function(t){return this._itemLayouts[t]},r.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?oe(this._itemLayouts[t]||{},e):e},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;RR(n,this.dataType,t,e),this._graphicEls[t]=e},r.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},r.prototype.eachItemGraphicEl=function(t,e){z(this._graphicEls,function(n,i){n&&t&&t.call(e,n,i)})},r.prototype.cloneShallow=function(t){return t||(t=new r(this._schema?this._schema:Vl(this.dimensions,this._getDimInfo,this),this.hostModel)),rE(t,this),t._store=this._store,t},r.prototype.wrapMethod=function(t,e){var n=this[t];Re(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return e.apply(this,[i].concat(oS(arguments)))})},r.internalField=(function(){AH=function(t){var e=t._invertedIndicesMap;z(e,function(n,i){var a=t._dimInfos[i],o=a.ordinalMeta,s=t._store;if(o){n=e[i]=new _1e(o.categories.length);for(var l=0;l<n.length;l++)n[l]=TH;for(var l=0;l<s.count();l++)n[s.get(a.storeDimIndex,l)]=l}})},Ep=function(t,e,n){return Gr(t._getCategory(e,n),null)},d1=function(t,e){var n=t._idList[e];return n==null&&t._idDimIdx!=null&&(n=Ep(t,t._idDimIdx,e)),n==null&&(n=b1e+e),n},Ip=function(t){return ue(t)||(t=t!=null?[t]:[]),t},Rp=function(t){var e=new r(t._schema?t._schema:Vl(t.dimensions,t._getDimInfo,t),t.hostModel);return rE(e,t),e},rE=function(t,e){z(S1e.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,z(w1e,function(n){t[n]=Oe(e[n])}),t._calculationInfo=oe({},e._calculationInfo)},nE=function(t,e){var n=t._nameList,i=t._idList,a=t._nameDimIdx,o=t._idDimIdx,s=n[e],l=i[e];if(s==null&&a!=null&&(n[e]=s=Ep(t,a,e)),l==null&&o!=null&&(i[e]=l=Ep(t,o,e)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),i[e]=l}}})(),r})();function C1e(r,t){return Kd(r,t).dimensions}function Kd(r,t){uk(r)||(r=ck(r)),t=t||{};var e=t.coordDimensions||[],n=t.dimensionsDefine||r.dimensionsDefine||[],i=Me(),a=[],o=A1e(r,e,n,t.dimensionsCount),s=t.canOmitUnusedDimensions&&TJ(o),l=n===r.dimensionsDefine,u=l?CJ(r):wJ(n),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(r,o));for(var f=Me(c),d=new MQ(o),h=0;h<d.length;h++)d[h]=-1;function v(P){var I=d[P];if(I<0){var R=n[P],k=Le(R)?R:{name:R},O=new Sx,V=k.name;V!=null&&u.get(V)!=null&&(O.name=O.displayName=V),k.type!=null&&(O.type=k.type),k.displayName!=null&&(O.displayName=k.displayName);var N=a.length;return d[P]=N,O.storeDimIndex=P,a.push(O),O}return a[I]}if(!s)for(var h=0;h<o;h++)v(h);f.each(function(P,I){var R=qt(P).slice();if(R.length===1&&!be(R[0])&&R[0]<0){f.set(I,!1);return}var k=f.set(I,[]);z(R,function(O,V){var N=be(O)?u.get(O):O;N!=null&&N<o&&(k[V]=N,m(v(N),I,V))})});var g=0;z(e,function(P){var I,R,k,O;if(be(P))I=P,O={};else{O=P,I=O.name;var V=O.ordinalMeta;O.ordinalMeta=null,O=oe({},O),O.ordinalMeta=V,R=O.dimsDef,k=O.otherDims,O.name=O.coordDim=O.coordDimIndex=O.dimsDef=O.otherDims=null}var N=f.get(I);if(N!==!1){if(N=qt(N),!N.length)for(var L=0;L<(R&&R.length||1);L++){for(;g<o&&v(g).coordDim!=null;)g++;g<o&&N.push(g++)}z(N,function(G,W){var U=v(G);if(l&&O.type!=null&&(U.type=O.type),m(ke(U,O),I,W),U.name==null&&R){var Z=R[W];!Le(Z)&&(Z={name:Z}),U.name=U.displayName=Z.name,U.defaultTooltip=Z.defaultTooltip}k&&ke(U.otherDims,k)})}});function m(P,I,R){sQ.get(I)!=null?P.otherDims[I]=R:(P.coordDim=I,P.coordDimIndex=R,i.set(I,!0))}var x=t.generateCoord,_=t.generateCoordCount,b=_!=null;_=x?_||1:0;var w=x||"value";function T(P){P.name==null&&(P.name=P.coordDim)}if(s)z(a,function(P){T(P)}),a.sort(function(P,I){return P.storeDimIndex-I.storeDimIndex});else for(var A=0;A<o;A++){var M=v(A),D=M.coordDim;D==null&&(M.coordDim=M1e(w,i,b),M.coordDimIndex=0,(!x||_<=0)&&(M.isExtraCoord=!0),_--),T(M),M.type==null&&(fQ(r,A)===Tn.Must||M.isExtraCoord&&(M.otherDims.itemName!=null||M.otherDims.seriesName!=null))&&(M.type="ordinal")}return T1e(a),new bJ({source:r,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function T1e(r){for(var t=Me(),e=0;e<r.length;e++){var n=r[e],i=n.name,a=t.get(i)||0;a>0&&(n.name=i+(a-1)),a++,t.set(i,a)}}function A1e(r,t,e,n){var i=Math.max(r.dimensionsDetectedCount||1,t.length,e.length,n||0);return z(t,function(a){var o;Le(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function M1e(r,t,e){if(e||t.hasKey(r)){for(var n=0;t.hasKey(r+n);)n++;r+=n}return t.set(r,!0),r}var D1e=(function(){function r(t){this.coordSysDims=[],this.axisMap=Me(),this.categoryAxisMap=Me(),this.coordSysName=t}return r})();function E1e(r){var t=r.get("coordinateSystem"),e=new D1e(t),n=I1e[t];if(n)return n(r,e,e.axisMap,e.categoryAxisMap),e}var I1e={cartesian2d:function(r,t,e,n){var i=r.getReferringComponents("xAxis",vr).models[0],a=r.getReferringComponents("yAxis",vr).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",a),Bh(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),Bh(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,n){var i=r.getReferringComponents("singleAxis",vr).models[0];t.coordSysDims=["single"],e.set("single",i),Bh(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(r,t,e,n){var i=r.getReferringComponents("polar",vr).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",o),Bh(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),Bh(o)&&(n.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,n){var i=r.ecModel,a=i.getComponent("parallel",r.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();z(a.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),c=o[l];e.set(c,u),Bh(u)&&(n.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})},matrix:function(r,t,e,n){var i=r.getReferringComponents("matrix",vr).models[0];t.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),o=i.getDimensionModel("y");e.set("x",a),e.set("y",o),n.set("x",a),n.set("y",o)}};function Bh(r){return r.get("type")==="category"}function AJ(r,t,e){e=e||{};var n=e.byIndex,i=e.stackedCoordDimension,a,o,s;R1e(t)?a=t:(o=t.schema,a=o.dimensions,s=t.store);var l=!!(r&&r.get("stack")),u,c,f,d;if(z(a,function(_,b){be(_)&&(a[b]=_={name:_}),l&&!_.isExtraCoord&&(!n&&!u&&_.ordinalMeta&&(u=_),!c&&_.type!=="ordinal"&&_.type!=="time"&&(!i||i===_.coordDim)&&(c=_))}),c&&!n&&!u&&(n=!0),c){f="__\0ecstackresult_"+r.id,d="__\0ecstackedover_"+r.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,v=c.type,g=0;z(a,function(_){_.coordDim===h&&g++});var m={name:f,coordDim:h,coordDimIndex:g,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},x={name:d,coordDim:d,coordDimIndex:g+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(m.storeDimIndex=s.ensureCalculationDimension(d,v),x.storeDimIndex=s.ensureCalculationDimension(f,v)),o.appendCalculationDimension(m),o.appendCalculationDimension(x)):(a.push(m),a.push(x))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:d,stackResultDimension:f}}function R1e(r){return!SJ(r.schema)}function nl(r,t){return!!t&&t===r.getCalculationInfo("stackedDimension")}function Ak(r,t){return nl(r,t)?r.getCalculationInfo("stackResultDimension"):t}function P1e(r,t){var e=r.get("coordinateSystem"),n=Xd.get(e),i;return t&&t.coordSysDims&&(i=he(t.coordSysDims,function(a){var o={name:a},s=t.axisMap.get(a);if(s){var l=s.get("type");o.type=Y_(l)}return o})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function O1e(r,t,e){var n,i;return e&&z(r,function(a,o){var s=a.coordDim,l=e.categoryAxisMap.get(s);l&&(n==null&&(n=o),a.ordinalMeta=l.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(r[n].otherDims.itemName=0),n}function jo(r,t,e){e=e||{};var n=t.getSourceManager(),i,a=!1;r?(a=!0,i=ck(r)):(i=n.getSource(),a=i.sourceFormat===Ui);var o=E1e(t),s=P1e(t,o),l=e.useEncodeDefaulter,u=Re(l)?l:l?je(cQ,s,t):null,c={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=Kd(i,c),d=O1e(f.dimensions,e.createInvertedIndices,o),h=a?null:n.getSharedDataStore(f),v=AJ(t,{schema:f,store:h}),g=new Hn(f,t);g.setCalculationInfo(v);var m=d!=null&&B1e(i)?function(x,_,b,w){return w===d?b:this.defaultDimValueGetter(x,_,b,w)}:null;return g.hasItemOption=!1,g.initData(a?i:h,null,m),g}function B1e(r){if(r.sourceFormat===Ui){var t=k1e(r.data||[]);return!ue(Nd(t))}}function k1e(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}function oP(r){return r.type==="interval"||r.type==="log"}function L1e(r,t,e,n,i){var a={},o=a.interval=SB(t/e,!0);n!=null&&o<n&&(o=a.interval=n),i!=null&&o>i&&(o=a.interval=i);var s=a.intervalPrecision=fg(o),l=a.niceTickExtent=[Ar(Math.ceil(r[0]/o)*o,s),Ar(Math.floor(r[1]/o)*o,s)];return N1e(l,r),a}function iE(r){var t=Math.pow(10,hS(r)),e=r/t;return e?e===2?e=3:e===3?e=5:e*=2:e=1,Ar(e*t)}function fg(r){return $a(r)+2}function MH(r,t,e){r[t]=Math.max(Math.min(r[t],e[1]),e[0])}function N1e(r,t){!isFinite(r[0])&&(r[0]=t[0]),!isFinite(r[1])&&(r[1]=t[1]),MH(r,0,t),MH(r,1,t),r[0]>r[1]&&(r[0]=r[1])}function Mk(r,t){return r>=t[0]&&r<=t[1]}var V1e=(function(){function r(){this.normalize=DH,this.scale=EH}return r.prototype.updateMethods=function(t){t.hasBreaks()?(this.normalize=Se(t.normalize,t),this.scale=Se(t.scale,t)):(this.normalize=DH,this.scale=EH)},r})();function DH(r,t){return t[1]===t[0]?.5:(r-t[0])/(t[1]-t[0])}function EH(r,t){return r*(t[1]-t[0])+t[0]}function sP(r,t,e){var n=Math.log(r);return[Math.log(e?t[0]:Math.max(0,t[0]))/n,Math.log(e?t[1]:Math.max(0,t[1]))/n]}var Iu=(function(){function r(t){this._calculator=new V1e,this._setting=t||{},this._extent=[1/0,-1/0];var e=Pr();e&&(this._brkCtx=e.createScaleBreakContext(),this._brkCtx.update(this._extent))}return r.prototype.getSetting=function(t){return this._setting[t]},r.prototype._innerUnionExtent=function(t){var e=this._extent;this._innerSetExtent(t[0]<e[0]?t[0]:e[0],t[1]>e[1]?t[1]:e[1])},r.prototype.unionExtentFromData=function(t,e){this._innerUnionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){this._innerSetExtent(t,e)},r.prototype._innerSetExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e),this._brkCtx&&this._brkCtx.update(n)},r.prototype.setBreaksFromOption=function(t){var e=Pr();e&&this._innerSetBreak(e.parseAxisBreakOption(t,Se(this.parse,this)))},r.prototype._innerSetBreak=function(t){this._brkCtx&&(this._brkCtx.setBreaks(t),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},r.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},r.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},r.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r})();dS(Iu);var z1e=0,hg=(function(){function r(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++z1e,this._onCollect=t.onCollect}return r.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&he(n,F1e);return new r({categories:i,needCollect:!i,deduplication:e.dedplication!==!1})},r.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},r.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!be(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,this._onCollect&&this._onCollect(t,e),e;var i=this._getOrCreateMap();return e=i.get(t),e==null&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e),this._onCollect&&this._onCollect(t,e)):e=NaN),e},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Me(this.categories))},r})();function F1e(r){return Le(r)&&r.value!=null?r.value:r+""}var Td=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new hg({})),ue(i)&&(i=new hg({categories:he(i,function(a){return Le(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(e){return e==null?NaN:be(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Mk(e,this._extent)&&e>=0&&e<this._ordinalMeta.categories.length},t.prototype.normalize=function(e){return e=this._getTickNumber(e),this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return e=Math.round(this._calculator.scale(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,i=n[0];i<=n[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(e==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var u=n[o];i[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t})(Iu);Iu.registerClass(Td);var zl=Ar,il=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return t.prototype.parse=function(e){return e==null||e===""?NaN:Number(e)},t.prototype.contain=function(e){return Mk(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=fg(e)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=Pr(),l=[];if(!n)return l;if(e.breakTicks==="only_break"&&s)return s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;i[0]<a[0]&&(e.expandToNicedExtent?l.push({value:zl(a[0]-n,o)}):l.push({value:i[0]}));for(var c=function(v,g){return Math.round((g-v)/n)},f=a[0];f<=a[1];){if(l.push({value:f}),f=zl(f+n,o),this._brkCtx){var d=this._brkCtx.calcNiceTickMultiple(f,c);d>=0&&(f=zl(f+d*n,o))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var h=l.length?l[l.length-1].value:a[1];return i[1]>h&&(e.expandToNicedExtent?l.push({value:zl(h+n,o)}):l.push({value:i[1]})),s&&s.pruneTicksByBreak(e.pruneByBreak,l,this._brkCtx.breaks,function(v){return v.value},this._interval,this._extent),e.breakTicks!=="none"&&s&&s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),o=1;o<n.length;o++){var s=n[o],l=n[o-1];if(!(l.break||s.break)){for(var u=0,c=[],f=s.value-l.value,d=f/e,h=fg(d);u<e-1;){var v=zl(l.value+(u+1)*d,h);v>a[0]&&v<a[1]&&c.push(v),u++}var g=Pr();g&&g.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(m){return m},this._interval,a),i.push(c)}}return i},t.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},t.prototype.getLabel=function(e,n){if(e==null)return"";var i=n&&n.precision;i==null?i=$a(e.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=zl(e.value,i,!0);return tk(a)},t.prototype.calcNiceTicks=function(e,n,i){e=e||5;var a=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var s=L1e(a,o,e,n,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);e.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var o=this._interval,s=this._intervalPrecision;e.fixMin||(n[0]=zl(Math.floor(n[0]/o)*o,s)),e.fixMax||(n[1]=zl(Math.ceil(n[1]/o)*o,s)),this._innerSetExtent(n[0],n[1])},t.prototype.setNiceExtent=function(e,n){this._niceExtent=[e,n]},t.type="interval",t})(Iu);Iu.registerClass(il);var MJ=typeof Float32Array<"u",H1e=MJ?Float32Array:Array;function Po(r){return ue(r)?MJ?new Float32Array(r):r:new H1e(r)}var lP="__ec_stack_";function DJ(r){return r.get("stack")||lP+r.seriesIndex}function Dk(r){return r.dim+r.index}function G1e(r){var t=[],e=r.axis,n="axis0";if(e.type==="category"){for(var i=e.getBandWidth(),a=0;a<r.count;a++)t.push(ke({bandWidth:i,axisKey:n,stackId:lP+a},r));for(var o=RJ(t),s=[],a=0;a<r.count;a++){var l=o[n][lP+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function EJ(r,t){var e=[];return t.eachSeriesByType(r,function(n){BJ(n)&&e.push(n)}),e}function W1e(r){var t={};z(r,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),g=0,m=v.count();g<m;++g){var x=v.get(h,g);t[d]?t[d].push(x):t[d]=[x]}});var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(l,u){return l-u});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}e[n]=a}}return e}function IJ(r){var t=W1e(r),e=[];return z(r,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=t[l],c=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var h=n.getData();s=Math.abs(o[1]-o[0])/h.count()}var v=_e(n.get("barWidth"),s),g=_e(n.get("barMaxWidth"),s),m=_e(n.get("barMinWidth")||(kJ(n)?.5:1),s),x=n.get("barGap"),_=n.get("barCategoryGap"),b=n.get("defaultBarGap");e.push({bandWidth:s,barWidth:v,barMaxWidth:g,barMinWidth:m,barGap:x,barCategoryGap:_,defaultBarGap:b,axisKey:Dk(a),stackId:DJ(n)})}),RJ(e)}function RJ(r){var t={};z(r,function(n,i){var a=n.axisKey,o=n.bandWidth,s=t[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=s.stacks;t[a]=s;var u=n.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=n.barMaxWidth;f&&(l[u].maxWidth=f);var d=n.barMinWidth;d&&(l[u].minWidth=d);var h=n.barGap;h!=null&&(s.gap=h);var v=n.barCategoryGap;v!=null&&(s.categoryGap=v)});var e={};return z(t,function(n,i){e[i]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(s==null){var l=ht(a).length;s=Math.max(35-l*4,15)+"%"}var u=_e(s,o),c=_e(n.gap,1),f=n.remainedWidth,d=n.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),z(a,function(x){var _=x.maxWidth,b=x.minWidth;if(x.width){var w=x.width;_&&(w=Math.min(w,_)),b&&(w=Math.max(w,b)),x.width=w,f-=w+c*w,d--}else{var w=h;_&&_<w&&(w=Math.min(_,f)),b&&b>w&&(w=b),w!==h&&(x.width=w,f-=w+c*w,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var v=0,g;z(a,function(x,_){x.width||(x.width=h),g=x,v+=x.width*(1+c)}),g&&(v-=g.width*c);var m=-v/2;z(a,function(x,_){e[i][_]=e[i][_]||{bandWidth:o,offset:m,width:x.width},m+=x.width*(1+c)})}),e}function U1e(r,t,e){if(r&&t){var n=r[Dk(t)];return n}}function PJ(r,t){var e=EJ(r,t),n=IJ(e);z(e,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),l=DJ(i),u=n[Dk(s)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function OJ(r){return{seriesType:r,plan:$d(),reset:function(t){if(BJ(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),o=e.getDimensionIndex(e.mapDimension(a.dim)),s=e.getDimensionIndex(e.mapDimension(i.dim)),l=t.get("showBackground",!0),u=e.mapDimension(a.dim),c=e.getCalculationInfo("stackResultDimension"),f=nl(e,u)&&!!e.getCalculationInfo("stackedOnSeries"),d=a.isHorizontal(),h=q1e(i,a),v=kJ(t),g=t.get("barMinHeight")||0,m=c&&e.getDimensionIndex(c),x=e.getLayout("size"),_=e.getLayout("offset");return{progress:function(b,w){for(var T=b.count,A=v&&Po(T*3),M=v&&l&&Po(T*3),D=v&&Po(T),P=n.master.getRect(),I=d?P.width:P.height,R,k=w.getStore(),O=0;(R=b.next())!=null;){var V=k.get(f?m:o,R),N=k.get(s,R),L=h,G=void 0;f&&(G=+V-k.get(o,R));var W=void 0,U=void 0,Z=void 0,F=void 0;if(d){var q=n.dataToPoint([V,N]);if(f){var $=n.dataToPoint([G,N]);L=$[0]}W=L,U=q[1]+_,Z=q[0]-L,F=x,Math.abs(Z)<g&&(Z=(Z<0?-1:1)*g)}else{var q=n.dataToPoint([N,V]);if(f){var $=n.dataToPoint([N,G]);L=$[1]}W=q[0]+_,U=L,Z=x,F=q[1]-L,Math.abs(F)<g&&(F=(F<=0?-1:1)*g)}v?(A[O]=W,A[O+1]=U,A[O+2]=d?Z:F,M&&(M[O]=d?P.x:W,M[O+1]=d?U:P.y,M[O+2]=I),D[R]=R):w.setItemLayout(R,{x:W,y:U,width:Z,height:F}),O+=3}v&&w.setLayout({largePoints:A,largeDataIndices:D,largeBackgroundPoints:M,valueAxisHorizontal:d})}}}}}}function BJ(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function kJ(r){return r.pipelineContext&&r.pipelineContext.large}function q1e(r,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?e>0?e:1:e))}var Y1e=function(r,t,e,n){for(;e<n;){var i=e+n>>>1;r[i][1]<t?e=i+1:n=i}return e},Ek=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="time",n}return t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return ty(e.value,_9[pge(V0(this._minLevelUnit))]||_9.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return gge(e,n,i,o,a)},t.prototype.getTicks=function(e){e=e||{};var n=this._interval,i=this._extent,a=Pr(),o=[];if(!n)return o;var s=this.getSetting("useUTC");if(a&&e.breakTicks==="only_break")return Pr().addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var l=ad(i[1],s);o.push({value:i[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=J1e(this._minLevelUnit,this._approxInterval,s,i,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(u);var c=ad(i[1],s);o.push({value:i[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),d=Bi.length-1,h=0;return z(o,function(v){d=Math.min(d,Ze(Bi,v.time.upperTimeUnit)),h=Math.max(h,v.time.level)}),a&&Pr().pruneTicksByBreak(e.pruneByBreak,o,this._brkCtx.breaks,function(v){return v.value},this._approxInterval,this._extent),a&&e.breakTicks!=="none"&&Pr().addBreaksToTicks(o,this._brkCtx.breaks,this._extent,function(v){for(var g=Math.max(Ze(Bi,ad(v.vmin,f)),Ze(Bi,ad(v.vmax,f))),m=0,x=0;x<Bi.length;x++)if(!LJ(Bi[x],v.vmin,v.vmax,f)){m=x;break}var _=Math.min(m,d),b=Math.max(_,g);return{level:h,lowerTimeUnit:Bi[b],upperTimeUnit:Bi[_]}}),o},t.prototype.calcNiceExtent=function(e){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=ga,n[1]+=ga),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-ga}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,n,i){e=e||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/e,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=v1.length,s=Math.min(Y1e(v1,this._approxInterval,0,o),o-1);this._interval=v1[s][1],this._intervalPrecision=fg(this._interval),this._minLevelUnit=v1[Math.max(s-1,0)][0]},t.prototype.parse=function(e){return yt(e)?e:+Xo(e)},t.prototype.contain=function(e){return Mk(e,this._extent)},t.prototype.normalize=function(e){return this._calculator.normalize(e,this._extent)},t.prototype.scale=function(e){return this._calculator.scale(e,this._extent)},t.type="time",t})(il),v1=[["second",XB],["minute",$B],["hour",N0],["quarter-day",N0*6],["half-day",N0*12],["day",ga*1.2],["half-week",ga*3.5],["week",ga*7],["month",ga*31],["quarter",ga*95],["half-year",x9/2],["year",x9]];function LJ(r,t,e,n){return k_(new Date(t),r,n).getTime()===k_(new Date(e),r,n).getTime()}function X1e(r,t){return r/=ga,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function $1e(r){var t=30*ga;return r/=t,r>6?6:r>3?3:r>2?2:1}function j1e(r){return r/=N0,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function IH(r,t){return r/=t?$B:XB,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function Z1e(r){return SB(r,!0)}function K1e(r,t,e){var n=Math.max(0,Ze(Bi,t)-1);return k_(new Date(r),Bi[n],e).getTime()}function Q1e(r,t){var e=new Date(0);e[r](1);var n=e.getTime();e[r](1+t);var i=e.getTime()-n;return function(a,o){return Math.max(0,Math.round((o-a)/i))}}function J1e(r,t,e,n,i,a){var o=1e4,s=fge,l=0;function u(O,V,N,L,G,W,U){for(var Z=Q1e(G,O),F=V,q=new Date(F);F<N&&F<=n[1]&&(U.push({value:F}),!(l++>o));)if(q[G](q[L]()+O),F=q.getTime(),a){var $=a.calcNiceTickMultiple(F,Z);$>0&&(q[G](q[L]()+$*O),F=q.getTime())}U.push({value:F,notAdd:!0})}function c(O,V,N){var L=[],G=!V.length;if(!LJ(V0(O),n[0],n[1],e)){G&&(V=[{value:K1e(n[0],O,e)},{value:n[1]}]);for(var W=0;W<V.length-1;W++){var U=V[W].value,Z=V[W+1].value;if(U!==Z){var F=void 0,q=void 0,$=void 0,K=!1;switch(O){case"year":F=Math.max(1,Math.round(t/ga/365)),q=WK(e),$=yge(e);break;case"half-year":case"quarter":case"month":F=$1e(t),q=jB(e),$=UK(e);break;case"week":case"half-week":case"day":F=X1e(t),q=ZB(e),$=qK(e),K=!0;break;case"half-day":case"quarter-day":case"hour":F=j1e(t),q=KB(e),$=YK(e);break;case"minute":F=IH(t,!0),q=QB(e),$=XK(e);break;case"second":F=IH(t,!1),q=JB(e),$=$K(e);break;case"millisecond":F=Z1e(t),q=ek(e),$=jK(e);break}Z>=n[0]&&U<=n[1]&&u(F,U,Z,q,$,K,L),O==="year"&&N.length>1&&W===0&&N.unshift({value:N[0].value-F})}}for(var W=0;W<L.length;W++)N.push(L[W])}}for(var f=[],d=[],h=0,v=0,g=0;g<s.length;++g){var m=V0(s[g]);if(vge(s[g])){c(s[g],f[f.length-1]||[],d);var x=s[g+1]?V0(s[g+1]):null;if(m!==x){if(d.length){v=h,d.sort(function(O,V){return O.value-V.value});for(var _=[],b=0;b<d.length;++b){var w=d[b].value;(b===0||d[b-1].value!==w)&&(_.push(d[b]),w>=n[0]&&w<=n[1]&&h++)}var T=i/t;if(h>T*1.5&&v>T/1.5||(f.push(_),h>T||r===s[g]))break}d=[]}}}for(var A=Tt(he(f,function(O){return Tt(O,function(V){return V.value>=n[0]&&V.value<=n[1]&&!V.notAdd})}),function(O){return O.length>0}),M=[],D=A.length-1,g=0;g<A.length;++g)for(var P=A[g],I=0;I<P.length;++I){var R=ad(P[I].value,e);M.push({value:P[I].value,time:{level:D-g,upperTimeUnit:R,lowerTimeUnit:R}})}M.sort(function(O,V){return O.value-V.value});for(var k=[],g=0;g<M.length;++g)(g===0||M[g].value!==M[g-1].value)&&k.push(M[g]);return k}Iu.registerClass(Ek);var uP=Ar,exe=Math.floor,txe=Math.ceil,p1=Math.pow,g1=Math.log,NJ=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new il,e}return t.prototype.getTicks=function(e){e=e||{};var n=this._extent.slice(),i=this._originalScale.getExtent(),a=r.prototype.getTicks.call(this,e),o=this.base,s=this._originalScale._innerGetBreaks(),l=Pr();return he(a,function(u){var c=u.value,f=null,d=p1(o,c);c===n[0]&&this._fixMin?f=i[0]:c===n[1]&&this._fixMax&&(f=i[1]);var h;if(l){var v=l.getTicksLogTransformBreak(u,o,s,y1);h=v.vBreak,f==null&&(f=v.brkRoundingCriterion)}return f!=null&&(d=y1(d,f)),{value:d,break:h}},this)},t.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},t.prototype.setExtent=function(e,n){this._originalScale.setExtent(e,n);var i=sP(this.base,[e,n]);r.prototype.setExtent.call(this,i[0],i[1])},t.prototype.getExtent=function(){var e=this.base,n=r.prototype.getExtent.call(this);n[0]=p1(e,n[0]),n[1]=p1(e,n[1]);var i=this._originalScale.getExtent();return this._fixMin&&(n[0]=y1(n[0],i[0])),this._fixMax&&(n[1]=y1(n[1],i[1])),n},t.prototype.unionExtentFromData=function(e,n){this._originalScale.unionExtentFromData(e,n);var i=sP(this.base,e.getApproximateExtent(n),!0);this._innerUnionExtent(i)},t.prototype.calcNiceTicks=function(e){e=e||10;var n=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=GZ(i),o=e/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[uP(txe(n[0]/a)*a),uP(exe(n[1]/a)*a)];this._interval=a,this._intervalPrecision=fg(a),this._niceExtent=s}},t.prototype.calcNiceExtent=function(e){r.prototype.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.contain=function(e){return e=g1(e)/g1(this.base),r.prototype.contain.call(this,e)},t.prototype.normalize=function(e){return e=g1(e)/g1(this.base),r.prototype.normalize.call(this,e)},t.prototype.scale=function(e){return e=r.prototype.scale.call(this,e),p1(this.base,e)},t.prototype.setBreaksFromOption=function(e){var n=Pr();if(n){var i=n.logarithmicParseBreaksFromOption(e,this.base,Se(this.parse,this)),a=i.parsedOriginal,o=i.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(o)}},t.type="log",t})(il);function y1(r,t){return uP(r,$a(t))}Iu.registerClass(NJ);var rxe=(function(){function r(t,e,n){this._prepareParams(t,e,n)}return r.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=e.get("min",!0);a==null&&(a=e.get("startValue",!0));var o=this._modelMinRaw=a;Re(o)?this._modelMinNum=m1(t,o({min:n[0],max:n[1]})):o!=="dataMin"&&(this._modelMinNum=m1(t,o));var s=this._modelMaxRaw=e.get("max",!0);if(Re(s)?this._modelMaxNum=m1(t,s({min:n[0],max:n[1]})):s!=="dataMax"&&(this._modelMaxNum=m1(t,s)),i)this._axisDataLen=e.getCategories().length;else{var l=e.get("boundaryGap"),u=ue(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[ro(u[0],1),ro(u[1],1)]}},r.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=t?null:n-e||Math.abs(e),s=this._modelMinRaw==="dataMin"?e:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?i?0:NaN:e-a[0]*o),l==null&&(l=t?i?i-1:NaN:n+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Dn(s)||Dn(l)||t&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(s=d,u=!0),h!=null&&(l=h,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},r.prototype.modifyDataMinMax=function(t,e){this[ixe[t]]=e},r.prototype.setDeterminedMinMax=function(t,e){var n=nxe[t];this[n]=e},r.prototype.freeze=function(){this.frozen=!0},r})(),nxe={min:"_determinedMin",max:"_determinedMax"},ixe={min:"_dataMin",max:"_dataMax"};function VJ(r,t,e){var n=r.rawExtentInfo;return n||(n=new rxe(r,t,e),r.rawExtentInfo=n,n)}function m1(r,t){return t==null?null:Dn(t)?NaN:r.parse(t)}function zJ(r,t){var e=r.type,n=VJ(r,t,r.getExtent()).calculate();r.setBlank(n.isBlank);var i=n.min,a=n.max,o=t.ecModel;if(o&&e==="time"){var s=EJ("bar",o),l=!1;if(z(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=IJ(s),c=axe(i,a,t,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function axe(r,t,e,n){var i=e.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=U1e(n,e.axis);if(o===void 0)return{min:r,max:t};var s=1/0;z(o,function(h){s=Math.min(h.offset,s)});var l=-1/0;z(o,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-r,f=1-(s+l)/a,d=c/f-c;return t+=d*(l/u),r-=d*(s/u),{min:r,max:t}}function df(r,t){var e=t,n=zJ(r,e),i=n.extent,a=e.get("splitNumber");r instanceof NJ&&(r.base=e.get("logBase"));var o=r.type,s=e.get("interval"),l=o==="interval"||o==="time";r.setBreaksFromOption(HJ(e)),r.setExtent(i[0],i[1]),r.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?e.get("minInterval"):null,maxInterval:l?e.get("maxInterval"):null}),s!=null&&r.setInterval&&r.setInterval(s)}function iy(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new Td({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new Ek({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(Iu.getClass(t)||il)}}function oxe(r){var t=r.scale.getExtent(),e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}function Qd(r){var t=r.getLabelModel().get("formatter");if(r.type==="time"){var e=hge(t);return function(i,a){return r.scale.getFormattedLabel(i,a,e)}}else{if(be(t))return function(i){var a=r.scale.getLabel(i),o=t.replace("{value}",a??"");return o};if(Re(t)){if(r.type==="category")return function(i,a){return t(X_(r,i),i.value-r.scale.getExtent()[0],null)};var n=Pr();return function(i,a){var o=null;return n&&(o=n.makeAxisLabelFormatterParamBreak(o,i.break)),t(X_(r,i),a,o)}}else return function(i){return r.scale.getLabel(i)}}}function X_(r,t){return r.type==="category"?r.scale.getLabel(t):t.value}function Ik(r){var t=r.get("interval");return t??"auto"}function FJ(r){return r.type==="category"&&Ik(r.getLabelModel())===0}function $_(r,t){var e={};return z(r.mapDimensionsAll(t),function(n){e[Ak(r,n)]=!0}),ht(e)}function sxe(r,t,e){t&&z($_(t,e),function(n){var i=t.getApproximateExtent(n);i[0]<r[0]&&(r[0]=i[0]),i[1]>r[1]&&(r[1]=i[1])})}function Ad(r){return r==="middle"||r==="center"}function dg(r){return r.getShallow("show")}function HJ(r){var t=r.get("breaks",!0);if(t!=null)return!Pr()||!lxe(r.axis)?void 0:t}function lxe(r){return(r.dim==="x"||r.dim==="y"||r.dim==="z"||r.dim==="single")&&r.type!=="category"}var Jd=(function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r})();function uxe(r){return jo(null,r)}var cxe={isDimensionStacked:nl,enableDataStack:AJ,getStackedDimension:Ak};function fxe(r,t){var e=t;t instanceof st||(e=new st(t));var n=iy(e);return n.setExtent(r[0],r[1]),df(n,e),n}function hxe(r){mr(r,Jd)}function dxe(r,t){return t=t||{},Ut(r,null,null,t.state!=="normal")}const vxe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:C1e,createList:uxe,createScale:fxe,createSymbol:Dr,createTextStyle:dxe,dataStack:cxe,enableHoverEmphasis:lu,getECData:He,getLayoutRect:rr,mixinAxisModelCommonMethods:hxe},Symbol.toStringTag,{value:"Module"}));var pxe=1e-8;function RH(r,t){return Math.abs(r-t)<pxe}function Oc(r,t,e){var n=0,i=r[0];if(!i)return!1;for(var a=1;a<r.length;a++){var o=r[a];n+=Ls(i[0],i[1],o[0],o[1],t,e),i=o}var s=r[0];return(!RH(i[0],s[0])||!RH(i[1],s[1]))&&(n+=Ls(i[0],i[1],s[0],s[1],t,e)),n!==0}var gxe=[];function aE(r,t){for(var e=0;e<r.length;e++)yr(r[e],r[e],t)}function PH(r,t,e,n){for(var i=0;i<r.length;i++){var a=r[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Hs(t,t,a),Gs(e,e,a))}}function yxe(r){for(var t=0,e=0,n=0,i=r.length,a=r[i-1][0],o=r[i-1][1],s=0;s<i;s++){var l=r[s][0],u=r[s][1],c=a*u-l*o;t+=c,e+=(a+l)*c,n+=(o+u)*c,a=l,o=u}return t?[e/t/3,n/t/3,t]:[r[0][0]||0,r[0][1]||0]}var GJ=(function(){function r(t){this.name=t}return r.prototype.setCenter=function(t){this._center=t},r.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},r})(),OH=(function(){function r(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return r})(),BH=(function(){function r(t){this.type="linestring",this.points=t}return r})(),WJ=(function(r){J(t,r);function t(e,n,i){var a=r.call(this,e)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var e=this.geometries,n,i=0,a=0;a<e.length;a++){var o=e[a],s=o.exterior,l=s&&s.length;l>i&&(n=o,i=l)}if(n)return yxe(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(e){var n=this._rect;if(n&&!e)return n;var i=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return z(o,function(s){s.type==="polygon"?PH(s.exterior,i,a,e):z(s.points,function(l){PH(l,i,a,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new Fe(i[0],i[1],a[0]-i[0],a[1]-i[1]),e||(this._rect=n),n},t.prototype.contain=function(e){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(e[0],e[1]))return!1;e:for(var a=0,o=i.length;a<o;a++){var s=i[a];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(Oc(l,e[0],e[1])){for(var c=0;c<(u?u.length:0);c++)if(Oc(u[c],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,n,i,a){var o=this.getBoundingRect(),s=o.width/o.height;i?a||(a=i/s):i=s*a;for(var l=new Fe(e,n,i,a),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(aE(d.exterior,u),z(d.interiors,function(h){aE(h,u)})):z(d.points,function(h){aE(h,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t})(GJ),mxe=(function(r){J(t,r);function t(e,n){var i=r.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=Xg(gxe),o=e;o&&!o.isGeoSVGGraphicRoot;)Ka(a,o.getLocalTransform(),a),o=o.parent;return wa(a,a),yr(i,i,a),i},t})(GJ);function xxe(r){if(!r.UTF8Encoding)return r;var t=r,e=t.UTF8Scale;e==null&&(e=1024);var n=t.features;return z(n,function(i){var a=i.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=UJ(s,o,e);break;case"Polygon":oE(s,o,e);break;case"MultiLineString":oE(s,o,e);break;case"MultiPolygon":z(s,function(l,u){return oE(l,o[u],e)})}}),t.UTF8Encoding=!1,t}function oE(r,t,e){for(var n=0;n<r.length;n++)r[n]=UJ(r[n],t[n],e)}function UJ(r,t,e){for(var n=[],i=t[0],a=t[1],o=0;o<r.length;o+=2){var s=r.charCodeAt(o)-64,l=r.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=i,l+=a,i=s,a=l,n.push([s/e,l/e])}return n}function cP(r,t){return r=xxe(r),he(Tt(r.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,i=e.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new OH(o[0],o.slice(1)));break;case"MultiPolygon":z(i.coordinates,function(l){l[0]&&a.push(new OH(l[0],l.slice(1)))});break;case"LineString":a.push(new BH([i.coordinates]));break;case"MultiLineString":a.push(new BH(i.coordinates))}var s=new WJ(n[t||"name"],a,n.cp);return s.properties=n,s})}const _xe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:CR,asc:zi,getPercentWithPrecision:zve,getPixelPrecision:_B,getPrecision:$a,getPrecisionSafe:FZ,isNumeric:wB,isRadianAroundZero:xd,linearMap:At,nice:SB,numericToNumber:Ho,parseDate:Xo,parsePercent:_e,quantile:vx,quantity:GZ,quantityExponent:hS,reformIntervals:TR,remRadian:bB,round:Ar},Symbol.toStringTag,{value:"Module"})),bxe=Object.freeze(Object.defineProperty({__proto__:null,format:ty,parse:Xo,roundTime:k_},Symbol.toStringTag,{value:"Module"})),Sxe=Object.freeze(Object.defineProperty({__proto__:null,Arc:Qg,BezierCurve:Hd,BoundingRect:Fe,Circle:$o,CompoundPath:Jg,Ellipse:Kg,Group:Be,Image:nn,IncrementalDisplayable:DK,Line:Mr,LinearGradient:Cf,Polygon:Pn,Polyline:pn,RadialGradient:LB,Rect:rt,Ring:Fd,Sector:Rn,Text:gt,clipPointsByRect:FB,clipRectByRect:OK,createIcon:Wd,extendPath:RK,extendShape:IK,getShapeClass:ig,getTransform:uu,initProps:Kt,makeImage:VB,makePath:bd,mergePath:Ni,registerShape:Ra,resizePath:zB,updateProps:bt},Symbol.toStringTag,{value:"Module"})),wxe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:tk,capitalFirst:bge,encodeHTML:zn,formatTime:_ge,formatTpl:nk,getTextRect:mge,getTooltipMarker:ZK,normalizeCssArray:Yd,toCamelCase:rk,truncateText:mpe},Symbol.toStringTag,{value:"Module"})),Cxe=Object.freeze(Object.defineProperty({__proto__:null,bind:Se,clone:Oe,curry:je,defaults:ke,each:z,extend:oe,filter:Tt,indexOf:Ze,inherits:hB,isArray:ue,isFunction:Re,isObject:Le,isString:be,map:he,merge:Ke,reduce:Sa},Symbol.toStringTag,{value:"Module"}));var Txe=ot(),F0=ot(),no={estimate:1,determine:2};function j_(r){return{out:{noPxChangeTryDetermine:[]},kind:r}}function qJ(r,t){var e=he(t,function(n){return r.scale.parse(n)});return r.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function Axe(r,t){var e=r.getLabelModel().get("customValues");if(e){var n=Qd(r),i=r.scale.getExtent(),a=qJ(r,e),o=Tt(a,function(s){return s>=i[0]&&s<=i[1]});return{labels:he(o,function(s){var l={value:s};return{formattedLabel:n(l),rawLabel:r.scale.getLabel(l),tickValue:s,time:void 0,break:void 0}})}}return r.type==="category"?Dxe(r,t):Ixe(r)}function Mxe(r,t,e){var n=r.getTickModel().get("customValues");if(n){var i=r.scale.getExtent(),a=qJ(r,n);return{ticks:Tt(a,function(o){return o>=i[0]&&o<=i[1]})}}return r.type==="category"?Exe(r,t):{ticks:he(r.scale.getTicks(e),function(o){return o.value})}}function Dxe(r,t){var e=r.getLabelModel(),n=YJ(r,e,t);return!e.get("show")||r.scale.isBlank()?{labels:[]}:n}function YJ(r,t,e){var n=Pxe(r),i=Ik(t),a=e.kind===no.estimate;if(!a){var o=$J(n,i);if(o)return o}var s,l;Re(i)?s=KJ(r,i):(l=i==="auto"?Oxe(r,e):i,s=ZJ(r,l));var u={labels:s,labelCategoryInterval:l};return a?e.out.noPxChangeTryDetermine.push(function(){return fP(n,i,u),!0}):fP(n,i,u),u}function Exe(r,t){var e=Rxe(r),n=Ik(t),i=$J(e,n);if(i)return i;var a,o;if((!t.get("show")||r.scale.isBlank())&&(a=[]),Re(n))a=KJ(r,n,!0);else if(n==="auto"){var s=YJ(r,r.getLabelModel(),j_(no.determine));o=s.labelCategoryInterval,a=he(s.labels,function(l){return l.tickValue})}else o=n,a=ZJ(r,o,!0);return fP(e,n,{ticks:a,tickCategoryInterval:o})}function Ixe(r){var t=r.scale.getTicks(),e=Qd(r);return{labels:he(t,function(n,i){return{formattedLabel:e(n,i),rawLabel:r.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var Rxe=XJ("axisTick"),Pxe=XJ("axisLabel");function XJ(r){return function(e){return F0(e)[r]||(F0(e)[r]={list:[]})}}function $J(r,t){for(var e=0;e<r.list.length;e++)if(r.list[e].key===t)return r.list[e].value}function fP(r,t,e){return r.list.push({key:t,value:e}),e}function Oxe(r,t){if(t.kind===no.estimate){var e=r.calculateCategoryInterval(t);return t.out.noPxChangeTryDetermine.push(function(){return F0(r).autoInterval=e,!0}),e}var n=F0(r).autoInterval;return n??(F0(r).autoInterval=r.calculateCategoryInterval(t))}function Bxe(r,t){var e=t.kind,n=Lxe(r),i=Qd(r),a=(n.axisRotate-n.labelRotate)/180*Math.PI,o=r.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=s[0],d=r.dataToCoord(f+1)-r.dataToCoord(f),h=Math.abs(d*Math.cos(a)),v=Math.abs(d*Math.sin(a)),g=0,m=0;f<=s[1];f+=u){var x=0,_=0,b=cS(i({value:f}),n.font,"center","top");x=b.width*1.3,_=b.height*1.3,g=Math.max(g,x,7),m=Math.max(m,_,7)}var w=g/h,T=m/v;isNaN(w)&&(w=1/0),isNaN(T)&&(T=1/0);var A=Math.max(0,Math.floor(Math.min(w,T)));if(e===no.estimate)return t.out.noPxChangeTryDetermine.push(Se(kxe,null,r,A,l)),A;var M=jJ(r,A,l);return M??A}function kxe(r,t,e){return jJ(r,t,e)==null}function jJ(r,t,e){var n=Txe(r.model),i=r.getExtent(),a=n.lastAutoInterval,o=n.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-t)<=1&&Math.abs(o-e)<=1&&a>t&&n.axisExtent0===i[0]&&n.axisExtent1===i[1])return a;n.lastTickCount=e,n.lastAutoInterval=t,n.axisExtent0=i[0],n.axisExtent1=i[1]}function Lxe(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function ZJ(r,t,e){var n=Qd(r),i=r.scale,a=i.getExtent(),o=r.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=FJ(r),d=o.get("showMinLabel")||f,h=o.get("showMaxLabel")||f;d&&u!==a[0]&&g(a[0]);for(var v=u;v<=a[1];v+=l)g(v);h&&v-l!==a[1]&&g(a[1]);function g(m){var x={value:m};s.push(e?m:{formattedLabel:n(x),rawLabel:i.getLabel(x),tickValue:m,time:void 0,break:void 0})}return s}function KJ(r,t,e){var n=r.scale,i=Qd(r),a=[];return z(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;t(o.value,s)&&a.push(e?l:{formattedLabel:i(o),rawLabel:s,tickValue:l,time:void 0,break:void 0})}),a}var kH=[0,1],Pa=(function(){function r(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return r.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},r.prototype.containData=function(t){return this.scale.contain(this.scale.parse(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return _B(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},r.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(i.parse(t)),this.onBand&&i.type==="ordinal"&&(n=n.slice(),LH(n,i.count())),At(t,kH,n,e)},r.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),LH(n,i.count()));var a=At(t,n,kH,e);return this.scale.scale(a)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=Mxe(this,e,{breakTicks:t.breakTicks,pruneByBreak:t.pruneByBreak}),i=n.ticks,a=he(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return Nxe(this,a,o,t.clamp),a},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=he(n,function(a){return he(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},r.prototype.getViewLabels=function(t){return t=t||j_(no.determine),Axe(this,t).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},r.prototype.calculateCategoryInterval=function(t){return t=t||j_(no.determine),Bxe(this,t)},r})();function LH(r,t){var e=r[1]-r[0],n=t,i=e/n/2;r[0]+=i,r[1]-=i}function Nxe(r,t,e,n){var i=t.length;if(!r.onBand||e||!i)return;var a=r.getExtent(),o,s;if(i===1)t[0].coord=a[0],t[0].onBand=!0,o=t[1]={coord:a[1],tickValue:t[0].tickValue,onBand:!0};else{var l=t[i-1].tickValue-t[0].tickValue,u=(t[i-1].coord-t[0].coord)/l;z(t,function(h){h.coord-=u/2,h.onBand=!0});var c=r.scale.getExtent();s=1+c[1]-t[i-1].tickValue,o={coord:t[i-1].coord+u*s,tickValue:c[1]+1,onBand:!0},t.push(o)}var f=a[0]>a[1];d(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&d(a[0],t[0].coord)&&t.unshift({coord:a[0],onBand:!0}),d(a[1],o.coord)&&(n?o.coord=a[1]:t.pop()),n&&d(o.coord,a[1])&&t.push({coord:a[1],onBand:!0});function d(h,v){return h=Ar(h),v=Ar(v),f?h>v:h<v}}function Vxe(r){var t=at.extend(r);return at.registerClass(t),t}function zxe(r){var t=Yt.extend(r);return Yt.registerClass(t),t}function Fxe(r){var t=Vt.extend(r);return Vt.registerClass(t),t}function Hxe(r){var t=Bt.extend(r);return Bt.registerClass(t),t}var Pp=Math.PI*2,_c=Go.CMD,Gxe=["top","right","bottom","left"];function Wxe(r,t,e,n,i){var a=e.width,o=e.height;switch(r){case"top":n.set(e.x+a/2,e.y-t),i.set(0,-1);break;case"bottom":n.set(e.x+a/2,e.y+o+t),i.set(0,1);break;case"left":n.set(e.x-t,e.y+o/2),i.set(-1,0);break;case"right":n.set(e.x+a+t,e.y+o/2),i.set(1,0);break}}function Uxe(r,t,e,n,i,a,o,s,l){o-=r,s-=t;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*e+r,f=s*e+t;if(Math.abs(n-i)%Pp<1e-4)return l[0]=c,l[1]=f,u-e;if(a){var d=n;n=Fi(i),i=Fi(d)}else n=Fi(n),i=Fi(i);n>i&&(i+=Pp);var h=Math.atan2(s,o);if(h<0&&(h+=Pp),h>=n&&h<=i||h+Pp>=n&&h+Pp<=i)return l[0]=c,l[1]=f,u-e;var v=e*Math.cos(n)+r,g=e*Math.sin(n)+t,m=e*Math.cos(i)+r,x=e*Math.sin(i)+t,_=(v-o)*(v-o)+(g-s)*(g-s),b=(m-o)*(m-o)+(x-s)*(x-s);return _<b?(l[0]=v,l[1]=g,Math.sqrt(_)):(l[0]=m,l[1]=x,Math.sqrt(b))}function Z_(r,t,e,n,i,a,o,s){var l=i-r,u=a-t,c=e-r,f=n-t,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,v=h/d;s&&(v=Math.min(Math.max(v,0),1)),v*=d;var g=o[0]=r+v*c,m=o[1]=t+v*f;return Math.sqrt((g-i)*(g-i)+(m-a)*(m-a))}function QJ(r,t,e,n,i,a,o){e<0&&(r=r+e,e=-e),n<0&&(t=t+n,n=-n);var s=r+e,l=t+n,u=o[0]=Math.min(Math.max(i,r),s),c=o[1]=Math.min(Math.max(a,t),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Ya=[];function qxe(r,t,e){var n=QJ(t.x,t.y,t.width,t.height,r.x,r.y,Ya);return e.set(Ya[0],Ya[1]),n}function Yxe(r,t,e){for(var n=0,i=0,a=0,o=0,s,l,u=1/0,c=t.data,f=r.x,d=r.y,h=0;h<c.length;){var v=c[h++];h===1&&(n=c[h],i=c[h+1],a=n,o=i);var g=u;switch(v){case _c.M:a=c[h++],o=c[h++],n=a,i=o;break;case _c.L:g=Z_(n,i,c[h],c[h+1],f,d,Ya,!0),n=c[h++],i=c[h++];break;case _c.C:g=_Z(n,i,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,Ya),n=c[h++],i=c[h++];break;case _c.Q:g=SZ(n,i,c[h++],c[h++],c[h],c[h+1],f,d,Ya),n=c[h++],i=c[h++];break;case _c.A:var m=c[h++],x=c[h++],_=c[h++],b=c[h++],w=c[h++],T=c[h++];h+=1;var A=!!(1-c[h++]);s=Math.cos(w)*_+m,l=Math.sin(w)*b+x,h<=1&&(a=s,o=l);var M=(f-m)*b/_+m;g=Uxe(m,x,b,w,w+T,A,M,d,Ya),n=Math.cos(w+T)*_+m,i=Math.sin(w+T)*b+x;break;case _c.R:a=n=c[h++],o=i=c[h++];var D=c[h++],P=c[h++];g=QJ(a,o,D,P,f,d,Ya);break;case _c.Z:g=Z_(n,i,a,o,f,d,Ya,!0),n=a,i=o;break}g<u&&(u=g,e.set(Ya[0],Ya[1]))}return u}var ja=new ze,Zt=new ze,Cr=new ze,Oo=new ze,Mo=new ze;function NH(r,t){if(r){var e=r.getTextGuideLine(),n=r.getTextContent();if(n&&e){var i=r.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||Gxe,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=i.anchor,c=r.getComputedTransform(),f=c&&wa([],c),d=t.get("length2")||0;u&&Cr.copy(u);for(var h=0;h<o.length;h++){var v=o[h];Wxe(v,0,s,ja,Oo),ze.scaleAndAdd(Zt,ja,Oo,d),Zt.transform(f);var g=r.getBoundingRect(),m=u?u.distance(Zt):r instanceof lt?Yxe(Zt,r.path,Cr):qxe(Zt,g,Cr);m<l&&(l=m,Zt.transform(c),Cr.transform(c),Cr.toArray(a[0]),Zt.toArray(a[1]),ja.toArray(a[2]))}JJ(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var K_=[],$n=new ze;function JJ(r,t){if(t<=180&&t>0){t=t/180*Math.PI,ja.fromArray(r[0]),Zt.fromArray(r[1]),Cr.fromArray(r[2]),ze.sub(Oo,ja,Zt),ze.sub(Mo,Cr,Zt);var e=Oo.len(),n=Mo.len();if(!(e<.001||n<.001)){Oo.scale(1/e),Mo.scale(1/n);var i=Oo.dot(Mo),a=Math.cos(t);if(a<i){var o=Z_(Zt.x,Zt.y,Cr.x,Cr.y,ja.x,ja.y,K_,!1);$n.fromArray(K_),$n.scaleAndAdd(Mo,o/Math.tan(Math.PI-t));var s=Cr.x!==Zt.x?($n.x-Zt.x)/(Cr.x-Zt.x):($n.y-Zt.y)/(Cr.y-Zt.y);if(isNaN(s))return;s<0?ze.copy($n,Zt):s>1&&ze.copy($n,Cr),$n.toArray(r[1])}}}}function Xxe(r,t,e){if(e<=180&&e>0){e=e/180*Math.PI,ja.fromArray(r[0]),Zt.fromArray(r[1]),Cr.fromArray(r[2]),ze.sub(Oo,Zt,ja),ze.sub(Mo,Cr,Zt);var n=Oo.len(),i=Mo.len();if(!(n<.001||i<.001)){Oo.scale(1/n),Mo.scale(1/i);var a=Oo.dot(t),o=Math.cos(e);if(a<o){var s=Z_(Zt.x,Zt.y,Cr.x,Cr.y,ja.x,ja.y,K_,!1);$n.fromArray(K_);var l=Math.PI/2,u=Math.acos(Mo.dot(t)),c=l+u-e;if(c>=l)ze.copy($n,Cr);else{$n.scaleAndAdd(Mo,s/Math.tan(Math.PI/2-c));var f=Cr.x!==Zt.x?($n.x-Zt.x)/(Cr.x-Zt.x):($n.y-Zt.y)/(Cr.y-Zt.y);if(isNaN(f))return;f<0?ze.copy($n,Zt):f>1&&ze.copy($n,Cr)}$n.toArray(r[1])}}}}function sE(r,t,e,n){var i=e==="normal",a=i?r:r.ensureState(e);a.ignore=t;var o=n.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();i?r.useStyle(s):a.style=s}function $xe(r,t){var e=t.smooth,n=t.points;if(n)if(r.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var i=Fs(n[0],n[1]),a=Fs(n[1],n[2]);if(!i||!a){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var o=Math.min(i,a)*e,s=I0([],n[1],n[0],o/i),l=I0([],n[1],n[2],o/a),u=I0([],s,l,.5);r.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),r.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)r.lineTo(n[c][0],n[c][1])}function Rk(r,t,e){var n=r.getTextGuideLine(),i=r.getTextContent();if(!i){n&&r.removeTextGuideLine();return}for(var a=t.normal,o=a.get("show"),s=i.ignore,l=0;l<rg.length;l++){var u=rg[l],c=t[u],f=u==="normal";if(c){var d=c.get("show"),h=f?s:Ie(i.states[u]&&i.states[u].ignore,s);if(h||!Ie(d,o)){var v=f?n:n&&n.states[u];v&&(v.ignore=!0),n&&sE(n,!0,u,c);continue}n||(n=new pn,r.setTextGuideLine(n),!f&&(s||!o)&&sE(n,!0,"normal",t.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),sE(n,!1,u,c)}}if(n){ke(n.style,e),n.style.fill=null;var g=a.get("showAbove"),m=r.textGuideLineConfig=r.textGuideLineConfig||{};m.showAbove=g||!1,n.buildPath=$xe}}function Pk(r,t){t=t||"labelLine";for(var e={normal:r.getModel(t)},n=0;n<Qn.length;n++){var i=Qn[n];e[i]=r.getModel([i,t])}return e}var VH=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],jxe=1,Q_=2,eee=jxe|Q_;function J_(r,t,e){e=e||eee,t?r.dirty|=e:r.dirty&=~e}function tee(r,t){return t=t||eee,r.dirty==null||!!(r.dirty&t)}function Uo(r){if(r)return tee(r)&&ree(r,r.label,r),r}function ree(r,t,e){var n=t.getComputedTransform();r.transform=GB(r.transform,n);var i=r.localRect=ag(r.localRect,t.getBoundingRect()),a=t.style,o=a.margin,s=e&&e.marginForce,l=e&&e.minMarginForce,u=e&&e.marginDefault,c=a.__marginType;c==null&&u&&(o=u,c=id.textMargin);for(var f=0;f<4;f++)lE[f]=c===id.minMargin&&l&&l[f]!=null?l[f]:s&&s[f]!=null?s[f]:o?o[f]:0;c===id.textMargin&&cf(i,lE,!1,!1);var d=r.rect=ag(r.rect,i);return n&&d.applyTransform(n),c===id.minMargin&&cf(d,lE,!1,!1),r.axisAligned=HB(n),(r.label=r.label||{}).ignore=t.ignore,J_(r,!1),J_(r,!0,Q_),r}var lE=[0,0,0,0];function Zxe(r,t,e){return r.transform=GB(r.transform,e),r.localRect=ag(r.localRect,t),r.rect=ag(r.rect,t),e&&r.rect.applyTransform(e),r.axisAligned=HB(e),r.obb=void 0,(r.label=r.label||{}).ignore=!1,r}function hP(r,t){if(r){r.label.x+=t.x,r.label.y+=t.y,r.label.markRedraw();var e=r.transform;e&&(e[4]+=t.x,e[5]+=t.y);var n=r.rect;n&&(n.x+=t.x,n.y+=t.y);var i=r.obb;i&&i.fromBoundingRect(r.localRect,e)}}function dP(r,t){for(var e=0;e<VH.length;e++){var n=VH[e];r[n]==null&&(r[n]=t[n])}return Uo(r)}function zH(r){var t=r.obb;return(!t||tee(r,Q_))&&(r.obb=t=t||new MK,t.fromBoundingRect(r.localRect,r.transform),J_(r,!1,Q_)),t}function vP(r,t,e,n,i){var a=r.length,o=qe[t],s=Or[t];if(a<2)return!1;r.sort(function(M,D){return M.rect[o]-D.rect[o]});for(var l=0,u,c=!1,f=0;f<a;f++){var d=r[f],h=d.rect;u=h[o]-l,u<0&&(h[o]-=u,d.label[o]-=u,c=!0),l=h[o]+h[s]}var v=r[0],g=r[a-1],m,x;_(),m<0&&T(-m,.8),x<0&&T(x,.8),_(),b(m,x,1),b(x,m,-1),_(),m<0&&A(-m),x<0&&A(x);function _(){m=v.rect[o]-e,x=n-g.rect[o]-g.rect[s]}function b(M,D,P){if(M<0){var I=Math.min(D,-M);if(I>0){w(I*P,0,a);var R=I+M;R<0&&T(-R*P,1)}else T(-M*P,1)}}function w(M,D,P){M!==0&&(c=!0);for(var I=D;I<P;I++){var R=r[I],k=R.rect;k[o]+=M,R.label[o]+=M}}function T(M,D){for(var P=[],I=0,R=1;R<a;R++){var k=r[R-1].rect,O=Math.max(r[R].rect[o]-k[o]-k[s],0);P.push(O),I+=O}if(I){var V=Math.min(Math.abs(M)/I,D);if(M>0)for(var R=0;R<a-1;R++){var N=P[R]*V;w(N,0,R+1)}else for(var R=a-1;R>0;R--){var N=P[R-1]*V;w(-N,R,a)}}}function A(M){var D=M<0?-1:1;M=Math.abs(M);for(var P=Math.ceil(M/(a-1)),I=0;I<a-1;I++)if(D>0?w(P,0,I+1):w(-P,a-I-1,a),M-=P,M<=0)return}return c}function Kxe(r){for(var t=0;t<r.length;t++){var e=r[t],n=e.defaultAttr,i=e.labelLine;e.label.attr("ignore",n.ignore),i&&i.attr("ignore",n.labelGuideIgnore)}}function nee(r){var t=[];r.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function e(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var n=0;n<r.length;n++){var i=Uo(r[n]);if(!i.label.ignore){for(var a=i.label,o=i.labelLine,s=!1,l=0;l<t.length;l++)if(RS(i,t[l],null,{touchThreshold:.05})){s=!0;break}s?(e(a),o&&e(o)):t.push(i)}}}function RS(r,t,e,n){return!r||!t||r.label&&r.label.ignore||t.label&&t.label.ignore||!r.rect.intersect(t.rect,e,n)?!1:r.axisAligned&&t.axisAligned?!0:zH(r).intersect(zH(t),e,n)}function Qxe(r){if(r){for(var t=[],e=0;e<r.length;e++)t.push(r[e].slice());return t}}function Jxe(r,t){var e=r.label,n=t&&t.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:Qxe(n&&n.shape.points)}}var FH=["align","verticalAlign","width","height","fontSize"],qn=new Ws,uE=ot(),e_e=ot();function x1(r,t,e){for(var n=0;n<e.length;n++){var i=e[n];t[i]!=null&&(r[i]=t[i])}}var _1=["x","y","rotation"],t_e=(function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(t,e,n,i,a){var o=i.style,s=i.__hostTarget,l=s.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();Fe.applyTransform(c,c,u),u?qn.setLocalTransform(u):(qn.x=qn.y=qn.rotation=qn.originX=qn.originY=0,qn.scaleX=qn.scaleY=1),qn.rotation=Fi(qn.rotation);var f=i.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();Fe.applyTransform(d,d,h)}var v=d&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:n,dataIndex:t,dataType:e,layoutOptionOrCb:a,layoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:qn.x,y:qn.y,scaleX:qn.scaleX,scaleY:qn.scaleY,rotation:qn.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},r.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(Re(i)||ht(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=He(a);o&&!o.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,n,o,i)})},r.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(b,w){return function(){NH(b,w)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;Re(o.layoutOptionOrCb)?c=o.layoutOptionOrCb(Jxe(o,l)):c=o.layoutOptionOrCb,c=c||{},o.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=_e(c.x,e),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=_e(c.y,n),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var v=uE(s);v.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var g=0;g<FH.length;g++){var m=FH[g];s.setStyle(m,c[m]!=null?c[m]:u.style[m])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var x=o.seriesModel;if(o.dataIndex!=null){var _=o.seriesModel.getData(o.dataType);x=_.getItemModel(o.dataIndex)}s.on("drag",i(l,x.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},r.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),i=[];z(this._labelList,function(l){l.defaultAttr.ignore||i.push(dP({},l))});var a=Tt(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=Tt(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});vP(a,0,0,e),vP(o,1,0,n);var s=Tt(i,function(l){return l.layoutOption.hideOverlap});Kxe(s),nee(s)},r.prototype.processLabelsOverall=function(){var t=this;z(this._chartViewList,function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,a=n.isAnimationEnabled();e.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,l=o.getTextContent();!s&&l&&(s=uE(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,n),a&&t._animateLabels(o,n)})})},r.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=He(t),a=i.dataIndex;if(n&&a!=null){var o=e.getData(i.dataType),s=o.getItemModel(a),l={},u=o.getItemVisual(a,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");Rk(t,Pk(s),l),NH(t,f)}},r.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!fd(t))){var a=uE(n),o=a.oldLayout,s=He(t),l=s.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=e.getData(s.dataType);if(o){n.attr(o);var d=t.prevStates;d&&(Ze(d,"select")>=0&&n.attr(a.oldLayoutSelect),Ze(d,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),bt(n,u,e,l)}else if(n.attr(u),!Ud(n).valueAnimation){var f=Ie(n.style.opacity,1);n.style.opacity=0,Kt(n,{style:{opacity:f}},e,l)}if(a.oldLayout=u,n.states.select){var h=a.oldLayoutSelect={};x1(h,u,_1),x1(h,n.states.select,_1)}if(n.states.emphasis){var v=a.oldLayoutEmphasis={};x1(v,u,_1),x1(v,n.states.emphasis,_1)}zK(n,l,c,e,e)}if(i&&!i.ignore&&!i.invisible){var a=e_e(i),o=a.oldLayout,g={points:i.shape.points};o?(i.attr({shape:o}),bt(i,{shape:g},e)):(i.setShape(g),i.style.strokePercent=0,Kt(i,{style:{strokePercent:1}},e)),a.oldLayout=g}},r})(),cE=ot();function r_e(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var i=cE(e).labelManager;i||(i=cE(e).labelManager=new t_e),i.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var i=cE(e).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}var fE=Math.sin,hE=Math.cos,iee=Math.PI,bc=Math.PI*2,n_e=180/iee,aee=(function(){function r(){}return r.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},r.prototype.moveTo=function(t,e){this._add("M",t,e)},r.prototype.lineTo=function(t,e){this._add("L",t,e)},r.prototype.bezierCurveTo=function(t,e,n,i,a,o){this._add("C",t,e,n,i,a,o)},r.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},r.prototype.arc=function(t,e,n,i,a,o){this.ellipse(t,e,n,n,0,i,a,o)},r.prototype.ellipse=function(t,e,n,i,a,o,s,l){var u=s-o,c=!l,f=Math.abs(u),d=Jl(f-bc)||(c?u>=bc:-u>=bc),h=u>0?u%bc:u%bc+bc,v=!1;d?v=!0:Jl(f)?v=!1:v=h>=iee==!!c;var g=t+n*hE(o),m=e+i*fE(o);this._start&&this._add("M",g,m);var x=Math.round(a*n_e);if(d){var _=1/this._p,b=(c?1:-1)*(bc-_);this._add("A",n,i,x,1,+c,t+n*hE(o+b),e+i*fE(o+b)),_>.01&&this._add("A",n,i,x,0,+c,g,m)}else{var w=t+n*hE(s),T=e+i*fE(s);this._add("A",n,i,x,+v,+c,w,T)}},r.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(t,e,n,i,a,o,s,l,u){for(var c=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}c.push(Math.round(h*f)/f)}this._d.push(t+c.join(" ")),this._start=t==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r})(),Ok="none",i_e=Math.round;function a_e(r){var t=r.fill;return t!=null&&t!==Ok}function o_e(r){var t=r.stroke;return t!=null&&t!==Ok}var pP=["lineCap","miterLimit","lineJoin"],s_e=he(pP,function(r){return"stroke-"+r.toLowerCase()});function l_e(r,t,e,n){var i=t.opacity==null?1:t.opacity;if(e instanceof nn){r("opacity",i);return}if(a_e(t)){var a=eg(t.fill);r("fill",a.color);var o=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;o<1&&r("fill-opacity",o)}else r("fill",Ok);if(o_e(t)){var s=eg(t.stroke);r("stroke",s.color);var l=t.strokeNoScale?e.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*i:s.opacity*i,f=t.strokeFirst;if(u!==1&&r("stroke-width",u),f&&r("paint-order",f?"stroke":"fill"),c<1&&r("stroke-opacity",c),t.lineDash){var d=vk(e),h=d[0],v=d[1];h&&(v=i_e(v||0),r("stroke-dasharray",h.join(",")),(v||n)&&r("stroke-dashoffset",v))}for(var g=0;g<pP.length;g++){var m=pP[g];if(t[m]!==E_[m]){var x=t[m]||E_[m];x&&r(s_e[g],x)}}}}var oee="http://www.w3.org/2000/svg",see="http://www.w3.org/1999/xlink",u_e="http://www.w3.org/2000/xmlns/",c_e="http://www.w3.org/XML/1998/namespace",HH="ecmeta_";function lee(r){return document.createElementNS(oee,r)}function Qr(r,t,e,n,i){return{tag:r,attrs:e||{},children:n,text:i,key:t}}function f_e(r,t){var e=[];if(t)for(var n in t){var i=t[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),e.push(a))}return"<"+r+" "+e.join(" ")+">"}function h_e(r){return"</"+r+">"}function Bk(r,t){t=t||{};var e=t.newline?`
`:"";function n(i){var a=i.children,o=i.tag,s=i.attrs,l=i.text;return f_e(o,s)+(o!=="style"?zn(l):l||"")+(a?""+e+he(a,function(u){return n(u)}).join(e)+e:"")+h_e(o)}return n(r)}function d_e(r,t,e){e=e||{};var n=e.newline?`
`:"",i=" {"+n,a=n+"}",o=he(ht(r),function(l){return l+i+he(ht(r[l]),function(u){return u+":"+r[l][u]+";"}).join(n)+a}).join(n),s=he(ht(t),function(l){return"@keyframes "+l+i+he(ht(t[l]),function(u){return u+i+he(ht(t[l][u]),function(c){var f=t[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(n)+a}).join(n)+a}).join(n);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(n)}function gP(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function GH(r,t,e,n){return Qr("svg","root",{width:r,height:t,xmlns:oee,"xmlns:xlink":see,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+t:!1},e)}var v_e=0;function uee(){return v_e++}var WH={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Mc="transform-origin";function p_e(r,t,e){var n=oe({},r.shape);oe(n,t),r.buildPath(e,n);var i=new aee;return i.reset(EZ(r)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function g_e(r,t){var e=t.originX,n=t.originY;(e||n)&&(r[Mc]=e+"px "+n+"px")}var y_e={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function cee(r,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=r,e}function m_e(r,t,e){var n=r.shape.paths,i={},a,o;if(z(n,function(l){var u=gP(e.zrId);u.animation=!0,PS(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,d=ht(c),h=d.length;if(h){o=d[h-1];var v=c[o];for(var g in v){var m=v[g];i[g]=i[g]||{d:""},i[g].d+=m.d||""}for(var x in f){var _=f[x].animation;_.indexOf(o)>=0&&(a=_)}}}),!!a){t.d=!1;var s=cee(i,e);return a.replace(o,s)}}function UH(r){return be(r)?WH[r]?"cubic-bezier("+WH[r]+")":gB(r)?r:"":""}function PS(r,t,e,n){var i=r.animators,a=i.length,o=[];if(r instanceof Jg){var s=m_e(r,t,e);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],d=UH(c.getClip().easing),h=c.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),c.getLoop()&&f.push("infinite");var v=f.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(c)}function g(_){var b=_[1],w=b.length,T={},A={},M={},D="animation-timing-function";function P(de,ge,Ce){for(var xe=de.getTracks(),we=de.getMaxTime(),Pe=0;Pe<xe.length;Pe++){var De=xe[Pe];if(De.needsAnimate()){var Ae=De.keyframes,Xe=De.propName;if(Ce&&(Xe=Ce(Xe)),Xe)for(var Ne=0;Ne<Ae.length;Ne++){var St=Ae[Ne],tt=Math.round(St.time/we*100)+"%",wt=UH(St.easing),xt=St.rawValue;(be(xt)||yt(xt))&&(ge[tt]=ge[tt]||{},ge[tt][Xe]=St.rawValue,wt&&(ge[tt][D]=wt))}}}}for(var I=0;I<w;I++){var R=b[I],k=R.targetName;k?k==="shape"&&P(R,A):!n&&P(R,T)}for(var O in T){var V={};A_(V,r),oe(V,T[O]);var N=IZ(V),L=T[O][D];M[O]=N?{transform:N}:{},g_e(M[O],V),L&&(M[O][D]=L)}var G,W=!0;for(var O in A){M[O]=M[O]||{};var U=!G,L=A[O][D];U&&(G=new Go);var Z=G.len();G.reset(),M[O].d=p_e(r,A[O],G);var F=G.len();if(!U&&Z!==F){W=!1;break}L&&(M[O][D]=L)}if(!W)for(var O in M)delete M[O].d;if(!n)for(var I=0;I<w;I++){var R=b[I],k=R.targetName;k==="style"&&P(R,M,function(xe){return y_e[xe]})}for(var q=ht(M),$=!0,K,I=1;I<q.length;I++){var re=q[I-1],ce=q[I];if(M[re][Mc]!==M[ce][Mc]){$=!1;break}K=M[re][Mc]}if($&&K){for(var O in M)M[O][Mc]&&delete M[O][Mc];t[Mc]=K}if(Tt(q,function(de){return ht(M[de]).length>0}).length){var pe=cee(M,e);return pe+" "+_[0]+" both"}}for(var m in l){var s=g(l[m]);s&&o.push(s)}if(o.length){var x=e.zrId+"-cls-"+uee();e.cssNodes["."+x]={animation:o.join(",")},t.class=x}}function x_e(r,t,e){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};qH(n,t,e)}else{var i=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},a=i.fill;if(!a){var o=r.style&&r.style.fill,s=r.states.select&&r.states.select.style&&r.states.select.style.fill,l=r.currentStates.indexOf("select")>=0&&s||o;l&&(a=w_(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&r.transform?r.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),u&&(n["stroke-width"]=u),qH(n,t,e)}}function qH(r,t,e,n){var i=JSON.stringify(r),a=e.cssStyleCache[i];a||(a=e.zrId+"-cls-"+uee(),e.cssStyleCache[i]=a,e.cssNodes["."+a+":hover"]=r),t.class=t.class?t.class+" "+a:a}var vg=Math.round;function fee(r){return r&&be(r.src)}function hee(r){return r&&Re(r.toDataURL)}function kk(r,t,e,n){l_e(function(i,a){var o=i==="fill"||i==="stroke";o&&DZ(a)?vee(t,r,i,n):o&&mB(a)?pee(e,r,i,n):r[i]=a,o&&n.ssr&&a==="none"&&(r["pointer-events"]="visible")},t,e,!1),A_e(e,r,n)}function Lk(r,t){var e=NZ(t);e&&(e.each(function(n,i){n!=null&&(r[(HH+i).toLowerCase()]=n+"")}),t.isSilent()&&(r[HH+"silent"]="true"))}function YH(r){return Jl(r[0]-1)&&Jl(r[1])&&Jl(r[2])&&Jl(r[3]-1)}function __e(r){return Jl(r[4])&&Jl(r[5])}function Nk(r,t,e){if(t&&!(__e(t)&&YH(t))){var n=1e4;r.transform=YH(t)?"translate("+vg(t[4]*n)/n+" "+vg(t[5]*n)/n+")":tve(t)}}function XH(r,t,e){for(var n=r.points,i=[],a=0;a<n.length;a++)i.push(vg(n[a][0]*e)/e),i.push(vg(n[a][1]*e)/e);t.points=i.join(" ")}function $H(r){return!r.smooth}function b_e(r){var t=he(r,function(e){return typeof e=="string"?[e,e]:e});return function(e,n,i){for(var a=0;a<t.length;a++){var o=t[a],s=e[o[0]];s!=null&&(n[o[1]]=vg(s*i)/i)}}}var S_e={circle:[b_e(["cx","cy","r"])],polyline:[XH,$H],polygon:[XH,$H]};function w_e(r){for(var t=r.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function dee(r,t){var e=r.style,n=r.shape,i=S_e[r.type],a={},o=t.animation,s="path",l=r.style.strokePercent,u=t.compress&&EZ(r)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(o&&w_e(r))&&!(l<1)){s=r.type;var c=Math.pow(10,u);i[0](n,a,c)}else{var f=!r.path||r.shapeChanged();r.path||r.createPathProxy();var d=r.path;f&&(d.beginPath(),r.buildPath(d,r.shape),r.pathUpdated());var h=d.getVersion(),v=r,g=v.__svgPathBuilder;(v.__svgPathVersion!==h||!g||l!==v.__svgPathStrokePercent)&&(g||(g=v.__svgPathBuilder=new aee),g.reset(u),d.rebuildPath(g,l),g.generateStr(),v.__svgPathVersion=h,v.__svgPathStrokePercent=l),a.d=g.getStr()}return Nk(a,r.transform),kk(a,e,r,t),Lk(a,r),t.animation&&PS(r,a,t),t.emphasis&&x_e(r,a,t),Qr(s,r.id+"",a)}function C_e(r,t){var e=r.style,n=e.image;if(n&&!be(n)&&(fee(n)?n=n.src:hee(n)&&(n=n.toDataURL())),!!n){var i=e.x||0,a=e.y||0,o=e.width,s=e.height,l={href:n,width:o,height:s};return i&&(l.x=i),a&&(l.y=a),Nk(l,r.transform),kk(l,e,r,t),Lk(l,r),t.animation&&PS(r,l,t),Qr("image",r.id+"",l)}}function T_e(r,t){var e=r.style,n=e.text;if(n!=null&&(n+=""),!(!n||isNaN(e.x)||isNaN(e.y))){var i=e.font||Qs,a=e.x||0,o=nve(e.y||0,jg(i),e.textBaseline),s=rve[e.textAlign]||e.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(uK(e)){var u="",c=e.fontStyle,f=lK(e.fontSize);if(!parseFloat(f))return;var d=e.fontFamily||eZ,h=e.fontWeight;u+="font-size:"+f+";font-family:"+d+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),h&&h!=="normal"&&(u+="font-weight:"+h+";"),l.style=u}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),Nk(l,r.transform),kk(l,e,r,t),Lk(l,r),t.animation&&PS(r,l,t),Qr("text",r.id+"",l,void 0,n)}}function jH(r,t){if(r instanceof lt)return dee(r,t);if(r instanceof nn)return C_e(r,t);if(r instanceof _d)return T_e(r,t)}function A_e(r,t,e){var n=r.style;if(ive(n)){var i=ave(r),a=e.shadowCache,o=a[i];if(!o){var s=r.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=n.shadowOffsetX||0,f=n.shadowOffsetY||0,d=n.shadowBlur,h=eg(n.shadowColor),v=h.opacity,g=h.color,m=d/2/l,x=d/2/u,_=m+" "+x;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=Qr("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Qr("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:_,"flood-color":g,"flood-opacity":v})]),a[i]=o}t.filter=uS(o)}}function vee(r,t,e,n){var i=r[e],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(AZ(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(MZ(i))a="radialGradient",o.cx=Ie(i.x,.5),o.cy=Ie(i.y,.5),o.r=Ie(i.r,.5);else return;for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=dR(s[u].offset)*100+"%",d=s[u].color,h=eg(d),v=h.color,g=h.opacity,m={offset:f};m["stop-color"]=v,g<1&&(m["stop-opacity"]=g),l.push(Qr("stop",u+"",m))}var x=Qr(a,"",o,l),_=Bk(x),b=n.gradientCache,w=b[_];w||(w=n.zrId+"-g"+n.gradientIdx++,b[_]=w,o.id=w,n.defs[w]=Qr(a,w,o,l)),t[e]=uS(w)}function pee(r,t,e,n){var i=r.style[e],a=r.getBoundingRect(),o={},s=i.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(TZ(i)){var d=i.imageWidth,h=i.imageHeight,v=void 0,g=i.image;if(be(g)?v=g:fee(g)?v=g.src:hee(g)&&(v=g.toDataURL()),typeof Image>"u"){var m="Image width/height must been given explictly in svg-ssr renderer.";In(d,m),In(h,m)}else if(d==null||h==null){var x=function(I,R){if(I){var k=I.elm,O=d||R.width,V=h||R.height;I.tag==="pattern"&&(u?(V=1,O/=a.width):c&&(O=1,V/=a.height)),I.attrs.width=O,I.attrs.height=V,k&&(k.setAttribute("width",O),k.setAttribute("height",V))}},_=MB(v,null,r,function(I){l||x(A,I),x(f,I)});_&&_.width&&_.height&&(d=d||_.width,h=h||_.height)}f=Qr("image","img",{href:v,width:d,height:h}),o.width=d,o.height=h}else i.svgElement&&(f=Oe(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(f){var b,w;l?b=w=1:u?(w=1,b=o.width/a.width):c?(b=1,w=o.height/a.height):o.patternUnits="userSpaceOnUse",b!=null&&!isNaN(b)&&(o.width=b),w!=null&&!isNaN(w)&&(o.height=w);var T=IZ(i);T&&(o.patternTransform=T);var A=Qr("pattern","",o,[f]),M=Bk(A),D=n.patternCache,P=D[M];P||(P=n.zrId+"-p"+n.patternIdx++,D[M]=P,o.id=P,A=n.defs[P]=Qr("pattern",P,o,[f])),t[e]=uS(P)}}function M_e(r,t,e){var n=e.clipPathCache,i=e.defs,a=n[r.id];if(!a){a=e.zrId+"-c"+e.clipPathIdx++;var o={id:a};n[r.id]=a,i[a]=Qr("clipPath",a,o,[dee(r,e)])}t["clip-path"]=uS(a)}function ZH(r){return document.createTextNode(r)}function Bc(r,t,e){r.insertBefore(t,e)}function KH(r,t){r.removeChild(t)}function QH(r,t){r.appendChild(t)}function gee(r){return r.parentNode}function yee(r){return r.nextSibling}function dE(r,t){r.textContent=t}var JH=58,D_e=120,E_e=Qr("","");function yP(r){return r===void 0}function Co(r){return r!==void 0}function I_e(r,t,e){for(var n={},i=t;i<=e;++i){var a=r[i].key;a!==void 0&&(n[a]=i)}return n}function y0(r,t){var e=r.key===t.key,n=r.tag===t.tag;return n&&e}function pg(r){var t,e=r.children,n=r.tag;if(Co(n)){var i=r.elm=lee(n);if(Vk(E_e,r),ue(e))for(t=0;t<e.length;++t){var a=e[t];a!=null&&QH(i,pg(a))}else Co(r.text)&&!Le(r.text)&&QH(i,ZH(r.text))}else r.elm=ZH(r.text);return r.elm}function mee(r,t,e,n,i){for(;n<=i;++n){var a=e[n];a!=null&&Bc(r,pg(a),t)}}function eb(r,t,e,n){for(;e<=n;++e){var i=t[e];if(i!=null)if(Co(i.tag)){var a=gee(i.elm);KH(a,i.elm)}else KH(r,i.elm)}}function Vk(r,t){var e,n=t.elm,i=r&&r.attrs||{},a=t.attrs||{};if(i!==a){for(e in a){var o=a[e],s=i[e];s!==o&&(o===!0?n.setAttribute(e,""):o===!1?n.removeAttribute(e):e==="style"?n.style.cssText=o:e.charCodeAt(0)!==D_e?n.setAttribute(e,o):e==="xmlns:xlink"||e==="xmlns"?n.setAttributeNS(u_e,e,o):e.charCodeAt(3)===JH?n.setAttributeNS(c_e,e,o):e.charCodeAt(5)===JH?n.setAttributeNS(see,e,o):n.setAttribute(e,o))}for(e in i)e in a||n.removeAttribute(e)}}function R_e(r,t,e){for(var n=0,i=0,a=t.length-1,o=t[0],s=t[a],l=e.length-1,u=e[0],c=e[l],f,d,h,v;n<=a&&i<=l;)o==null?o=t[++n]:s==null?s=t[--a]:u==null?u=e[++i]:c==null?c=e[--l]:y0(o,u)?(Kh(o,u),o=t[++n],u=e[++i]):y0(s,c)?(Kh(s,c),s=t[--a],c=e[--l]):y0(o,c)?(Kh(o,c),Bc(r,o.elm,yee(s.elm)),o=t[++n],c=e[--l]):y0(s,u)?(Kh(s,u),Bc(r,s.elm,o.elm),s=t[--a],u=e[++i]):(yP(f)&&(f=I_e(t,n,a)),d=f[u.key],yP(d)?Bc(r,pg(u),o.elm):(h=t[d],h.tag!==u.tag?Bc(r,pg(u),o.elm):(Kh(h,u),t[d]=void 0,Bc(r,h.elm,o.elm))),u=e[++i]);(n<=a||i<=l)&&(n>a?(v=e[l+1]==null?null:e[l+1].elm,mee(r,v,e,i,l)):eb(r,t,n,a))}function Kh(r,t){var e=t.elm=r.elm,n=r.children,i=t.children;r!==t&&(Vk(r,t),yP(t.text)?Co(n)&&Co(i)?n!==i&&R_e(e,n,i):Co(i)?(Co(r.text)&&dE(e,""),mee(e,null,i,0,i.length-1)):Co(n)?eb(e,n,0,n.length-1):Co(r.text)&&dE(e,""):r.text!==t.text&&(Co(n)&&eb(e,n,0,n.length-1),dE(e,t.text)))}function P_e(r,t){if(y0(r,t))Kh(r,t);else{var e=r.elm,n=gee(e);pg(t),n!==null&&(Bc(n,t.elm,yee(e)),eb(n,[r],0,0))}return t}var O_e=0,B_e=(function(){function r(t,e,n){if(this.type="svg",this.refreshHover=eG(),this.configLayer=eG(),this.storage=e,this._opts=n=oe({},n),this.root=t,this._id="zr"+O_e++,this._oldVNode=GH(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=lee("svg");Vk(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",P_e(this._oldVNode,t),this._oldVNode=t}},r.prototype.renderOneToVNode=function(t){return jH(t,gP(this._id))},r.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=gP(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var o=[],s=this._bgVNode=k_e(n,i,this._backgroundColor,a);s&&o.push(s);var l=t.compress?null:this._mainVNode=Qr("g","main",{},[]);this._paintList(e,a,l?l.children:o),l&&o.push(l);var u=he(ht(a.defs),function(d){return a.defs[d]});if(u.length&&o.push(Qr("defs","defs",{},u)),t.animation){var c=d_e(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=Qr("style","stl",{},[],c);o.push(f)}}return GH(n,i,o,t.useViewBox)},r.prototype.renderToString=function(t){return t=t||{},Bk(this.renderToVNode({animation:Ie(t.cssAnimation,!0),emphasis:Ie(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Ie(t.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(t,e,n){for(var i=t.length,a=[],o=0,s,l,u=0,c=0;c<i;c++){var f=t[c];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,v=l&&l.length||0,g=void 0;for(g=Math.max(h-1,v-1);g>=0&&!(d&&l&&d[g]===l[g]);g--);for(var m=v-1;m>g;m--)o--,s=a[o-1];for(var x=g+1;x<h;x++){var _={};M_e(d[x],_,e);var b=Qr("g","clip-g-"+u++,_,[]);(s?s.children:n).push(b),a[o++]=b,s=b}l=d;var w=jH(f,e);w&&(s?s.children:n).push(w)}}},r.prototype.resize=function(t,e){var n=this._opts,i=this.root,a=this._viewport;if(t!=null&&(n.width=t),e!=null&&(n.height=e),i&&a&&(a.style.display="none",t=od(i,0,n),e=od(i,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var o=a.style;o.width=t+"px",o.height=e+"px"}if(mB(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=sve(e),e&&n+"base64,"+e):n+"charset=UTF-8,"+encodeURIComponent(e)},r})();function eG(r){return function(){}}function k_e(r,t,e,n){var i;if(e&&e!=="none")if(i=Qr("rect","bg",{width:r,height:t,x:"0",y:"0"}),DZ(e))vee({fill:e},i.attrs,"fill",n);else if(mB(e))pee({style:{fill:e},dirty:gr,getBoundingRect:function(){return{width:r,height:t}}},i.attrs,"fill",n);else{var a=eg(e),o=a.color,s=a.opacity;i.attrs.fill=o,s<1&&(i.attrs["fill-opacity"]=s)}return i}function L_e(r){r.registerPainter("svg",B_e)}function tG(r,t,e){var n=yi.createCanvas(),i=t.getWidth(),a=t.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",r)),n.width=i*e,n.height=a*e,n}var vE=(function(r){J(t,r);function t(e,n,i){var a=r.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||T_,typeof e=="string"?o=tG(e,n,i):Le(e)&&(o=e,e=o.id),a.id=e,a.dom=o;var s=o.style;return s&&(dB(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=tG("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Fe(0,0,0,0);function c(_){if(!(!_.isFinite()||_.isZero()))if(o.length===0){var b=new Fe(0,0,0,0);b.copy(_),o.push(b)}else{for(var w=!1,T=1/0,A=0,M=0;M<o.length;++M){var D=o[M];if(D.intersect(_)){var P=new Fe(0,0,0,0);P.copy(D),P.union(_),o[M]=P,w=!0;break}else if(l){u.copy(_),u.union(D);var I=_.width*_.height,R=D.width*D.height,k=u.width*u.height,O=k-I-R;O<T&&(T=O,A=M)}}if(l&&(o[A].union(_),w=!0),!w){var b=new Fe(0,0,0,0);b.copy(_),o.push(b)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=e[f];if(d){var h=d.shouldBePainted(i,a,!0,!0),v=d.__isRendered&&(d.__dirty&Li||!h)?d.getPrevPaintRect():null;v&&c(v);var g=h&&(d.__dirty&Li||!d.__isRendered)?d.getPaintRect():null;g&&c(g)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=n[f],h=d&&d.shouldBePainted(i,a,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var v=d.getPrevPaintRect();v&&c(v)}}var m;do{m=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var x=f+1;x<o.length;)o[f].intersect(o[x])?(m=!0,o[f].union(o[x]),o.splice(x,1)):x++;f++}}while(m);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=e+"px",o.height=n+"px"),a.width=e*i,a.height=n*i,s&&(s.width=e*i,s.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,n,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!e,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,l/f));var h=this.domBack;function v(g,m,x,_){if(o.clearRect(g,m,x,_),n&&n!=="transparent"){var b=void 0;if(Ug(n)){var w=n.global||n.__width===x&&n.__height===_;b=w&&n.__canvasGradient||JR(o,n,{x:0,y:0,width:x,height:_}),n.__canvasGradient=b,n.__width=x,n.__height=_}else iZ(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,b=eP(o,n,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));o.save(),o.fillStyle=b||n,o.fillRect(g,m,x,_),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(h,g,m,x,_),o.restore())}!i||u?v(0,0,s,l):i.length&&z(i,function(g){v(g.x*f,g.y*f,g.width*f,g.height*f)})},t})(Ia),rG=1e5,Sc=314159,b1=.01,N_e=.001;function V_e(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function z_e(r,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+r+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var F_e=(function(){function r(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=oe({},n||{}),this.dpr=n.devicePixelRatio||T_,this._singleCanvas=a,this.root=t;var o=t.style;o&&(dB(t),t.innerHTML=""),this.storage=e;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=t,f=c.width,d=c.height;n.width!=null&&(f=n.width),n.height!=null&&(d=n.height),this.dpr=n.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new vE(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[Sc]=h,h.zlevel=Sc,s.push(Sc),this._domRoot=t}else{this._width=od(t,0,n),this._height=od(t,1,n);var u=this._domRoot=z_e(this._width,this._height);t.appendChild(u)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},r.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),!!e){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<e;o++){var s=t[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(rG)),a||(a=n.ctx,a.save()),qc(a,s,i,o===e-1))}a&&a.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(rG)},r.prototype.paintOne=function(t,e){pk(t,e)},r.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;x_(function(){l._paintList(t,e,n,i)})}}},r.prototype._compositeManually=function(){var t=this.getLayer(Sc).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)})},r.prototype._doPaintList=function(t,e,n){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,f=!1,d=function(g){var m=a[g],x=m.ctx,_=o&&m.createRepaintRects(t,e,h._width,h._height),b=n?m.__startIndex:m.__drawIndex,w=!n&&m.incremental&&Date.now,T=w&&Date.now(),A=m.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,A,_);else if(b===m.__startIndex){var M=t[b];(!M.incremental||!M.notClear||n)&&m.clear(!1,A,_)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=m.__startIndex);var D,P=function(O){var V={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(D=b;D<m.__endIndex;D++){var N=t[D];if(N.__inHover&&(f=!0),i._doPaintEl(N,m,o,O,V,D===m.__endIndex-1),w){var L=Date.now()-T;if(L>15)break}}V.prevElClipPaths&&x.restore()};if(_)if(_.length===0)D=m.__endIndex;else for(var I=h.dpr,R=0;R<_.length;++R){var k=_[R];x.save(),x.beginPath(),x.rect(k.x*I,k.y*I,k.width*I,k.height*I),x.clip(),P(k),x.restore()}else x.save(),P(),x.restore();m.__drawIndex=D,m.__drawIndex<m.__endIndex&&(c=!1)},h=this,v=0;v<a.length;v++)d(v);return ut.wxa&&z(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:f}},r.prototype._doPaintEl=function(t,e,n,i,a,o){var s=e.ctx;if(n){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(qc(s,t,a,o),t.setPrevPaintRect(l))}else qc(s,t,a,o)},r.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Sc);var n=this._layers[t];return n||(n=new vE("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Ke(n,this._layerConfig[t],!0):this._layerConfig[t-b1]&&Ke(n,this._layerConfig[t-b1],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},r.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!n[t]&&V_e(e)){if(a>0&&t>i[0]){for(l=0;l<a-1&&!(i[l]<t&&i[l+1]>t);l++);s=n[i[l]]}if(i.splice(l+1,0,t),n[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(e.dom,u.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.painter||(e.painter=this)}},r.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];t.call(e,this._layers[a],a)}},r.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__&&t.call(e,o,a)}},r.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],o=this._layers[a];o.__builtin__||t.call(e,o,a)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function e(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<t.length;l++){var i=t[l],u=i.zlevel,c=void 0;s!==u&&(s=u,o=0),i.incremental?(c=this.getLayer(u+N_e,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?b1:0),this._needsManuallyCompositing),c.__builtin__||iS("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,e(l),a=c),i.__dirty&Li&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}e(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(t){t.clear()},r.prototype.setBackgroundColor=function(t){this._backgroundColor=t,z(this._layers,function(e){e.setUnpainted()})},r.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?Ke(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+b1){var o=this._layers[a];Ke(o,n[t],!0)}}}},r.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(Ze(n,t),1))},r.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),e!=null&&(i.height=e),t=od(a,0,i),e=od(a,1,i),n.style.display="",this._width!==t||e!==this._height){n.style.width=t+"px",n.style.height=e+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(Sc).resize(t,e)}return this},r.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Sc].dom;var e=new vE("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,a=e.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];qc(n,c,o,l===u-1)}return e.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r})();function H_e(r){r.registerPainter("canvas",F_e)}var G_e=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return jo(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new Be,i=Dr("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(i),i.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=e.itemHeight*.8,u=Dr(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);n.add(u),u.setStyle(e.itemStyle);var c=e.iconRotate==="inherit"?o:e.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=te.color.neutral00,u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t})(Vt);function Md(r,t){var e=r.mapDimensionsAll("defaultedLabel"),n=e.length;if(n===1){var i=wd(r,t,e[0]);return i!=null?i+"":null}else if(n){for(var a=[],o=0;o<e.length;o++)a.push(wd(r,t,e[o]));return a.join(" ")}}function xee(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!ue(t))return t+"";for(var n=[],i=0;i<e.length;i++){var a=r.getDimensionIndex(e[i]);a>=0&&n.push(t[a])}return n.join(" ")}var ay=(function(r){J(t,r);function t(e,n,i,a){var o=r.call(this)||this;return o.updateData(e,n,i,a),o}return t.prototype._createSymbol=function(e,n,i,a,o,s){this.removeAll();var l=Dr(e,-1,-1,2,2,null,s);l.attr({z2:Ie(o,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=W_e,this._symbolType=e,this.add(l)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){el(this.childAt(0))},t.prototype.downplay=function(){tl(this.childAt(0))},t.prototype.setZ=function(e,n){var i=this.childAt(0);i.zlevel=e,i.z=n},t.prototype.setDraggable=function(e,n){var i=this.childAt(0);i.draggable=e,i.cursor=!n&&e?"move":i.cursor},t.prototype.updateData=function(e,n,i,a){this.silent=!1;var o=e.getItemVisual(n,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,n),u=t.getSymbolZ2(e,n),c=o!==this._symbolType,f=a&&a.disableAnimation;if(c){var d=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,e,n,l,u,d)}else{var h=this.childAt(0);h.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};f?h.attr(v):bt(h,v,s,n),Ta(h)}if(this._updateCommon(e,n,l,i,a),c){var h=this.childAt(0);if(!f){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Kt(h,v,s,n)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,i,a,o){var s=this.childAt(0),l=e.hostModel,u,c,f,d,h,v,g,m,x;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,d=a.focus,h=a.blurScope,g=a.labelStatesModels,m=a.hoverScale,x=a.cursorStyle,v=a.emphasisDisabled),!a||e.hasItemOption){var _=a&&a.itemModel?a.itemModel:e.getItemModel(n),b=_.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),f=_.getModel(["select","itemStyle"]).getItemStyle(),c=_.getModel(["blur","itemStyle"]).getItemStyle(),d=b.get("focus"),h=b.get("blurScope"),v=b.get("disabled"),g=Ur(_),m=b.getShallow("scale"),x=_.getShallow("cursor")}var w=e.getItemVisual(n,"symbolRotate");s.attr("rotation",(w||0)*Math.PI/180||0);var T=Df(e.getItemVisual(n,"symbolOffset"),i);T&&(s.x=T[0],s.y=T[1]),x&&s.attr("cursor",x);var A=e.getItemVisual(n,"style"),M=A.fill;if(s instanceof nn){var D=s.style;s.useStyle(oe({image:D.image,x:D.x,y:D.y,width:D.width,height:D.height},A))}else s.__isEmptyBrush?s.useStyle(oe({},A)):s.useStyle(A),s.style.decal=null,s.setColor(M,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var P=e.getItemVisual(n,"liftZ"),I=this._z2;P!=null?I==null&&(this._z2=s.z2,s.z2+=P):I!=null&&(s.z2=I,this._z2=null);var R=o&&o.useNameLabel;tn(s,g,{labelFetcher:l,labelDataIndex:n,defaultText:k,inheritColor:M,defaultOpacity:A.opacity});function k(N){return R?e.getName(N):Md(e,N)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var O=s.ensureState("emphasis");O.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var V=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;O.scaleX=this._sizeX*V,O.scaleY=this._sizeY*V,this.setSymbolScale(1),or(this,d,h,v)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,i){var a=this.childAt(0),o=He(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&xu(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();xu(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,n){return Zd(e.getItemVisual(n,"symbolSize"))},t.getSymbolZ2=function(e,n){return e.getItemVisual(n,"z2")},t})(Be);function W_e(r,t){this.parent.drift(r,t)}function pE(r,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function nG(r){return r!=null&&!Le(r)&&(r={isIgnore:r}),r||{}}function iG(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Ur(t),cursorStyle:t.get("cursor")}}var oy=(function(){function r(t){this.group=new Be,this._SymbolCtor=t||ay}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=nG(e);var n=this.group,i=t.hostModel,a=this._data,o=this._SymbolCtor,s=e.disableAnimation,l=iG(t),u={disableAnimation:s},c=e.getSymbolPoint||function(f){return t.getItemLayout(f)};a||n.removeAll(),t.diff(a).add(function(f){var d=c(f);if(pE(t,d,f,e)){var h=new o(t,f,l,u);h.setPosition(d),t.setItemGraphicEl(f,h),n.add(h)}}).update(function(f,d){var h=a.getItemGraphicEl(d),v=c(f);if(!pE(t,v,f,e)){n.remove(h);return}var g=t.getItemVisual(f,"symbol")||"circle",m=h&&h.getSymbolType&&h.getSymbolType();if(!h||m&&m!==g)n.remove(h),h=new o(t,f,l,u),h.setPosition(v);else{h.updateData(t,f,l,u);var x={x:v[0],y:v[1]};s?h.attr(x):bt(h,x,i)}n.add(h),t.setItemGraphicEl(f,h)}).remove(function(f){var d=a.getItemGraphicEl(f);d&&d.fadeOut(function(){n.remove(d)},i)}).execute(),this._getSymbolPoint=c,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=iG(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,n){this._progressiveEls=[],n=nG(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var o=e.getItemLayout(a);if(pE(e,o,a,n)){var s=new this._SymbolCtor(e,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(t){Mu(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},n.hostModel)}):e.removeAll()},r})();function _ee(r,t,e){var n=r.getBaseAxis(),i=r.getOtherAxis(n),a=U_e(i,e),o=n.dim,s=i.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=he(r.dimensions,function(v){return t.mapDimension(v)}),d=!1,h=t.getCalculationInfo("stackResultDimension");return nl(t,f[0])&&(d=!0,f[0]=h),nl(t,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function U_e(r,t){var e=0,n=r.scale.getExtent();return t==="start"?e=n[0]:t==="end"?e=n[1]:yt(t)&&!isNaN(t)?e=t:n[0]>0?e=n[0]:n[1]<0&&(e=n[1]),e}function bee(r,t,e,n){var i=NaN;r.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=r.valueStart);var a=r.baseDataOffset,o=[];return o[a]=e.get(r.baseDim,n),o[1-a]=i,t.dataToPoint(o)}function q_e(r,t){var e=[];return t.diff(r).add(function(n){e.push({cmd:"+",idx:n})}).update(function(n,i){e.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){e.push({cmd:"-",idx:n})}).execute(),e}function Y_e(r,t,e,n,i,a,o,s){for(var l=q_e(r,t),u=[],c=[],f=[],d=[],h=[],v=[],g=[],m=_ee(i,t,o),x=r.getLayout("points")||[],_=t.getLayout("points")||[],b=0;b<l.length;b++){var w=l[b],T=!0,A=void 0,M=void 0;switch(w.cmd){case"=":A=w.idx*2,M=w.idx1*2;var D=x[A],P=x[A+1],I=_[M],R=_[M+1];(isNaN(D)||isNaN(P))&&(D=I,P=R),u.push(D,P),c.push(I,R),f.push(e[A],e[A+1]),d.push(n[M],n[M+1]),g.push(t.getRawIndex(w.idx1));break;case"+":var k=w.idx,O=m.dataDimsForPoint,V=i.dataToPoint([t.get(O[0],k),t.get(O[1],k)]);M=k*2,u.push(V[0],V[1]),c.push(_[M],_[M+1]);var N=bee(m,i,t,k);f.push(N[0],N[1]),d.push(n[M],n[M+1]),g.push(t.getRawIndex(k));break;case"-":T=!1}T&&(h.push(w),v.push(v.length))}v.sort(function(re,ce){return g[re]-g[ce]});for(var L=u.length,G=Po(L),W=Po(L),U=Po(L),Z=Po(L),F=[],b=0;b<v.length;b++){var q=v[b],$=b*2,K=q*2;G[$]=u[K],G[$+1]=u[K+1],W[$]=c[K],W[$+1]=c[K+1],U[$]=f[K],U[$+1]=f[K+1],Z[$]=d[K],Z[$+1]=d[K+1],F[b]=h[q]}return{current:G,next:W,stackedOnCurrent:U,stackedOnNext:Z,status:F}}var Fl=Math.min,Hl=Math.max;function tf(r,t){return isNaN(r)||isNaN(t)}function mP(r,t,e,n,i,a,o,s,l){for(var u,c,f,d,h,v,g=e,m=0;m<n;m++){var x=t[g*2],_=t[g*2+1];if(g>=i||g<0)break;if(tf(x,_)){if(l){g+=a;continue}break}if(g===e)r[a>0?"moveTo":"lineTo"](x,_),f=x,d=_;else{var b=x-u,w=_-c;if(b*b+w*w<.5){g+=a;continue}if(o>0){for(var T=g+a,A=t[T*2],M=t[T*2+1];A===x&&M===_&&m<n;)m++,T+=a,g+=a,A=t[T*2],M=t[T*2+1],x=t[g*2],_=t[g*2+1],b=x-u,w=_-c;var D=m+1;if(l)for(;tf(A,M)&&D<n;)D++,T+=a,A=t[T*2],M=t[T*2+1];var P=.5,I=0,R=0,k=void 0,O=void 0;if(D>=n||tf(A,M))h=x,v=_;else{I=A-u,R=M-c;var V=x-u,N=A-x,L=_-c,G=M-_,W=void 0,U=void 0;if(s==="x"){W=Math.abs(V),U=Math.abs(N);var Z=I>0?1:-1;h=x-Z*W*o,v=_,k=x+Z*U*o,O=_}else if(s==="y"){W=Math.abs(L),U=Math.abs(G);var F=R>0?1:-1;h=x,v=_-F*W*o,k=x,O=_+F*U*o}else W=Math.sqrt(V*V+L*L),U=Math.sqrt(N*N+G*G),P=U/(U+W),h=x-I*o*(1-P),v=_-R*o*(1-P),k=x+I*o*P,O=_+R*o*P,k=Fl(k,Hl(A,x)),O=Fl(O,Hl(M,_)),k=Hl(k,Fl(A,x)),O=Hl(O,Fl(M,_)),I=k-x,R=O-_,h=x-I*W/U,v=_-R*W/U,h=Fl(h,Hl(u,x)),v=Fl(v,Hl(c,_)),h=Hl(h,Fl(u,x)),v=Hl(v,Fl(c,_)),I=x-h,R=_-v,k=x+I*U/W,O=_+R*U/W}r.bezierCurveTo(f,d,h,v,x,_),f=k,d=O}else r.lineTo(x,_)}u=x,c=_,g+=a}return m}var See=(function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r})(),X_e=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:te.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new See},t.prototype.buildPath=function(e,n){var i=n.points,a=0,o=i.length/2;if(n.connectNulls){for(;o>0&&tf(i[o*2-2],i[o*2-1]);o--);for(;a<o&&tf(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=mP(e,i,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=Go.CMD,s,l,u=n==="x",c=[],f=0;f<a.length;){var d=a[f++],h=void 0,v=void 0,g=void 0,m=void 0,x=void 0,_=void 0,b=void 0;switch(d){case o.M:s=a[f++],l=a[f++];break;case o.L:if(h=a[f++],v=a[f++],b=u?(e-s)/(h-s):(e-l)/(v-l),b<=1&&b>=0){var w=u?(v-l)*b+l:(h-s)*b+s;return u?[e,w]:[w,e]}s=h,l=v;break;case o.C:h=a[f++],v=a[f++],g=a[f++],m=a[f++],x=a[f++],_=a[f++];var T=u?b_(s,h,g,x,e,c):b_(l,v,m,_,e,c);if(T>0)for(var A=0;A<T;A++){var M=c[A];if(M<=1&&M>=0){var w=u?Kr(l,v,m,_,M):Kr(s,h,g,x,M);return u?[e,w]:[w,e]}}s=x,l=_;break}}},t})(lt),$_e=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(See),wee=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new $_e},t.prototype.buildPath=function(e,n){var i=n.points,a=n.stackedOnPoints,o=0,s=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&tf(i[s*2-2],i[s*2-1]);s--);for(;o<s&&tf(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=mP(e,i,o,s,s,1,n.smooth,l,n.connectNulls);mP(e,a,o+u-1,u,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=u+1,e.closePath()}},t})(lt);function Cee(r,t,e,n,i){var a=r.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,c=e.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new rt({shape:{x:o,y:s,width:l,height:u}});if(t){var d=r.getBaseAxis(),h=d.isHorizontal(),v=d.inverse;h?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0);var g=Re(i)?function(m){i(m,f)}:null;Kt(f,{shape:{width:l,height:u,x:o,y:s}},e,null,n,g)}return f}function Tee(r,t,e){var n=r.getArea(),i=Ar(n.r0,1),a=Ar(n.r,1),o=new Rn({shape:{cx:Ar(r.cx,1),cy:Ar(r.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=n.startAngle:o.shape.r=i,Kt(o,{shape:{endAngle:n.endAngle,r:a}},e)}return o}function sy(r,t,e,n,i){if(r){if(r.type==="polar")return Tee(r,t,e);if(r.type==="cartesian2d")return Cee(r,t,e,n,i)}else return null;return null}function _u(r,t){return r.type===t}function aG(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function oG(r){for(var t=1/0,e=1/0,n=-1/0,i=-1/0,a=0;a<r.length;){var o=r[a++],s=r[a++];isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n)),isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i))}return[[t,e],[n,i]]}function sG(r,t){var e=oG(r),n=e[0],i=e[1],a=oG(t),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function lG(r){return yt(r)?r:r?.5:0}function j_e(r,t,e){if(!e.valueDim)return[];for(var n=t.count(),i=Po(n*2),a=0;a<n;a++){var o=bee(e,r,t,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function Gl(r,t,e,n,i){var a=e.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],d=[];if(i){for(l=0;l<r.length;l+=2){var h=t||r;!isNaN(h[l])&&!isNaN(h[l+1])&&d.push(r[l],r[l+1])}r=d}for(l=0;l<r.length-2;l+=2)switch(f[0]=r[l+2],f[1]=r[l+3],c[0]=r[l],c[1]=r[l+1],s.push(c[0],c[1]),n){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var v=(c[o]+f[o])/2,g=[];u[o]=g[o]=v,u[1-o]=c[1-o],g[1-o]=f[1-o],s.push(u[0],u[1]),s.push(g[0],g[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(r[l++],r[l++]),s}function Z_e(r,t){var e=[],n=r.length,i,a;function o(c,f,d){var h=c.coord,v=(d-h)/(f.coord-h),g=yB(v,[c.color,f.color]);return{coord:d,color:g}}for(var s=0;s<n;s++){var l=r[s],u=l.coord;if(u<0)i=l;else if(u>t){a?e.push(o(a,l,t)):i&&e.push(o(i,l,0),o(i,l,t));break}else i&&(e.push(o(i,l,0)),i=null),e.push(l),a=l}return e}function K_e(r,t,e){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&t.type==="cartesian2d"){for(var i,a,o=n.length-1;o>=0;o--){var s=r.getDimensionInfo(n[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=n[o];break}}if(a){var l=t.getAxis(i),u=he(a.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=Z_e(u,i==="x"?e.getWidth():e.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var v=10,g=d[0].coord-v,m=d[h-1].coord+v,x=m-g;if(x<.001)return"transparent";z(d,function(b){b.offset=(b.coord-g)/x}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var _=new Cf(0,0,0,0,d,!0);return _[i]=g,_[i+"2"]=m,_}}}function Q_e(r,t,e){var n=r.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=e.getAxesByScale("ordinal")[0];if(a&&!(i&&J_e(a,t))){var o=t.mapDimension(a.dim),s={};return z(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function J_e(r,t){var e=r.getExtent(),n=Math.abs(e[1]-e[0])/r.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(ay.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function ebe(r,t){return isNaN(r)||isNaN(t)}function tbe(r){for(var t=r.length/2;t>0&&ebe(r[t*2-2],r[t*2-1]);t--);return t-1}function uG(r,t){return[r[t*2],r[t*2+1]]}function rbe(r,t,e){for(var n=r.length/2,i=e==="x"?0:1,a,o,s=0,l=-1,u=0;u<n;u++)if(o=r[u*2+i],!(isNaN(o)||isNaN(r[u*2+1-i]))){if(u===0){a=o;continue}if(a<=t&&o>=t||a>=t&&o<=t){l=u;break}s=u,a=o}return{range:[s,l],t:(t-a)/(o-a)}}function Aee(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<Qn.length;t++)if(r.get([Qn[t],"endLabel","show"]))return!0;return!1}function gE(r,t,e,n){if(_u(t,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=Aee(n)?function(h,v){r._endLabelOnDuring(h,v,o,s,a,i,t)}:null,u=t.getBaseAxis().isHorizontal(),c=Cee(t,e,n,function(){var h=r._endLabel;h&&e&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return Tee(t,e,n)}function nbe(r,t){var e=t.getBaseAxis(),n=e.isHorizontal(),i=e.inverse,a=n?i?"right":"left":"center",o=n?"middle":i?"top":"bottom";return{normal:{align:r.get("align")||a,verticalAlign:r.get("verticalAlign")||o}}}var ibe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new Be,n=new oy;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e,this._changePolyState=Se(this._changePolyState,this)},t.prototype.render=function(e,n,i){var a=e.coordinateSystem,o=this.group,s=e.getData(),l=e.getModel("lineStyle"),u=e.getModel("areaStyle"),c=s.getLayout("points")||[],f=a.type==="polar",d=this._coordSys,h=this._symbolDraw,v=this._polyline,g=this._polygon,m=this._lineGroup,x=!n.ssr&&e.get("animation"),_=!u.isEmpty(),b=u.get("origin"),w=_ee(a,s,b),T=_&&j_e(a,s,w),A=e.get("showSymbol"),M=e.get("connectNulls"),D=A&&!f&&Q_e(e,s,a),P=this._data;P&&P.eachItemGraphicEl(function(re,ce){re.__temp&&(o.remove(re),P.setItemGraphicEl(ce,null))}),A||h.remove(),o.add(m);var I=f?!1:e.get("step"),R;a&&a.getArea&&e.get("clip",!0)&&(R=a.getArea(),R.width!=null?(R.x-=.1,R.y-=.1,R.width+=.2,R.height+=.2):R.r0&&(R.r0-=.5,R.r+=.5)),this._clipShapeForSymbol=R;var k=K_e(s,a,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(v&&d.type===a.type&&I===this._step))A&&h.updateData(s,{isIgnore:D,clipShape:R,disableAnimation:!0,getSymbolPoint:function(re){return[c[re*2],c[re*2+1]]}}),x&&this._initSymbolLabelAnimation(s,a,R),I&&(T&&(T=Gl(T,c,a,I,M)),c=Gl(c,null,a,I,M)),v=this._newPolyline(c),_?g=this._newPolygon(c,T):g&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(e,a,hf(k)),m.setClipPath(gE(this,a,!0,e));else{_&&!g?g=this._newPolygon(c,T):g&&!_&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(e,a,hf(k));var O=m.getClipPath();if(O){var V=gE(this,a,!1,e);Kt(O,{shape:V.shape},e)}else m.setClipPath(gE(this,a,!0,e));A&&h.updateData(s,{isIgnore:D,clipShape:R,disableAnimation:!0,getSymbolPoint:function(re){return[c[re*2],c[re*2+1]]}}),(!aG(this._stackedOnPoints,T)||!aG(this._points,c))&&(x?this._doUpdateAnimation(s,T,a,i,I,b,M):(I&&(T&&(T=Gl(T,c,a,I,M)),c=Gl(c,null,a,I,M)),v.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:T})))}var N=e.getModel("emphasis"),L=N.get("focus"),G=N.get("blurScope"),W=N.get("disabled");if(v.useStyle(ke(l.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"})),Wr(v,e,"lineStyle"),v.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var U=v.getState("emphasis").style;U.lineWidth=+v.style.lineWidth+1}He(v).seriesIndex=e.seriesIndex,or(v,L,G,W);var Z=lG(e.get("smooth")),F=e.get("smoothMonotone");if(v.setShape({smooth:Z,smoothMonotone:F,connectNulls:M}),g){var q=s.getCalculationInfo("stackedOnSeries"),$=0;g.useStyle(ke(u.getAreaStyle(),{fill:k,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),q&&($=lG(q.get("smooth"))),g.setShape({smooth:Z,stackedOnSmooth:$,smoothMonotone:F,connectNulls:M}),Wr(g,e,"areaStyle"),He(g).seriesIndex=e.seriesIndex,or(g,L,G,W)}var K=this._changePolyState;s.eachItemGraphicEl(function(re){re&&(re.onHoverStateChange=K)}),this._polyline.onHoverStateChange=K,this._data=s,this._coordSys=a,this._stackedOnPoints=T,this._points=c,this._step=I,this._valueOrigin=b,e.get("triggerLineEvent")&&(this.packEventData(e,v),g&&this.packEventData(e,g))},t.prototype.packEventData=function(e,n){He(n).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,n,i,a){var o=e.getData(),s=sf(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=e.get("zlevel")||0,h=e.get("z")||0;u=new ay(o,s),u.x=c,u.y=f,u.setZ(d,h);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=d,v.z=h,v.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Bt.prototype.highlight.call(this,e,n,i,a)},t.prototype.downplay=function(e,n,i,a){var o=e.getData(),s=sf(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Bt.prototype.downplay.call(this,e,n,i,a)},t.prototype._changePolyState=function(e){var n=this._polygon;P_(this._polyline,e),n&&P_(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new X_e({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new wee({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,n,i){var a,o,s=n.getBaseAxis(),l=s.inverse;n.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):n.type==="polar"&&(a=s.dim==="angle",o=!0);var u=e.hostModel,c=u.get("animationDuration");Re(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=Re(f)?f(null):f;e.eachItemGraphicEl(function(h,v){var g=h;if(g){var m=[h.x,h.y],x=void 0,_=void 0,b=void 0;if(i)if(o){var w=i,T=n.pointToCoord(m);a?(x=w.startAngle,_=w.endAngle,b=-T[1]/180*Math.PI):(x=w.r0,_=w.r,b=T[0])}else{var A=i;a?(x=A.x,_=A.x+A.width,b=h.x):(x=A.y+A.height,_=A.y,b=h.y)}var M=_===x?0:(b-x)/(_-x);l&&(M=1-M);var D=Re(f)?f(v):c*M+d,P=g.getSymbolPath(),I=P.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:D}),I&&I.animateFrom({style:{opacity:0}},{duration:300,delay:D}),P.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,i){var a=e.getModel("endLabel");if(Aee(e)){var o=e.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new gt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=tbe(l);c>=0&&(tn(s,Ur(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?xee(o,h):Md(o,f)},enableTextSetter:!0},nbe(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,i,a,o,s,l){var u=this._endLabel,c=this._polyline;if(u){e<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),d=i.hostModel,h=d.get("connectNulls"),v=s.get("precision"),g=s.get("distance")||0,m=l.getBaseAxis(),x=m.isHorizontal(),_=m.inverse,b=n.shape,w=_?x?b.x:b.y+b.height:x?b.x+b.width:b.y,T=(x?g:0)*(_?-1:1),A=(x?0:-g)*(_?-1:1),M=x?"x":"y",D=rbe(f,w,M),P=D.range,I=P[1]-P[0],R=void 0;if(I>=1){if(I>1&&!h){var k=uG(f,P[0]);u.attr({x:k[0]+T,y:k[1]+A}),o&&(R=d.getRawValue(P[0]))}else{var k=c.getPointOn(w,M);k&&u.attr({x:k[0]+T,y:k[1]+A});var O=d.getRawValue(P[0]),V=d.getRawValue(P[1]);o&&(R=KZ(i,v,O,V,D.t))}a.lastFrameIndex=P[0]}else{var N=e===1||a.lastFrameIndex>0?P[0]:0,k=uG(f,N);o&&(R=d.getRawValue(N)),u.attr({x:k[0]+T,y:k[1]+A})}if(o){var L=Ud(u);typeof L.setLabelText=="function"&&L.setLabelText(R)}}},t.prototype._doUpdateAnimation=function(e,n,i,a,o,s,l){var u=this._polyline,c=this._polygon,f=e.hostModel,d=Y_e(this._data,e,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),h=d.current,v=d.stackedOnCurrent,g=d.next,m=d.stackedOnNext;if(o&&(v=Gl(d.stackedOnCurrent,d.current,i,o,l),h=Gl(d.current,null,i,o,l),m=Gl(d.stackedOnNext,d.next,i,o,l),g=Gl(d.next,null,i,o,l)),sG(h,g)>3e3||c&&sG(v,m)>3e3){u.stopAnimation(),u.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:m}));return}u.shape.__points=d.current,u.shape.points=h;var x={shape:{points:g}};d.current!==h&&(x.shape.__points=d.next),u.stopAnimation(),bt(u,x,f),c&&(c.setShape({points:h,stackedOnPoints:v}),c.stopAnimation(),bt(c,{shape:{stackedOnPoints:m}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var _=[],b=d.status,w=0;w<b.length;w++){var T=b[w].cmd;if(T==="="){var A=e.getItemGraphicEl(b[w].idx1);A&&_.push({el:A,ptIdx:w})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var M=u.shape.__points,D=0;D<_.length;D++){var P=_[D].el,I=_[D].ptIdx*2;P.x=M[I],P.y=M[I+1],P.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t})(Bt);function ly(r,t){return{seriesType:r,plan:$d(),reset:function(e){var n=e.getData(),i=e.coordinateSystem,a=e.pipelineContext,o=t||a.large;if(i){var s=he(i.dimensions,function(h){return n.mapDimension(h)}).slice(0,2),l=s.length,u=n.getCalculationInfo("stackResultDimension");nl(n,s[0])&&(s[0]=u),nl(n,s[1])&&(s[1]=u);var c=n.getStore(),f=n.getDimensionIndex(s[0]),d=n.getDimensionIndex(s[1]);return l&&{progress:function(h,v){for(var g=h.end-h.start,m=o&&Po(g*l),x=[],_=[],b=h.start,w=0;b<h.end;b++){var T=void 0;if(l===1){var A=c.get(f,b);T=i.dataToPoint(A,null,_)}else x[0]=c.get(f,b),x[1]=c.get(d,b),T=i.dataToPoint(x,null,_);o?(m[w++]=T[0],m[w++]=T[1]):v.setItemLayout(b,T.slice())}o&&v.setLayout("points",m)}}}}}}var abe={average:function(r){for(var t=0,e=0,n=0;n<r.length;n++)isNaN(r[n])||(t+=r[n],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},nearest:function(r){return r[0]}},obe=function(r){return Math.round(r.length/2)};function Mee(r){return{seriesType:r,reset:function(t,e,n){var i=t.getData(),a=t.get("sampling"),o=t.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=n.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(s/d);if(isFinite(h)&&h>1){a==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/h)):a==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/h));var v=void 0;be(a)?v=abe[a]:Re(a)&&(v=a),v&&t.setData(i.downSample(i.mapDimension(u.dim),1/h,v,obe))}}}}}function sbe(r){r.registerChartView(ibe),r.registerSeriesModel(G_e),r.registerLayout(ly("line",!0)),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Mee("line"))}var gg=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return jo(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(e),s=a.dataToPoint(o);if(i)z(a.getAxes(),function(d,h){if(d.type==="category"&&n!=null){var v=d.getTicksCoords(),g=d.getTickModel().get("alignWithLabel"),m=o[h],x=n[h]==="x1"||n[h]==="y1";if(x&&!g&&(m+=1),v.length<2)return;if(v.length===2){s[h]=d.toGlobalCoord(d.getExtent()[x?1:0]);return}for(var _=void 0,b=void 0,w=1,T=0;T<v.length;T++){var A=v[T].coord,M=T===v.length-1?v[T-1].tickValue+w:v[T].tickValue;if(M===m){b=A;break}else if(M<m)_=A;else if(_!=null&&M>m){b=(A+_)/2;break}T===1&&(w=M-v[0].tickValue)}b==null&&(_?_&&(b=v[v.length-1].coord):b=v[0].coord),s[h]=d.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},t})(Vt);Vt.registerClass(gg);var lbe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return jo(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,i){return i.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Du(gg.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:te.color.primary,borderWidth:2}},realtimeSort:!1}),t})(gg),ube=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),tb=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new ube},t.prototype.buildPath=function(e,n){var i=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=(s-o)*.5,u=o+l,c=n.startAngle,f=n.endAngle,d=n.clockwise,h=Math.PI*2,v=d?f-c<h:c-f<h;v||(c=f-(d?h:-h));var g=Math.cos(c),m=Math.sin(c),x=Math.cos(f),_=Math.sin(f);v?(e.moveTo(g*o+i,m*o+a),e.arc(g*u+i,m*u+a,l,-Math.PI+c,c,!d)):e.moveTo(g*s+i,m*s+a),e.arc(i,a,s,c,f,!d),e.arc(x*u+i,_*u+a,l,f-Math.PI*2,f-Math.PI,!d),o!==0&&e.arc(i,a,o,f,c,d)},t})(lt);function cbe(r,t){t=t||{};var e=t.isRoundCap;return function(n,i,a){var o=i.position;if(!o||o instanceof Array)return M_(n,i,a);var s=r(o),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,v=(d+h)/2,g=u.startAngle,m=u.endAngle,x=(g+m)/2,_=e?Math.abs(d-h)/2:0,b=Math.cos,w=Math.sin,T=c+d*b(g),A=f+d*w(g),M="left",D="top";switch(s){case"startArc":T=c+(h-l)*b(x),A=f+(h-l)*w(x),M="center",D="top";break;case"insideStartArc":T=c+(h+l)*b(x),A=f+(h+l)*w(x),M="center",D="bottom";break;case"startAngle":T=c+v*b(g)+S1(g,l+_,!1),A=f+v*w(g)+w1(g,l+_,!1),M="right",D="middle";break;case"insideStartAngle":T=c+v*b(g)+S1(g,-l+_,!1),A=f+v*w(g)+w1(g,-l+_,!1),M="left",D="middle";break;case"middle":T=c+v*b(x),A=f+v*w(x),M="center",D="middle";break;case"endArc":T=c+(d+l)*b(x),A=f+(d+l)*w(x),M="center",D="bottom";break;case"insideEndArc":T=c+(d-l)*b(x),A=f+(d-l)*w(x),M="center",D="top";break;case"endAngle":T=c+v*b(m)+S1(m,l+_,!0),A=f+v*w(m)+w1(m,l+_,!0),M="left",D="middle";break;case"insideEndAngle":T=c+v*b(m)+S1(m,-l+_,!0),A=f+v*w(m)+w1(m,-l+_,!0),M="right",D="middle";break;default:return M_(n,i,a)}return n=n||{},n.x=T,n.y=A,n.align=M,n.verticalAlign=D,n}}function fbe(r,t,e,n){if(yt(n)){r.setTextConfig({rotation:n});return}else if(ue(t)){r.setTextConfig({rotation:0});return}var i=r.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,l,u=e(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:r.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),r.setTextConfig({rotation:c})}function S1(r,t,e){return t*Math.sin(r)*(e?-1:1)}function w1(r,t,e){return t*Math.cos(r)*(e?1:-1)}function Bo(r,t,e){var n=r.get("borderRadius");if(n==null)return e?{cornerRadius:0}:null;ue(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:he(n,function(a){return ro(a,i)})}}var yE=Math.max,mE=Math.min;function hbe(r,t){var e=r.getArea&&r.getArea();if(_u(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(e.x-=i,e.width+=i*2):(e.y-=i,e.height+=i*2)}}return e}var dbe=(function(r){J(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,n,i,a){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,n,i):this._renderNormal(e,n,i,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._progressiveEls=[],this._incrementalRenderLarge(e,n)},t.prototype.eachRendered=function(e){Mu(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,i,a){var o=this.group,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=e.isAnimationEnabled()?e:null,h=vbe(e,u);h&&this._enableRealtimeSort(h,s,i);var v=e.get("clip",!0)||h,g=hbe(u,s);o.removeClipPath();var m=e.get("roundCap",!0),x=e.get("showBackground",!0),_=e.getModel("backgroundStyle"),b=_.get("borderRadius")||0,w=[],T=this._backgroundEls,A=a&&a.isInitSort,M=a&&a.type==="changeAxisOrder";function D(R){var k=C1[u.type](s,R);if(!k)return null;var O=bbe(u,f,k);return O.useStyle(_.getItemStyle()),u.type==="cartesian2d"?O.setShape("r",b):O.setShape("cornerRadius",b),w[R]=O,O}s.diff(l).add(function(R){var k=s.getItemModel(R),O=C1[u.type](s,R,k);if(O&&(x&&D(R),!(!s.hasValue(R)||!vG[u.type](O)))){var V=!1;v&&(V=cG[u.type](g,O));var N=fG[u.type](e,s,R,O,f,d,c.model,!1,m);h&&(N.forceLabelAnimation=!0),pG(N,s,R,k,O,e,f,u.type==="polar"),A?N.attr({shape:O}):h?hG(h,d,N,O,R,f,!1,!1):Kt(N,{shape:O},e,R),s.setItemGraphicEl(R,N),o.add(N),N.ignore=V}}).update(function(R,k){var O=s.getItemModel(R),V=C1[u.type](s,R,O);if(V){if(x){var N=void 0;T.length===0?N=D(k):(N=T[k],N.useStyle(_.getItemStyle()),u.type==="cartesian2d"?N.setShape("r",b):N.setShape("cornerRadius",b),w[R]=N);var L=C1[u.type](s,R),G=Eee(f,L,u);bt(N,{shape:G},d,R)}var W=l.getItemGraphicEl(k);if(!s.hasValue(R)||!vG[u.type](V)){o.remove(W);return}var U=!1;v&&(U=cG[u.type](g,V),U&&o.remove(W));var Z=W&&(W.type==="sector"&&m||W.type==="sausage"&&!m);if(Z&&(W&&Xs(W,e,k),W=null),W?Ta(W):W=fG[u.type](e,s,R,V,f,d,c.model,!0,m),h&&(W.forceLabelAnimation=!0),M){var F=W.getTextContent();if(F){var q=Ud(F);q.prevValue!=null&&(q.prevValue=q.value)}}else pG(W,s,R,O,V,e,f,u.type==="polar");A?W.attr({shape:V}):h?hG(h,d,W,V,R,f,!0,M):bt(W,{shape:V},e,R,null),s.setItemGraphicEl(R,W),W.ignore=U,o.add(W)}}).remove(function(R){var k=l.getItemGraphicEl(R);k&&Xs(k,e,R)}).execute();var P=this._backgroundGroup||(this._backgroundGroup=new Be);P.removeAll();for(var I=0;I<w.length;++I)P.add(w[I]);o.add(P),this._backgroundEls=w,this._data=s},t.prototype._renderLarge=function(e,n,i){this._clear(),yG(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),yG(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)&&sy(e.coordinateSystem,!1,e),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,i){var a=this;if(n.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,i),this._isFirstFrame=!1;else{var s=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,i){var a=[];return e.each(e.mapDimension(n.dim),function(o,s){var l=i(s);l=l??NaN,a.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:he(a,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,i){for(var a=i.scale,o=e.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=e.rawIndexOf(o,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:n(e.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var i=n.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,n,i,a){if(this._isOrderChangedWithinSameData(e,n,i)){var o=this._dataSort(e,i,n);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,n,i){var a=n.baseAxis,o=this._dataSort(e,a,function(s){return e.get(e.mapDimension(n.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Xs(a,e,He(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t})(Bt),cG={cartesian2d:function(r,t){var e=t.width<0?-1:1,n=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=r.x+r.width,a=r.y+r.height,o=yE(t.x,r.x),s=mE(t.x+t.width,i),l=yE(t.y,r.y),u=mE(t.y+t.height,a),c=s<o,f=u<l;return t.x=c&&o>i?s:o,t.y=f&&l>a?u:l,t.width=c?0:s-o,t.height=f?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}var i=mE(t.r,r.r),a=yE(t.r0,r.r0);t.r=i,t.r0=a;var o=i-a<0;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}return o}},fG={cartesian2d:function(r,t,e,n,i,a,o,s,l){var u=new rt({shape:oe({},n),z2:1});if(u.__dataIndex=e,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(r,t,e,n,i,a,o,s,l){var u=!i&&l?tb:Rn,c=new u({shape:n,z2:1});c.name="item";var f=Dee(i);if(c.calculateTextPosition=cbe(f,{isRoundCap:u===tb}),a){var d=c.shape,h=i?"r":"endAngle",v={};d[h]=i?n.r0:n.startAngle,v[h]=n[h],(s?bt:Kt)(c,{shape:v},a)}return c}};function vbe(r,t){var e=r.get("realtimeSort",!0),n=t.getBaseAxis();if(e&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function hG(r,t,e,n,i,a,o,s){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?bt:Kt)(e,{shape:l},t,i,null);var c=t?r.baseAxis.model:null;(o?bt:Kt)(e,{shape:u},c,i)}function dG(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var pbe=["x","y","width","height"],gbe=["cx","cy","r","startAngle","endAngle"],vG={cartesian2d:function(r){return!dG(r,pbe)},polar:function(r){return!dG(r,gbe)}},C1={cartesian2d:function(r,t,e){var n=r.getItemLayout(t);if(!n)return null;var i=e?mbe(e,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+o*i/2,width:n.width-a*i,height:n.height-o*i}},polar:function(r,t,e){var n=r.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function ybe(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function Dee(r){return(function(t){var e=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+e;default:return n}}})(r)}function pG(r,t,e,n,i,a,o,s){var l=t.getItemVisual(e,"style");if(s){if(!a.get("roundCap")){var c=r.shape,f=Bo(n.getModel("itemStyle"),c,!0);oe(c,f),r.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",u)}r.useStyle(l);var d=n.getShallow("cursor");d&&r.attr("cursor",d);var h=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=Ur(n);tn(r,v,{labelFetcher:a,labelDataIndex:e,defaultText:Md(a.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var g=r.getTextContent();if(s&&g){var m=n.get(["label","position"]);r.textConfig.inside=m==="middle"?!0:null,fbe(r,m==="outside"?h:m,Dee(o),n.get(["label","rotate"]))}VK(g,v,a.getRawValue(e),function(_){return xee(t,_)});var x=n.getModel(["emphasis"]);or(r,x.get("focus"),x.get("blurScope"),x.get("disabled")),Wr(r,n),ybe(i)&&(r.style.fill="none",r.style.stroke="none",z(r.states,function(_){_.style&&(_.style.fill=_.style.stroke="none")}))}function mbe(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,a)}var xbe=(function(){function r(){}return r})(),gG=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new xbe},t.prototype.buildPath=function(e,n){for(var i=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],e.rect(s[0],s[1],l[0],l[1])},t})(lt);function yG(r,t,e,n){var i=r.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=r.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new gG({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),e&&e.push(c)}var f=new gG({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,He(f).seriesIndex=r.seriesIndex,r.get("silent")||(f.on("mousedown",mG),f.on("mousemove",mG)),e&&e.push(f)}var mG=DS(function(r){var t=this,e=_be(t,r.offsetX,r.offsetY);He(t).dataIndex=e>=0?e:null},30,!1);function _be(r,t,e){for(var n=r.baseDimIdx,i=1-n,a=r.shape.points,o=r.largeDataIndices,s=[],l=[],u=r.barWidth,c=0,f=a.length/3;c<f;c++){var d=c*3;if(l[n]=u,l[i]=a[d+2],s[n]=a[d+n],s[i]=a[d+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[c]}return-1}function Eee(r,t,e){if(_u(e,"cartesian2d")){var n=t,i=e.getArea();return{x:r?n.x:i.x,y:r?i.y:n.y,width:r?n.width:i.width,height:r?i.height:n.height}}else{var i=e.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:r?i.r0:a.r0,r:r?i.r:a.r,startAngle:r?a.startAngle:0,endAngle:r?a.endAngle:Math.PI*2}}}function bbe(r,t,e){var n=r.type==="polar"?Rn:rt;return new n({shape:Eee(t,e,r),silent:!0,z2:0})}function Sbe(r){r.registerChartView(dbe),r.registerSeriesModel(lbe),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,je(PJ,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,OJ("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Mee("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var xG=Math.PI*2,T1=Math.PI/180;function wbe(r,t,e){t.eachSeriesByType(r,function(n){var i=n.getData(),a=i.mapDimension("value"),o=rQ(n,e),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=o.viewRect,d=-n.get("startAngle")*T1,h=n.get("endAngle"),v=n.get("padAngle")*T1;h=h==="auto"?d-xG:-h*T1;var g=n.get("minAngle")*T1,m=g+v,x=0;i.each(a,function(G){!isNaN(G)&&x++});var _=i.getSum(a),b=Math.PI/(_||x)*2,w=n.get("clockwise"),T=n.get("roseType"),A=n.get("stillShowZeroSum"),M=i.getDataExtent(a);M[0]=0;var D=w?1:-1,P=[d,h],I=D*v/2;yS(P,!w),d=P[0],h=P[1];var R=Iee(n);R.startAngle=d,R.endAngle=h,R.clockwise=w,R.cx=s,R.cy=l,R.r=u,R.r0=c;var k=Math.abs(h-d),O=k,V=0,N=d;if(i.setLayout({viewRect:f,r:u}),i.each(a,function(G,W){var U;if(isNaN(G)){i.setItemLayout(W,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:s,cy:l,r0:c,r:T?NaN:u});return}T!=="area"?U=_===0&&A?b:G*b:U=k/x,U<m?(U=m,O-=m):V+=G;var Z=N+D*U,F=0,q=0;v>U?(F=N+D*U/2,q=F):(F=N+I,q=Z-I),i.setItemLayout(W,{angle:U,startAngle:F,endAngle:q,clockwise:w,cx:s,cy:l,r0:c,r:T?At(G,M,[c,u]):u}),N=Z}),O<xG&&x)if(O<=.001){var L=k/x;i.each(a,function(G,W){if(!isNaN(G)){var U=i.getItemLayout(W);U.angle=L;var Z=0,F=0;L<v?(Z=d+D*(W+1/2)*L,F=Z):(Z=d+D*W*L+I,F=d+D*(W+1)*L-I),U.startAngle=Z,U.endAngle=F}})}else b=O/V,N=d,i.each(a,function(G,W){if(!isNaN(G)){var U=i.getItemLayout(W),Z=U.angle===m?m:G*b,F=0,q=0;Z<v?(F=N+D*Z/2,q=F):(F=N+I,q=N+D*Z-I),U.startAngle=F,U.endAngle=q,N+=D*Z}})})}var Iee=ot();function ev(r){return{seriesType:r,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var Cbe=Math.PI/180;function _G(r,t,e,n,i,a,o,s,l,u){if(r.length<2)return;function c(g){for(var m=g.rB,x=m*m,_=0;_<g.list.length;_++){var b=g.list[_],w=Math.abs(b.label.y-e),T=n+b.len,A=T*T,M=Math.sqrt(Math.abs((1-w*w/x)*A)),D=t+(M+b.len2)*i,P=D-b.label.x,I=b.targetTextWidth-P*i;Ree(b,I,!0),b.label.x=D}}function f(g){for(var m={list:[],maxY:0},x={list:[],maxY:0},_=0;_<g.length;_++)if(g[_].labelAlignTo==="none"){var b=g[_],w=b.label.y>e?x:m,T=Math.abs(b.label.y-e);if(T>=w.maxY){var A=b.label.x-t-b.len2*i,M=n+b.len,D=Math.abs(A)<M?Math.sqrt(T*T/(1-A*A/M/M)):M;w.rB=D,w.maxY=T}w.list.push(b)}c(m),c(x)}for(var d=r.length,h=0;h<d;h++)if(r[h].position==="outer"&&r[h].labelAlignTo==="labelLine"){var v=r[h].label.x-u;r[h].linePoints[1][0]+=v,r[h].label.x=u}vP(r,1,l,l+o)&&f(r)}function Tbe(r,t,e,n,i,a,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<r.length;d++){var h=r[d].label;xE(r[d])||(h.x<t?(c=Math.min(c,h.x),l.push(r[d])):(f=Math.max(f,h.x),u.push(r[d])))}for(var d=0;d<r.length;d++){var v=r[d];if(!xE(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var h=v.label,g=v.linePoints,m=void 0;v.labelAlignTo==="edge"?h.x<t?m=g[2][0]-v.labelDistance-o-v.edgeDistance:m=o+i-v.edgeDistance-g[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?h.x<t?m=c-o-v.bleedMargin:m=o+i-f-v.bleedMargin:h.x<t?m=h.x-o-v.bleedMargin:m=o+i-h.x-v.bleedMargin,v.targetTextWidth=m,Ree(v,m,!1)}}_G(u,t,e,n,1,i,a,o,s,f),_G(l,t,e,n,-1,i,a,o,s,c);for(var d=0;d<r.length;d++){var v=r[d];if(!xE(v)&&v.linePoints){var h=v.label,g=v.linePoints,x=v.labelAlignTo==="edge",_=h.style.padding,b=_?_[1]+_[3]:0,w=h.style.backgroundColor?0:b,T=v.rect.width+w,A=g[1][0]-g[2][0];x?h.x<t?g[2][0]=o+v.edgeDistance+T+v.labelDistance:g[2][0]=o+i-v.edgeDistance-T-v.labelDistance:(h.x<t?g[2][0]=h.x+v.labelDistance:g[2][0]=h.x-v.labelDistance,g[1][0]=g[2][0]+A),g[1][1]=g[2][1]=h.y}}}function Ree(r,t,e){if(r.labelStyleWidth==null){var n=r.label,i=n.style,a=r.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=a.width+(o?0:l);if(t<c||e){if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",o)}else{var d=t-l,h=t<c?d:e?d>r.unconstrainedWidth?null:d:null;n.setStyle("width",h)}Pee(a,n)}}}function Pee(r,t){bG.rect=r,ree(bG,t,Abe)}var Abe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},bG={};function xE(r){return r.position==="center"}function Mbe(r){var t=r.getData(),e=[],n,i,a=!1,o=(r.get("minShowLabelAngle")||0)*Cbe,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function h(A){A.ignore=!0}function v(A){if(!A.ignore)return!0;for(var M in A.states)if(A.states[M].ignore===!1)return!0;return!1}t.each(function(A){var M=t.getItemGraphicEl(A),D=M.shape,P=M.getTextContent(),I=M.getTextGuideLine(),R=t.getItemModel(A),k=R.getModel("label"),O=k.get("position")||R.get(["emphasis","label","position"]),V=k.get("distanceToLabelLine"),N=k.get("alignTo"),L=_e(k.get("edgeDistance"),u),G=k.get("bleedMargin");G==null&&(G=Math.min(u,d)>200?10:2);var W=R.getModel("labelLine"),U=W.get("length");U=_e(U,u);var Z=W.get("length2");if(Z=_e(Z,u),Math.abs(D.endAngle-D.startAngle)<o){z(P.states,h),P.ignore=!0,I&&(z(I.states,h),I.ignore=!0);return}if(v(P)){var F=(D.startAngle+D.endAngle)/2,q=Math.cos(F),$=Math.sin(F),K,re,ce,pe;n=D.cx,i=D.cy;var de=O==="inside"||O==="inner";if(O==="center")K=D.cx,re=D.cy,pe="center";else{var ge=(de?(D.r+D.r0)/2*q:D.r*q)+n,Ce=(de?(D.r+D.r0)/2*$:D.r*$)+i;if(K=ge+q*3,re=Ce+$*3,!de){var xe=ge+q*(U+l-D.r),we=Ce+$*(U+l-D.r),Pe=xe+(q<0?-1:1)*Z,De=we;N==="edge"?K=q<0?c+L:c+u-L:K=Pe+(q<0?-V:V),re=De,ce=[[ge,Ce],[xe,we],[Pe,De]]}pe=de?"center":N==="edge"?q>0?"right":"left":q>0?"left":"right"}var Ae=Math.PI,Xe=0,Ne=k.get("rotate");if(yt(Ne))Xe=Ne*(Ae/180);else if(O==="center")Xe=0;else if(Ne==="radial"||Ne===!0){var St=q<0?-F+Ae:-F;Xe=St}else if(Ne==="tangential"&&O!=="outside"&&O!=="outer"){var tt=Math.atan2(q,$);tt<0&&(tt=Ae*2+tt);var wt=$>0;wt&&(tt=Ae+tt),Xe=tt-Ae}if(a=!!Xe,P.x=K,P.y=re,P.rotation=Xe,P.setStyle({verticalAlign:"middle"}),de){P.setStyle({align:pe});var dt=P.states.select;dt&&(dt.x+=P.x,dt.y+=P.y)}else{var xt=new Fe(0,0,0,0);Pee(xt,P),e.push({label:P,labelLine:I,position:O,len:U,len2:Z,minTurnAngle:W.get("minTurnAngle"),maxSurfaceAngle:W.get("maxSurfaceAngle"),surfaceNormal:new ze(q,$),linePoints:ce,textAlign:pe,labelDistance:V,labelAlignTo:N,edgeDistance:L,bleedMargin:G,rect:xt,unconstrainedWidth:xt.width,labelStyleWidth:P.style.width})}M.setTextConfig({inside:de})}}),!a&&r.get("avoidLabelOverlap")&&Tbe(e,n,i,l,u,d,c,f);for(var g=0;g<e.length;g++){var m=e[g],x=m.label,_=m.labelLine,b=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:m.textAlign}),b&&(z(x.states,h),x.ignore=!0);var w=x.states.select;w&&(w.x+=x.x,w.y+=x.y)}if(_){var T=m.linePoints;b||!T?(z(_.states,h),_.ignore=!0):(JJ(T,m.minTurnAngle),Xxe(T,m.surfaceNormal,m.maxSurfaceAngle),_.setShape({points:T}),x.__hostTarget.textGuideLineConfig={anchor:new ze(T[0][0],T[0][1])})}}}var Dbe=(function(r){J(t,r);function t(e,n,i){var a=r.call(this)||this;a.z2=2;var o=new gt;return a.setTextContent(o),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var o=this,s=e.hostModel,l=e.getItemModel(n),u=l.getModel("emphasis"),c=e.getItemLayout(n),f=oe(Bo(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(a){o.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(Kt(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):d==="scale"?(o.shape.r=c.r0,Kt(o,{shape:{r:c.r}},s,n)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Kt(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,n)):(o.shape.endAngle=c.startAngle,bt(o,{shape:{endAngle:c.endAngle}},s,n))}else Ta(o),bt(o,{shape:f},s,n);o.useStyle(e.getItemVisual(n,"style")),Wr(o,l);var h=(c.startAngle+c.endAngle)/2,v=s.get("selectedOffset"),g=Math.cos(h)*v,m=Math.sin(h)*v,x=l.getShallow("cursor");x&&o.attr("cursor",x),this._updateLabel(s,e,n),o.ensureState("emphasis").shape=oe({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Bo(u.getModel("itemStyle"),c)),oe(o.ensureState("select"),{x:g,y:m,shape:Bo(l.getModel(["select","itemStyle"]),c)}),oe(o.ensureState("blur"),{shape:Bo(l.getModel(["blur","itemStyle"]),c)});var _=o.getTextGuideLine(),b=o.getTextContent();_&&oe(_.ensureState("select"),{x:g,y:m}),oe(b.ensureState("select"),{x:g,y:m}),or(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this,o=n.getItemModel(i),s=o.getModel("labelLine"),l=n.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;tn(a,Ur(o),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:e.getFormattedLabel(i,"normal")||n.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=o.get(["label","position"]);if(d!=="outside"&&d!=="outer")a.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new pn,this.setTextGuideLine(h)),Rk(this,Pk(o),{stroke:u,opacity:gi(s.get(["lineStyle","opacity"]),c,1)})}},t})(Rn),Ebe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i,a){var o=e.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var d=Iee(e),h=new Rn({shape:Oe(d)});h.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}o.diff(s).add(function(v){var g=new Dbe(o,v,u);o.setItemGraphicEl(v,g),l.add(g)}).update(function(v,g){var m=s.getItemGraphicEl(g);m.updateData(o,v,u),m.off("click"),l.add(m),o.setItemGraphicEl(v,m)}).remove(function(v){var g=s.getItemGraphicEl(v);Xs(g,e,v)}).execute(),Mbe(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=e[0]-a.cx,s=e[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="pie",t})(Bt);function tv(r,t,e){t=ue(t)&&{coordDimensions:t}||oe({encodeDefine:r.getEncode()},t);var n=r.getSource(),i=Kd(n,t).dimensions,a=new Hn(i,r);return a.initData(n,e),a}var rv=(function(){function r(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return r.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},r.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},r.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},r.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},r})(),Ibe=ot(),Oee=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new rv(Se(this.getData,this),Se(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return tv(this,{coordDimensions:["value"],encodeDefaulter:je(ak,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),i=Ibe(n),a=i.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(l){o.push(l)}),a=i.seats=HZ(o,n.hostModel.get("percentPrecision"))}var s=r.prototype.getDataParams.call(this,e);return s.percent=a[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){of(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t})(Vt);wge({fullType:Oee.type,getCoord2:function(r){return r.getShallow("center")}});function Rbe(r){return{seriesType:r,reset:function(t,e){var n=t.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),o=n.get(a,i);return!(yt(o)&&!isNaN(o)&&o<0)})}}}function Pbe(r){r.registerChartView(Ebe),r.registerSeriesModel(Oee),XQ("pie",r.registerAction),r.registerLayout(je(wbe,"pie")),r.registerProcessor(ev("pie")),r.registerProcessor(Rbe("pie"))}var Obe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return jo(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:te.color.primary}},universalTransition:{divideShape:"clone"}},t})(Vt),Bee=4,Bbe=(function(){function r(){}return r})(),kbe=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new Bbe},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var i=n.points,a=n.size,o=this.symbolProxy,s=o.shape,l=e.getContext?e.getContext():e,u=l&&a[0]<Bee,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var d=i[f++],h=i[f++];isNaN(d)||isNaN(h)||c&&!c.contain(d,h)||(s.x=d-a[0]/2,s.y=h-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(e,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},t.prototype.afterBrush=function(){var e=this.shape,n=e.points,i=e.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<n.length;){var l=n[s++],u=n[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var i=this.shape,a=i.points,o=i.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-s/2,d=a[c+1]-l/2;if(e>=f&&n>=d&&e<=f+s&&n<=d+l)return u}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.points,a=n.size,o=a[0],s=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<i.length;){var h=i[d++],v=i[d++];l=Math.min(h,l),c=Math.max(h,c),u=Math.min(v,u),f=Math.max(v,f)}e=this._rect=new Fe(l-o/2,u-s/2,c-l+o,f-u+s)}return e},t})(lt),Lbe=(function(){function r(){this.group=new Be}return r.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},r.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;e=new Float32Array(e.buffer,a,i)}n.setShape("points",e),n.reset()})},r.prototype.incrementalPrepareUpdate=function(t){this._clear()},r.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],a=e.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,e,n)}},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new kbe({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Dr(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<Bee;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=He(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>=0&&(u.dataIndex=f+(t.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),Nbe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateSymbolDraw(a,e);o.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,i){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=ly("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var n=e.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,n){var i=this._symbolDraw,a=n.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new Lbe:new oy,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t})(Bt),kee={left:0,right:0,top:0,bottom:0},rb=["25%","25%"],Vbe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.mergeDefaultAndTheme=function(e,n){var i=Af(e.outerBounds);r.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&e.outerBounds&&Wo(e.outerBounds,i)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&e.outerBounds&&Wo(this.option.outerBounds,e.outerBounds)},t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:kee,outerBoundsContain:"all",outerBoundsClampWidth:rb[0],outerBoundsClampHeight:rb[1],backgroundColor:te.color.transparent,borderWidth:1,borderColor:te.color.neutral30},t})(at),xP=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",vr).models[0]},t.type="cartesian2dAxis",t})(at);mr(xP,Jd);var Lee={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:te.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:te.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:te.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[te.color.backgroundTint,te.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:te.color.neutral00,borderColor:te.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},zbe=Ke({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},Lee),zk=Ke({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:te.color.axisMinorSplitLine,width:1}}},Lee),Fbe=Ke({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},zk),Hbe=ke({logBase:10},zk);const Nee={category:zbe,value:zk,time:Fbe,log:Hbe};var Gbe={value:1,category:1,time:1,log:1},_P=null;function Wbe(r){_P||(_P=r)}function uy(){return _P}function Dd(r,t,e,n){z(Gbe,function(i,a){var o=Ke(Ke({},Nee[a],!0),n,!0),s=(function(l){J(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=og(this),h=d?Af(c):{},v=f.getTheme();Ke(c,v.get(a+"Axis")),Ke(c,this.getDefaultOption()),c.type=SG(c),d&&Wo(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=hg.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=uy();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=t+"Axis."+a,u.defaultOption=o,u})(e);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(t+"Axis",SG)}function SG(r){return r.type||(r.data?"category":"value")}var Ube=(function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return he(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Tt(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r})(),bP=["x","y"];function wG(r){return(r.type==="interval"||r.type==="time")&&!r.hasBreaks()}var qbe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=bP,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!wG(e)||!wG(n))){var i=e.getExtent(),a=n.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,d=o[0]-i[0]*c,h=o[1]-a[0]*f,v=this._transform=[c,0,0,f,d,h];this._invTransform=wa([],v)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var i=this.dataToPoint(e),a=this.dataToPoint(n),o=this.getArea(),s=new Fe(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,n,i){i=i||[];var a=e[0],o=e[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return yr(i,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(o,n)),i},t.prototype.clampData=function(e,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(e[0]),u=a.parse(e[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),n},t.prototype.pointToData=function(e,n,i){if(i=i||[],this._invTransform)return yr(i,e,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(e[0]),n),i[1]=o.coordToData(o.toLocalCoord(e[1]),n),i},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-e,o=Math.min(i[0],i[1])-e,s=Math.max(n[0],n[1])-a+e,l=Math.max(i[0],i[1])-o+e;return new Fe(a,o,s,l)},t})(Ube),Vee=(function(r){J(t,r);function t(e,n,i,a,o){var s=r.call(this,e,n,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t})(Pa),OS="expandAxisBreak",zee="collapseAxisBreak",Fee="toggleAxisBreak",Fk="axisbreakchanged",Ybe={type:OS,event:Fk,update:"update",refineEvent:Hk},Xbe={type:zee,event:Fk,update:"update",refineEvent:Hk},$be={type:Fee,event:Fk,update:"update",refineEvent:Hk};function Hk(r,t,e,n){var i=[];return z(r,function(a){i=i.concat(a.eventBreaks)}),{eventContent:{breaks:i}}}function jbe(r){r.registerAction(Ybe,t),r.registerAction(Xbe,t),r.registerAction($be,t);function t(e,n){var i=[],a=cd(n,e);function o(s,l){z(a[s],function(u){var c=u.updateAxisBreaks(e);z(c.breaks,function(f){var d;i.push(ke((d={},d[l]=u.componentIndex,d),f))})})}return o("xAxisModels","xAxisIndex"),o("yAxisModels","yAxisIndex"),o("singleAxisModels","singleAxisIndex"),{eventBreaks:i}}}var eu=Math.PI,Zbe=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],Kbe=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Ed=ot(),Hee=ot(),Gee=(function(){function r(t){this.recordMap={},this.resolveAxisNameOverlap=t}return r.prototype.ensureRecord=function(t){var e=t.axis.dim,n=t.componentIndex,i=this.recordMap,a=i[e]||(i[e]=[]);return a[n]||(a[n]={ready:{}})},r})();function Qbe(r,t,e,n){var i=e.axis,a=t.ensureRecord(e),o=[],s,l=Gk(r.axisName)&&Ad(r.nameLocation);z(n,function(v){var g=Uo(v);if(!(!g||g.label.ignore)){o.push(g);var m=a.transGroup;l&&(m.transform?wa(Op,m.transform):Xg(Op),g.transform&&Ka(Op,Op,g.transform),Fe.copy(A1,g.localRect),A1.applyTransform(Op),s?s.union(A1):Fe.copy(s=new Fe(0,0,0,0),A1))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",c=a.transGroup[u];if(o.sort(function(v,g){return Math.abs(v.label[u]-c)-Math.abs(g.label[u]-c)}),l&&s){var f=i.getExtent(),d=Math.min(f[0],f[1]),h=Math.max(f[0],f[1])-d;s.union(new Fe(d,0,h,1))}a.stOccupiedRect=s,a.labelInfoList=o}var Op=Jr(),A1=new Fe(0,0,0,0),Wee=function(r,t,e,n,i,a){if(Ad(r.nameLocation)){var o=a.stOccupiedRect;o&&Uee(Zxe({},o,a.transGroup.transform),n,i)}else qee(a.labelInfoList,a.dirVec,n,i)};function Uee(r,t,e){var n=new ze;RS(r,t,n,{direction:Math.atan2(e.y,e.x),bidirectional:!1,touchThreshold:.05})&&hP(t,n)}function qee(r,t,e,n){for(var i=ze.dot(n,t)>=0,a=0,o=r.length;a<o;a++){var s=r[i?a:o-1-a];s.label.ignore||Uee(s,e,n)}}var Zn=(function(){function r(t,e,n,i){this.group=new Be,this._axisModel=t,this._api=e,this._local={},this._shared=i||new Gee(Wee),this._resetCfgDetermined(n)}return r.prototype.updateCfg=function(t){var e=this._cfg.raw;e.position=t.position,e.labelOffset=t.labelOffset,this._resetCfgDetermined(e)},r.prototype.__getRawCfg=function(){return this._cfg.raw},r.prototype._resetCfgDetermined=function(t){var e=this._axisModel,n=e.getDefaultOption?e.getDefaultOption():{},i=Ie(t.axisName,e.get("name")),a=e.get("nameMoveOverlap");(a==null||a==="auto")&&(a=Ie(t.defaultNameMoveOverlap,!0));var o={raw:t,position:t.position,rotation:t.rotation,nameDirection:Ie(t.nameDirection,1),tickDirection:Ie(t.tickDirection,1),labelDirection:Ie(t.labelDirection,1),labelOffset:Ie(t.labelOffset,0),silent:Ie(t.silent,!0),axisName:i,nameLocation:gi(e.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:Gk(i)&&a,optionHideOverlap:e.get(["axisLabel","hideOverlap"]),showMinorTicks:e.get(["minorTick","show"])};this._cfg=o;var s=new Be({x:o.position[0],y:o.position[1],rotation:o.rotation});s.updateTransform(),this._transformGroup=s;var l=this._shared.ensureRecord(e);l.transGroup=this._transformGroup,l.dirVec=new ze(Math.cos(-o.rotation),Math.sin(-o.rotation))},r.prototype.build=function(t,e){var n=this;return t||(t={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),z(Jbe,function(i){t[i]&&eSe[i](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,e||{})}),this},r.innerTextLayout=function(t,e,n){var i=bB(e-t),a,o;return xd(i)?(o=n>0?"top":"bottom",a="center"):xd(i-eu)?(o=n>0?"bottom":"top",a="center"):(o="middle",i>0&&i<eu?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},r.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},r.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},r})(),Jbe=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],eSe={axisLine:function(r,t,e,n,i,a,o){var s=n.get(["axisLine","show"]);if(s==="auto"&&(s=!0,r.raw.axisLineAutoShow!=null&&(s=!!r.raw.axisLineAutoShow)),!!s){var l=n.axis.getExtent(),u=a.transform,c=[l[0],0],f=[l[1],0],d=c[0]>f[0];u&&(yr(c,c,u),yr(f,f,u));var h=oe({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),v={strokeContainThreshold:r.raw.strokeContainThreshold||5,silent:!0,z2:1,style:h};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())uy().buildAxisBreakLine(n,i,a,v);else{var g=new Mr(oe({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},v));Sd(g.shape,g.style.lineWidth),g.anid="line",i.add(g)}var m=n.get(["axisLine","symbol"]);if(m!=null){var x=n.get(["axisLine","symbolSize"]);be(m)&&(m=[m,m]),(be(x)||yt(x))&&(x=[x,x]);var _=Df(n.get(["axisLine","symbolOffset"])||0,x),b=x[0],w=x[1];z([{rotate:r.rotation+Math.PI/2,offset:_[0],r:0},{rotate:r.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(T,A){if(m[A]!=="none"&&m[A]!=null){var M=Dr(m[A],-b/2,-w/2,b,w,h.stroke,!0),D=T.r+T.offset,P=d?f:c;M.attr({rotation:T.rotate,x:P[0]+D*Math.cos(r.rotation),y:P[1]-D*Math.sin(r.rotation),silent:!0,z2:11}),i.add(M)}})}}},axisTickLabelEstimate:function(r,t,e,n,i,a,o,s){var l=TG(t,i,s);l&&CG(r,t,e,n,i,a,o,no.estimate)},axisTickLabelDetermine:function(r,t,e,n,i,a,o,s){var l=TG(t,i,s);l&&CG(r,t,e,n,i,a,o,no.determine);var u=iSe(r,i,a,n);nSe(r,t.labelLayoutList,u),aSe(r,i,a,n,r.tickDirection)},axisName:function(r,t,e,n,i,a,o,s){var l=e.ensureRecord(n);t.nameEl&&(i.remove(t.nameEl),t.nameEl=l.nameLayout=l.nameLocation=null);var u=r.axisName;if(Gk(u)){var c=r.nameLocation,f=r.nameDirection,d=n.getModel("nameTextStyle"),h=n.get("nameGap")||0,v=n.axis.getExtent(),g=n.axis.inverse?-1:1,m=new ze(0,0),x=new ze(0,0);c==="start"?(m.x=v[0]-g*h,x.x=-g):c==="end"?(m.x=v[1]+g*h,x.x=g):(m.x=(v[0]+v[1])/2,m.y=r.labelOffset+f*h,x.y=f);var _=Jr();x.transform(sl(_,_,r.rotation));var b=n.get("nameRotate");b!=null&&(b=b*eu/180);var w,T;Ad(c)?w=Zn.innerTextLayout(r.rotation,b??r.rotation,f):(w=tSe(r.rotation,c,b||0,v),T=r.raw.axisNameAvailableWidth,T!=null&&(T=Math.abs(T/Math.sin(w.rotation)),!isFinite(T)&&(T=null)));var A=d.getFont(),M=n.get("nameTruncate",!0)||{},D=M.ellipsis,P=dn(r.raw.nameTruncateMaxWidth,M.maxWidth,T),I=s.nameMarginLevel||0,R=new gt({x:m.x,y:m.y,rotation:w.rotation,silent:Zn.isLabelSilent(n),style:Ut(d,{text:u,font:A,overflow:"truncate",width:P,ellipsis:D,fill:d.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:d.get("align")||w.textAlign,verticalAlign:d.get("verticalAlign")||w.textVerticalAlign}),z2:1});if(ul({el:R,componentModel:n,itemName:u}),R.__fullText=u,R.anid="name",n.get("triggerEvent")){var k=Zn.makeAxisEventDataBase(n);k.targetType="axisName",k.name=u,He(R).eventData=k}a.add(R),R.updateTransform(),t.nameEl=R;var O=l.nameLayout=Uo({label:R,priority:R.z2,defaultAttr:{ignore:R.ignore},marginDefault:Ad(c)?Zbe[I]:Kbe[I]});if(l.nameLocation=c,i.add(R),R.decomposeTransform(),r.shouldNameMoveOverlap&&O){var V=e.ensureRecord(n);e.resolveAxisNameOverlap(r,e,n,O,x,V)}}}};function CG(r,t,e,n,i,a,o,s){Xee(t)||oSe(r,t,i,s,n,o);var l=t.labelLayoutList;sSe(r,n,l,a),cSe(n,r.rotation,l);var u=r.optionHideOverlap;rSe(n,l,u),u&&nee(Tt(l,function(c){return c&&!c.label.ignore})),Qbe(r,e,n,l)}function tSe(r,t,e,n){var i=bB(e-r),a,o,s=n[0]>n[1],l=t==="start"&&!s||t!=="start"&&s;return xd(i-eu/2)?(o=l?"bottom":"top",a="center"):xd(i-eu*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<eu*1.5&&i>eu/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function rSe(r,t,e){if(FJ(r.axis))return;function n(s,l,u){var c=Uo(t[l]),f=Uo(t[u]);if(!(!c||!f)){if(s===!1||c.suggestIgnore){m0(c.label);return}if(f.suggestIgnore){m0(f.label);return}var d=.1;if(!e){var h=[0,0,0,0];c=dP({marginForce:h},c),f=dP({marginForce:h},f)}RS(c,f,null,{touchThreshold:d})&&m0(s?f.label:c.label)}}var i=r.get(["axisLabel","showMinLabel"]),a=r.get(["axisLabel","showMaxLabel"]),o=t.length;n(i,0,1),n(a,o-1,o-2)}function nSe(r,t,e){r.showMinorTicks||z(t,function(n){if(n&&n.label.ignore)for(var i=0;i<e.length;i++){var a=e[i],o=Hee(a),s=Ed(n.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===s.tickValue){m0(a);return}}})}function m0(r){r&&(r.ignore=!0)}function Yee(r,t,e,n,i){for(var a=[],o=[],s=[],l=0;l<r.length;l++){var u=r[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=e,t&&(yr(o,o,t),yr(s,s,t));var c=new Mr({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Sd(c.shape,c.style.lineWidth),c.anid=i+"_"+r[l].tickValue,a.push(c);var f=Hee(c);f.onBand=!!r[l].onBand,f.tickValue=r[l].tickValue}return a}function iSe(r,t,e,n){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&(o=!0,r.raw.axisTickAutoShow!=null&&(o=!!r.raw.axisTickAutoShow)),!o||i.scale.isBlank())return[];for(var s=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),u=i.getTicksCoords(),c=Yee(u,e.transform,l,ke(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)t.add(c[f]);return c}function aSe(r,t,e,n,i){var a=n.axis,o=n.getModel("minorTick");if(!(!r.showMinorTicks||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=i*o.get("length"),c=ke(l.getLineStyle(),ke(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<s.length;f++)for(var d=Yee(s[f],e.transform,u,c,"minorticks_"+f),h=0;h<d.length;h++)t.add(d[h])}}function TG(r,t,e){if(Xee(r)){var n=r.axisLabelsCreationContext,i=n.out.noPxChangeTryDetermine;if(e.noPxChange){for(var a=!0,o=0;o<i.length;o++)a=a&&i[o]();if(a)return!1}i.length&&(t.remove(r.labelGroup),SP(r,null,null,null))}return!0}function oSe(r,t,e,n,i,a){var o=i.axis,s=dn(r.raw.axisLabelShow,i.get(["axisLabel","show"])),l=new Be;e.add(l);var u=j_(n);if(!s||o.scale.isBlank()){SP(t,[],l,u);return}var c=i.getModel("axisLabel"),f=o.getViewLabels(u),d=(dn(r.raw.labelRotate,c.get("rotate"))||0)*eu/180,h=Zn.innerTextLayout(r.rotation,d,r.labelDirection),v=i.getCategories&&i.getCategories(!0),g=[],m=i.get("triggerEvent"),x=1/0,_=-1/0;z(f,function(w,T){var A,M=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(w.tickValue):w.tickValue,D=w.formattedLabel,P=w.rawLabel,I=c;if(v&&v[M]){var R=v[M];Le(R)&&R.textStyle&&(I=new st(R.textStyle,c,i.ecModel))}var k=I.getTextColor()||i.get(["axisLine","lineStyle","color"]),O=I.getShallow("align",!0)||h.textAlign,V=Ie(I.getShallow("alignMinLabel",!0),O),N=Ie(I.getShallow("alignMaxLabel",!0),O),L=I.getShallow("verticalAlign",!0)||I.getShallow("baseline",!0)||h.textVerticalAlign,G=Ie(I.getShallow("verticalAlignMinLabel",!0),L),W=Ie(I.getShallow("verticalAlignMaxLabel",!0),L),U=10+(((A=w.time)===null||A===void 0?void 0:A.level)||0);x=Math.min(x,U),_=Math.max(_,U);var Z=new gt({x:0,y:0,rotation:0,silent:Zn.isLabelSilent(i),z2:U,style:Ut(I,{text:D,align:T===0?V:T===f.length-1?N:O,verticalAlign:T===0?G:T===f.length-1?W:L,fill:Re(k)?k(o.type==="category"?P:o.type==="value"?M+"":M,T):k})});Z.anid="label_"+M;var F=Ed(Z);if(F.break=w.break,F.tickValue=M,F.layoutRotation=h.rotation,ul({el:Z,componentModel:i,itemName:D,formatterParamsExtra:{isTruncated:function(){return Z.isTruncated},value:P,tickIndex:T}}),m){var q=Zn.makeAxisEventDataBase(i);q.targetType="axisLabel",q.value=P,q.tickIndex=T,w.break&&(q.break={start:w.break.parsedBreak.vmin,end:w.break.parsedBreak.vmax}),o.type==="category"&&(q.dataIndex=M),He(Z).eventData=q,w.break&&uSe(i,a,Z,w.break)}g.push(Z),l.add(Z)});var b=he(g,function(w){return{label:w,priority:Ed(w).break?w.z2+(_-x+1):w.z2,defaultAttr:{ignore:w.ignore}}});SP(t,b,l,u)}function Xee(r){return!!r.labelLayoutList}function SP(r,t,e,n){r.labelLayoutList=t,r.labelGroup=e,r.axisLabelsCreationContext=n}function sSe(r,t,e,n){var i=t.get(["axisLabel","margin"]);z(e,function(a,o){var s=Uo(a);if(s){var l=s.label,u=Ed(l);s.suggestIgnore=l.ignore,l.ignore=!1,A_(Ms,lSe),Ms.x=t.axis.dataToCoord(u.tickValue),Ms.y=r.labelOffset+r.labelDirection*i,Ms.rotation=u.layoutRotation,n.add(Ms),Ms.updateTransform(),n.remove(Ms),Ms.decomposeTransform(),A_(l,Ms),l.markRedraw(),J_(s,!0),Uo(s)}})}var Ms=new rt,lSe=new rt;function Gk(r){return!!r}function uSe(r,t,e,n){e.on("click",function(i){var a={type:OS,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};a[r.axis.dim+"AxisIndex"]=r.componentIndex,t.dispatchAction(a)})}function cSe(r,t,e){var n=Pr();if(n){var i=n.retrieveAxisBreakPairs(e,function(o){return o&&Ed(o.label).break},!0),a=r.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&z(i,function(o){uy().adjustBreakLabelPair(r.axis.inverse,t,[Uo(e[o[0]]),Uo(e[o[1]])])})}}function nb(r,t,e){e=e||{};var n=t.axis,i={},a=n.getAxesOnZeroOf()[0],o=n.position,s=a?"onZero":o,l=n.dim,u=[r.x,r.x+r.width,r.y,r.y+r.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,d=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var h=a.toGlobalCoord(a.dataToCoord(0));d[c.onZero]=Math.max(Math.min(h,d[1]),d[0])}i.position=[l==="y"?d[c[s]]:u[0],l==="x"?d[c[s]]:u[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=v[o],i.labelOffset=a?d[c[o]]-d[c.onZero]:0,t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),dn(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var g=t.get(["axisLabel","rotate"]);return i.labelRotate=s==="top"?-g:g,i.z2=1,i}function fSe(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function AG(r){var t={xAxisModel:null,yAxisModel:null};return z(t,function(e,n){var i=n.replace(/Model$/,""),a=r.getReferringComponents(i,vr).models[0];t[n]=a}),t}function hSe(r,t,e,n,i,a){for(var o=nb(r,e),s=!1,l=!1,u=0;u<t.length;u++)oP(t[u].getOtherAxis(e.axis).scale)&&(s=l=!0,e.axis.type==="category"&&e.axis.onBand&&(l=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=l,o.defaultNameMoveOverlap=a,new Zn(e,n,o,i)}function dSe(r,t,e){var n=nb(t,e);r.updateCfg(n)}function $ee(r,t,e){var n=il.prototype,i=n.getTicks.call(e),a=n.getTicks.call(e,{expandToNicedExtent:!0}),o=i.length-1,s=n.getInterval.call(e),l=zJ(r,t),u=l.extent,c=l.fixMin,f=l.fixMax;r.type==="log"&&(u=sP(r.base,u,!0)),r.setBreaksFromOption(HJ(t)),r.setExtent(u[0],u[1]),r.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var d=n.getExtent.call(r);c&&(u[0]=d[0]),f&&(u[1]=d[1]);var h=n.getInterval.call(r),v=u[0],g=u[1];if(c&&f)h=(g-v)/o;else if(c)for(g=u[0]+h*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)h=iE(h),g=u[0]+h*o;else if(f)for(v=u[1]-h*o;v>u[0]&&isFinite(v)&&isFinite(u[0]);)h=iE(h),v=u[1]-h*o;else{var m=r.getTicks().length-1;m>o&&(h=iE(h));var x=h*o;g=Math.ceil(u[1]/h)*h,v=Ar(g-x),v<0&&u[0]>=0?(v=0,g=Ar(x)):g>0&&u[1]<=0&&(g=0,v=-Ar(x))}var _=(i[0].value-a[0].value)/s,b=(i[o].value-a[o].value)/s;n.setExtent.call(r,v+h*_,g+h*b),n.setInterval.call(r,h),(_||b)&&n.setNiceExtent.call(r,v+h,g-h)}var MG=[[3,1],[0,2]],vSe=(function(){function r(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=bP,this._initCartesian(t,e,n),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model);function i(o){var s,l=ht(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=o[d],v=h.model,g=h.scale;oP(g)&&v.get("alignTicks")&&v.get("interval")==null?c.push(h):(df(g,v),oP(g)&&(s=h))}c.length&&(s||(s=c.pop(),df(s.scale,s.model)),z(c,function(m){$ee(m.scale,m.model,s.scale)}))}}i(n.x),i(n.y);var a={};z(n.x,function(o){DG(n,"y",o,a)}),z(n.y,function(o){DG(n,"x",o,a)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,n){var i=qr(t,e),a=this._rect=rr(t.getBoxLayoutParams(),i.refContainer),o=this._axesMap,s=this._coordsList,l=t.get("containLabel");if(wP(o,a),!n){var u=ySe(a,s,o,l,e),c=void 0;if(l)CP?(CP(this._axesList,a),wP(o,a)):c=RG(a.clone(),"axisLabel",null,a,o,u,i);else{var f=mSe(t,a,i),d=f.outerBoundsRect,h=f.parsedOuterBoundsContain,v=f.outerBoundsClamp;d&&(c=RG(d,h,v,a,o,u,i))}jee(a,o,no.determine,null,c,i)}z(this._coordsList,function(g){g.calcAffineTransform()})},r.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(n!=null)return n[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var n="x"+t+"y"+e;return this._coordsMap[n]}Le(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,n=t.xAxisModel||e&&e.getReferringComponents("xAxis",vr).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",vr).models[0],a=t.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,Ze(o,s)<0&&(s=null);else if(n&&i)s=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,n){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,z(s.x,function(c,f){z(s.y,function(d,h){var v="x"+f+"y"+h,g=new qbe(v);g.master=i,g.model=t,i._coordsMap[v]=g,i._coordsList.push(g),g.addAxis(c),g.addAxis(d)})});function u(c){return function(f,d){if(_E(f,t)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var v=new Vee(c,iy(f),[0,0],f.get("type"),h),g=v.type==="category";v.onBand=g&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=a,v.index=d,a._axesList.push(v),s[c][d]=v,l[c]++}}}},r.prototype._updateScale=function(t,e){z(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(fSe(i)){var a=AG(i),o=a.xAxisModel,s=a.yAxisModel;if(!_E(o,e)||!_E(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");n(u,c),n(u,f)}},this);function n(i,a){z($_(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],n=[];return z(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(a);Ze(e,a)<0&&e.push(a),Ze(n,o)<0&&n.push(o)}),{baseAxes:e,otherAxes:n}},r.create=function(t,e){var n=[];return t.eachComponent("grid",function(i,a){var o=new r(i,t,e);o.name="grid_"+a,o.resize(i,e,!0),i.coordinateSystem=o,n.push(o)}),t.eachSeries(function(i){ry({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=AG(i),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(s.componentIndex,l.componentIndex)}}),n},r.dimensions=bP,r})();function _E(r,t){return r.getCoordSysModel()===t}function DG(r,t,e,n){e.getAxesOnZeroOf=function(){return a?[a]:[]};var i=r[t],a,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)EG(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&EG(i[u])&&!n[c(i[u])]){a=i[u];break}a&&(n[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function EG(r){return r&&r.type!=="category"&&r.type!=="time"&&oxe(r)}function pSe(r,t){var e=r.getExtent(),n=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(i){return i+t}:function(i){return n-i+t},r.toLocalCoord=r.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}function wP(r,t){z(r.x,function(e){return IG(e,t.x,t.width)}),z(r.y,function(e){return IG(e,t.y,t.height)})}function IG(r,t,e){var n=[0,e],i=r.inverse?1:0;r.setExtent(n[i],n[1-i]),pSe(r,t)}var CP;function gSe(r){CP=r}function RG(r,t,e,n,i,a,o){jee(n,i,no.estimate,t,!1,o);var s=[0,0,0,0];u(0),u(1),c(n,0,NaN),c(n,1,NaN);var l=Tu(s,function(d){return d>0})==null;return cf(n,s,!0,!0,e),wP(i,n),l;function u(d){z(i[qe[d]],function(h){if(dg(h.model)){var v=a.ensureRecord(h.model),g=v.labelInfoList;if(g)for(var m=0;m<g.length;m++){var x=g[m],_=h.scale.normalize(Ed(x.label).tickValue);_=d===1?1-_:_,c(x.rect,d,_),c(x.rect,1-d,NaN)}var b=v.nameLayout;if(b){var _=Ad(v.nameLocation)?.5:NaN;c(b.rect,d,_),c(b.rect,1-d,NaN)}}})}function c(d,h,v){var g=r[qe[h]]-d[qe[h]],m=d[Or[h]]+d[qe[h]]-(r[Or[h]]+r[qe[h]]);g=f(g,1-v),m=f(m,v);var x=MG[h][0],_=MG[h][1];s[x]=Tr(s[x],g),s[_]=Tr(s[_],m)}function f(d,h){return d>0&&!Dn(h)&&h>1e-4&&(d/=h),d}}function ySe(r,t,e,n,i){var a=new Gee(xSe);return z(e,function(o){return z(o,function(s){if(dg(s.model)){var l=!n;s.axisBuilder=hSe(r,t,s.model,i,a,l)}})}),a}function jee(r,t,e,n,i,a){var o=e===no.determine;z(t,function(u){return z(u,function(c){dg(c.model)&&(dSe(c.axisBuilder,r,c.model),c.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var s={x:0,y:0};l(0),l(1);function l(u){s[qe[1-u]]=r[Or[u]]<=a.refContainer[Or[u]]*.5?0:1-u===1?2:1}z(t,function(u,c){return z(u,function(f){dg(f.model)&&((n==="all"||o)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:s[c]}),o&&f.axisBuilder.build({axisLine:!0}))})})}function mSe(r,t,e){var n,i=r.get("outerBoundsMode",!0);i==="same"?n=t.clone():(i==null||i==="auto")&&(n=rr(r.get("outerBounds",!0)||kee,e.refContainer));var a=r.get("outerBoundsContain",!0),o;a==null||a==="auto"||Ze(["all","axisLabel"],a)<0?o="all":o=a;var s=[D_(Ie(r.get("outerBoundsClampWidth",!0),rb[0]),t.width),D_(Ie(r.get("outerBoundsClampHeight",!0),rb[1]),t.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var xSe=function(r,t,e,n,i,a){var o=e.axis.dim==="x"?"y":"x";Wee(r,t,e,n,i,a),Ad(r.nameLocation)||z(t.recordMap[o],function(s){s&&s.labelInfoList&&s.dirVec&&qee(s.labelInfoList,s.dirVec,n,i)})};function _Se(r,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return bSe(e,r,t),e.seriesInvolved&&wSe(e,r),e}function bSe(r,t,e){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];z(e.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=yg(s.model),u=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",n);if(z(s.getAxes(),je(g,!1,null)),s.getTooltipAxes&&n&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&z(v.baseAxes,je(g,h?"cross":!0,d)),h&&z(v.otherAxes,je(g,"cross",!1))}function g(m,x,_){var b=_.model.getModel("axisPointer",i),w=b.get("show");if(!(!w||w==="auto"&&!m&&!TP(b))){x==null&&(x=b.get("triggerTooltip")),b=m?SSe(_,f,i,t,m,x):b;var T=b.get("snap"),A=b.get("triggerEmphasis"),M=yg(_.model),D=x||T||_.type==="category",P=r.axesInfo[M]={key:M,axis:_,coordSys:s,axisPointerModel:b,triggerTooltip:x,triggerEmphasis:A,involveSeries:D,snap:T,useHandle:TP(b),seriesModels:[],linkGroup:null};u[M]=P,r.seriesInvolved=r.seriesInvolved||D;var I=CSe(a,_);if(I!=null){var R=o[I]||(o[I]={axesInfo:{}});R.axesInfo[M]=P,R.mapper=a[I].mapper,P.linkGroup=R}}}})}function SSe(r,t,e,n,i,a){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};z(s,function(d){l[d]=Oe(o.get(d))}),l.snap=r.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=o.get("crossStyle");f&&ke(u,f.textStyle)}}return r.model.getModel("axisPointer",new st(l,e,n))}function wSe(r,t){t.eachSeries(function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!n||!n.model||i==="none"||i===!1||i==="item"||a===!1||e.get(["axisPointer","show"],!0)===!1||z(r.coordSysAxesInfo[yg(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(e),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=e.getData().count())})})}function CSe(r,t){for(var e=t.model,n=t.dim,i=0;i<r.length;i++){var a=r[i]||{};if(bE(a[n+"AxisId"],e.id)||bE(a[n+"AxisIndex"],e.componentIndex)||bE(a[n+"AxisName"],e.name))return i}}function bE(r,t){return r==="all"||ue(r)&&Ze(r,t)>=0||r===t}function TSe(r){var t=Wk(r);if(t){var e=t.axisPointerModel,n=t.axis.scale,i=e.option,a=e.get("status"),o=e.get("value");o!=null&&(o=n.parse(o));var s=TP(e);a==null&&(i.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function Wk(r){var t=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[yg(r)]}function ASe(r){var t=Wk(r);return t&&t.axisPointerModel}function TP(r){return!!r.get(["handle","show"])}function yg(r){return r.type+"||"+r.id}var PG={},Ef=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.axisPointerClass&&TSe(e),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,n,i,a){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var o=ASe(e);o?(this._axisPointer||(this._axisPointer=new a)).render(e,o,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){PG[e]=n},t.getAxisPointerClass=function(e){return e&&PG[e]},t.type="axis",t})(Yt),AP=ot();function Zee(r,t,e,n){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=s.length,f=AP(r).splitAreaColors,d=Me(),h=0;if(f)for(var v=0;v<u.length;v++){var g=f.get(u[v].tickValue);if(g!=null){h=(g+(c-1)*v)%c;break}}var m=i.toGlobalCoord(u[0].coord),x=o.getAreaStyle();s=ue(s)?s:[s];for(var v=1;v<u.length;v++){var _=i.toGlobalCoord(u[v].coord),b=void 0,w=void 0,T=void 0,A=void 0;i.isHorizontal()?(b=m,w=l.y,T=_-b,A=l.height,m=b+T):(b=l.x,w=m,T=l.width,A=_-w,m=w+A);var M=u[v-1].tickValue;M!=null&&d.set(M,h),t.add(new rt({anid:M!=null?"area_"+M:null,shape:{x:b,y:w,width:T,height:A},style:ke({fill:s[h]},x),autoBatch:!0,silent:!0})),h=(h+1)%c}AP(r).splitAreaColors=d}}}function Kee(r){AP(r).splitAreaColors=null}var MSe=["splitArea","splitLine","minorSplitLine","breakArea"],Qee=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,n,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Be,this.group.add(this._axisGroup),!!dg(e)){this._axisGroup.add(e.axis.axisBuilder.group),z(MSe,function(l){e.get([l,"show"])&&DSe[l](this,this._axisGroup,e,e.getCoordSysModel(),i)},this);var s=a&&a.type==="changeAxisOrder"&&a.isInitSort;s||ey(o,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)}},t.prototype.remove=function(){Kee(this)},t.type="cartesianAxis",t})(Ef),DSe={splitLine:function(r,t,e,n,i){var a=e.axis;if(!a.scale.isBlank()){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=o.get("showMinLine")!==!1,c=o.get("showMaxLine")!==!1;l=ue(l)?l:[l];for(var f=n.coordinateSystem.getRect(),d=a.isHorizontal(),h=0,v=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),g=[],m=[],x=s.getLineStyle(),_=0;_<v.length;_++){var b=a.toGlobalCoord(v[_].coord);if(!(_===0&&!u||_===v.length-1&&!c)){var w=v[_].tickValue;d?(g[0]=b,g[1]=f.y,m[0]=b,m[1]=f.y+f.height):(g[0]=f.x,g[1]=b,m[0]=f.x+f.width,m[1]=b);var T=h++%l.length,A=new Mr({anid:w!=null?"line_"+w:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},style:ke({stroke:l[T]},x),silent:!0});Sd(A.shape,x.lineWidth),t.add(A)}}}},minorSplitLine:function(r,t,e,n,i){var a=e.axis,o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=n.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],d=[],h=s.getLineStyle(),v=0;v<c.length;v++)for(var g=0;g<c[v].length;g++){var m=a.toGlobalCoord(c[v][g].coord);u?(f[0]=m,f[1]=l.y,d[0]=m,d[1]=l.y+l.height):(f[0]=l.x,f[1]=m,d[0]=l.x+l.width,d[1]=m);var x=new Mr({anid:"minor_line_"+c[v][g].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:h,silent:!0});Sd(x.shape,h.lineWidth),t.add(x)}},splitArea:function(r,t,e,n,i){Zee(r,t,e,n)},breakArea:function(r,t,e,n,i){var a=uy(),o=e.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,r,e,n.coordinateSystem.getRect(),i)}},Jee=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t})(Qee),ESe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=Jee.type,e}return t.type="yAxis",t})(Qee),ISe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new rt({shape:e.coordinateSystem.getRect(),style:ke({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t})(Yt),OG={offset:0};function ete(r){r.registerComponentView(ISe),r.registerComponentModel(Vbe),r.registerCoordinateSystem("cartesian2d",vSe),Dd(r,"x",xP,OG),Dd(r,"y",xP,OG),r.registerComponentView(Jee),r.registerComponentView(ESe),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function RSe(r,t){var e=r.coordinateSystem,n=e&&e.type,i=e&&e.getBaseAxis&&e.getBaseAxis(),a=i&&i.scale&&i.scale.type,o=n==="cartesian2d"&&a==="ordinal"||n==="single",s=t.model.get("jitter")>0;return o&&s}var PSe=ot();function BG(r,t,e,n){if(r instanceof Vee){var i=r.scale.type;if(i!=="category"&&i!=="ordinal")return e}var a=r.model,o=a.get("jitter"),s=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,u=r.scale.type==="ordinal"?r.getBandWidth():null;return o>0?s?tte(e,o,u,n):OSe(r,t,e,n,o,l):e}function tte(r,t,e,n){if(e===null)return r+(Math.random()-.5)*t;var i=e-n*2,a=Math.min(Math.max(0,t),i);return r+(Math.random()-.5)*a}function OSe(r,t,e,n,i,a){var o=PSe(r);o.items||(o.items=[]);var s=o.items,l=kG(s,t,e,n,i,a,1),u=kG(s,t,e,n,i,a,-1),c=Math.abs(l-e)<Math.abs(u-e)?l:u,f=r.scale.type==="ordinal"?r.getBandWidth():null,d=Math.abs(c-e);return d>i/2||f&&d>f/2-n?tte(e,i,f,n):(s.push({fixedCoord:t,floatCoord:c,r:n}),c)}function kG(r,t,e,n,i,a,o){for(var s=e,l=0;l<r.length;l++){var u=r[l],c=t-u.fixedCoord,f=s-u.floatCoord,d=c*c+f*f,h=n+u.r+a;if(d<h*h){var v=u.floatCoord+Math.sqrt(h*h-c*c)*o;if(Math.abs(v-e)>i/2)return Number.MAX_VALUE;if(o===1&&v>s||o===-1&&v<s){s=v,l=-1;continue}}}return s}function BSe(r){r.eachSeriesByType("scatter",function(t){var e=t.coordinateSystem;if(e&&(e.type==="cartesian2d"||e.type==="single")){var n=e.getBaseAxis?e.getBaseAxis():null,i=n&&RSe(t,n);if(i){var a=t.getData();a.each(function(o){var s=n.dim,l=n.orient,u=l==="horizontal"&&n.type!=="category"||l==="vertical"&&n.type==="category",c=a.getItemLayout(o),f=a.getItemVisual(o,"symbolSize"),d=f instanceof Array?(f[1]+f[0])/2:f;if(s==="y"||s==="single"&&u){var h=BG(n,c[0],c[1],d/2);a.setItemLayout(o,[c[0],h])}else if(s==="x"||s==="single"&&!u){var h=BG(n,c[1],c[0],d/2);a.setItemLayout(o,[h,c[1]])}})}}})}function kSe(r){Je(ete),r.registerSeriesModel(Obe),r.registerChartView(Nbe),r.registerLayout(ly("scatter"))}function LSe(r){r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,BSe)}function NSe(r){r.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();z(a,function(o,s){e.each(e.mapDimension(a[s].dim),function(l,u){n[u]=n[u]||[];var c=i.dataToPoint(l,s);n[u][s]=LG(c)?c:NG(i)})}),e.each(function(o){var s=Tu(n[o],function(l){return LG(l)})||NG(i);n[o].push(s.slice()),e.setItemLayout(o,n[o])})}})}function LG(r){return!isNaN(r[0])&&!isNaN(r[1])}function NG(r){return[r.cx,r.cy]}function VSe(r){var t=r.polar;if(t){ue(t)||(t=[t]);var e=[];z(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],ue(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):e.push(n)}),r.polar=e}z(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var zSe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.coordinateSystem,o=this.group,s=e.getData(),l=this._data;function u(d,h){var v=d.getItemVisual(h,"symbol")||"circle";if(v!=="none"){var g=Zd(d.getItemVisual(h,"symbolSize")),m=Dr(v,-1,-1,2,2),x=d.getItemVisual(h,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:x*Math.PI/180||0}),m}}function c(d,h,v,g,m,x){v.removeAll();for(var _=0;_<h.length-1;_++){var b=u(g,m);b&&(b.__dimIdx=_,d[_]?(b.setPosition(d[_]),Tf[x?"initProps":"updateProps"](b,{x:h[_][0],y:h[_][1]},e,m)):b.setPosition(h[_]),v.add(b))}}function f(d){return he(d,function(h){return[a.cx,a.cy]})}s.diff(l).add(function(d){var h=s.getItemLayout(d);if(h){var v=new Pn,g=new pn,m={shape:{points:h}};v.shape.points=f(h),g.shape.points=f(h),Kt(v,m,e,d),Kt(g,m,e,d);var x=new Be,_=new Be;x.add(g),x.add(v),x.add(_),c(g.shape.points,h,_,s,d,!0),s.setItemGraphicEl(d,x)}}).update(function(d,h){var v=l.getItemGraphicEl(h),g=v.childAt(0),m=v.childAt(1),x=v.childAt(2),_={shape:{points:s.getItemLayout(d)}};_.shape.points&&(c(g.shape.points,_.shape.points,x,s,d,!1),Ta(m),Ta(g),bt(g,_,e),bt(m,_,e),s.setItemGraphicEl(d,v))}).remove(function(d){o.remove(l.getItemGraphicEl(d))}).execute(),s.eachItemGraphicEl(function(d,h){var v=s.getItemModel(h),g=d.childAt(0),m=d.childAt(1),x=d.childAt(2),_=s.getItemVisual(h,"style"),b=_.fill;o.add(d),g.useStyle(ke(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),Wr(g,v,"lineStyle"),Wr(m,v,"areaStyle");var w=v.getModel("areaStyle"),T=w.isEmpty()&&w.parentModel.isEmpty();m.ignore=T,z(["emphasis","select","blur"],function(M){var D=v.getModel([M,"areaStyle"]),P=D.isEmpty()&&D.parentModel.isEmpty();m.ensureState(M).ignore=P&&T;var I=v.getModel([M,"lineStyle"]).getLineStyle();g.ensureState(M).style=I;var R=D.getAreaStyle();m.ensureState(M).style=R;var k=v.getModel([M,"itemStyle"]).getItemStyle();x.eachChild(function(O){O.ensureState(M).style=Oe(k)})}),m.useStyle(ke(v.getModel("areaStyle").getAreaStyle(),{fill:b,opacity:.7,decal:_.decal}));var A=v.getModel("emphasis");x.eachChild(function(M){if(M instanceof nn){var D=M.style;M.useStyle(oe({image:D.image,x:D.x,y:D.y,width:D.width,height:D.height},_))}else M.useStyle(_),M.setColor(b),M.style.strokeNoScale=!0;var P=s.getStore().get(s.getDimensionIndex(M.__dimIdx),h);(P==null||isNaN(P))&&(P=""),tn(M,Ur(v),{labelFetcher:s.hostModel,labelDataIndex:h,labelDimIndex:M.__dimIdx,defaultText:P,inheritColor:b,defaultOpacity:_.opacity})}),or(d,A.get("focus"),A.get("blurScope"),A.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t})(Bt),FSe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new rv(Se(this.getData,this),Se(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return tv(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(e),u=l===""?this.name:l,c=kQ(this,e);return Br("section",{header:u,sortBlocks:!0,blocks:he(s,function(f){var d=a.get(a.mapDimension(f.dim),e);return Br("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:d,sortParam:d})})})},t.prototype.getTooltipPosition=function(e){if(e!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(he(i.dimensions,function(u){return n.mapDimension(u)}),e),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=i.getIndicatorAxes();return i.coordToPoint(l[o].dataToCoord(a[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t})(Vt),Bp=Nee.value;function M1(r,t){return ke({show:t},r)}var HSe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),h=he(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var g=l;v.color!=null&&(g=ke({color:v.color},l));var m=Ke(Oe(v),{boundaryGap:e,splitNumber:n,scale:i,axisLine:a,axisTick:o,axisLabel:s,name:v.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:g,triggerEvent:d},!1);if(be(c)){var x=m.name;m.name=c.replace("{value}",x??"")}else Re(c)&&(m.name=c(m.name,m));var _=new st(m,null,this.ecModel);return mr(_,Jd.prototype),_.mainType="radar",_.componentIndex=this.componentIndex,_},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:te.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ke({lineStyle:{color:te.color.neutral20}},Bp.axisLine),axisLabel:M1(Bp.axisLabel,!1),axisTick:M1(Bp.axisTick,!1),splitLine:M1(Bp.splitLine,!0),splitArea:M1(Bp.splitArea,!0),indicator:[]},t})(at),GSe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll(),this._buildAxes(e,i),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e,n){var i=e.coordinateSystem,a=i.getIndicatorAxes(),o=he(a,function(s){var l=s.model.get("showName")?s.name:"",u=new Zn(s.model,n,{axisName:l,position:[i.cx,i.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});z(o,function(s){s.build(),this.group.add(s.group)},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=e.get("shape"),o=e.getModel("splitLine"),s=e.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),d=l.get("color"),h=u.get("color"),v=ue(d)?d:[d],g=ue(h)?h:[h],m=[],x=[];function _(N,L,G){var W=G%L.length;return N[W]=N[W]||[],W}if(a==="circle")for(var b=i[0].getTicksCoords(),w=n.cx,T=n.cy,A=0;A<b.length;A++){if(c){var M=_(m,v,A);m[M].push(new $o({shape:{cx:w,cy:T,r:b[A].coord}}))}if(f&&A<b.length-1){var M=_(x,g,A);x[M].push(new Fd({shape:{cx:w,cy:T,r0:b[A].coord,r:b[A+1].coord}}))}}else for(var D,P=he(i,function(N,L){var G=N.getTicksCoords();return D=D==null?G.length-1:Math.min(G.length-1,D),he(G,function(W){return n.coordToPoint(W.coord,L)})}),I=[],A=0;A<=D;A++){for(var R=[],k=0;k<i.length;k++)R.push(P[k][A]);if(R[0]&&R.push(R[0].slice()),c){var M=_(m,v,A);m[M].push(new pn({shape:{points:R}}))}if(f&&I){var M=_(x,g,A-1);x[M].push(new Pn({shape:{points:R.concat(I)}}))}I=R.slice().reverse()}var O=l.getLineStyle(),V=u.getAreaStyle();z(x,function(N,L){this.group.add(Ni(N,{style:ke({stroke:"none",fill:g[L%g.length]},V),silent:!0}))},this),z(m,function(N,L){this.group.add(Ni(N,{style:ke({fill:"none",stroke:v[L%v.length]},O),silent:!0}))},this)},t.type="radar",t})(Yt),WSe=(function(r){J(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return t})(Pa),USe=(function(){function r(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=he(t.getIndicatorModels(),function(i,a){var o="indicator_"+a,s=new WSe(o,new il);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(t,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},r.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle,a=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[a,o]},r.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var a=Math.atan2(-n,e),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(i))]},r.prototype.resize=function(t,e){var n=qr(t,e).refContainer,i=t.get("center"),a=Math.min(n.width,n.height)/2;this.cx=_e(i[0],n.width)+n.x,this.cy=_e(i[1],n.height)+n.y,this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");(be(o)||yt(o))&&(o=[0,o]),this.r0=_e(o[0],a),this.r=_e(o[1],a),z(this._indicatorAxes,function(s,l){s.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),s.angle=u},this)},r.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;z(n,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();z(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),o=new il;o.setExtent(0,a),o.setInterval(1),z(n,function(s,l){$ee(s.scale,s.model,o)})},r.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.create=function(t,e){var n=[];return t.eachComponent("radar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},r.dimensions=[],r})();function qSe(r){r.registerCoordinateSystem("radar",USe),r.registerComponentModel(HSe),r.registerComponentView(GSe),r.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(n){e.setItemVisual(n,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}function YSe(r){Je(qSe),r.registerChartView(zSe),r.registerSeriesModel(FSe),r.registerLayout(NSe),r.registerProcessor(ev("radar")),r.registerPreprocessor(VSe)}var Uk=ot();function XSe(r,t,e){Uk(r)[t]=e}function $Se(r,t,e){var n=Uk(r),i=n[t];i===e&&(n[t]=null)}function VG(r,t){return!!Uk(r)[t]}oo({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},gr);var jSe={axisPointer:1,tooltip:1,brush:1};function rte(r,t,e){var n=t.getComponentByElement(r.topTarget);if(!n||n===e||jSe.hasOwnProperty(n.mainType))return!1;var i=n.coordinateSystem;if(!i||i.model===e)return!1;var a=ff(n),o=ff(e);return!((a.zlevel-o.zlevel||a.z-o.z)<=0)}var If=(function(r){J(t,r);function t(e){var n=r.call(this)||this;n._zr=e;var i=Se(n._mousedownHandler,n),a=Se(n._mousemoveHandler,n),o=Se(n._mouseupHandler,n),s=Se(n._mousewheelHandler,n),l=Se(n._pinchHandler,n);return n.enable=function(u,c){var f=c.zInfo,d=ff(f.component),h=d.z,v=d.zlevel,g={component:f.component,z:h,zlevel:v,z2:Ie(f.z2,-1/0)},m=oe({},c.triggerInfo);this._opt=ke(oe({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:g,triggerInfo:m}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(Lp(e,"mousedown",i,g),Lp(e,"mousemove",a,g),Lp(e,"mouseup",o,g)),(u===!0||u==="scale"||u==="zoom")&&(Lp(e,"mousewheel",s,g),Lp(e,"pinch",l,g)))},n.disable=function(){this._enabled=!1,Np(e,"mousedown",i),Np(e,"mousemove",a),Np(e,"mouseup",o),Np(e,"mousewheel",s),Np(e,"pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype._checkPointer=function(e,n,i){var a=this._opt,o=a.zInfoParsed;if(rte(e,a.api,o.component))return!1;var s=a.triggerInfo,l=s.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=s.isInSelf(e,n,i)),u&&s.isInClip&&!s.isInClip(e,n,i)&&(u=!1),u},t.prototype._decideCursorStyle=function(e,n,i,a){var o=e.target;if(!o&&this._checkPointer(e,n,i))return"grab";if(a)return o&&o.cursor||"default"},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(a7(e)||kp(e))){for(var n=e.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=e.offsetX,a=e.offsetY;this._checkPointer(e,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){var n=this._zr;if(!(e.gestureEvent==="pinch"||VG(n,"globalPan")||kp(e))){var i=e.offsetX,a=e.offsetY;if(!this._dragging||!Cx("moveOnMouseMove",e,this._opt)){var o=this._decideCursorStyle(e,i,a,!1);o&&n.setCursorStyle(o);return}n.setCursorStyle("grabbing");var s=this._x,l=this._y,u=i-s,c=a-l;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&Js(e.event),e.__ecRoamConsumed=!0,zG(this,"pan","moveOnMouseMove",e,{dx:u,dy:c,oldX:s,oldY:l,newX:i,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){if(!kp(e)){var n=this._zr;if(!a7(e)){this._dragging=!1;var i=this._decideCursorStyle(e,e.offsetX,e.offsetY,!0);i&&n.setCursorStyle(i)}}},t.prototype._mousewheelHandler=function(e){if(!kp(e)){var n=Cx("zoomOnMouseWheel",e,this._opt),i=Cx("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,o=Math.abs(a),s=e.offsetX,l=e.offsetY;if(!(a===0||!n&&!i)){if(n){var u=o>3?1.4:o>1?1.2:1.1,c=a>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",e,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),d=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}}},t.prototype._pinchHandler=function(e){if(!(VG(this._zr,"globalPan")||kp(e))){var n=e.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,e,{scale:n,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t.prototype._checkTriggerMoveZoom=function(e,n,i,a,o){e._checkPointer(a,o.originX,o.originY)&&(Js(a.event),a.__ecRoamConsumed=!0,zG(e,n,i,a,o))},t})(Ia);function kp(r){return r.__ecRoamConsumed}var ZSe=ot();function BS(r){var t=ZSe(r);return t.roam=t.roam||{},t.uniform=t.uniform||{},t}function Lp(r,t,e,n){for(var i=BS(r),a=i.roam,o=a[t]=a[t]||[],s=0;s<o.length;s++){var l=o[s].zInfoParsed;if((l.zlevel-n.zlevel||l.z-n.z||l.z2-n.z2)<=0)break}o.splice(s,0,{listener:e,zInfoParsed:n}),KSe(r,t)}function Np(r,t,e){for(var n=BS(r),i=n.roam[t]||[],a=0;a<i.length;a++)if(i[a].listener===e){i.splice(a,1),i.length||QSe(r,t);return}}function KSe(r,t){var e=BS(r);e.uniform[t]||r.on(t,e.uniform[t]=function(n){var i=e.roam[t];if(i)for(var a=0;a<i.length;a++)i[a].listener(n)})}function QSe(r,t){var e=BS(r),n=e.uniform;n[t]&&(r.off(t,n[t]),n[t]=null)}function zG(r,t,e,n,i){i.isAvailableBehavior=Se(Cx,null,e,n),r.trigger(t,i)}function Cx(r,t,e){var n=e[r];return!r||n&&(!be(n)||t.event[n+"Key"])}function qk(r,t,e){var n=r.target;n.x+=t,n.y+=e,n.dirty()}function Yk(r,t,e,n){var i=r.target,a=r.zoomLimit,o=r.zoom=r.zoom||1;o*=t,o=Xk(o,a);var s=o/r.zoom;r.zoom=o,ite(i,e,n,s),i.dirty()}function nte(r,t,e,n,i,a){var o=new Fe(0,0,0,0);n.enable(r.get("roam"),{api:t,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(u,c,f){return o.copy(e.getBoundingRect()),o.applyTransform(e.getComputedTransform()),o.contain(c,f)},isInClip:function(u,c,f){return!a||a.contain(c,f)}}}),i.zoomLimit=r.get("scaleLimit");var s=r.coordinateSystem;i.zoom=s?s.getZoom():1;var l=r.subType+"Roam";n.off("pan").off("zoom").on("pan",function(u){qk(i,u.dx,u.dy),t.dispatchAction({seriesId:r.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){Yk(i,u.scale,u.originX,u.originY),t.dispatchAction({seriesId:r.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),t.updateLabelLayout()})}function FG(r,t){return r.pointToProjected?r.pointToProjected(t):r.pointToData(t)}function kS(r,t,e){var n=r.getZoom(),i=r.getCenter(),a=t.zoom,o=r.projectedToPoint?r.projectedToPoint(i):r.dataToPoint(i);return t.dx!=null&&t.dy!=null&&(o[0]-=t.dx,o[1]-=t.dy,r.setCenter(FG(r,o))),a!=null&&(a=Xk(n*a,e)/n,ite(r,t.originX,t.originY,a),r.updateTransform(),r.setCenter(FG(r,o)),r.setZoom(a*n)),{center:r.getCenter(),zoom:r.getZoom()}}function ite(r,t,e,n){r.x-=(t-r.x)*(n-1),r.y-=(e-r.y)*(n-1),r.scaleX*=n,r.scaleY*=n}function Xk(r,t){if(t){var e=t.min||0,n=t.max||1/0;r=Math.max(Math.min(n,r),e)}return r}function ate(r){if(be(r)){var t=new DOMParser;r=t.parseFromString(r,"text/xml")}var e=r;for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}var SE,ib={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},HG=ht(ib),ab={"alignment-baseline":"textBaseline","stop-color":"stopColor"},GG=ht(ab),JSe=(function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(t,e){e=e||{};var n=ate(t);this._defsUsePending=[];var i=new Be;this._root=i;var a=[],o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),l=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Ii(n,i,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;rwe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var d=LS(o);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&s!=null&&l!=null&&(f=ste(c,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var h=i;i=new Be,i.add(h),h.scaleX=h.scaleY=f.scale,h.x=f.x,h.y=f.y}return!e.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new rt({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},r.prototype._parseNode=function(t,e,n,i,a,o){var s=t.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(a=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=e;else{if(!a){var c=SE[s];if(c&&Te(SE,s)){l=c.call(this,t,e);var f=t.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:s,el:l};n.push(d),s==="g"&&(u=d)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});e.add(l)}}var h=WG[s];if(h&&Te(WG,s)){var v=h.call(this,t),g=t.getAttribute("id");g&&(this._defs[g]=v)}}if(l&&l.isGroup)for(var m=t.firstChild;m;)m.nodeType===1?this._parseNode(m,l,n,u,a,o):m.nodeType===3&&o&&this._parseText(m,l),m=m.nextSibling},r.prototype._parseText=function(t,e){var n=new _d({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});aa(e,n),Ii(t,n,this._defsUsePending,!1,!1),ewe(n,e);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n},r.internalField=(function(){SE={g:function(t,e){var n=new Be;return aa(e,n),Ii(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new rt;return aa(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new $o;return aa(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new Mr;return aa(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new Kg;return aa(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n=t.getAttribute("points"),i;n&&(i=YG(n));var a=new Pn({shape:{points:i||[]},silent:!0});return aa(e,a),Ii(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var n=t.getAttribute("points"),i;n&&(i=YG(n));var a=new pn({shape:{points:i||[]},silent:!0});return aa(e,a),Ii(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var n=new nn;return aa(e,n),Ii(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var s=new Be;return aa(e,s),Ii(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new Be;return aa(e,s),Ii(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(t,e){var n=t.getAttribute("d")||"",i=wK(n);return aa(e,i),Ii(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),r})(),WG={lineargradient:function(r){var t=parseInt(r.getAttribute("x1")||"0",10),e=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),i=parseInt(r.getAttribute("y2")||"0",10),a=new Cf(t,e,n,i);return UG(r,a),qG(r,a),a},radialgradient:function(r){var t=parseInt(r.getAttribute("cx")||"0",10),e=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),i=new LB(t,e,n);return UG(r,i),qG(r,i),i}};function UG(r,t){var e=r.getAttribute("gradientUnits");e==="userSpaceOnUse"&&(t.global=!0)}function qG(r,t){for(var e=r.firstChild;e;){if(e.nodeType===1&&e.nodeName.toLocaleLowerCase()==="stop"){var n=e.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};ote(e,a,a);var o=a.stopColor||e.getAttribute("stop-color")||"#000000",s=a.stopOpacity||e.getAttribute("stop-opacity");if(s){var l=Fn(o),u=l&&l[3];u&&(l[3]*=qs(s),o=_a(l,"rgba"))}t.colorStops.push({offset:i,color:o})}e=e.nextSibling}}function aa(r,t){r&&r.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),ke(t.__inheritedStyle,r.__inheritedStyle))}function YG(r){for(var t=LS(r),e=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),a=parseFloat(t[n+1]);e.push([i,a])}return e}function Ii(r,t,e,n,i){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};r.nodeType===1&&(awe(r,t),ote(r,o,s),n||owe(r,o,s)),a.style=a.style||{},o.fill!=null&&(a.style.fill=XG(a,"fill",o.fill,e)),o.stroke!=null&&(a.style.stroke=XG(a,"stroke",o.stroke,e)),z(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(a.style[l]=parseFloat(o[l]))}),z(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(a.style[l]=o[l])}),i&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=he(LS(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function ewe(r,t){var e=t.__selfStyle;if(e){var n=e.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),r.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&(o==="middle"&&(s="center"),r.style.textAlign=s)}}var twe=/^url\(\s*#(.*?)\)/;function XG(r,t,e,n){var i=e&&e.match(twe);if(i){var a=Vi(i[1]);n.push([r,t,a]);return}return e==="none"&&(e=null),e}function rwe(r,t){for(var e=0;e<t.length;e++){var n=t[e];n[0].style[n[1]]=r[n[2]]}}var nwe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function LS(r){return r.match(nwe)||[]}var iwe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,wE=Math.PI/180;function awe(r,t){var e=r.getAttribute("transform");if(e){e=e.replace(/,/g," ");var n=[],i=null;e.replace(iwe,function(f,d,h){return n.push(d,h),""});for(var a=n.length-1;a>0;a-=2){var o=n[a],s=n[a-1],l=LS(o);switch(i=i||Jr(),s){case"translate":to(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":lS(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":sl(i,i,-parseFloat(l[0])*wE,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*wE);Ka(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*wE);Ka(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var $G=/([^\s:;]+)\s*:\s*([^:;]+)/g;function ote(r,t,e){var n=r.getAttribute("style");if(n){$G.lastIndex=0;for(var i;(i=$G.exec(n))!=null;){var a=i[1],o=Te(ib,a)?ib[a]:null;o&&(t[o]=i[2]);var s=Te(ab,a)?ab[a]:null;s&&(e[s]=i[2])}}}function owe(r,t,e){for(var n=0;n<HG.length;n++){var i=HG[n],a=r.getAttribute(i);a!=null&&(t[ib[i]]=a)}for(var n=0;n<GG.length;n++){var i=GG[n],a=r.getAttribute(i);a!=null&&(e[ab[i]]=a)}}function ste(r,t){var e=t.width/r.width,n=t.height/r.height,i=Math.min(e,n);return{scale:i,x:-(r.x+r.width/2)*i+(t.x+t.width/2),y:-(r.y+r.height/2)*i+(t.y+t.height/2)}}function swe(r,t){var e=new JSe;return e.parse(r,t)}var lwe=Me(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),uwe=(function(){function r(t,e){this.type="geoSVG",this._usedGraphicMap=Me(),this._freedGraphics=[],this._mapName=t,this._parsedXML=ate(e)}return r.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=fwe(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(t){var e,n;try{e=t&&swe(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,In(n!=null)}catch(m){throw new Error(`Invalid svg format
`+m.message)}var i=new Be;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=e.width,o=e.height,s=e.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,d=void 0;if(a!=null?(u=0,f=a):s&&(u=s.x,f=s.width),o!=null?(c=0,d=o):s&&(c=s.y,d=s.height),u==null||c==null){var h=n.getBoundingRect();u==null&&(u=h.x,f=h.width),c==null&&(c=h.y,d=h.height)}l=this._boundingRect=new Fe(u,c,f,d)}if(s){var v=ste(s,l);n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}i.setClipPath(new rt({shape:l.plain()}));var g=[];return z(e.named,function(m){lwe.get(m.svgNodeTagLower)!=null&&(g.push(m),cwe(m.el))}),{root:i,boundingRect:l,named:g}},r.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},r.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},r})();function cwe(r){r.silent=!1,r.isGroup&&r.traverse(function(t){t.silent=!1})}function fwe(r){var t=[],e=Me();return z(r,function(n){if(n.namedFrom==null){var i=new mxe(n.name,n.el);t.push(i),e.set(n.name,i)}}),{regions:t,regionsMap:e}}var MP=[126,25],jG="",Dc=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var wc=0;wc<Dc.length;wc++)for(var kh=0;kh<Dc[wc].length;kh++)Dc[wc][kh][0]/=10.5,Dc[wc][kh][1]/=-10.5/.75,Dc[wc][kh][0]+=MP[0],Dc[wc][kh][1]+=MP[1];function hwe(r,t){if(r==="china"){for(var e=0;e<t.length;e++)if(t[e].name===jG)return;t.push(new WJ(jG,he(Dc,function(n){return{type:"polygon",exterior:n}}),MP))}}var dwe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function vwe(r,t){if(r==="china"){var e=dwe[t.name];if(e){var n=t.getCenter();n[0]+=e[0]/10.5,n[1]+=-e[1]/(10.5/.75),t.setCenter(n)}}}var pwe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function gwe(r,t){r==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:pwe[0]})}var ywe="name",mwe=(function(){function r(t,e,n){this.type="geoJSON",this._parsedMap=Me(),this._mapName=t,this._specialAreas=n,this._geoJSON=_we(e)}return r.prototype.load=function(t,e){e=e||ywe;var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:xwe(i)})}var a=Me(),o=[];return z(n.regions,function(s){var l=s.name;t&&Te(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:n.boundingRect||new Fe(0,0,0,0),regionsMap:a}},r.prototype._parseToRegions=function(t){var e=this._mapName,n=this._geoJSON,i;try{i=n?cP(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return hwe(e,i),z(i,function(a){var o=a.name;vwe(e,a),gwe(e,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),i},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r})();function xwe(r){for(var t,e=0;e<r.length;e++){var n=r[e].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function _we(r){return be(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var Vp=Me();const al={registerMap:function(r,t,e){if(t.svg){var n=new uwe(r,t.svg);Vp.set(r,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t;var n=new mwe(r,i,e);Vp.set(r,n)}},getGeoResource:function(r){return Vp.get(r)},getMapForUser:function(r){var t=Vp.get(r);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(r,t,e){var n=Vp.get(r);if(n)return n.load(t,e)}};var $k=["rect","circle","line","ellipse","polygon","polyline","path"],bwe=Me($k),Swe=Me($k.concat(["g"])),wwe=Me($k.concat(["g"])),lte=ot();function D1(r){var t=r.getItemStyle(),e=r.get("areaColor");return e!=null&&(t.fill=e),t}function ZG(r){var t=r.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var ute=(function(){function r(t){var e=this.group=new Be,n=this._transformGroup=new Be;e.add(n),this.uid=qd("ec_map_draw"),this._controller=new If(t.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new Be),n.add(this._svgGroup=new Be)}return r.prototype.draw=function(t,e,n,i,a){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&e.eachComponent({mainType:"series",subType:"map"},function(b){!s&&b.getHostGeoModel()===t&&(s=b.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),d=f.raw,h=f.roam,v=!u.childAt(0)||a,g=t.getShallow("clip",!0),m;g?(m=l.getViewRect().clone(),this.group.setClipPath(new rt({shape:m.clone()}))):this.group.removeClipPath(),v?(c.x=h.x,c.y=h.y,c.scaleX=h.scaleX,c.scaleY=h.scaleY,c.dirty()):bt(c,h,t);var x=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,_={api:n,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:x,isGeo:o,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(_):l.resourceType==="geoSVG"&&this._buildSVG(_),this._updateController(t,m,e,n),this._updateMapSelectHandler(t,u,n,i)},r.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Me(),n=Me(),i=this._regionsGroup,a=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(h,v){return v&&(h=v(h)),h&&[h[0]*a.scaleX+a.x,h[1]*a.scaleY+a.y]}function f(h){for(var v=[],g=!u&&l&&l.project,m=0;m<h.length;++m){var x=c(h[m],g);x&&v.push(x)}return v}function d(h){return{shape:{points:f(h)}}}i.removeAll(),z(t.geo.regions,function(h){var v=h.name,g=e.get(v),m=n.get(v)||{},x=m.dataIdx,_=m.regionModel;if(!g){g=e.set(v,new Be),i.add(g),x=s?s.indexOfName(v):null,_=t.isGeo?o.getRegionModel(v):s?s.getItemModel(x):null;var b=_.get("silent",!0);b!=null&&(g.silent=b),n.set(v,{dataIdx:x,regionModel:_})}var w=[],T=[];z(h.geometries,function(D){if(D.type==="polygon"){var P=[D.exterior].concat(D.interiors||[]);u&&(P=rW(P,u)),z(P,function(R){w.push(new Pn(d(R)))})}else{var I=D.points;u&&(I=rW(I,u,!0)),z(I,function(R){T.push(new pn(d(R)))})}});var A=c(h.getCenter(),l&&l.project);function M(D,P){if(D.length){var I=new Jg({culling:!0,segmentIgnoreThreshold:1,shape:{paths:D}});g.add(I),KG(t,I,x,_),QG(t,I,v,_,o,x,A),P&&(ZG(I),z(I.states,ZG))}}M(w),M(T,!0)}),e.each(function(h,v){var g=n.get(v),m=g.dataIdx,x=g.regionModel;JG(t,h,v,x,o,m),eW(t,h,v,x,o),tW(t,h,v,x,o)},this)},r.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=Me(),a=!1;z(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,c=o.svgNodeTagLower,f=o.el,d=u?u.indexOfName(s):null,h=l.getRegionModel(s);bwe.get(c)!=null&&f instanceof Ca&&KG(t,f,d,h),f instanceof Ca&&(f.culling=!0);var v=h.get("silent",!0);if(v!=null&&(f.silent=v),f.z2EmphasisLift=0,!o.namedFrom&&(wwe.get(c)!=null&&QG(t,f,s,h,l,d,null),JG(t,f,s,h,l,d),eW(t,f,s,h,l),Swe.get(c)!=null)){var g=tW(t,f,s,h,l);g==="self"&&(a=!0);var m=i.get(s)||i.set(s,[]);m.push(f)}},this),this._enableBlurEntireSVG(a,t)},r.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){uf(a);var o=a.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),a.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(t,e){if(t==null)return[];var n=e.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},r.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},r.prototype._useSVG=function(t){var e=al.getGeoResource(t);if(e&&e.type==="geoSVG"){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},r.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var e=al.getGeoResource(t);e&&e.type==="geoSVG"&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(t,e,n,i){var a=t.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=a.getZoom(),o.enable(t.get("roam")||!1,{api:i,zInfo:{component:t},triggerInfo:{roamTrigger:t.get("roamTrigger"),isInSelf:function(c,f,d){return a.containPoint([f,d])},isInClip:function(c,f,d){return!e||e.contain(f,d)}}});var l=t.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=t.id,c}o.off("pan").on("pan",function(c){this._mouseDownFlag=!1,qk(s,c.dx,c.dy),i.dispatchAction(oe(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,Yk(s,c.scale,c.originX,c.originY),i.dispatchAction(oe(u(),{totalZoom:s.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=lte(e).ignore)})},r.prototype._updateMapSelectHandler=function(t,e,n,i){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},r})();function KG(r,t,e,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=D1(i),u=D1(a),c=D1(s),f=D1(o),d=r.data;if(d){var h=d.getItemVisual(e,"style"),v=d.getItemVisual(e,"decal");r.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),v&&(l.decal=Cd(v,r.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=f,uf(t)}function QG(r,t,e,n,i,a,o){var s=r.data,l=r.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?e:a,d=void 0;(!s||a>=0)&&(d=i);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;tn(t,Ur(n),{labelFetcher:d,labelDataIndex:f,defaultText:e},h);var v=t.getTextContent();if(v&&(lte(v).ignore=v.ignore,t.textConfig&&o)){var g=t.getBoundingRect().clone();t.textConfig.layoutRect=g,t.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function JG(r,t,e,n,i,a){r.data?r.data.setItemGraphicEl(a,t):He(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:n&&n.option||{}}}function eW(r,t,e,n,i){r.data||ul({el:t,componentModel:i,itemName:e,itemTooltipOption:n.get("tooltip")})}function tW(r,t,e,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),o=a.get("focus");return or(t,o,a.get("blurScope"),a.get("disabled")),r.isGeo&&p0e(t,i,e),o}function rW(r,t,e){var n=[],i;function a(){i=[]}function o(){i.length&&(n.push(i),i=[])}var s=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!e&&s.polygonStart(),z(r,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!e&&s.polygonEnd(),n}var Cwe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===e.id){var s=this._mapDraw;s&&o.add(s.group)}else if(e.needsDrawMap){var s=this._mapDraw||new ute(i);o.add(s.group),s.draw(e,n,i,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,i){var a=e.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,d=new $o({style:{fill:e.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:zd+1)});if(!f){var h=e.mainSeries.getData(),v=a.getName(l),g=h.indexOfName(v),m=a.getItemModel(l),x=m.getModel("label"),_=h.getItemGraphicEl(g);tn(d,Ur(m),{labelFetcher:{getFormattedLabel:function(b,w){return e.getFormattedLabel(g,w)}},defaultText:v}),d.disableLabelAnimation=!0,x.get("position")||d.setTextConfig({position:"bottom"}),_.onHoverStateChange=function(b){P_(d,b)}}o.add(d)}}})},t.type="map",t})(Bt),Twe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},e}return t.prototype.getInitialData=function(e){for(var n=tv(this,{coordDimensions:["value"],encodeDefaulter:je(ak,this)}),i=Me(),a=[],o=0,s=n.count();o<s;o++){var l=n.getName(o);i.set(l,o)}var u=al.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return z(u.regions,function(c){var f=c.name,d=i.get(f),h=c.properties&&c.properties.echartsStyle,v;d==null?(v={name:f},a.push(v)):v=n.getRawDataItem(d),h&&Ke(v,h)}),n.appendData(a),n},t.prototype.getHostGeoModel=function(){if(QK(this).kind!==Ao.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData(),o=this.getRawValue(e),s=a.getName(e),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),d=a.mapDimension("value");isNaN(l[c].originalData.get(d,f))||u.push(l[c].name)}return Br("section",{header:u.join(", "),noHeader:!u.length,blocks:[Br("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.icon||"roundRect",i=Dr(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill=te.color.neutral00,i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:te.color.tertiary},itemStyle:{borderWidth:.5,borderColor:te.color.border,areaColor:te.color.background},emphasis:{label:{show:!0,color:te.color.primary},itemStyle:{areaColor:te.color.highlight}},select:{label:{show:!0,color:te.color.primary},itemStyle:{color:te.color.highlight}},nameProperty:"name"},t})(Vt);function Awe(r,t){var e={};return z(r,function(n){n.each(n.mapDimension("value"),function(i,a){var o="ec-"+n.getName(a);e[o]=e[o]||[],isNaN(i)||e[o].push(i)})}),r[0].map(r[0].mapDimension("value"),function(n,i){for(var a="ec-"+r[0].getName(i),o=0,s=1/0,l=-1/0,u=e[a].length,c=0;c<u;c++)s=Math.min(s,e[a][c]),l=Math.max(l,e[a][c]),o+=e[a][c];var f;return t==="min"?f=s:t==="max"?f=l:t==="average"?f=o/u:f=o,u===0?NaN:f})}function Mwe(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),i=n?"o"+n.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),z(t,function(e,n){for(var i=Awe(he(e,function(o){return o.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(var a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=a===0&&!e[a].getHostGeoModel(),e[a].setData(i.cloneShallow()),e[a].mainSeries=e[0]})}function Dwe(r){var t={};r.eachSeriesByType("map",function(e){var n=e.getMapType();if(!(e.getHostGeoModel()||t[n])){var i={};z(e.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),d=s.getRegion(f);if(!(!d||isNaN(u))){var h=i[f]||0,v=s.dataToPoint(d.getCenter());i[f]=h+1,l.setItemLayout(c,{point:v,offset:h})}})});var a=e.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!i[s],a.setItemLayout(o,l)}),t[n]=!0}})}var nW=yr,Rf=(function(r){J(t,r);function t(e,n){var i=r.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new Ws,i._rawTransformable=new Ws,i.name=e,i._opt=n,i}return t.prototype.setBoundingRect=function(e,n,i,a){return this._rect=new Fe(e,n,i,a),this._updateCenterAndZoom(),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,i,a){this._transformTo(e,n,i,a),this._viewRect=new Fe(e,n,i,a)},t.prototype._transformTo=function(e,n,i,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new Fe(e,n,i,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&e&&(e=[_e(e[0],n.api.getWidth()),_e(e[1],n.api.getWidth())]),this._centerOption=Oe(e),this._updateCenterAndZoom()},t.prototype.setZoom=function(e){this._zoom=Xk(e||1,this.zoomLimit),this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),n=e.x+e.width/2,i=e.y+e.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._centerOption,n=this._rect;e&&n&&(this._center=[_e(e[0],n.width,n.x),_e(e[1],n.height,n.y)]);var i=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,o=this.getDefaultCenter(),s=this.getCenter(),l=this.getZoom();s=yr([],s,i),o=yr([],o,i),a.originX=s[0],a.originY=s[1],a.x=o[0]-s[0],a.y=o[1]-s[1],a.scaleX=a.scaleY=l,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),$g(this.transform||(this.transform=[]),n.transform||Jr()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],wa(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,i=new Ws;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?nW(i,e,a):Nn(i,e)},t.prototype.pointToData=function(e,n,i){i=i||[];var a=this.invTransform;return a?nW(i,e,a):(i[0]=e[0],i[1]=e[1],i)},t.prototype.convertToPixel=function(e,n,i){var a=iW(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=iW(n);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t})(Ws);function iW(r){var t=r.seriesModel;return t?t.coordinateSystem:null}var Ewe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},cte=["lng","lat"],DP=(function(r){J(t,r);function t(e,n,i){var a=r.call(this,e,{api:i.api,ecModel:i.ecModel})||this;a.dimensions=cte,a.type="geo",a._nameCoordMap=Me(),a.map=n;var o=i.projection,s=al.load(n,i.nameMap,i.nameProperty),l=al.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=s.regions,c=Ewe[l.type];a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o;var f;if(o)for(var d=0;d<u.length;d++){var h=u[d].getBoundingRect(o);f=f||h.clone(),f.union(h)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:Ie(i.aspectScale,c.aspectScale),a._invertLongitute=o?!1:c.invertLongitute,a}return t.prototype._transformTo=function(e,n,i,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new Fe(e,n,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(e))return n[i]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,i){if(be(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,n,i)}},t.prototype.pointToData=function(e,n,i){var a=this.projection;return a&&(e=a.unproject(e)),e&&this.pointToProjected(e,i)},t.prototype.pointToProjected=function(e,n){return r.prototype.pointToData.call(this,e,0,n)},t.prototype.projectedToPoint=function(e,n,i){return r.prototype.dataToPoint.call(this,e,n,i)},t.prototype.convertToPixel=function(e,n,i){var a=aW(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,n,i){var a=aW(n);return a===this?a.pointToData(i):null},t})(Rf);mr(DP,Rf);function aW(r){var t=r.geoModel,e=r.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",vr).models[0]||{}).coordinateSystem:null}function oW(r,t){var e=r.get("boundingCoords");if(e!=null){var n=e[0],i=e[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=n[0],s=n[1],l=i[0],u=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var c=function(T,A,M,D){for(var P=M-T,I=D-A,R=0;R<=100;R++){var k=R/100,O=a.project([T+P*k,A+I*k]);Hs(n,n,O),Gs(i,i,O)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var f=this.getBoundingRect(),d=r.get("layoutCenter"),h=r.get("layoutSize"),v=qr(r,t).refContainer,g=f.width/f.height*this.aspectScale,m=!1,x,_;d&&h&&(x=[_e(d[0],v.width)+v.x,_e(d[1],v.height)+v.y],_=_e(h,Math.min(v.width,v.height)),!isNaN(x[0])&&!isNaN(x[1])&&!isNaN(_)&&(m=!0));var b;if(m)b={},g>1?(b.width=_,b.height=_/g):(b.height=_,b.width=_*g),b.y=x[1]-b.height/2,b.x=x[0]-b.width/2;else{var w=r.getBoxLayoutParams();w.aspect=g,b=rr(w,v),b=nQ(r,b,g)}this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(r.get("center")),this.setZoom(r.get("zoom"))}function Iwe(r,t){z(t.get("geoCoord"),function(e,n){r.addGeoCoord(n,e)})}var Rwe=(function(){function r(){this.dimensions=cte}return r.prototype.create=function(t,e){var n=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new DP(l+s,l,oe({nameMap:o.get("nameMap"),api:e,ecModel:t},i(o)));u.zoomLimit=o.get("scaleLimit"),n.push(u),o.coordinateSystem=u,u.model=o,u.resize=oW,u.resize(o,e)}),t.eachSeries(function(o){ry({targetModel:o,coordSysType:"geo",coordSysProvider:function(){var s=o.subType==="map"?o.getHostGeoModel():o.getReferringComponents("geo",vr).models[0];return s&&s.coordinateSystem},allowNotFound:!0})});var a={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),z(a,function(o,s){var l=he(o,function(c){return c.get("nameMap")}),u=new DP(s,s,oe({nameMap:aS(l),api:e,ecModel:t},i(o[0])));u.zoomLimit=dn.apply(null,he(o,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=oW,u.resize(o[0],e),z(o,function(c){c.coordinateSystem=u,Iwe(u,c)})}),n},r.prototype.getFilledRegions=function(t,e,n,i){for(var a=(t||[]).slice(),o=Me(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);var l=al.load(e,n,i);return z(l.regions,function(u){var c=u.name,f=o.get(c),d=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),d&&Ke(f,d)}),a},r})(),fte=new Rwe,Pwe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i);var a=al.getGeoResource(e.map);if(a&&a.type==="geoJSON"){var o=e.itemStyle=e.itemStyle||{};"color"in o||(o.color=e.defaultItemStyleColor||te.color.backgroundTint)}of(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=fte.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=Sa(n.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new st(o,e,e.ecModel)),o.selected&&(i[s]=!0)),a},Me()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new st(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var i=this.getRegionModel(e),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:e};if(Re(a))return o.status=n,a(o);if(be(a))return a.replace("{a}",e??"")},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[e]=!0}},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!!(n&&n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:te.color.tertiary},itemStyle:{borderWidth:.5,borderColor:te.color.border},emphasis:{label:{show:!0,color:te.color.primary},itemStyle:{color:te.color.highlight}},select:{label:{show:!0,color:te.color.primary},itemStyle:{color:te.color.highlight}},regions:[]},t})(at),Owe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return t.prototype.init=function(e,n){this._api=n},t.prototype.render=function(e,n,i,a){if(this._model=e,!e.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new ute(i));var o=this._mapDraw;o.draw(e,n,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=e.get("silent"),this.group.add(o.group),this.updateSelectStatus(e,n,i)},t.prototype._handleRegionClick=function(e){var n;Wc(e.target,function(i){return(n=He(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,i){var a=this;this._mapDraw.group.traverse(function(o){var s=He(o).eventData;if(s)return a._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t})(Yt);function Bwe(r,t,e){al.registerMap(r,t,e)}function hte(r){r.registerCoordinateSystem("geo",fte),r.registerComponentModel(Pwe),r.registerComponentView(Owe),r.registerImpl("registerMap",Bwe),r.registerImpl("getMap",function(e){return al.getMapForUser(e)});function t(e,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(i,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[e](i.name);var u=l.coordinateSystem;z(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];z(o,function(f,d){o[d]&&c.push(d)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n,i){var a=e.componentType;a||(e.geoId!=null?a="geo":e.seriesId!=null&&(a="series")),a||(a="series"),n.eachComponent({mainType:a,query:e},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=kS(s,e,o.get("scaleLimit"));o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),a==="series"&&z(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function kwe(r){Je(hte),r.registerChartView(Cwe),r.registerSeriesModel(Twe),r.registerLayout(Dwe),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Mwe),XQ("map",r.registerAction)}function Lwe(r){var t=r;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e=[t],n,i;n=e.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},e.push(s)}}function Nwe(r,t){var e=r.isExpand?r.children:[],n=r.parentNode.children,i=r.hierNode.i?n[r.hierNode.i-1]:null;if(e.length){zwe(r);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(r.hierNode.prelim=i.hierNode.prelim+t(r,i),r.hierNode.modifier=r.hierNode.prelim-a):r.hierNode.prelim=a}else i&&(r.hierNode.prelim=i.hierNode.prelim+t(r,i));r.parentNode.hierNode.defaultAncestor=Fwe(r,i,r.parentNode.hierNode.defaultAncestor||n[0],t)}function Vwe(r){var t=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:t},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function sW(r){return arguments.length?r:Wwe}function x0(r,t){return r-=Math.PI/2,{x:t*Math.cos(r),y:t*Math.sin(r)}}function zwe(r){for(var t=r.children,e=t.length,n=0,i=0;--e>=0;){var a=t[e];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function Fwe(r,t,e,n){if(t){for(var i=r,a=r,o=a.parentNode.children[0],s=t,l=i.hierNode.modifier,u=a.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=CE(s),a=TE(a),s&&a;){i=CE(i),o=TE(o),i.hierNode.ancestor=r;var d=s.hierNode.prelim+f-a.hierNode.prelim-u+n(s,a);d>0&&(Gwe(Hwe(s,r,e),r,d),u+=d,l+=d),f+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=o.hierNode.modifier}s&&!CE(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=f-l),a&&!TE(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-c,e=r)}return e}function CE(r){var t=r.children;return t.length&&r.isExpand?t[t.length-1]:r.hierNode.thread}function TE(r){var t=r.children;return t.length&&r.isExpand?t[0]:r.hierNode.thread}function Hwe(r,t,e){return r.hierNode.ancestor.parentNode===t.parentNode?r.hierNode.ancestor:e}function Gwe(r,t,e){var n=e/(t.hierNode.i-r.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,r.hierNode.change+=n}function Wwe(r,t){return r.parentNode===t.parentNode?1:2}var Uwe=(function(){function r(){this.parentPoint=[],this.childPoints=[]}return r})(),qwe=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:te.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Uwe},t.prototype.buildPath=function(e,n){var i=n.childPoints,a=i.length,o=n.parentPoint,s=i[0],l=i[a-1];if(a===1){e.moveTo(o[0],o[1]),e.lineTo(s[0],s[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,d=_e(n.forkPosition,1),h=[];h[c]=o[c],h[f]=o[f]+(l[f]-o[f])*d,e.moveTo(o[0],o[1]),e.lineTo(h[0],h[1]),e.moveTo(s[0],s[1]),h[c]=s[c],e.lineTo(h[0],h[1]),h[c]=l[c],e.lineTo(h[0],h[1]),e.lineTo(l[0],l[1]);for(var v=1;v<a-1;v++){var g=i[v];e.moveTo(g[0],g[1]),h[c]=g[c],e.lineTo(h[0],h[1])}},t})(lt),Ywe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Be,e}return t.prototype.init=function(e,n){this._controller=new If(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=e.getData(),o=e.layoutInfo,s=this._mainGroup,l=e.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(e,i),this._updateController(e,null,n,i);var u=this._data;a.diff(u).add(function(c){lW(a,c)&&uW(a,c,null,s,e)}).update(function(c,f){var d=u.getItemGraphicEl(f);if(!lW(a,c)){d&&fW(u,f,d,s,e);return}uW(a,c,d,s,e)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&fW(u,c,f,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),e.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:f})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,n){var i=e.getData(),a=[];i.each(function(f){var d=i.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&a.push([+d.x,+d.y])});var o=[],s=[];gS(a,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=e.coordinateSystem=new Rf(null,{api:n,ecModel:e.ecModel});c.zoomLimit=e.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(e.get("center")),c.setZoom(e.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},t.prototype._updateController=function(e,n,i,a){var o=this;nte(e,a,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(s){o._updateNodeAndLinkScale(e)})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),i=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,o=n.getZoom(),s=(o-1)*i+1;return s/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t})(Bt);function lW(r,t){var e=r.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function uW(r,t,e,n,i){var a=!e,o=r.tree.getNodeByDataIndex(t),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:te.color.neutral00,c=r.tree.root,f=o.parentNode===c?o:o.parentNode||o,d=r.getItemGraphicEl(f.dataIndex),h=f.getLayout(),v=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,g=o.getLayout();a?(e=new ay(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.x=v.x,e.y=v.y):e.updateData(r,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=g.rawX,e.__radialRawY=g.rawY,n.add(e),r.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,bt(e,{x:g.x,y:g.y},i);var m=e.getSymbolPath();if(i.get("layout")==="radial"){var x=c.children[0],_=x.getLayout(),b=x.children.length,w=void 0,T=void 0;if(g.x===_.x&&o.isExpand===!0&&x.children.length){var A={x:(x.children[0].getLayout().x+x.children[b-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[b-1].getLayout().y)/2};w=Math.atan2(A.y-_.y,A.x-_.x),w<0&&(w=Math.PI*2+w),T=A.x<_.x,T&&(w=w-Math.PI)}else w=Math.atan2(g.y-_.y,g.x-_.x),w<0&&(w=Math.PI*2+w),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(T=g.x<_.x,T&&(w=w-Math.PI)):(T=g.x>_.x,T||(w=w-Math.PI));var M=T?"left":"right",D=s.getModel("label"),P=D.get("rotate"),I=P*(Math.PI/180),R=m.getTextContent();R&&(m.setTextConfig({position:D.get("position")||M,rotation:P==null?-w:I,origin:"center"}),R.setStyle("verticalAlign","middle"))}var k=s.get(["emphasis","focus"]),O=k==="relative"?gd(o.getAncestorsIndices(),o.getDescendantIndices()):k==="ancestor"?o.getAncestorsIndices():k==="descendant"?o.getDescendantIndices():null;O&&(He(e).focus=O),Xwe(i,o,c,e,v,h,g,n),e.__edge&&(e.onHoverStateChange=function(V){if(V!=="blur"){var N=o.parentNode&&r.getItemGraphicEl(o.parentNode.dataIndex);N&&N.hoverState===Zg||P_(e.__edge,V)}})}function Xwe(r,t,e,n,i,a,o,s){var l=t.getModel(),u=r.get("edgeShape"),c=r.get("layout"),f=r.getOrient(),d=r.get(["lineStyle","curveness"]),h=r.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),g=n.__edge;if(u==="curve")t.parentNode&&t.parentNode!==e&&(g||(g=n.__edge=new Hd({shape:EP(c,f,d,i,i)})),bt(g,{shape:EP(c,f,d,a,o)},r));else if(u==="polyline"&&c==="orthogonal"&&t!==e&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var m=t.children,x=[],_=0;_<m.length;_++){var b=m[_].getLayout();x.push([b.x,b.y])}g||(g=n.__edge=new qwe({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:h}})),bt(g,{shape:{parentPoint:[o.x,o.y],childPoints:x}},r)}g&&!(u==="polyline"&&!t.isExpand)&&(g.useStyle(ke({strokeNoScale:!0,fill:null},v)),Wr(g,l,"lineStyle"),uf(g),s.add(g))}function cW(r,t,e,n,i){var a=t.tree.root,o=dte(a,r),s=o.source,l=o.sourceLayout,u=t.getItemGraphicEl(r.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),f=c.__edge,d=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),h=n.get("edgeShape"),v=n.get("layout"),g=n.get("orient"),m=n.get(["lineStyle","curveness"]);d&&(h==="curve"?xu(d,{shape:EP(v,g,m,l,l),style:{opacity:0}},n,{cb:function(){e.remove(d)},removeOpt:i}):h==="polyline"&&n.get("layout")==="orthogonal"&&xu(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){e.remove(d)},removeOpt:i}))}}function dte(r,t){for(var e=t.parentNode===r?t:t.parentNode||t,n;n=e.getLayout(),n==null;)e=e.parentNode===r?e:e.parentNode||e;return{source:e,sourceLayout:n}}function fW(r,t,e,n,i){var a=r.tree.getNodeByDataIndex(t),o=r.tree.root,s=dte(o,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};xu(e,{x:s.x+1,y:s.y+1},i,{cb:function(){n.remove(e),r.setItemGraphicEl(t,null)},removeOpt:l}),e.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){cW(u,r,n,i,l)}),cW(a,r,n,i,l)}function EP(r,t,e,n,i){var a,o,s,l,u,c,f,d;if(r==="radial"){u=n.rawX,f=n.rawY,c=i.rawX,d=i.rawY;var h=x0(u,f),v=x0(u,f+(d-f)*e),g=x0(c,d+(f-d)*e),m=x0(c,d);return{x1:h.x||0,y1:h.y||0,x2:m.x||0,y2:m.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:g.x||0,cpy2:g.y||0}}else u=n.x,f=n.y,c=i.x,d=i.y,(t==="LR"||t==="RL")&&(a=u+(c-u)*e,o=f,s=c+(u-c)*e,l=d),(t==="TB"||t==="BT")&&(a=u,o=f+(d-f)*e,s=c,l=d+(f-d)*e);return{x1:u,y1:f,x2:c,y2:d,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}var ba=ot();function vte(r){var t=r.mainData,e=r.datas;e||(e={main:t},r.datasAttr={main:"data"}),r.datas=r.mainData=null,pte(t,e,r),z(e,function(n){z(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,je($we,r))})}),t.wrapMethod("cloneShallow",je(Zwe,r)),z(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,je(jwe,r))}),In(e[t.dataType]===t)}function $we(r,t){if(Jwe(this)){var e=oe({},ba(this).datas);e[this.dataType]=t,pte(t,e,r)}else jk(t,this.dataType,ba(this).mainData,r);return t}function jwe(r,t){return r.struct&&r.struct.update(),t}function Zwe(r,t){return z(ba(t).datas,function(e,n){e!==t&&jk(e.cloneShallow(),n,t,r)}),t}function Kwe(r){var t=ba(this).mainData;return r==null||t==null?t:ba(t).datas[r]}function Qwe(){var r=ba(this).mainData;return r==null?[{data:r}]:he(ht(ba(r).datas),function(t){return{type:t,data:ba(r).datas[t]}})}function Jwe(r){return ba(r).mainData===r}function pte(r,t,e){ba(r).datas={},z(t,function(n,i){jk(n,i,r,e)})}function jk(r,t,e,n){ba(e).datas[t]=r,ba(r).mainData=e,r.dataType=t,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=r),r.getLinkedData=Kwe,r.getLinkedDataAll=Qwe}var e2e=(function(){function r(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(t,e,n){Re(t)&&(n=e,e=t,t=null),t=t||{},be(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],o;i==="preorder"&&(o=e.call(n,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(t,e,n);i==="postorder"&&e.call(n,this)},r.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},r.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].getNodeById(t);if(a)return a}},r.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var a=n[e].contains(t);if(a)return a}},r.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},r.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},r.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},r.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},r.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},r.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},r.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},r.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},r})(),Zk=(function(){function r(t){this.type="tree",this._nodes=[],this.hostModel=t}return r.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},r.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},r.prototype.getNodeById=function(t){return this.root.getNodeById(t)},r.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(t,e,n){var i=new r(e),a=[],o=1;s(t);function s(c,f){var d=c.value;o=Math.max(o,ue(d)?d.length:1),a.push(c);var h=new e2e(Gr(c.name,""),i);f?t2e(h,f):i.root=h,i._nodes.push(h);var v=c.children;if(v)for(var g=0;g<v.length;g++)s(v[g],h)}i.root.updateDepthAndHeight(0);var l=Kd(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Hn(l,e);return u.initData(a),n&&n(u),vte({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},r})();function t2e(r,t){var e=t.children;r.parentNode!==t&&(e.push(r),r.parentNode=t)}function mg(r,t,e){if(r&&Ze(t,r.type)>=0){var n=e.getData().tree.root,i=r.targetNode;if(be(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=r.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function gte(r){for(var t=[];r;)r=r.parentNode,r&&t.push(r);return t.reverse()}function Kk(r,t){var e=gte(r);return Ze(e,t)>=0}function NS(r,t){for(var e=[];r;){var n=r.dataIndex;e.push({name:r.name,dataIndex:n,value:t.getRawValue(n)}),r=r.parentNode}return e.reverse(),e}var r2e=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},i=e.leaves||{},a=new st(i,this,this.ecModel),o=Zk.createTree(n,this,s);function s(f){f.wrapMethod("getItemModel",function(d,h){var v=o.getNodeByDataIndex(h);return v&&v.children.length&&v.isExpand||(d.parentModel=a),d})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=e.expandAndCollapse,c=u&&e.initialTreeDepth>=0?e.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=c}),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return e==="horizontal"?e="LR":e==="vertical"&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,i){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return Br("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=NS(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:te.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t})(Vt);function n2e(r,t,e){for(var n=[r],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;a=i.pop();)t(a,e)}function zp(r,t){for(var e=[r],n;n=e.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)e.push(i[a])}}function i2e(r,t){r.eachSeriesByType("tree",function(e){a2e(e,t)})}function a2e(r,t){var e=qr(r,t).refContainer,n=rr(r.getBoxLayoutParams(),e);r.layoutInfo=n;var i=r.get("layout"),a=0,o=0,s=null;i==="radial"?(a=2*Math.PI,o=Math.min(n.height,n.width)/2,s=sW(function(w,T){return(w.parentNode===T.parentNode?1:2)/w.depth})):(a=n.width,o=n.height,s=sW());var l=r.getData().tree.root,u=l.children[0];if(u){Lwe(l),n2e(u,Nwe,s),l.hierNode.modifier=-u.hierNode.prelim,zp(u,Vwe);var c=u,f=u,d=u;zp(u,function(w){var T=w.getLayout().x;T<c.getLayout().x&&(c=w),T>f.getLayout().x&&(f=w),w.depth>d.depth&&(d=w)});var h=c===f?1:s(c,f)/2,v=h-c.getLayout().x,g=0,m=0,x=0,_=0;if(i==="radial")g=a/(f.getLayout().x+h+v),m=o/(d.depth-1||1),zp(u,function(w){x=(w.getLayout().x+v)*g,_=(w.depth-1)*m;var T=x0(x,_);w.setLayout({x:T.x,y:T.y,rawX:x,rawY:_},!0)});else{var b=r.getOrient();b==="RL"||b==="LR"?(m=o/(f.getLayout().x+h+v),g=a/(d.depth-1||1),zp(u,function(w){_=(w.getLayout().x+v)*m,x=b==="LR"?(w.depth-1)*g:a-(w.depth-1)*g,w.setLayout({x,y:_},!0)})):(b==="TB"||b==="BT")&&(g=a/(f.getLayout().x+h+v),m=o/(d.depth-1||1),zp(u,function(w){x=(w.getLayout().x+v)*g,_=b==="TB"?(w.depth-1)*m:o-(w.depth-1)*m,w.setLayout({x,y:_},!0)}))}}}function o2e(r){r.eachSeriesByType("tree",function(t){var e=t.getData(),n=e.tree;n.eachNode(function(i){var a=i.getModel(),o=a.getModel("itemStyle").getItemStyle(),s=e.ensureUniqueItemVisual(i.dataIndex,"style");oe(s,o)})})}function s2e(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,a=n.getData().tree,o=a.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,o=kS(a,t,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}function l2e(r){r.registerChartView(Ywe),r.registerSeriesModel(r2e),r.registerLayout(i2e),r.registerVisual(o2e),s2e(r)}var hW=["treemapZoomToNode","treemapRender","treemapMove"];function u2e(r){for(var t=0;t<hW.length;t++)r.registerAction({type:hW[t],update:"updateView"},gr);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"treemap",query:e},i);function i(a,o){var s=["treemapZoomToNode","treemapRootToNode"],l=mg(e,s,a);if(l){var u=a.getViewRoot();u&&(e.direction=Kk(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function yte(r){var t=r.getData(),e=t.tree,n={};e.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=YR(r.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",o)})}var c2e=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};mte(i);var a=e.levels||[],o=this.designatedVisualItemStyle={},s=new st({itemStyle:o},this,n);a=e.levels=f2e(a,n);var l=he(a||[],function(f){return new st(f,s,n)},this),u=Zk.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(d,h){var v=u.getNodeByDataIndex(h),g=v?l[v.depth]:null;return d.parentModel=g||s,d})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.getRawValue(e),s=a.getName(e);return Br("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=NS(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},oe(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=Me(),this._idIndexMapCount=0);var i=n.get(e);return i==null&&n.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){yte(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,coordinateSystemUsage:"box",left:te.size.l,top:te.size.xxxl,right:te.size.l,bottom:te.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:te.size.m,emptyItemWidth:25,itemStyle:{color:te.color.backgroundShade,textStyle:{color:te.color.secondary}},emphasis:{itemStyle:{color:te.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:te.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:te.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t})(Vt);function mte(r){var t=0;z(r.children,function(n){mte(n);var i=n.value;ue(i)&&(i=i[0]),t+=i});var e=r.value;ue(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),ue(r.value)?r.value[0]=e:r.value=e}function f2e(r,t){var e=qt(t.get("color")),n=qt(t.get(["aria","decal","decals"]));if(e){r=r||[];var i,a;z(r,function(s){var l=new st(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var o=r[0]||(r[0]={});return i||(o.color=e.slice()),!a&&n&&(o.decal=n.slice()),r}}var h2e=8,dW=8,AE=5,d2e=(function(){function r(t){this.group=new Be,t.add(this.group)}return r.prototype.render=function(t,e,n,i){var a=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!n)){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=qr(t,e).refContainer,d={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},h={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},v=rr(d,f);this._prepare(n,h,u),this._renderContent(t,h,v,s,l,u,c,i),CS(o,d,f)}},r.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var a=Gr(i.getModel().get("name"),""),o=n.getTextRect(a),s=Math.max(o.width+h2e*2,e.emptyItemWidth);e.totalWidth+=s+dW,e.renderList.push({node:i,text:a,width:s})}},r.prototype._renderContent=function(t,e,n,i,a,o,s,l){for(var u=0,c=e.emptyItemWidth,f=t.get(["breadcrumb","height"]),d=e.totalWidth,h=e.renderList,v=a.getModel("itemStyle").getItemStyle(),g=h.length-1;g>=0;g--){var m=h[g],x=m.node,_=m.width,b=m.text;d>n.width&&(d-=_-c,_=c,b=null);var w=new Pn({shape:{points:v2e(u,0,_,f,g===h.length-1,g===0)},style:ke(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new gt({style:Ut(o,{text:b})}),textConfig:{position:"inside"},z2:zd*1e4,onclick:je(l,x)});w.disableLabelAnimation=!0,w.getTextContent().ensureState("emphasis").style=Ut(s,{text:b}),w.ensureState("emphasis").style=v,or(w,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(w),p2e(w,t,x),u+=_+dW}},r.prototype.remove=function(){this.group.removeAll()},r})();function v2e(r,t,e,n,i,a){var o=[[i?r:r-AE,t],[r+e,t],[r+e,t+n],[i?r:r-AE,t+n]];return!a&&o.splice(2,0,[r+e+AE,t+n/2]),!i&&o.push([r,t+n/2]),o}function p2e(r,t,e){He(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&NS(e,t)}}var g2e=(function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(t,e,n,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:a}),!0)},r.prototype.finished=function(t){return this._finishedCallback=t,this},r.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},r})();function y2e(){return new g2e}var IP=Be,vW=rt,pW=3,gW="label",yW="upperLabel",m2e=zd*10,x2e=zd*2,_2e=zd*3,Ec=lf([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),mW=function(r){var t=Ec(r);return t.stroke=t.fill=t.lineWidth=null,t},ob=ot(),b2e=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage=Fp(),e}return t.prototype.render=function(e,n,i,a){var o=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Ze(o,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=n;var s=["treemapZoomToNode","treemapRootToNode"],l=mg(a,s,e),u=a&&a.type,c=e.layoutInfo,f=!this._oldTree,d=this._storage,h=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(c),g=e.get("animation"),m=this._doRender(v,e,h);g&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(v,m,e,h):m.renderFinally(),this._resetController(i),this._renderBreadcrumb(e,i,l)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new IP,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,i){var a=n.getData().tree,o=this._oldTree,s=Fp(),l=Fp(),u=this._storage,c=[];function f(_,b,w,T){return S2e(n,l,u,i,s,c,_,b,w,T)}g(a.root?[a.root]:[],o&&o.root?[o.root]:[],e,a===o||!o,0);var d=m(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var h=this.seriesModel.layoutInfo,v=a.root.getLayout();v.width===h.width&&v.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:d,renderFinally:x};function g(_,b,w,T,A){T?(b=_,z(_,function(P,I){!P.isRemoved()&&D(I,I)})):new rl(b,_,M,M).add(D).update(D).remove(je(D,null)).execute();function M(P){return P.getId()}function D(P,I){var R=P!=null?_[P]:null,k=I!=null?b[I]:null,O=f(R,k,w,A);O&&g(R&&R.viewChildren||[],k&&k.viewChildren||[],O,T,A+1)}}function m(_){var b=Fp();return _&&z(_,function(w,T){var A=b[T];z(w,function(M){M&&(A.push(M),ob(M).willDelete=!0)})}),b}function x(){z(d,function(_){z(_,function(b){b.parent&&b.parent.remove(b)})}),z(c,function(_){_.invisible=!0,_.dirty()})}},t.prototype._doAnimation=function(e,n,i,a){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(Re(o)?0:o)||0,u=(Re(s)?null:s)||"cubicOut",c=y2e();z(n.willDeleteEls,function(f,d){z(f,function(h,v){if(!h.invisible){var g=h.parent,m,x=ob(g);if(a&&a.direction==="drillDown")m=g===a.rootNodeGroup?{shape:{x:0,y:0,width:x.nodeWidth,height:x.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var _=0,b=0;x.willDelete||(_=x.nodeWidth/2,b=x.nodeHeight/2),m=d==="nodeGroup"?{x:_,y:b,style:{opacity:0}}:{shape:{x:_,y:b,width:0,height:0},style:{opacity:0}}}m&&c.add(h,m,l,0,u)}})}),z(this._storage,function(f,d){z(f,function(h,v){var g=n.lastsForAnimation[d][v],m={};g&&(h instanceof Be?g.oldX!=null&&(m.x=h.x,m.y=h.y,h.x=g.oldX,h.y=g.oldY):(g.oldShape&&(m.shape=oe({},h.shape),h.setShape(g.oldShape)),g.fadein?(h.setStyle("opacity",0),m.style={opacity:1}):h.style.opacity!==1&&(m.style={opacity:1})),c.add(h,m,l,0,u))})},this),this._state="animating",c.finished(Se(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this,i=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var o=this.seriesModel;i||(i=this._controller=new If(e.getZr()),i.on("pan",Se(this._onPan,this)),i.on("zoom",Se(this._onZoom,this))),i.enable(o.get("roam"),{api:e,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(s,l,u){var c=n._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),a.zoomLimit=o.get("scaleLimit"),a.zoom=o.get("zoom")},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(this._state!=="animating"&&(Math.abs(e.dx)>pW||Math.abs(e.dy)>pW)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var n=e.originX,i=e.originY,a=e.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new Fe(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var d=u.min||0,h=u.max||1/0;f=Math.max(Math.min(h,f),d)}var v=f/c.zoom;c.zoom=f;var g=this.seriesModel.layoutInfo;n-=g.x,i-=g.y;var m=Jr();to(m,m,[-n,-i]),lS(m,m,[v,v]),to(m,m,[n,i]),l.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var o=n.findTarget(i.offsetX,i.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)n._rootToNode(o);else if(a==="zoomToNode")n._zoomToNode(o);else if(a==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&L_(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,i){var a=this;i||(i=e.get("leafDepth",!0)!=null?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new d2e(this.group))).render(e,n,i.node,function(o){a._state!=="animating"&&(Kk(e.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Fp(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(e,n),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t})(Bt);function Fp(){return{nodeGroup:[],background:[],content:[]}}function S2e(r,t,e,n,i,a,o,s,l,u){if(!o)return;var c=o.getLayout(),f=r.getData(),d=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var h=c.width,v=c.height,g=c.borderWidth,m=c.invisible,x=o.getRawIndex(),_=s&&s.getRawIndex(),b=o.viewChildren,w=c.upperHeight,T=b&&b.length,A=d.getModel("itemStyle"),M=d.getModel(["emphasis","itemStyle"]),D=d.getModel(["blur","itemStyle"]),P=d.getModel(["select","itemStyle"]),I=A.get("borderRadius")||0,R=re("nodeGroup",IP);if(!R)return;if(l.add(R),R.x=c.x||0,R.y=c.y||0,R.markRedraw(),ob(R).nodeWidth=h,ob(R).nodeHeight=v,c.isAboveViewRoot)return R;var k=re("background",vW,u,x2e);k&&Z(R,k,T&&c.upperLabelHeight);var O=d.getModel("emphasis"),V=O.get("focus"),N=O.get("blurScope"),L=O.get("disabled"),G=V==="ancestor"?o.getAncestorsIndices():V==="descendant"?o.getDescendantIndices():V;if(T)ng(R)&&Hc(R,!1),k&&(Hc(k,!L),f.setItemGraphicEl(o.dataIndex,k),kR(k,G,N));else{var W=re("content",vW,u,_2e);W&&F(R,W),k.disableMorphing=!0,k&&ng(k)&&Hc(k,!1),Hc(R,!L),f.setItemGraphicEl(o.dataIndex,R);var U=d.getShallow("cursor");U&&W.attr("cursor",U),kR(R,G,N)}return R;function Z(de,ge,Ce){var xe=He(ge);if(xe.dataIndex=o.dataIndex,xe.seriesIndex=r.seriesIndex,ge.setShape({x:0,y:0,width:h,height:v,r:I}),m)q(ge);else{ge.invisible=!1;var we=o.getVisual("style"),Pe=we.stroke,De=mW(A);De.fill=Pe;var Ae=Ec(M);Ae.fill=M.get("borderColor");var Xe=Ec(D);Xe.fill=D.get("borderColor");var Ne=Ec(P);if(Ne.fill=P.get("borderColor"),Ce){var St=h-2*g;$(ge,Pe,we.opacity,{x:g,y:0,width:St,height:w})}else ge.removeTextContent();ge.setStyle(De),ge.ensureState("emphasis").style=Ae,ge.ensureState("blur").style=Xe,ge.ensureState("select").style=Ne,uf(ge)}de.add(ge)}function F(de,ge){var Ce=He(ge);Ce.dataIndex=o.dataIndex,Ce.seriesIndex=r.seriesIndex;var xe=Math.max(h-2*g,0),we=Math.max(v-2*g,0);if(ge.culling=!0,ge.setShape({x:g,y:g,width:xe,height:we,r:I}),m)q(ge);else{ge.invisible=!1;var Pe=o.getVisual("style"),De=Pe.fill,Ae=mW(A);Ae.fill=De,Ae.decal=Pe.decal;var Xe=Ec(M),Ne=Ec(D),St=Ec(P);$(ge,De,Pe.opacity,null),ge.setStyle(Ae),ge.ensureState("emphasis").style=Xe,ge.ensureState("blur").style=Ne,ge.ensureState("select").style=St,uf(ge)}de.add(ge)}function q(de){!de.invisible&&a.push(de)}function $(de,ge,Ce,xe){var we=d.getModel(xe?yW:gW),Pe=Gr(d.get("name"),null),De=we.getShallow("show");tn(de,Ur(d,xe?yW:gW),{defaultText:De?Pe:null,inheritColor:ge,defaultOpacity:Ce,labelFetcher:r,labelDataIndex:o.dataIndex});var Ae=de.getTextContent();if(Ae){var Xe=Ae.style,Ne=qg(Xe.padding||0);xe&&(de.setTextConfig({layoutRect:xe}),Ae.disableLabelLayout=!0),Ae.beforeUpdate=function(){var tt=Math.max((xe?xe.width:de.shape.width)-Ne[1]-Ne[3],0),wt=Math.max((xe?xe.height:de.shape.height)-Ne[0]-Ne[2],0);(Xe.width!==tt||Xe.height!==wt)&&Ae.setStyle({width:tt,height:wt})},Xe.truncateMinChar=2,Xe.lineOverflow="truncate",K(Xe,xe,c);var St=Ae.getState("emphasis");K(St?St.style:null,xe,c)}}function K(de,ge,Ce){var xe=de?de.text:null;if(!ge&&Ce.isLeafRoot&&xe!=null){var we=r.get("drillDownIcon",!0);de.text=we?we+" "+xe:xe}}function re(de,ge,Ce,xe){var we=_!=null&&e[de][_],Pe=i[de];return we?(e[de][_]=null,ce(Pe,we)):m||(we=new ge,we instanceof Ca&&(we.z2=w2e(Ce,xe)),pe(Pe,we)),t[de][x]=we}function ce(de,ge){var Ce=de[x]={};ge instanceof IP?(Ce.oldX=ge.x,Ce.oldY=ge.y):Ce.oldShape=oe({},ge.shape)}function pe(de,ge){var Ce=de[x]={},xe=o.parentNode,we=ge instanceof Be;if(xe&&(!n||n.direction==="drillDown")){var Pe=0,De=0,Ae=i.background[xe.getRawIndex()];!n&&Ae&&Ae.oldShape&&(Pe=Ae.oldShape.width,De=Ae.oldShape.height),we?(Ce.oldX=0,Ce.oldY=De):Ce.oldShape={x:Pe,y:De,width:0,height:0}}Ce.fadein=!we}}function w2e(r,t){return r*m2e+t}var xg=z,C2e=Le,sb=-1,en=(function(){function r(t){var e=t.mappingMethod,n=t.type,i=this.option=Oe(t);this.type=n,this.mappingMethod=e,this._normalizeData=M2e[e];var a=r.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],e==="piecewise"?(ME(i),T2e(i)):e==="category"?i.categories?A2e(i):ME(i,!0):(In(e!=="linear"||i.dataExtent),ME(i))}return r.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},r.prototype.getNormalizer=function(){return Se(this._normalizeData,this)},r.listVisualTypes=function(){return ht(r.visualHandlers)},r.isValidType=function(t){return r.visualHandlers.hasOwnProperty(t)},r.eachVisual=function(t,e,n){Le(t)?z(t,e,n):e.call(n,t)},r.mapVisual=function(t,e,n){var i,a=ue(t)?[]:Le(t)?{}:(i=!0,null);return r.eachVisual(t,function(o,s){var l=e.call(n,o,s);i?a=l:a[s]=l}),a},r.retrieveVisuals=function(t){var e={},n;return t&&xg(r.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(e[a]=t[a],n=!0)}),n?e:null},r.prepareVisualTypes=function(t){if(ue(t))t=t.slice();else if(C2e(t)){var e=[];xg(t,function(n,i){e.push(i)}),t=e}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},r.dependsOn=function(t,e){return e==="color"?!!(t&&t.indexOf(e)===0):t===e},r.findPieceIndex=function(t,e,n){for(var i,a=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(l!=null){if(l===t||be(l)&&l===t+"")return o;n&&d(l,o)}}for(var o=0,s=e.length;o<s;o++){var u=e[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(I1(f[1],t,c[1]))return o}else if(c[1]===1/0){if(I1(f[0],c[0],t))return o}else if(I1(f[0],c[0],t)&&I1(f[1],t,c[1]))return o;n&&d(c[0],o),n&&d(c[1],o)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function d(h,v){var g=Math.abs(h-t);g<a&&(a=g,i=v)}},r.visualHandlers={color:{applyVisual:Hp("color"),getColorMapper:function(){var t=this.option;return Se(t.mappingMethod==="category"?function(e,n){return!n&&(e=this._normalizeData(e)),_0.call(this,e)}:function(e,n,i){var a=!!i;return!n&&(e=this._normalizeData(e)),i=O0(e,t.parsedVisual,i),a?i:_a(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return _a(O0(t,this.option.parsedVisual),"rgba")},category:_0,piecewise:function(t,e){var n=PP.call(this,e);return n==null&&(n=_a(O0(t,this.option.parsedVisual),"rgba")),n},fixed:Ic}},colorHue:E1(function(t,e){return Ys(t,e)}),colorSaturation:E1(function(t,e){return Ys(t,null,e)}),colorLightness:E1(function(t,e){return Ys(t,null,null,e)}),colorAlpha:E1(function(t,e){return Q0(t,e)}),decal:{applyVisual:Hp("decal"),_normalizedToVisual:{linear:null,category:_0,piecewise:null,fixed:null}},opacity:{applyVisual:Hp("opacity"),_normalizedToVisual:RP([0,1])},liftZ:{applyVisual:Hp("liftZ"),_normalizedToVisual:{linear:Ic,category:Ic,piecewise:Ic,fixed:Ic}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:xW,category:_0,piecewise:function(t,e){var n=PP.call(this,e);return n==null&&(n=xW.call(this,t)),n},fixed:Ic}},symbolSize:{applyVisual:Hp("symbolSize"),_normalizedToVisual:RP([0,1])}},r})();function T2e(r){var t=r.pieceList;r.hasSpecialVisual=!1,z(t,function(e,n){e.originIndex=n,e.visual!=null&&(r.hasSpecialVisual=!0)})}function A2e(r){var t=r.categories,e=r.categoryMap={},n=r.visual;if(xg(t,function(o,s){e[o]=s}),!ue(n)){var i=[];Le(n)?xg(n,function(o,s){var l=e[s];i[l??sb]=o}):i[sb]=n,n=xte(r,i)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete e[t[a]],t.pop())}function ME(r,t){var e=r.visual,n=[];Le(e)?xg(e,function(a){n.push(a)}):e!=null&&n.push(e);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(r.type)&&(n[1]=n[0]),xte(r,n)}function E1(r){return{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("color",r(e("color"),i))},_normalizedToVisual:RP([0,1])}}function xW(r){var t=this.option.visual;return t[Math.round(At(r,[0,1],[0,t.length-1],!0))]||{}}function Hp(r){return function(t,e,n){n(r,this.mapValueToVisual(t))}}function _0(r){var t=this.option.visual;return t[this.option.loop&&r!==sb?r%t.length:r]}function Ic(){return this.option.visual[0]}function RP(r){return{linear:function(t){return At(t,r,this.option.visual,!0)},category:_0,piecewise:function(t,e){var n=PP.call(this,e);return n==null&&(n=At(t,r,this.option.visual,!0)),n},fixed:Ic}}function PP(r){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var n=en.findPieceIndex(r,e),i=e[n];if(i&&i.visual)return i.visual[this.type]}}function xte(r,t){return r.visual=t,r.type==="color"&&(r.parsedVisual=he(t,function(e){var n=Fn(e);return n||[0,0,0,1]})),t}var M2e={linear:function(r){return At(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var t=this.option.pieceList,e=en.findPieceIndex(r,t,!0);if(e!=null)return At(e,[0,t.length-1],[0,1],!0)},category:function(r){var t=this.option.categories?this.option.categoryMap[r]:r;return t??sb},fixed:gr};function I1(r,t,e){return r?t<=e:t<e}var D2e="itemStyle",_te=ot();const E2e={seriesType:"treemap",reset:function(r){var t=r.getData().tree,e=t.root;e.isRemoved()||bte(e,{},r.getViewRoot().getAncestors(),r)}};function bte(r,t,e,n){var i=r.getModel(),a=r.getLayout(),o=r.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var s=i.getModel(D2e),l=I2e(s,t,n),u=o.ensureUniqueItemVisual(r.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),d;f!=null&&(d=_W(l),c=R2e(f,d)),u.stroke=c;var h=r.viewChildren;if(!h||!h.length)d=_W(l),u.fill=d;else{var v=P2e(r,i,a,s,l,h);z(h,function(g,m){if(g.depth>=e.length||g===e[g.depth]){var x=O2e(i,l,g,m,v,n);bte(g,x,e,n)}})}}}function I2e(r,t,e){var n=oe({},t),i=e.designatedVisualItemStyle;return z(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var o=r.get(a);i[a]=null,o!=null&&(n[a]=o)}),n}function _W(r){var t=DE(r,"color");if(t){var e=DE(r,"colorAlpha"),n=DE(r,"colorSaturation");return n&&(t=Ys(t,null,null,n)),e&&(t=Q0(t,e)),t}}function R2e(r,t){return t!=null?Ys(t,null,null,r):null}function DE(r,t){var e=r[t];if(e!=null&&e!=="none")return e}function P2e(r,t,e,n,i,a){if(!(!a||!a.length)){var o=EE(t,"color")||i.color!=null&&i.color!=="none"&&(EE(t,"colorAlpha")||EE(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=e.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new en(f);return _te(d).drColorMappingBy=c,d}}}function EE(r,t){var e=r.get(t);return ue(e)&&e.length?{name:t,range:e}:null}function O2e(r,t,e,n,i,a){var o=oe({},t);if(i){var s=i.type,l=s==="color"&&_te(i).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(e.getId()):e.getValue(r.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}var _g=Math.max,lb=Math.min,bW=dn,Qk=z,Ste=["itemStyle","borderWidth"],B2e=["itemStyle","gapWidth"],k2e=["upperLabel","show"],L2e=["upperLabel","height"];const N2e={seriesType:"treemap",reset:function(r,t,e,n){var i=r.option,a=qr(r,e).refContainer,o=rr(r.getBoxLayoutParams(),a),s=i.size||[],l=_e(bW(o.width,s[0]),a.width),u=_e(bW(o.height,s[1]),a.height),c=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],d=mg(n,f,r),h=c==="treemapRender"||c==="treemapMove"?n.rootRect:null,v=r.getViewRoot(),g=gte(v);if(c!=="treemapMove"){var m=c==="treemapZoomToNode"?W2e(r,d,v,l,u):h?[h.width,h.height]:[l,u],x=i.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var _={squareRatio:i.squareRatio,sort:x,leafDepth:i.leafDepth};v.hostTree.clearLayouts();var b={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};v.setLayout(b),wte(v,_,!1,0),b=v.getLayout(),Qk(g,function(T,A){var M=(g[A+1]||v).getValue();T.setLayout(oe({dataExtent:[M,M],borderWidth:0,upperHeight:0},b))})}var w=r.getData().tree.root;w.setLayout(U2e(o,h,d),!0),r.setLayoutInfo(o),Cte(w,new Fe(-o.x,-o.y,e.getWidth(),e.getHeight()),g,v,0)}};function wte(r,t,e,n){var i,a;if(!r.isRemoved()){var o=r.getLayout();i=o.width,a=o.height;var s=r.getModel(),l=s.get(Ste),u=s.get(B2e)/2,c=Tte(s),f=Math.max(l,c),d=l-u,h=f-u;r.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=_g(i-2*d,0),a=_g(a-d-h,0);var v=i*a,g=V2e(r,s,v,t,e,n);if(g.length){var m={x:d,y:h,width:i,height:a},x=lb(i,a),_=1/0,b=[];b.area=0;for(var w=0,T=g.length;w<T;){var A=g[w];b.push(A),b.area+=A.getLayout().area;var M=G2e(b,x,t.squareRatio);M<=_?(w++,_=M):(b.area-=b.pop().getLayout().area,SW(b,x,m,u,!1),x=lb(m.width,m.height),b.length=b.area=0,_=1/0)}if(b.length&&SW(b,x,m,u,!0),!e){var D=s.get("childrenVisibleMin");D!=null&&v<D&&(e=!0)}for(var w=0,T=g.length;w<T;w++)wte(g[w],t,e,n+1)}}}function V2e(r,t,e,n,i,a){var o=r.children||[],s=n.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return r.viewChildren=[];o=Tt(o,function(h){return!h.isRemoved()}),F2e(o,s);var u=H2e(t,o,s);if(u.sum===0)return r.viewChildren=[];if(u.sum=z2e(t,e,u.sum,s,o),u.sum===0)return r.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var d=o[c].getValue()/u.sum*e;o[c].setLayout({area:d})}return l&&(o.length&&r.setLayout({isLeafRoot:!0},!0),o.length=0),r.viewChildren=o,r.setLayout({dataExtent:u.dataExtent},!0),o}function z2e(r,t,e,n,i){if(!n)return e;for(var a=r.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i[n==="asc"?o-l-1:l].getValue();u/e*t<a&&(s=l,e-=u)}return n==="asc"?i.splice(0,o-s):i.splice(s,o-s),e}function F2e(r,t){return t&&r.sort(function(e,n){var i=t==="asc"?e.getValue()-n.getValue():n.getValue()-e.getValue();return i===0?t==="asc"?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:i}),r}function H2e(r,t,e){for(var n=0,i=0,a=t.length;i<a;i++)n+=t[i].getValue();var o=r.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&e?(s=[t[t.length-1].getValue(),t[0].getValue()],e==="asc"&&s.reverse()):(s=[1/0,-1/0],Qk(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:n,dataExtent:s}}function G2e(r,t,e){for(var n=0,i=1/0,a=0,o=void 0,s=r.length;a<s;a++)o=r[a].getLayout().area,o&&(o<i&&(i=o),o>n&&(n=o));var l=r.area*r.area,u=t*t*e;return l?_g(u*n/l,l/(u*i)):1/0}function SW(r,t,e,n,i){var a=t===e.width?0:1,o=1-a,s=["x","y"],l=["width","height"],u=e[s[a]],c=t?r.area/t:0;(i||c>e[l[o]])&&(c=e[l[o]]);for(var f=0,d=r.length;f<d;f++){var h=r[f],v={},g=c?h.getLayout().area/c:0,m=v[l[o]]=_g(c-2*n,0),x=e[s[a]]+e[l[a]]-u,_=f===d-1||x<g?x:g,b=v[l[a]]=_g(_-2*n,0);v[s[o]]=e[s[o]]+lb(n,m/2),v[s[a]]=u+lb(n,b/2),u+=_,h.setLayout(v,!0)}e[s[o]]+=c,e[l[o]]-=c}function W2e(r,t,e,n,i){var a=(t||{}).node,o=[n,i];if(!a||a===e)return o;for(var s,l=n*i,u=l*r.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,f=s.children,d=0,h=f.length;d<h;d++)c+=f[d].getValue();var v=a.getValue();if(v===0)return o;u*=c/v;var g=s.getModel(),m=g.get(Ste),x=Math.max(m,Tte(g));u+=4*m*m+(3*m+x)*Math.pow(u,.5),u>CR&&(u=CR),a=s}u<l&&(u=l);var _=Math.pow(u/l,.5);return[n*_,i*_]}function U2e(r,t,e){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!e)return n;var i=e.node,a=i.getLayout();if(!a)return n;for(var o=[a.width/2,a.height/2],s=i;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:r.width/2-o[0],y:r.height/2-o[1]}}function Cte(r,t,e,n,i){var a=r.getLayout(),o=e[i],s=o&&o===r;if(!(o&&!s||i===e.length&&r!==n)){r.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var l=new Fe(t.x-a.x,t.y-a.y,t.width,t.height);Qk(r.viewChildren||[],function(u){Cte(u,l,e,n,i+1)})}}function Tte(r){return r.get(k2e)?r.get(L2e):0}function q2e(r){r.registerSeriesModel(c2e),r.registerChartView(b2e),r.registerVisual(E2e),r.registerLayout(N2e),u2e(r)}function Y2e(r){var t=r.findComponents({mainType:"legend"});!t||!t.length||r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getGraph(),a=i.data,o=n.mapArray(n.getName);a.filterSelf(function(s){var l=a.getItemModel(s),u=l.getShallow("category");if(u!=null){yt(u)&&(u=o[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function X2e(r){var t={};r.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),i=e.getData(),a={};n.each(function(o){var s=n.getName(o);a["ec-"+s]=o;var l=n.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),n.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var d=l.getShallow(c[f],!0);d!=null&&n.setItemVisual(o,c[f],d)}}),n.count()&&i.each(function(o){var s=i.getItemModel(o),l=s.getShallow("category");if(l!=null){be(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(o,"style");oe(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)i.setItemVisual(o,f[d],n.getItemVisual(l,f[d]))}})})}function R1(r){return r instanceof Array||(r=[r,r]),r}function $2e(r){r.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),i=R1(t.get("edgeSymbol")),a=R1(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(o){var s=n.getItemModel(o),l=e.getEdgeByIndex(o),u=R1(s.getShallow("symbol",!0)),c=R1(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),d=n.ensureUniqueItemVisual(o,"style");switch(oe(d,f),d.stroke){case"source":{var h=l.node1.getVisual("style");d.stroke=h&&h.fill;break}case"target":{var h=l.node2.getVisual("style");d.stroke=h&&h.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var OP="-->",VS=function(r){return r.get("autoCurveness")||null},Ate=function(r,t){var e=VS(r),n=20,i=[];if(yt(e))n=e;else if(ue(e)){r.__curvenessList=e;return}t>n&&(n=t);var a=n%2?n+2:n+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));r.__curvenessList=i},bg=function(r,t,e){var n=[r.id,r.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,n,i].join(OP)},Mte=function(r){var t=r.split(OP);return[t[0],t[2],t[1]].join(OP)},j2e=function(r,t){var e=bg(r.node1,r.node2,t);return t.__edgeMap[e]},Z2e=function(r,t){var e=BP(bg(r.node1,r.node2,t),t),n=BP(bg(r.node2,r.node1,t),t);return e+n},BP=function(r,t){var e=t.__edgeMap;return e[r]?e[r].length:0};function K2e(r){VS(r)&&(r.__curvenessList=[],r.__edgeMap={},Ate(r))}function Q2e(r,t,e,n){if(VS(e)){var i=bg(r,t,e),a=e.__edgeMap,o=a[Mte(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function Jk(r,t,e,n){var i=VS(t),a=ue(i);if(!i)return null;var o=j2e(r,t);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===e){s=l;break}var u=Z2e(r,t);Ate(t,u),r.lineStyle=r.lineStyle||{};var c=bg(r.node1,r.node2,t),f=t.__curvenessList,d=a||u%2?0:1;if(o.isForward)return f[d+s];var h=Mte(c),v=BP(h,t),g=f[s+v+d];return n?a?i&&i[0]===0?(v+d)%2?g:-g:((v%2?0:1)+d)%2?g:-g:(v+d)%2?g:-g:f[s+v+d]}function Dte(r){var t=r.coordinateSystem;if(!(t&&t.type!=="view")){var e=r.getGraph();e.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),e3(e,r)}}function e3(r,t){r.eachEdge(function(e,n){var i=gi(e.getModel().get(["lineStyle","curveness"]),-Jk(e,t,n,!0),0),a=ko(e.node1.getLayout()),o=ko(e.node2.getLayout()),s=[a,o];+i&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),e.setLayout(s)})}function J2e(r,t){r.eachSeriesByType("graph",function(e){var n=e.get("layout"),i=e.coordinateSystem;if(i&&i.type!=="view"){var a=e.getData(),o=[];z(i.dimensions,function(d){o=o.concat(a.mapDimensionsAll(d))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=a.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(s,i.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}e3(a.graph,e)}else(!n||n==="none")&&Dte(e)})}function b0(r){var t=r.coordinateSystem;if(t.type!=="view")return 1;var e=r.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),a=(i-1)*e+1;return a/n}function S0(r){var t=r.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var wW=Math.PI,IE=[];function t3(r,t,e,n){var i=r.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=r.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(e){var d=i.pointToData(n),h=d[0],v=d[1],g=[h-l,v-u];wf(g,g),E0(g,g,c),e.setLayout([l+g[0],u+g[1]],!0);var m=r.get(["circular","rotateLabel"]);Ete(e,m,l,u)}eCe[t](r,s,o,c,l,u,f),s.eachEdge(function(x,_){var b=gi(x.getModel().get(["lineStyle","curveness"]),Jk(x,r,_),0),w=ko(x.node1.getLayout()),T=ko(x.node2.getLayout()),A,M=(w[0]+T[0])/2,D=(w[1]+T[1])/2;+b&&(b*=3,A=[l*b+M*(1-b),u*b+D*(1-b)]),x.setLayout([w,T,A])})}}}var eCe={value:function(r,t,e,n,i,a,o){var s=0,l=e.getSum("value"),u=Math.PI*2/(l||o);t.eachNode(function(c){var f=c.getValue("value"),d=u*(l?f:1)/2;s+=d,c.setLayout([n*Math.cos(s)+i,n*Math.sin(s)+a]),s+=d})},symbolSize:function(r,t,e,n,i,a,o){var s=0;IE.length=o;var l=b0(r);t.eachNode(function(f){var d=S0(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var h=Math.asin(d/2/n);isNaN(h)&&(h=wW/2),IE[f.dataIndex]=h,s+=h*2});var u=(2*wW-s)/o/2,c=0;t.eachNode(function(f){var d=u+IE[f.dataIndex];c+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=d})}};function Ete(r,t,e,n){var i=r.getGraphicEl();if(i){var a=r.getModel(),o=a.get(["label","rotate"])||0,s=i.getSymbolPath();if(t){var l=r.getLayout(),u=Math.atan2(l[1]-n,l[0]-e);u<0&&(u=Math.PI*2+u);var c=l[0]<e;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var d=s.ensureState("emphasis");oe(d.textConfig||(d.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function tCe(r){r.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&t3(t,"symbolSize")})}var Lh=g_;function rCe(r,t,e){for(var n=r,i=t,a=e.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],u=e.gravity==null?.1:e.gravity,c=0;c<n.length;c++){var f=n[c];f.p||(f.p=Au(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=ko(f.p),f.edges=null}var d=e.friction==null?.6:e.friction,h=d,v,g;return{warmUp:function(){h=d*.8},setFixed:function(m){n[m].fixed=!0},setUnfixed:function(m){n[m].fixed=!1},beforeStep:function(m){v=m},afterStep:function(m){g=m},step:function(m){v&&v(n,i);for(var x=[],_=n.length,b=0;b<i.length;b++){var w=i[b];if(!w.ignoreForceLayout){var T=w.n1,A=w.n2;Zl(x,A.p,T.p);var M=j0(x)-w.d,D=A.w/(T.w+A.w);isNaN(D)&&(D=0),wf(x,x),!T.fixed&&Lh(T.p,T.p,x,D*M*h),!A.fixed&&Lh(A.p,A.p,x,-(1-D)*M*h)}}for(var b=0;b<_;b++){var P=n[b];P.fixed||(Zl(x,l,P.p),Lh(P.p,P.p,x,u*h))}for(var b=0;b<_;b++)for(var T=n[b],I=b+1;I<_;I++){var A=n[I];Zl(x,A.p,T.p);var M=j0(x);M===0&&(sS(x,Math.random()-.5,Math.random()-.5),M=1);var R=(T.rep+A.rep)/M/M;!T.fixed&&Lh(T.pp,T.pp,x,R),!A.fixed&&Lh(A.pp,A.pp,x,-R)}for(var k=[],b=0;b<_;b++){var P=n[b];P.fixed||(Zl(k,P.p,P.pp),Lh(P.p,P.p,k,h),Nn(P.pp,P.p))}h=h*.992;var O=h<.01;g&&g(n,i,O),m&&m(O)}}}function nCe(r){r.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,o=i.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?a.each(function(b){var w=a.getId(b);a.setItemLayout(b,n[w]||[NaN,NaN])}):!l||l==="none"?Dte(t):l==="circular"&&t3(t,"value");var u=a.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),d=s.get("edgeLength"),h=ue(f)?f:[f,f],v=ue(d)?d:[d,d];v=[v[1],v[0]];var g=a.mapArray("value",function(b,w){var T=a.getItemLayout(w),A=At(b,u,h);return isNaN(A)&&(A=(h[0]+h[1])/2),{w:A,rep:A,fixed:a.getItemModel(w).get("fixed"),p:!T||isNaN(T[0])||isNaN(T[1])?null:T}}),m=o.mapArray("value",function(b,w){var T=i.getEdgeByIndex(w),A=At(b,c,v);isNaN(A)&&(A=(v[0]+v[1])/2);var M=T.getModel(),D=gi(T.getModel().get(["lineStyle","curveness"]),-Jk(T,t,w,!0),0);return{n1:g[T.node1.dataIndex],n2:g[T.node2.dataIndex],d:A,curveness:D,ignoreForceLayout:M.get("ignoreForceLayout")}}),x=e.getBoundingRect(),_=rCe(g,m,{rect:x,gravity:s.get("gravity"),friction:s.get("friction")});_.beforeStep(function(b,w){for(var T=0,A=b.length;T<A;T++)b[T].fixed&&Nn(b[T].p,i.getNodeByIndex(T).getLayout())}),_.afterStep(function(b,w,T){for(var A=0,M=b.length;A<M;A++)b[A].fixed||i.getNodeByIndex(A).setLayout(b[A].p),n[a.getId(A)]=b[A].p;for(var A=0,M=w.length;A<M;A++){var D=w[A],P=i.getEdgeByIndex(A),I=D.n1.p,R=D.n2.p,k=P.getLayout();k=k?k.slice():[],k[0]=k[0]||[],k[1]=k[1]||[],Nn(k[0],I),Nn(k[1],R),+D.curveness&&(k[2]=[(I[0]+R[0])/2-(I[1]-R[1])*D.curveness,(I[1]+R[1])/2-(R[0]-I[0])*D.curveness]),P.setLayout(k)}}),t.forceLayout=_,t.preservedPoints=n,_.step()}else t.forceLayout=null})}function iCe(r,t,e){var n=qr(r,t),i=oe(r.getBoxLayoutParams(),{aspect:e}),a=rr(i,n.refContainer);return nQ(r,a,e)}function aCe(r,t){var e=[];return r.eachSeriesByType("graph",function(n){ry({targetModel:n,coordSysType:"view",coordSysProvider:i,isDefaultDataCoordSys:!0});function i(){var a=n.getData(),o=a.mapArray(function(v){var g=a.getItemModel(v);return[+g.get("x"),+g.get("y")]}),s=[],l=[];gS(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=iCe(n,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],d=l[1]-s[1],h=new Rf(null,{api:t,ecModel:r});return h.zoomLimit=n.get("scaleLimit"),h.setBoundingRect(s[0],s[1],f,d),h.setViewRect(c.x,c.y,c.width,c.height),h.setCenter(n.get("center")),h.setZoom(n.get("zoom")),e.push(h),h}}),e}var CW=Mr.prototype,RE=Hd.prototype,Ite=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})();(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t})(Ite);function PE(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var Rte=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:te.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new Ite},t.prototype.buildPath=function(e,n){PE(n)?CW.buildPath.call(this,e,n):RE.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return PE(this.shape)?CW.pointAt.call(this,e):RE.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,i=PE(n)?[n.x2-n.x1,n.y2-n.y1]:RE.tangentAt.call(this,e);return wf(i,i)},t})(lt),OE=["fromSymbol","toSymbol"];function TW(r){return"_"+r+"Type"}function AW(r,t,e){var n=t.getItemVisual(e,r);if(!n||n==="none")return n;var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),s=t.getItemVisual(e,r+"KeepAspect"),l=Zd(i),u=Df(o||0,l);return n+l+u+(a||"")+(s||"")}function MW(r,t,e){var n=t.getItemVisual(e,r);if(!(!n||n==="none")){var i=t.getItemVisual(e,r+"Size"),a=t.getItemVisual(e,r+"Rotate"),o=t.getItemVisual(e,r+"Offset"),s=t.getItemVisual(e,r+"KeepAspect"),l=Zd(i),u=Df(o||0,l),c=Dr(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=r,c}}function oCe(r){var t=new Rte({name:"line",subPixelOptimize:!0});return kP(t.shape,r),t}function kP(r,t){r.x1=t[0][0],r.y1=t[0][1],r.x2=t[1][0],r.y2=t[1][1],r.percent=1;var e=t[2];e?(r.cpx1=e[0],r.cpy1=e[1]):(r.cpx1=NaN,r.cpy1=NaN)}var r3=(function(r){J(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createLine(e,n,i),a}return t.prototype._createLine=function(e,n,i){var a=e.hostModel,o=e.getItemLayout(n),s=e.getItemVisual(n,"z2"),l=oCe(o);l.shape.percent=0,Kt(l,{z2:Ie(s,0),shape:{percent:1}},a,n),this.add(l),z(OE,function(u){var c=MW(u,e,n);this.add(c),this[TW(u)]=AW(u,e,n)},this),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,o=this.childOfName("line"),s=e.getItemLayout(n),l={shape:{}};kP(l.shape,s),bt(o,l,a,n),z(OE,function(u){var c=AW(u,e,n),f=TW(u);if(this[f]!==c){this.remove(this.childOfName(u));var d=MW(u,e,n);this.add(d)}this[f]=c},this),this._updateCommonStl(e,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,i){var a=e.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,d=i&&i.focus,h=i&&i.blurScope;if(!i||e.hasItemOption){var v=e.getItemModel(n),g=v.getModel("emphasis");s=g.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),u=v.getModel(["select","lineStyle"]).getLineStyle(),f=g.get("disabled"),d=g.get("focus"),h=g.get("blurScope"),c=Ur(v)}var m=e.getItemVisual(n,"style"),x=m.stroke;o.useStyle(m),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,z(OE,function(A){var M=this.childOfName(A);if(M){M.setColor(x),M.style.opacity=m.opacity;for(var D=0;D<Qn.length;D++){var P=Qn[D],I=o.getState(P);if(I){var R=I.style||{},k=M.ensureState(P),O=k.style||(k.style={});R.stroke!=null&&(O[M.__isEmptyBrush?"stroke":"fill"]=R.stroke),R.opacity!=null&&(O.opacity=R.opacity)}}M.markRedraw()}},this);var _=a.getRawValue(n);tn(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(A,M){return a.getFormattedLabel(A,M,e.dataType)}},inheritColor:x||te.color.neutral99,defaultOpacity:m.opacity,defaultText:(_==null?e.getName(n):isFinite(_)?Ar(_):_)+""});var b=this.getTextContent();if(b){var w=c.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=w.get("position")||"middle";var T=w.get("distance");ue(T)||(T=[T,T]),b.__labelDistance=T}this.setTextConfig({position:null,local:!0,inside:!1}),or(this,d,h,f)},t.prototype.highlight=function(){el(this)},t.prototype.downplay=function(){tl(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");kP(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),a=e.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),d=Zl([],f,c);wf(d,d);function h(I,R){var k=I.__specifiedRotation;if(k==null){var O=l.tangentAt(R);I.attr("rotation",(R===1?-1:1)*Math.PI/2-Math.atan2(O[1],O[0]))}else I.attr("rotation",k)}if(n&&(n.setPosition(c),h(n,0),n.scaleX=n.scaleY=o*u,n.markRedraw()),i&&(i.setPosition(f),h(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,g=void 0,m=a.__labelDistance,x=m[0]*o,_=m[1]*o,b=u/2,w=l.tangentAt(b),T=[w[1],-w[0]],A=l.pointAt(b);T[1]>0&&(T[0]=-T[0],T[1]=-T[1]);var M=w[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var D=-Math.atan2(w[1],w[0]);f[0]<c[0]&&(D=Math.PI+D),a.rotation=D}var P=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":P=-_,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":P=_,g="top";break;default:P=0,g="middle"}switch(a.__position){case"end":a.x=d[0]*x+f[0],a.y=d[1]*_+f[1],v=d[0]>.8?"left":d[0]<-.8?"right":"center",g=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":a.x=-d[0]*x+c[0],a.y=-d[1]*_+c[1],v=d[0]>.8?"right":d[0]<-.8?"left":"center",g=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=x*M+c[0],a.y=c[1]+P,v=w[0]<0?"right":"left",a.originX=-x*M,a.originY=-P;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=A[0],a.y=A[1]+P,v="center",a.originY=-P;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-x*M+f[0],a.y=f[1]+P,v=w[0]>=0?"right":"left",a.originX=x*M,a.originY=-P;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||g,align:a.__align||v})}},t})(Be),n3=(function(){function r(t){this.group=new Be,this._LineCtor=t||r3}return r.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var o=DW(t);t.diff(a).add(function(s){e._doAdd(t,s,o)}).update(function(s,l){e._doUpdate(a,t,l,s,o)}).remove(function(s){i.remove(a.getItemGraphicEl(s))}).execute()},r.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=DW(t),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e){this._progressiveEls=[];function n(s){!s.isGroup&&!sCe(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=e.getItemLayout(i);if(BE(a)){var o=new this._LineCtor(e,i,this._seriesScope);o.traverse(n),this.group.add(o),e.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(t){Mu(this._progressiveEls||this.group,t)},r.prototype._doAdd=function(t,e,n){var i=t.getItemLayout(e);if(BE(i)){var a=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,a),this.group.add(a)}},r.prototype._doUpdate=function(t,e,n,i,a){var o=t.getItemGraphicEl(n);if(!BE(e.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(e,i,a):o=new this._LineCtor(e,i,a),e.setItemGraphicEl(i,o),this.group.add(o)},r})();function sCe(r){return r.animators&&r.animators.length>0}function DW(r){var t=r.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:Ur(t)}}function EW(r){return isNaN(r[0])||isNaN(r[1])}function BE(r){return r&&!EW(r[0])&&!EW(r[1])}var kE=[],LE=[],NE=[],Nh=fn,VE=au,IW=Math.abs;function RW(r,t,e){for(var n=r[0],i=r[1],a=r[2],o=1/0,s,l=e*e,u=.1,c=.1;c<=.9;c+=.1){kE[0]=Nh(n[0],i[0],a[0],c),kE[1]=Nh(n[1],i[1],a[1],c);var f=IW(VE(kE,t)-l);f<o&&(o=f,s=c)}for(var d=0;d<32;d++){var h=s+u;LE[0]=Nh(n[0],i[0],a[0],s),LE[1]=Nh(n[1],i[1],a[1],s),NE[0]=Nh(n[0],i[0],a[0],h),NE[1]=Nh(n[1],i[1],a[1],h);var f=VE(LE,t)-l;if(IW(f)<.01)break;var v=VE(NE,t)-l;u/=2,f<0?v>=0?s=s+u:s=s-u:v>=0?s=s-u:s=s+u}return s}function zE(r,t){var e=[],n=Z0,i=[[],[],[]],a=[[],[]],o=[];t/=2,r.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[ko(u[0]),ko(u[1])],u[2]&&u.__original.push(ko(u[2])));var d=u.__original;if(u[2]!=null){if(Nn(i[0],d[0]),Nn(i[1],d[2]),Nn(i[2],d[1]),c&&c!=="none"){var h=S0(s.node1),v=RW(i,d[0],h*t);n(i[0][0],i[1][0],i[2][0],v,e),i[0][0]=e[3],i[1][0]=e[4],n(i[0][1],i[1][1],i[2][1],v,e),i[0][1]=e[3],i[1][1]=e[4]}if(f&&f!=="none"){var h=S0(s.node2),v=RW(i,d[1],h*t);n(i[0][0],i[1][0],i[2][0],v,e),i[1][0]=e[1],i[2][0]=e[2],n(i[0][1],i[1][1],i[2][1],v,e),i[1][1]=e[1],i[2][1]=e[2]}Nn(u[0],i[0]),Nn(u[1],i[2]),Nn(u[2],i[1])}else{if(Nn(a[0],d[0]),Nn(a[1],d[1]),Zl(o,a[1],a[0]),wf(o,o),c&&c!=="none"){var h=S0(s.node1);g_(a[0],a[0],o,h*t)}if(f&&f!=="none"){var h=S0(s.node2);g_(a[1],a[1],o,-h*t)}Nn(u[0],a[0]),Nn(u[1],a[1])}})}var Pte=ot();function lCe(r){if(r)return Pte(r).bridge}function PW(r,t){r&&(Pte(r).bridge=t)}function OW(r){return r.type==="view"}var uCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){var i=new oy,a=new n3,o=this.group,s=new Be;this._controller=new If(n.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),o.add(s),this._symbolDraw=i,this._lineDraw=a,this._mainGroup=s,this._firstRender=!0},t.prototype.render=function(e,n,i){var a=this,o=e.coordinateSystem,s=!1;this._model=e,this._api=i,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(i);var u=this._symbolDraw,c=this._lineDraw;if(OW(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?this._mainGroup.attr(f):bt(this._mainGroup,f,e)}zE(e.getGraph(),b0(e));var d=e.getData();u.updateData(d);var h=e.getEdgeData();c.updateData(h),this._updateNodeAndLinkScale(),this._updateController(null,e,i),clearTimeout(this._layoutTimeout);var v=e.forceLayout,g=e.get(["force","layoutAnimation"]);v&&(s=!0,this._startForceLayoutIteration(v,i,g));var m=e.get("layout");d.graph.eachNode(function(w){var T=w.dataIndex,A=w.getGraphicEl(),M=w.getModel();if(A){A.off("drag").off("dragend");var D=M.get("draggable");D&&A.on("drag",function(I){switch(m){case"force":v.warmUp(),!a._layouting&&a._startForceLayoutIteration(v,i,g),v.setFixed(T),d.setItemLayout(T,[A.x,A.y]);break;case"circular":d.setItemLayout(T,[A.x,A.y]),w.setLayout({fixed:!0},!0),t3(e,"symbolSize",w,[I.offsetX,I.offsetY]),a.updateLayout(e);break;default:d.setItemLayout(T,[A.x,A.y]),e3(e.getGraph(),e),a.updateLayout(e);break}}).on("dragend",function(){v&&v.setUnfixed(T)}),A.setDraggable(D,!!M.get("cursor"));var P=M.get(["emphasis","focus"]);P==="adjacency"&&(He(A).focus=w.getAdjacentDataIndices())}}),d.graph.eachEdge(function(w){var T=w.getGraphicEl(),A=w.getModel().get(["emphasis","focus"]);T&&A==="adjacency"&&(He(T).focus={edge:[w.dataIndex],node:[w.node1.dataIndex,w.node2.dataIndex]})});var x=e.get("layout")==="circular"&&e.get(["circular","rotateLabel"]),_=d.getLayout("cx"),b=d.getLayout("cy");d.graph.eachNode(function(w){Ete(w,x,_,b)}),this._firstRender=!1,s||this._renderThumbnail(e,i,this._symbolDraw,this._lineDraw)},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n,i){var a=this,o=!1;(function s(){e.step(function(l){a.updateLayout(a._model),(l||!o)&&(o=!0,a._renderThumbnail(a._model,n,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(i?a._layoutTimeout=setTimeout(s,16):s())})})()},t.prototype._updateController=function(e,n,i){var a=this._controller,o=this._controllerHost,s=n.coordinateSystem;if(!OW(s)){a.disable();return}a.enable(n.get("roam"),{api:i,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(l,u,c){return s.containPoint([u,c])},isInClip:function(l,u,c){return!e||e.contain(u,c)}}}),o.zoomLimit=n.get("scaleLimit"),o.zoom=s.getZoom(),a.off("pan").off("zoom").on("pan",function(l){i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},t.prototype.updateViewOnPan=function(e,n,i){this._active&&(qk(this._controllerHost,i.dx,i.dy),this._updateThumbnailWindow())},t.prototype.updateViewOnZoom=function(e,n,i){this._active&&(Yk(this._controllerHost,i.zoom,i.originX,i.originY),this._updateNodeAndLinkScale(),zE(e.getGraph(),b0(e)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),i=b0(e);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(e){this._active&&(zE(e.getGraph(),b0(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},t.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},t.prototype._getThumbnailInfo=function(){var e=this._model,n=e.coordinateSystem;if(n.type==="view"){var i=lCe(e);if(i)return{bridge:i,coordSys:n}}},t.prototype._updateThumbnailWindow=function(){var e=this._getThumbnailInfo();e&&e.bridge.updateWindow(e.coordSys.transform,this._api)},t.prototype._renderThumbnail=function(e,n,i,a){var o=this._getThumbnailInfo();if(o){var s=new Be,l=i.group.children(),u=a.group.children(),c=new Be,f=new Be;s.add(f),s.add(c);for(var d=0;d<l.length;d++){var h=l[d],v=h.children()[0],g=h.x,m=h.y,x=Oe(v.shape),_=oe(x,{width:v.scaleX,height:v.scaleY,x:g-v.scaleX/2,y:m-v.scaleY/2}),b=Oe(v.style),w=new v.constructor({shape:_,style:b,z2:151});f.add(w)}for(var d=0;d<u.length;d++){var h=u[d],T=h.children()[0],b=Oe(T.style),_=Oe(T.shape),A=new Rte({style:b,shape:_,z2:151});c.add(A)}o.bridge.renderContent({api:n,roamType:e.get("roam"),viewportRect:null,group:s,targetTrans:o.coordSys.transform})}},t.type="graph",t})(Bt);function Vh(r){return"_EC_"+r}var cCe=(function(){function r(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(t,e){t=t==null?""+e:""+t;var n=this._nodesMap;if(!n[Vh(t)]){var i=new Rc(t,e);return i.hostGraph=this,this.nodes.push(i),n[Vh(t)]=i,i}},r.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},r.prototype.getNodeById=function(t){return this._nodesMap[Vh(t)]},r.prototype.addEdge=function(t,e,n){var i=this._nodesMap,a=this._edgesMap;if(yt(t)&&(t=this.nodes[t]),yt(e)&&(e=this.nodes[e]),t instanceof Rc||(t=i[Vh(t)]),e instanceof Rc||(e=i[Vh(e)]),!(!t||!e)){var o=t.id+"-"+e.id,s=new Ote(t,e,n);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),a[o]=s,s}},r.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},r.prototype.getEdge=function(t,e){t instanceof Rc&&(t=t.id),e instanceof Rc&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},r.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},r.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},r.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof Rc||(e=this._nodesMap[Vh(e)]),!!e){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var s=[e];s.length;)for(var l=s.shift(),u=l[a],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(i,f,l))return;s.push(f),f.__visited=!0}}}},r.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)n[t.getRawIndex(a)].dataIndex=a;e.filterSelf(function(s){var l=i[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)i[e.getRawIndex(a)].dataIndex=a},r.prototype.clone=function(){for(var t=new r(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},r})(),Rc=(function(){function r(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},r.prototype.getTrajectoryDataIndices=function(){for(var t=Me(),e=Me(),n=0,i=this.edges.length;n<i;n++){var a=this.edges[n];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var o=[a.node1],s=[a.node2],l=0;l<o.length;){var u=o[l];l++,e.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,d=c.length,h=void 0,v=void 0;f<d;f++)h=c[f],v=h.dataIndex,v>=0&&!t.hasKey(v)&&(t.set(v,!0),o.push(h.node1))}for(l=0;l<s.length;){var g=s[l];l++,e.set(g.dataIndex,!0);for(var m=g.outEdges,f=0,x=m.length,_=void 0,b=void 0;f<x;f++)_=m[f],b=_.dataIndex,b>=0&&!t.hasKey(b)&&(t.set(b,!0),s.push(_.node2))}}}return{edge:t.keys(),node:e.keys()}},r})(),Ote=(function(){function r(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n??-1}return r.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var t=Me(),e=Me();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var o=n[a];a++,e.set(o.dataIndex,!0);for(var s=o.inEdges,l=0,u=s.length,c=void 0,f=void 0;l<u;l++)c=o.inEdges[l],f=c.dataIndex,f>=0&&!t.hasKey(f)&&(t.set(f,!0),n.push(c.node1))}for(a=0;a<i.length;){var d=i[a];a++,e.set(d.dataIndex,!0);for(var h=d.outEdges,l=0,u=h.length,v=void 0,g=void 0;l<u;l++)v=d.outEdges[l],g=v.dataIndex,g>=0&&!t.hasKey(g)&&(t.set(g,!0),i.push(v.node2))}return{edge:t.keys(),node:e.keys()}},r})();function Bte(r,t){return{getValue:function(e){var n=this[r][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[r][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[r][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[r][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[r][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][t].getRawIndex(this.dataIndex)}}}mr(Rc,Bte("hostGraph","data"));mr(Ote,Bte("hostGraph","edgeData"));function i3(r,t,e,n,i){for(var a=new cCe(n),o=0;o<r.length;o++)a.addNode(dn(r[o].id,r[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,d=c.target;a.addEdge(f,d,u)&&(l.push(c),s.push(dn(Gr(c.id,null),f+" > "+d)),u++)}var h=e.get("coordinateSystem"),v;if(h==="cartesian2d"||h==="polar"||h==="matrix")v=jo(r,e);else{var g=Xd.get(h),m=g?g.dimensions||[]:[];Ze(m,"value")<0&&m.concat(["value"]);var x=Kd(r,{coordDimensions:m,encodeDefine:e.getEncode()}).dimensions;v=new Hn(x,e),v.initData(r)}var _=new Hn(["value"],e);return _.initData(l,s),i&&i(v,_),vte({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var fCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new rv(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){r.prototype.mergeDefaultAndTheme.apply(this,arguments),of(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=this;if(a&&i){K2e(this);var s=i3(a,i,this,!0,l);return z(s.edges,function(u){Q2e(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(v){var g=o._categoriesModels,m=v.getShallow("category"),x=g[m];return x&&(x.parentModel=v.parentModel,v.parentModel=x),v});var f=st.prototype.getModel;function d(v,g){var m=f.call(this,v,g);return m.resolveParentPath=h,m}c.wrapMethod("getItemModel",function(v){return v.resolveParentPath=h,v.getModel=d,v});function h(v){if(v&&(v[0]==="label"||v[1]==="label")){var g=v.slice();return v[0]==="label"?g[0]="edgeLabel":v[1]==="label"&&(g[1]="edgeLabel"),g}return v}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(e,i),s=a.graph.getEdgeByIndex(e),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Br("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=NQ({series:this,dataIndex:e,multipleSeries:n});return f},t.prototype._updateCategoriesData=function(){var e=he(this.option.categories||[],function(i){return i.value!=null?i:oe({value:0},i)}),n=new Hn(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:te.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:te.color.primary}}},t})(Vt);function hCe(r){r.registerChartView(uCe),r.registerSeriesModel(fCe),r.registerProcessor(Y2e),r.registerVisual(X2e),r.registerVisual($2e),r.registerLayout(J2e),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,tCe),r.registerLayout(nCe),r.registerCoordinateSystem("graphView",{dimensions:Rf.dimensions,create:aCe}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},gr),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},gr),r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",query:t},function(i){var a=n.getViewOfSeriesModel(i);a&&(t.dx!=null&&t.dy!=null&&a.updateViewOnPan(i,n,t),t.zoom!=null&&t.originX!=null&&t.originY!=null&&a.updateViewOnZoom(i,n,t));var o=i.coordinateSystem,s=kS(o,t,i.get("scaleLimit"));i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var BW=(function(r){J(t,r);function t(e,n,i){var a=r.call(this)||this;He(a).dataType="node",a.z2=2;var o=new gt;return a.setTextContent(o),a.updateData(e,n,i,!0),a}return t.prototype.updateData=function(e,n,i,a){var o=this,s=e.graph.getNodeByIndex(n),l=e.hostModel,u=s.getModel(),c=u.getModel("emphasis"),f=e.getItemLayout(n),d=oe(Bo(u.getModel("itemStyle"),f,!0),f),h=this;if(isNaN(d.startAngle)){h.setShape(d);return}a?h.setShape(d):bt(h,{shape:d},l,n);var v=oe(Bo(u.getModel("itemStyle"),f,!0),f);o.setShape(v),o.useStyle(e.getItemVisual(n,"style")),Wr(o,u),this._updateLabel(l,u,s),e.setItemGraphicEl(n,h),Wr(h,u,"itemStyle");var g=c.get("focus");or(this,g==="adjacency"?s.getAdjacentDataIndices():g,c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(e,n,i){var a=this.getTextContent(),o=i.getLayout(),s=(o.startAngle+o.endAngle)/2,l=Math.cos(s),u=Math.sin(s),c=n.getModel("label");a.ignore=!c.get("show");var f=Ur(n),d=i.getVisual("style");tn(a,f,{labelFetcher:{getFormattedLabel:function(_,b,w,T,A,M){return e.getFormattedLabel(_,b,"node",T,gi(A,f.normal&&f.normal.get("formatter"),n.get("name")),M)}},labelDataIndex:i.dataIndex,defaultText:i.dataIndex+"",inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:"startArc"});var h=c.get("position")||"outside",v=c.get("distance")||0,g;h==="outside"?g=o.r+v:g=(o.r+o.r0)/2,this.textConfig={inside:h!=="outside"};var m=h!=="outside"?c.get("align")||"center":l>0?"left":"right",x=h!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";a.attr({x:l*g+o.cx,y:u*g+o.cy,rotation:0,style:{align:m,verticalAlign:x}})},t})(Rn),dCe=(function(r){J(t,r);function t(e,n,i,a){var o=r.call(this)||this;return He(o).dataType="edge",o.updateData(e,n,i,a,!0),o}return t.prototype.buildPath=function(e,n){e.moveTo(n.s1[0],n.s1[1]);var i=.7,a=n.clockwise;e.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!a),e.bezierCurveTo((n.cx-n.s2[0])*i+n.s2[0],(n.cy-n.s2[1])*i+n.s2[1],(n.cx-n.t1[0])*i+n.t1[0],(n.cy-n.t1[1])*i+n.t1[1],n.t1[0],n.t1[1]),e.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!a),e.bezierCurveTo((n.cx-n.t2[0])*i+n.t2[0],(n.cy-n.t2[1])*i+n.t2[1],(n.cx-n.s1[0])*i+n.s1[0],(n.cy-n.s1[1])*i+n.s1[1],n.s1[0],n.s1[1]),e.closePath()},t.prototype.updateData=function(e,n,i,a,o){var s=e.hostModel,l=n.graph.getEdgeByIndex(i),u=l.getLayout(),c=l.node1.getModel(),f=n.getItemModel(l.dataIndex),d=f.getModel("lineStyle"),h=f.getModel("emphasis"),v=h.get("focus"),g=oe(Bo(c.getModel("itemStyle"),u,!0),u),m=this;if(isNaN(g.sStartAngle)||isNaN(g.tStartAngle)){m.setShape(g);return}o?(m.setShape(g),kW(m,l,e,d)):(Ta(m),kW(m,l,e,d),bt(m,{shape:g},s,i)),or(this,v==="adjacency"?l.getAdjacentDataIndices():v,h.get("blurScope"),h.get("disabled")),Wr(m,f,"lineStyle"),n.setItemGraphicEl(l.dataIndex,m)},t})(lt);function kW(r,t,e,n){var i=t.node1,a=t.node2,o=r.style;r.setStyle(n.getLineStyle());var s=n.get("color");switch(s){case"source":o.fill=e.getItemVisual(i.dataIndex,"style").fill,o.decal=i.getVisual("style").decal;break;case"target":o.fill=e.getItemVisual(a.dataIndex,"style").fill,o.decal=a.getVisual("style").decal;break;case"gradient":var l=e.getItemVisual(i.dataIndex,"style").fill,u=e.getItemVisual(a.dataIndex,"style").fill;if(be(l)&&be(u)){var c=r.shape,f=(c.s1[0]+c.s2[0])/2,d=(c.s1[1]+c.s2[1])/2,h=(c.t1[0]+c.t2[0])/2,v=(c.t1[1]+c.t2[1])/2;o.fill=new Cf(f,d,h,v,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var vCe=Math.PI/180,pCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,i){var a=e.getData(),o=this._data,s=this.group,l=-e.get("startAngle")*vCe;if(a.diff(o).add(function(c){var f=a.getItemLayout(c);if(f){var d=new BW(a,c,l);He(d).dataIndex=c,s.add(d)}}).update(function(c,f){var d=o.getItemGraphicEl(f),h=a.getItemLayout(c);if(!h){d&&Xs(d,e,f);return}d?d.updateData(a,c,l):d=new BW(a,c,l),s.add(d)}).remove(function(c){var f=o.getItemGraphicEl(c);f&&Xs(f,e,c)}).execute(),!o){var u=e.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=_e(u[0],i.getWidth()),this.group.originY=_e(u[1],i.getHeight()),Kt(this.group,{scaleX:1,scaleY:1},e)}this._data=a,this.renderEdges(e,l)},t.prototype.renderEdges=function(e,n){var i=e.getData(),a=e.getEdgeData(),o=this._edgeData,s=this.group;a.diff(o).add(function(l){var u=new dCe(i,a,l,n);He(u).dataIndex=l,s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(i,a,l,n),s.add(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&Xs(u,e,l)}).execute(),this._edgeData=a},t.prototype.dispose=function(){},t.type="chord",t})(Bt),gCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this.legendVisualProvider=new rv(Se(this.getData,this),Se(this.getRawData,this))},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links)},t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[];if(a&&i){var o=i3(a,i,this,!0,s);return o.data}function s(l,u){var c=st.prototype.getModel;function f(h,v){var g=c.call(this,h,v);return g.resolveParentPath=d,g}u.wrapMethod("getItemModel",function(h){return h.resolveParentPath=d,h.getModel=f,h});function d(h){if(h&&(h[0]==="label"||h[1]==="label")){var v=h.slice();return h[0]==="label"?v[0]="edgeLabel":h[1]==="label"&&(v[1]="edgeLabel"),v}return h}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){var a=this.getDataParams(e,i);if(i==="edge"){var o=this.getData(),s=o.graph.getEdgeByIndex(e),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Br("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}return Br("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(n==="node"){var a=this.getData(),o=this.getGraph().getNodeByIndex(e);if(i.name==null&&(i.name=a.getName(e)),i.value==null){var s=o.getLayout().value;i.value=s}}return i},t.type="series.chord",t.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},t})(Vt),FE=Math.PI/180;function yCe(r,t){r.eachSeriesByType("chord",function(e){mCe(e,t)})}function mCe(r,t){var e=r.getData(),n=e.graph,i=r.getEdgeData(),a=i.count();if(a){var o=rQ(r,t),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=Math.max((r.get("padAngle")||0)*FE,0),d=Math.max((r.get("minAngle")||0)*FE,0),h=-r.get("startAngle")*FE,v=h+Math.PI*2,g=r.get("clockwise"),m=g?1:-1,x=[h,v];yS(x,!g);var _=x[0],b=x[1],w=b-_,T=e.getSum("value")===0&&i.getSum("value")===0,A=[],M=0;n.eachEdge(function(W){var U=T?1:W.getValue("value");T&&(U>0||d)&&(M+=2);var Z=W.node1.dataIndex,F=W.node2.dataIndex;A[Z]=(A[Z]||0)+U,A[F]=(A[F]||0)+U});var D=0;if(n.eachNode(function(W){var U=W.getValue("value");isNaN(U)||(A[W.dataIndex]=Math.max(U,A[W.dataIndex]||0)),!T&&(A[W.dataIndex]>0||d)&&M++,D+=A[W.dataIndex]||0}),!(M===0||D===0)){f*M>=Math.abs(w)&&(f=Math.max(0,(Math.abs(w)-d*M)/M)),(f+d)*M>=Math.abs(w)&&(d=(Math.abs(w)-f*M)/M);var P=(w-f*M*m)/D,I=0,R=0,k=0;n.eachNode(function(W){var U=A[W.dataIndex]||0,Z=P*(D?U:1)*m;Math.abs(Z)<d?I+=d-Math.abs(Z):(R+=Math.abs(Z)-d,k+=Math.abs(Z)),W.setLayout({angle:Z,value:U})});var O=!1;if(I>R){var V=I/R;n.eachNode(function(W){var U=W.getLayout().angle;Math.abs(U)>=d?W.setLayout({angle:U*V,ratio:V},!0):W.setLayout({angle:d,ratio:d===0?1:U/d},!0)})}else n.eachNode(function(W){if(!O){var U=W.getLayout().angle,Z=Math.min(U/k,1),F=Z*I;U-F<d&&(O=!0)}});var N=I;n.eachNode(function(W){if(!(N<=0)){var U=W.getLayout().angle;if(U>d&&d>0){var Z=O?1:Math.min(U/k,1),F=U-d,q=Math.min(F,Math.min(N,I*Z));N-=q,W.setLayout({angle:U-q,ratio:(U-q)/U},!0)}else d>0&&W.setLayout({angle:d,ratio:U===0?1:d/U},!0)}});var L=_,G=[];n.eachNode(function(W){var U=Math.max(W.getLayout().angle,d);W.setLayout({cx:s,cy:l,r0:c,r:u,startAngle:L,endAngle:L+U*m,clockwise:g},!0),G[W.dataIndex]=L,L+=(U+f)*m}),n.eachEdge(function(W){var U=T?1:W.getValue("value"),Z=P*(D?U:1)*m,F=W.node1.dataIndex,q=G[F]||0,$=Math.abs((W.node1.getLayout().ratio||1)*Z),K=q+$*m,re=[s+c*Math.cos(q),l+c*Math.sin(q)],ce=[s+c*Math.cos(K),l+c*Math.sin(K)],pe=W.node2.dataIndex,de=G[pe]||0,ge=Math.abs((W.node2.getLayout().ratio||1)*Z),Ce=de+ge*m,xe=[s+c*Math.cos(de),l+c*Math.sin(de)],we=[s+c*Math.cos(Ce),l+c*Math.sin(Ce)];W.setLayout({s1:re,s2:ce,sStartAngle:q,sEndAngle:K,t1:xe,t2:we,tStartAngle:de,tEndAngle:Ce,cx:s,cy:l,r:c,value:U,clockwise:g}),G[F]=K,G[pe]=Ce})}}}function xCe(r){r.registerChartView(pCe),r.registerSeriesModel(gCe),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,yCe),r.registerProcessor(ev("chord"))}var _Ce=(function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r})(),bCe=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new _Ce},t.prototype.buildPath=function(e,n){var i=Math.cos,a=Math.sin,o=n.r,s=n.width,l=n.angle,u=n.x-i(l)*s*(s>=o/3?1:2),c=n.y-a(l)*s*(s>=o/3?1:2);l=n.angle-Math.PI/2,e.moveTo(u,c),e.lineTo(n.x+i(l)*s,n.y+a(l)*s),e.lineTo(n.x+i(n.angle)*o,n.y+a(n.angle)*o),e.lineTo(n.x-i(l)*s,n.y-a(l)*s),e.lineTo(u,c)},t})(lt);function SCe(r,t){var e=r.get("center"),n=t.getWidth(),i=t.getHeight(),a=Math.min(n,i),o=_e(e[0],t.getWidth()),s=_e(e[1],t.getHeight()),l=_e(r.get("radius"),a/2);return{cx:o,cy:s,r:l}}function P1(r,t){var e=r==null?"":r+"";return t&&(be(t)?e=t.replace("{value}",e):Re(t)&&(e=t(r))),e}var wCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),o=SCe(e,i);this._renderMain(e,n,i,a,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,i,a,o){var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,c=-e.get("endAngle")/180*Math.PI,f=e.getModel("axisLine"),d=f.get("roundCap"),h=d?tb:Rn,v=f.get("show"),g=f.getModel("lineStyle"),m=g.get("width"),x=[u,c];yS(x,!l),u=x[0],c=x[1];for(var _=c-u,b=u,w=[],T=0;v&&T<a.length;T++){var A=Math.min(Math.max(a[T][0],0),1);c=u+_*A;var M=new h({shape:{startAngle:b,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-m,r:o.r},silent:!0});M.setStyle({fill:a[T][1]}),M.setStyle(g.getLineStyle(["color","width"])),w.push(M),b=c}w.reverse(),z(w,function(P){return s.add(P)});var D=function(P){if(P<=0)return a[0][1];var I;for(I=0;I<a.length;I++)if(a[I][0]>=P&&(I===0?0:a[I-1][0])<P)return a[I][1];return a[I-1][1]};this._renderTicks(e,n,i,D,o,u,c,l,m),this._renderTitleAndDetail(e,n,i,D,o),this._renderAnchor(e,o),this._renderPointer(e,n,i,D,o,u,c,l,m)},t.prototype._renderTicks=function(e,n,i,a,o,s,l,u,c){for(var f=this.group,d=o.cx,h=o.cy,v=o.r,g=+e.get("min"),m=+e.get("max"),x=e.getModel("splitLine"),_=e.getModel("axisTick"),b=e.getModel("axisLabel"),w=e.get("splitNumber"),T=_.get("splitNumber"),A=_e(x.get("length"),v),M=_e(_.get("length"),v),D=s,P=(l-s)/w,I=P/T,R=x.getModel("lineStyle").getLineStyle(),k=_.getModel("lineStyle").getLineStyle(),O=x.get("distance"),V,N,L=0;L<=w;L++){if(V=Math.cos(D),N=Math.sin(D),x.get("show")){var G=O?O+c:c,W=new Mr({shape:{x1:V*(v-G)+d,y1:N*(v-G)+h,x2:V*(v-A-G)+d,y2:N*(v-A-G)+h},style:R,silent:!0});R.stroke==="auto"&&W.setStyle({stroke:a(L/w)}),f.add(W)}if(b.get("show")){var G=b.get("distance")+O,U=P1(Ar(L/w*(m-g)+g),b.get("formatter")),Z=a(L/w),F=V*(v-A-G)+d,q=N*(v-A-G)+h,$=b.get("rotate"),K=0;$==="radial"?(K=-D+2*Math.PI,K>Math.PI/2&&(K+=Math.PI)):$==="tangential"?K=-D-Math.PI/2:yt($)&&(K=$*Math.PI/180),K===0?f.add(new gt({style:Ut(b,{text:U,x:F,y:q,verticalAlign:N<-.8?"top":N>.8?"bottom":"middle",align:V<-.4?"left":V>.4?"right":"center"},{inheritColor:Z}),silent:!0})):f.add(new gt({style:Ut(b,{text:U,x:F,y:q,verticalAlign:"middle",align:"center"},{inheritColor:Z}),silent:!0,originX:F,originY:q,rotation:K}))}if(_.get("show")&&L!==w){var G=_.get("distance");G=G?G+c:c;for(var re=0;re<=T;re++){V=Math.cos(D),N=Math.sin(D);var ce=new Mr({shape:{x1:V*(v-G)+d,y1:N*(v-G)+h,x2:V*(v-M-G)+d,y2:N*(v-M-G)+h},silent:!0,style:k});k.stroke==="auto"&&ce.setStyle({stroke:a((L+re/T)/w)}),f.add(ce),D+=I}D-=I}else D+=P}},t.prototype._renderPointer=function(e,n,i,a,o,s,l,u,c){var f=this.group,d=this._data,h=this._progressEls,v=[],g=e.get(["pointer","show"]),m=e.getModel("progress"),x=m.get("show"),_=e.getData(),b=_.mapDimension("value"),w=+e.get("min"),T=+e.get("max"),A=[w,T],M=[s,l];function D(I,R){var k=_.getItemModel(I),O=k.getModel("pointer"),V=_e(O.get("width"),o.r),N=_e(O.get("length"),o.r),L=e.get(["pointer","icon"]),G=O.get("offsetCenter"),W=_e(G[0],o.r),U=_e(G[1],o.r),Z=O.get("keepAspect"),F;return L?F=Dr(L,W-V/2,U-N,V,N,null,Z):F=new bCe({shape:{angle:-Math.PI/2,width:V,r:N,x:W,y:U}}),F.rotation=-(R+Math.PI/2),F.x=o.cx,F.y=o.cy,F}function P(I,R){var k=m.get("roundCap"),O=k?tb:Rn,V=m.get("overlap"),N=V?m.get("width"):c/_.count(),L=V?o.r-N:o.r-(I+1)*N,G=V?o.r:o.r-I*N,W=new O({shape:{startAngle:s,endAngle:R,cx:o.cx,cy:o.cy,clockwise:u,r0:L,r:G}});return V&&(W.z2=At(_.get(b,I),[w,T],[100,0],!0)),W}(x||g)&&(_.diff(d).add(function(I){var R=_.get(b,I);if(g){var k=D(I,s);Kt(k,{rotation:-((isNaN(+R)?M[0]:At(R,A,M,!0))+Math.PI/2)},e),f.add(k),_.setItemGraphicEl(I,k)}if(x){var O=P(I,s),V=m.get("clip");Kt(O,{shape:{endAngle:At(R,A,M,V)}},e),f.add(O),RR(e.seriesIndex,_.dataType,I,O),v[I]=O}}).update(function(I,R){var k=_.get(b,I);if(g){var O=d.getItemGraphicEl(R),V=O?O.rotation:s,N=D(I,V);N.rotation=V,bt(N,{rotation:-((isNaN(+k)?M[0]:At(k,A,M,!0))+Math.PI/2)},e),f.add(N),_.setItemGraphicEl(I,N)}if(x){var L=h[R],G=L?L.shape.endAngle:s,W=P(I,G),U=m.get("clip");bt(W,{shape:{endAngle:At(k,A,M,U)}},e),f.add(W),RR(e.seriesIndex,_.dataType,I,W),v[I]=W}}).execute(),_.each(function(I){var R=_.getItemModel(I),k=R.getModel("emphasis"),O=k.get("focus"),V=k.get("blurScope"),N=k.get("disabled");if(g){var L=_.getItemGraphicEl(I),G=_.getItemVisual(I,"style"),W=G.fill;if(L instanceof nn){var U=L.style;L.useStyle(oe({image:U.image,x:U.x,y:U.y,width:U.width,height:U.height},G))}else L.useStyle(G),L.type!=="pointer"&&L.setColor(W);L.setStyle(R.getModel(["pointer","itemStyle"]).getItemStyle()),L.style.fill==="auto"&&L.setStyle("fill",a(At(_.get(b,I),A,[0,1],!0))),L.z2EmphasisLift=0,Wr(L,R),or(L,O,V,N)}if(x){var Z=v[I];Z.useStyle(_.getItemVisual(I,"style")),Z.setStyle(R.getModel(["progress","itemStyle"]).getItemStyle()),Z.z2EmphasisLift=0,Wr(Z,R),or(Z,O,V,N)}}),this._progressEls=v)},t.prototype._renderAnchor=function(e,n){var i=e.getModel("anchor"),a=i.get("show");if(a){var o=i.get("size"),s=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=Dr(s,n.cx-o/2+_e(l[0],n.r),n.cy-o/2+_e(l[1],n.r),o,o,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(e,n,i,a,o){var s=this,l=e.getData(),u=l.mapDimension("value"),c=+e.get("min"),f=+e.get("max"),d=new Be,h=[],v=[],g=e.isAnimationEnabled(),m=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(x){h[x]=new gt({silent:!0}),v[x]=new gt({silent:!0})}).update(function(x,_){h[x]=s._titleEls[_],v[x]=s._detailEls[_]}).execute(),l.each(function(x){var _=l.getItemModel(x),b=l.get(u,x),w=new Be,T=a(At(b,[c,f],[0,1],!0)),A=_.getModel("title");if(A.get("show")){var M=A.get("offsetCenter"),D=o.cx+_e(M[0],o.r),P=o.cy+_e(M[1],o.r),I=h[x];I.attr({z2:m?0:2,style:Ut(A,{x:D,y:P,text:l.getName(x),align:"center",verticalAlign:"middle"},{inheritColor:T})}),w.add(I)}var R=_.getModel("detail");if(R.get("show")){var k=R.get("offsetCenter"),O=o.cx+_e(k[0],o.r),V=o.cy+_e(k[1],o.r),N=_e(R.get("width"),o.r),L=_e(R.get("height"),o.r),G=e.get(["progress","show"])?l.getItemVisual(x,"style").fill:T,I=v[x],W=R.get("formatter");I.attr({z2:m?0:2,style:Ut(R,{x:O,y:V,text:P1(b,W),width:isNaN(N)?null:N,height:isNaN(L)?null:L,align:"center",verticalAlign:"middle"},{inheritColor:G})}),VK(I,{normal:R},b,function(Z){return P1(Z,W)}),g&&zK(I,x,l,e,{getFormattedLabel:function(Z,F,q,$,K,re){return P1(re?re.interpolatedValue:b,W)}}),w.add(I)}d.add(w)}),this.group.add(d),this._titleEls=h,this._detailEls=v},t.type="gauge",t})(Bt),CCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,n){return tv(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,te.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:te.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:te.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:te.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:te.color.neutral00,borderWidth:0,borderColor:te.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:te.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:te.color.transparent,borderWidth:0,borderColor:te.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:te.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t})(Vt);function TCe(r){r.registerChartView(wCe),r.registerSeriesModel(CCe)}var ACe=["itemStyle","opacity"],MCe=(function(r){J(t,r);function t(e,n){var i=r.call(this)||this,a=i,o=new pn,s=new gt;return a.setTextContent(s),i.setTextGuideLine(o),i.updateData(e,n,!0),i}return t.prototype.updateData=function(e,n,i){var a=this,o=e.hostModel,s=e.getItemModel(n),l=e.getItemLayout(n),u=s.getModel("emphasis"),c=s.get(ACe);c=c??1,i||Ta(a),a.useStyle(e.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Kt(a,{style:{opacity:c}},o,n)):bt(a,{style:{opacity:c},shape:{points:l.points}},o,n),Wr(a,s),this._updateLabel(e,n),or(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),s=e.hostModel,l=e.getItemModel(n),u=e.getItemLayout(n),c=u.label,f=e.getItemVisual(n,"style"),d=f.fill;tn(o,Ur(l),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:e.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var h=l.getModel("label"),v=h.get("color"),g=v==="inherit"?d:null;i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:g,outsideFill:g});var m=c.linePoints;a.setShape({points:m}),i.textGuideLineConfig={anchor:m?new ze(m[0][0],m[0][1]):null},bt(o,{style:{x:c.x,y:c.y}},s,n),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),Rk(i,Pk(l),{stroke:d})},t})(Pn),DCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var u=new MCe(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,l),s.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);Xs(u,e,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t})(Bt),ECe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new rv(Se(this.getData,this),Se(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return tv(this,{coordDimensions:["value"],encodeDefaulter:je(ak,this)})},t.prototype._defaultLabelLine=function(e){of(e,"labelLine",["show"]);var n=e.labelLine,i=e.emphasis.labelLine;n.show=n.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),i=r.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),o=n.getSum(a);return i.percent=o?+(n.get(a,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:te.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:te.color.primary}}},t})(Vt);function ICe(r,t){for(var e=r.mapDimension("value"),n=r.mapArray(e,function(l){return l}),i=[],a=t==="ascending",o=0,s=r.count();o<s;o++)i[o]=o;return Re(t)?i.sort(t):t!=="none"&&i.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),i}function RCe(r){var t=r.hostModel,e=t.get("orient");r.each(function(n){var i=r.getItemModel(n),a=i.getModel("label"),o=a.get("position"),s=i.getModel("labelLine"),l=r.getItemLayout(n),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,d,h,v;if(c)o==="insideLeft"?(d=(u[0][0]+u[3][0])/2+5,h=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(d=(u[1][0]+u[2][0])/2-5,h=(u[1][1]+u[2][1])/2,f="right"):(d=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,h=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),v=[[d,h],[d,h]];else{var g=void 0,m=void 0,x=void 0,_=void 0,b=s.get("length");o==="left"?(g=(u[3][0]+u[0][0])/2,m=(u[3][1]+u[0][1])/2,x=g-b,d=x-5,f="right"):o==="right"?(g=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,x=g+b,d=x+5,f="left"):o==="top"?(g=(u[3][0]+u[0][0])/2,m=(u[3][1]+u[0][1])/2,_=m-b,h=_-5,f="center"):o==="bottom"?(g=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,_=m+b,h=_+5,f="center"):o==="rightTop"?(g=e==="horizontal"?u[3][0]:u[1][0],m=e==="horizontal"?u[3][1]:u[1][1],e==="horizontal"?(_=m-b,h=_-5,f="center"):(x=g+b,d=x+5,f="top")):o==="rightBottom"?(g=u[2][0],m=u[2][1],e==="horizontal"?(_=m+b,h=_+5,f="center"):(x=g+b,d=x+5,f="bottom")):o==="leftTop"?(g=u[0][0],m=e==="horizontal"?u[0][1]:u[1][1],e==="horizontal"?(_=m-b,h=_-5,f="center"):(x=g-b,d=x-5,f="right")):o==="leftBottom"?(g=e==="horizontal"?u[1][0]:u[3][0],m=e==="horizontal"?u[1][1]:u[2][1],e==="horizontal"?(_=m+b,h=_+5,f="center"):(x=g-b,d=x-5,f="right")):(g=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,e==="horizontal"?(_=m+b,h=_+5,f="center"):(x=g+b,d=x+5,f="left")),e==="horizontal"?(x=g,d=x):(_=m,h=_),v=[[g,m],[x,_]]}l.label={linePoints:v,x:d,y:h,verticalAlign:"middle",textAlign:f,inside:c}})}function PCe(r,t){r.eachSeriesByType("funnel",function(e){var n=e.getData(),i=n.mapDimension("value"),a=e.get("sort"),o=qr(e,t),s=rr(e.getBoxLayoutParams(),o.refContainer),l=e.get("orient"),u=s.width,c=s.height,f=ICe(n,a),d=s.x,h=s.y,v=l==="horizontal"?[_e(e.get("minSize"),c),_e(e.get("maxSize"),c)]:[_e(e.get("minSize"),u),_e(e.get("maxSize"),u)],g=n.getDataExtent(i),m=e.get("min"),x=e.get("max");m==null&&(m=Math.min(g[0],0)),x==null&&(x=g[1]);var _=e.get("funnelAlign"),b=e.get("gap"),w=l==="horizontal"?u:c,T=(w-b*(n.count()-1))/n.count(),A=function(N,L){if(l==="horizontal"){var G=n.get(i,N)||0,W=At(G,[m,x],v,!0),U=void 0;switch(_){case"top":U=h;break;case"center":U=h+(c-W)/2;break;case"bottom":U=h+(c-W);break}return[[L,U],[L,U+W]]}var Z=n.get(i,N)||0,F=At(Z,[m,x],v,!0),q;switch(_){case"left":q=d;break;case"center":q=d+(u-F)/2;break;case"right":q=d+u-F;break}return[[q,L],[q+F,L]]};a==="ascending"&&(T=-T,b=-b,l==="horizontal"?d+=u:h+=c,f=f.reverse());for(var M=0;M<f.length;M++){var D=f[M],P=f[M+1],I=n.getItemModel(D);if(l==="horizontal"){var R=I.get(["itemStyle","width"]);R==null?R=T:(R=_e(R,u),a==="ascending"&&(R=-R));var k=A(D,d),O=A(P,d+R);d+=R+b,n.setItemLayout(D,{points:k.concat(O.slice().reverse())})}else{var V=I.get(["itemStyle","height"]);V==null?V=T:(V=_e(V,c),a==="ascending"&&(V=-V));var k=A(D,h),O=A(P,h+V);h+=V+b,n.setItemLayout(D,{points:k.concat(O.slice().reverse())})}}RCe(n)})}function OCe(r){r.registerChartView(DCe),r.registerSeriesModel(ECe),r.registerLayout(PCe),r.registerProcessor(ev("funnel"))}var BCe=.3,kCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Be,e._initialized=!1,e}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var o=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,c=u.dimensions,f=NW(e);s.diff(l).add(d).update(h).remove(v).execute();function d(m){var x=LW(s,o,m,c,u);HE(x,s,m,f)}function h(m,x){var _=l.getItemGraphicEl(x),b=kte(s,m,c,u);s.setItemGraphicEl(m,_),bt(_,{shape:{points:b}},e,m),Ta(_),HE(_,s,m,f)}function v(m){var x=l.getItemGraphicEl(m);o.remove(x)}if(!this._initialized){this._initialized=!0;var g=LCe(u,e,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(g)}this._data=s},t.prototype.incrementalPrepareRender=function(e,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,i){for(var a=n.getData(),o=n.coordinateSystem,s=o.dimensions,l=NW(n),u=this._progressiveEls=[],c=e.start;c<e.end;c++){var f=LW(a,this._dataGroup,c,s,o);f.incremental=!0,HE(f,a,c,l),u.push(f)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t})(Bt);function LCe(r,t,e){var n=r.model,i=r.getRect(),a=new rt({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=n.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),Kt(a,{shape:{width:i.width,height:i.height}},t,e),a}function kte(r,t,e,n){for(var i=[],a=0;a<e.length;a++){var o=e[a],s=r.get(r.mapDimension(o),t);NCe(s,n.getAxis(o).type)||i.push(n.dataToPoint(s,o))}return i}function LW(r,t,e,n,i){var a=kte(r,e,n,i),o=new pn({shape:{points:a},z2:10});return t.add(o),r.setItemGraphicEl(e,o),o}function NW(r){var t=r.get("smooth",!0);return t===!0&&(t=BCe),t=Ho(t),Dn(t)&&(t=0),{smooth:t}}function HE(r,t,e,n){r.useStyle(t.getItemVisual(e,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var i=t.getItemModel(e),a=i.getModel("emphasis");Wr(r,i,"lineStyle"),or(r,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function NCe(r,t){return t==="category"?r==null:r==null||isNaN(r)}var VCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.getInitialData=function(e,n){return jo(null,this,{useEncodeDefaulter:Se(zCe,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(o,s){e===o&&a.push(i.getRawIndex(s))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t})(Vt);function zCe(r){var t=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(t){var e={};return z(t.dimensions,function(n){var i=FCe(n);e[n]=i}),e}}function FCe(r){return+r.replace("dim","")}var HCe=["lineStyle","opacity"],GCe={seriesType:"parallel",reset:function(r,t){var e=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(i,a){e.eachActiveState(a,function(o,s){var l=n[o];if(o==="normal"&&a.hasItemOption){var u=a.getItemModel(s).get(HCe,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(s,"style");c.opacity=l},i.start,i.end)}}}};function WCe(r){UCe(r),qCe(r)}function UCe(r){if(!r.parallel){var t=!1;z(r.series,function(e){e&&e.type==="parallel"&&(t=!0)}),t&&(r.parallel=[{}])}}function qCe(r){var t=qt(r.parallelAxis);z(t,function(e){if(Le(e)){var n=e.parallelIndex||0,i=qt(r.parallel)[n];i&&i.parallelAxisDefault&&Ke(e,i.parallelAxisDefault,!1)}})}var YCe=5,XCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this._model=e,this._api=i,this._handlers||(this._handlers={},z($Ce,function(a,o){i.getZr().on(o,this._handlers[o]=Se(a,this))},this)),jd(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){lg(this,"_throttledDispatchExpand"),z(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(oe({type:"parallelAxisExpand"},e))},t.type="parallel",t})(Yt),$Ce={mousedown:function(r){GE(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var t=this._mouseDownPoint;if(GE(this,"click")&&t){var e=[r.offsetX,r.offsetY],n=Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2);if(n>YCe)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!GE(this,"mousemove"))){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=e.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:e.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function GE(r,t){var e=r._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var jCe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var n=this.option;e&&Ke(n,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var i=e.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){z(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[],i=Tt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);z(i,function(a){e.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t})(at),ZCe=(function(r){J(t,r);function t(e,n,i,a,o){var s=r.call(this,e,n,i)||this;return s.type=a||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t})(Pa);function bu(r,t,e,n,i,a){r=r||0;var o=e[1]-e[0];if(i!=null&&(i=zh(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var s=Math.abs(t[1]-t[0]);s=zh(s,[0,o]),i=a=zh(s,[i,a]),n=0}t[0]=zh(t[0],e),t[1]=zh(t[1],e);var l=WE(t,n);t[n]+=r;var u=i||0,c=e.slice();l.sign<0?c[0]+=u:c[1]-=u,t[n]=zh(t[n],c);var f;return f=WE(t,n),i!=null&&(f.sign!==l.sign||f.span<i)&&(t[1-n]=t[n]+l.sign*i),f=WE(t,n),a!=null&&f.span>a&&(t[1-n]=t[n]+f.sign*a),t}function WE(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function zh(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var UE=z,Lte=Math.min,Nte=Math.max,VW=Math.floor,KCe=Math.ceil,zW=Ar,QCe=Math.PI,JCe=(function(){function r(t,e,n){this.type="parallel",this._axesMap=Me(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=t.dimensions,a=t.parallelAxisIndex;UE(i,function(o,s){var l=a[s],u=e.getComponent("parallelAxis",l),c=this._axesMap.set(o,new ZCe(o,iy(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},r.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},r.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,a=e.pixelDimIndex,o=t[1-a],s=t[a];return o>=n&&o<=n+e.axisLength&&s>=i&&s<=i+e.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var i=n.getData();UE(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),df(o.scale,o.model)},this)}},this)},r.prototype.resize=function(t,e){var n=qr(t,e).refContainer;this._rect=rr(t.getBoxLayoutParams(),n),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var t=this._model,e=this._rect,n=["x","y"],i=["width","height"],a=t.get("layout"),o=a==="horizontal"?0:1,s=e[i[o]],l=[0,s],u=this.dimensions.length,c=O1(t.get("axisExpandWidth"),l),f=O1(t.get("axisExpandCount")||0,[0,u]),d=t.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,h=t.get("axisExpandWindow"),v;if(h)v=O1(h[1]-h[0],l),h[1]=h[0]+v;else{v=O1(c*(f-1),l);var g=t.get("axisExpandCenter")||VW(u/2);h=[c*g-v/2],h[1]=h[0]+v}var m=(s-v)/(u-f);m<3&&(m=0);var x=[VW(zW(h[0]/c,1))+1,KCe(zW(h[1]/c,1))-1],_=m/c*h[0];return{layout:a,pixelDimIndex:o,layoutBase:e[n[o]],layoutLength:s,axisBase:e[n[1-o]],axisLength:e[i[1-o]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:m,axisExpandWindow:h,axisCount:u,winInnerIndices:x,axisExpandWindow0Pos:_}},r.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;e.each(function(o){var s=[0,i.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),UE(n,function(o,s){var l=(i.axisExpandable?tTe:eTe)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:QCe/2,vertical:0},f=[u[a].x+t.x,u[a].y+t.y],d=c[a],h=Jr();sl(h,h,d),to(h,h,f),this._axesLayout[o]={position:f,rotation:d,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(t){return this._axesMap.get(t)},r.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},r.prototype.eachActiveState=function(t,e,n,i){n==null&&(n=0),i==null&&(i=t.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];z(o,function(m){s.push(t.mapDimension(m)),l.push(a.get(m).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var d=t.getValues(s,c),h=0,v=o.length;h<v;h++){var g=l[h].getActiveState(d[h]);if(g==="inactive"){f="inactive";break}}}e(f,c)}},r.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)e.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return Ja([t,0],n.transform)},r.prototype.getAxisLayout=function(t){return Oe(this._axesLayout[t])},r.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l,u="slide",c=e.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(c)d&&c&&s<a*f[0]?(u="jump",l=s-a*f[2]):d&&c&&s>a*(1-f[0])?(u="jump",l=s-a*(1-f[2])):(l=s-a*f[1])>=0&&(l=s-a*(1-f[1]))<=0&&(l=0),l*=e.axisExpandWidth/c,l?bu(l,i,o,"all"):u="none";else{var h=i[1]-i[0],v=o[1]*s/h;i=[Nte(0,v-h/2)],i[1]=Lte(o[1],i[0]+h),i[0]=i[1]-h}return{axisExpandWindow:i,behavior:u}},r})();function O1(r,t){return Lte(Nte(r,t[0]),t[1])}function eTe(r,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*r,axisNameAvailableWidth:e,axisLabelShow:!0}}function tTe(r,t){var e=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,o=t.winInnerIndices,s,l=a,u=!1,c;return r<o[0]?(s=r*a,c=a):r<=o[1]?(s=t.axisExpandWindow0Pos+r*n-t.axisExpandWindow[0],l=n,u=!0):(s=e-(i-1-r)*a,c=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function rTe(r,t){var e=[];return r.eachComponent("parallel",function(n,i){var a=new JCe(n,r,t);a.name="parallel_"+i,a.resize(n,t),n.coordinateSystem=a,a.model=n,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",vr).models[0];n.coordinateSystem=i.coordinateSystem}}),e}var nTe={create:rTe},LP=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return t.prototype.getAreaSelectStyle=function(){return lf([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=Oe(e);if(n)for(var i=n.length-1;i>=0;i--)zi(n[i])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(e==null||isNaN(+e))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=e&&e<=n[a][1])return"active";return"inactive"},t})(at);mr(LP,Jd);var vf=!0,Sg=Math.min,Id=Math.max,iTe=Math.pow,aTe=1e4,oTe=6,sTe=6,FW="globalPan",lTe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},uTe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},HW={brushStyle:{lineWidth:2,stroke:te.color.backgroundTint,fill:te.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},cTe=0,a3=(function(r){J(t,r);function t(e){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new Be,n._uid="brushController_"+cTe++,z(yTe,function(i,a){this._handlers[a]=Se(i,this)},n),n}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||XSe(n,FW,this._uid),z(this._handlers,function(i,a){n.on(a,i)}),this._brushType=e.brushType,this._brushOption=Ke(Oe(HW),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;$Se(e,FW,this._uid),z(this._handlers,function(n,i){e.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};z(e,function(i){n[i.panelId]=Oe(i)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=he(e,function(d){return Ke(Oe(HW),d,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new rl(i,e,u,l).add(c).update(c).remove(f).execute(),this;function l(d,h){return(d.id!=null?d.id:n+h)+"-"+d.brushType}function u(d,h){return l(d.__brushOption,h)}function c(d,h){var v=e[d];if(h!=null&&i[h]===s)a[d]=i[h];else{var g=a[d]=h!=null?(i[h].__brushOption=v,i[h]):zte(o,Vte(o,v));o3(o,g)}}function f(d){i[d]!==s&&o.group.remove(i[d])}},t.prototype.unmount=function(){return this.enableBrush(!1),NP(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t})(Ia);function Vte(r,t){var e=zS[t.brushType].createCover(r,t);return e.__brushOption=t,Hte(e,t),r.group.add(e),e}function zte(r,t){var e=s3(t);return e.endCreating&&(e.endCreating(r,t),Hte(t,t.__brushOption)),t}function Fte(r,t){var e=t.__brushOption;s3(t).updateCoverShape(r,t,e.range,e)}function Hte(r,t){var e=t.z;e==null&&(e=aTe),r.traverse(function(n){n.z=e,n.z2=e})}function o3(r,t){s3(t).updateCommon(r,t),Fte(r,t)}function s3(r){return zS[r.__brushOption.brushType]}function l3(r,t,e){var n=r._panels;if(!n)return vf;var i,a=r._transform;return z(n,function(o){o.isTargetByCursor(t,e,a)&&(i=o)}),i}function Gte(r,t){var e=r._panels;if(!e)return vf;var n=t.__brushOption.panelId;return n!=null?e[n]:vf}function NP(r){var t=r._covers,e=t.length;return z(t,function(n){r.group.remove(n)},r),t.length=0,!!e}function pf(r,t){var e=he(r._covers,function(n){var i=n.__brushOption,a=Oe(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function fTe(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],n=t[0],i=e[0]-n[0],a=e[1]-n[1],o=iTe(i*i+a*a,.5);return o>oTe}function Wte(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function Ute(r,t,e,n){var i=new Be;return i.add(new rt({name:"main",style:u3(e),silent:!0,draggable:!0,cursor:"move",drift:je(GW,r,t,i,["n","s","w","e"]),ondragend:je(pf,t,{isEnd:!0})})),z(n,function(a){i.add(new rt({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:je(GW,r,t,i,a),ondragend:je(pf,t,{isEnd:!0})}))}),i}function qte(r,t,e,n){var i=n.brushStyle.lineWidth||0,a=Id(i,sTe),o=e[0][0],s=e[1][0],l=o-i/2,u=s-i/2,c=e[0][1],f=e[1][1],d=c-a+i/2,h=f-a+i/2,v=c-o,g=f-s,m=v+i,x=g+i;Ds(r,t,"main",o,s,v,g),n.transformable&&(Ds(r,t,"w",l,u,a,x),Ds(r,t,"e",d,u,a,x),Ds(r,t,"n",l,u,m,a),Ds(r,t,"s",l,h,m,a),Ds(r,t,"nw",l,u,a,a),Ds(r,t,"ne",d,u,a,a),Ds(r,t,"sw",l,h,a,a),Ds(r,t,"se",d,h,a,a))}function VP(r,t){var e=t.__brushOption,n=e.transformable,i=t.childAt(0);i.useStyle(u3(e)),i.attr({silent:!n,cursor:n?"move":"default"}),z([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),s=a.length===1?zP(r,a[0]):dTe(r,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?uTe[s]+"-resize":null})})}function Ds(r,t,e,n,i,a,o){var s=t.childOfName(e);s&&s.setShape(pTe(c3(r,t,[[n,i],[n+a,i+o]])))}function u3(r){return ke({strokeNoScale:!0},r.brushStyle)}function Yte(r,t,e,n){var i=[Sg(r,e),Sg(t,n)],a=[Id(r,e),Id(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function hTe(r){return uu(r.group)}function zP(r,t){var e={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=bS(e[t],hTe(r));return n[i]}function dTe(r,t){var e=[zP(r,t[0]),zP(r,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function GW(r,t,e,n,i,a){var o=e.__brushOption,s=r.toRectRange(o.range),l=Xte(t,i,a);z(n,function(u){var c=lTe[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=r.fromRectRange(Yte(s[0][0],s[1][0],s[0][1],s[1][1])),o3(t,e),pf(t,{isEnd:!1})}function vTe(r,t,e,n){var i=t.__brushOption.range,a=Xte(r,e,n);z(i,function(o){o[0]+=a[0],o[1]+=a[1]}),o3(r,t),pf(r,{isEnd:!1})}function Xte(r,t,e){var n=r.group,i=n.transformCoordToLocal(t,e),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function c3(r,t,e){var n=Gte(r,t);return n&&n!==vf?n.clipPath(e,r._transform):Oe(e)}function pTe(r){var t=Sg(r[0][0],r[1][0]),e=Sg(r[0][1],r[1][1]),n=Id(r[0][0],r[1][0]),i=Id(r[0][1],r[1][1]);return{x:t,y:e,width:n-t,height:i-e}}function gTe(r,t,e){if(!(!r._brushType||mTe(r,t.offsetX,t.offsetY))){var n=r._zr,i=r._covers,a=l3(r,t,e);if(!r._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===vf||s.panelId===a.panelId)&&zS[s.brushType].contain(i[o],e[0],e[1]))return}a&&n.setCursorStyle("crosshair")}}function FP(r){var t=r.event;t.preventDefault&&t.preventDefault()}function HP(r,t,e){return r.childOfName("main").contain(t,e)}function $te(r,t,e,n){var i=r._creatingCover,a=r._creatingPanel,o=r._brushOption,s;if(r._track.push(e.slice()),fTe(r)||i){if(a&&!i){o.brushMode==="single"&&NP(r);var l=Oe(o);l.brushType=WW(l.brushType,a),l.panelId=a===vf?null:a.panelId,i=r._creatingCover=Vte(r,l),r._covers.push(i)}if(i){var u=zS[WW(r._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(c3(r,i,r._track)),n&&(zte(r,i),u.updateCommon(r,i)),Fte(r,i),s={isEnd:n}}}else n&&o.brushMode==="single"&&o.removeOnClick&&l3(r,t,e)&&NP(r)&&(s={isEnd:n,removeOnClick:!0});return s}function WW(r,t){return r==="auto"?t.defaultBrushType:r}var yTe={mousedown:function(r){if(this._dragging)UW(this,r);else if(!r.target||!r.target.draggable){FP(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var e=this._creatingPanel=l3(this,r,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,e=r.offsetY,n=this.group.transformCoordToLocal(t,e);if(gTe(this,r,n),this._dragging){FP(r);var i=$te(this,r,n,!1);i&&pf(this,i)}},mouseup:function(r){UW(this,r)}};function UW(r,t){if(r._dragging){FP(t);var e=t.offsetX,n=t.offsetY,i=r.group.transformCoordToLocal(e,n),a=$te(r,t,i,!0);r._dragging=!1,r._track=[],r._creatingCover=null,a&&pf(r,a)}}function mTe(r,t,e){var n=r._zr;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var zS={lineX:qW(0),lineY:qW(1),rect:{createCover:function(r,t){function e(n){return n}return Ute({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=Wte(r);return Yte(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,n){qte(r,t,e,n)},updateCommon:VP,contain:HP},polygon:{createCover:function(r,t){var e=new Be;return e.add(new pn({name:"main",style:u3(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new Pn({name:"main",draggable:!0,drift:je(vTe,r,t),ondragend:je(pf,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,n){t.childAt(0).setShape({points:c3(r,t,e)})},updateCommon:VP,contain:HP}};function qW(r){return{createCover:function(t,e){return Ute({toRectRange:function(n){var i=[n,[0,100]];return r&&i.reverse(),i},fromRectRange:function(n){return n[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=Wte(t),n=Sg(e[0][r],e[1][r]),i=Id(e[0][r],e[1][r]);return[n,i]},updateCoverShape:function(t,e,n,i){var a,o=Gte(t,e);if(o!==vf&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(r);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-r]]}var l=[n,a];r&&l.reverse(),qte(t,e,l,i)},updateCommon:VP,contain:HP}}function jte(r){return r=f3(r),function(t){return FB(t,r)}}function Zte(r,t){return r=f3(r),function(e){var n=t??e,i=n?r.width:r.height,a=n?r.x:r.y;return[a,a+(i||0)]}}function Kte(r,t,e){var n=f3(r);return function(i,a){return n.contain(a[0],a[1])&&!rte(i,t,e)}}function f3(r){return Fe.create(r)}var xTe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){r.prototype.init.apply(this,arguments),(this._brushController=new a3(n.getZr())).on("brush",Se(this._onBrush,this))},t.prototype.render=function(e,n,i,a){if(!_Te(e,n,a)){this.axisModel=e,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Be,this.group.add(this._axisGroup),!!e.get("show")){var s=STe(e,n),l=s.coordinateSystem,u=e.getAreaSelectStyle(),c=u.width,f=e.axis.dim,d=l.getAxisLayout(f),h=oe({strokeContainThreshold:c},d),v=new Zn(e,i,h);v.build(),this._axisGroup.add(v.group),this._refreshBrushController(h,u,e,s,c,i),ey(o,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,n,i,a,o,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=Fe.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:jte(f),isTargetByCursor:Kte(f,s,a),getLinearBrushOtherExtent:Zte(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(bTe(i))},t.prototype._onBrush=function(e){var n=e.areas,i=this.axisModel,a=i.axis,o=he(n,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t})(Yt);function _Te(r,t,e){return e&&e.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:e})[0]===r}function bTe(r){var t=r.axis;return he(r.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}function STe(r,t){return t.getComponent("parallel",r.get("parallelIndex"))}var wTe={type:"axisAreaSelect",event:"axisAreaSelected"};function CTe(r){r.registerAction(wTe,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),r.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var TTe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Qte(r){r.registerComponentView(XCe),r.registerComponentModel(jCe),r.registerCoordinateSystem("parallel",nTe),r.registerPreprocessor(WCe),r.registerComponentModel(LP),r.registerComponentView(xTe),Dd(r,"parallel",LP,TTe),CTe(r)}function ATe(r){Je(Qte),r.registerChartView(kCe),r.registerSeriesModel(VCe),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,GCe)}var MTe=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r})(),DTe=(function(r){J(t,r);function t(e){return r.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new MTe},t.prototype.buildPath=function(e,n){var i=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(e.lineTo(n.x2+i,n.y2),e.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(e.lineTo(n.x2,n.y2+i),e.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),e.closePath()},t.prototype.highlight=function(){el(this)},t.prototype.downplay=function(){tl(this)},t})(lt),ETe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Be,e._focusAdjacencyDisabled=!1,e}return t.prototype.init=function(e,n){this._controller=new If(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,i){var a=this,o=e.getGraph(),s=this._mainGroup,l=e.layoutInfo,u=l.width,c=l.height,f=e.getData(),d=e.getData("edge"),h=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,this._updateViewCoordSys(e,i),nte(e,i,s,this._controller,this._controllerHost,null),o.eachEdge(function(v){var g=new DTe,m=He(g);m.dataIndex=v.dataIndex,m.seriesIndex=e.seriesIndex,m.dataType="edge";var x=v.getModel(),_=x.getModel("lineStyle"),b=_.get("curveness"),w=v.node1.getLayout(),T=v.node1.getModel(),A=T.get("localX"),M=T.get("localY"),D=v.node2.getLayout(),P=v.node2.getModel(),I=P.get("localX"),R=P.get("localY"),k=v.getLayout(),O,V,N,L,G,W,U,Z;g.shape.extent=Math.max(1,k.dy),g.shape.orient=h,h==="vertical"?(O=(A!=null?A*u:w.x)+k.sy,V=(M!=null?M*c:w.y)+w.dy,N=(I!=null?I*u:D.x)+k.ty,L=R!=null?R*c:D.y,G=O,W=V*(1-b)+L*b,U=N,Z=V*b+L*(1-b)):(O=(A!=null?A*u:w.x)+w.dx,V=(M!=null?M*c:w.y)+k.sy,N=I!=null?I*u:D.x,L=(R!=null?R*c:D.y)+k.ty,G=O*(1-b)+N*b,W=V,U=O*b+N*(1-b),Z=L),g.setShape({x1:O,y1:V,x2:N,y2:L,cpx1:G,cpy1:W,cpx2:U,cpy2:Z}),g.useStyle(_.getItemStyle()),YW(g.style,h,v);var F=""+x.get("value"),q=Ur(x,"edgeLabel");tn(g,q,{labelFetcher:{getFormattedLabel:function(re,ce,pe,de,ge,Ce){return e.getFormattedLabel(re,ce,"edge",de,gi(ge,q.normal&&q.normal.get("formatter"),F),Ce)}},labelDataIndex:v.dataIndex,defaultText:F}),g.setTextConfig({position:"inside"});var $=x.getModel("emphasis");Wr(g,x,"lineStyle",function(re){var ce=re.getItemStyle();return YW(ce,h,v),ce}),s.add(g),d.setItemGraphicEl(v.dataIndex,g);var K=$.get("focus");or(g,K==="adjacency"?v.getAdjacentDataIndices():K==="trajectory"?v.getTrajectoryDataIndices():K,$.get("blurScope"),$.get("disabled"))}),o.eachNode(function(v){var g=v.getLayout(),m=v.getModel(),x=m.get("localX"),_=m.get("localY"),b=m.getModel("emphasis"),w=m.get(["itemStyle","borderRadius"])||0,T=new rt({shape:{x:x!=null?x*u:g.x,y:_!=null?_*c:g.y,width:g.dx,height:g.dy,r:w},style:m.getModel("itemStyle").getItemStyle(),z2:10});tn(T,Ur(m),{labelFetcher:{getFormattedLabel:function(M,D){return e.getFormattedLabel(M,D,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),T.disableLabelAnimation=!0,T.setStyle("fill",v.getVisual("color")),T.setStyle("decal",v.getVisual("style").decal),Wr(T,m),s.add(T),f.setItemGraphicEl(v.dataIndex,T),He(T).dataType="node";var A=b.get("focus");or(T,A==="adjacency"?v.getAdjacentDataIndices():A==="trajectory"?v.getTrajectoryDataIndices():A,b.get("blurScope"),b.get("disabled"))}),f.eachItemGraphicEl(function(v,g){var m=f.getItemModel(g);m.get("draggable")&&(v.drift=function(x,_){a._focusAdjacencyDisabled=!0,this.shape.x+=x,this.shape.y+=_,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:f.getRawIndex(g),localX:this.shape.x/u,localY:this.shape.y/c})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath(ITe(s.getBoundingRect(),e,function(){s.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._updateViewCoordSys=function(e,n){var i=e.layoutInfo,a=i.width,o=i.height,s=e.coordinateSystem=new Rf(null,{api:n,ecModel:e.ecModel});s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(0,0,a,o),s.setCenter(e.get("center")),s.setZoom(e.get("zoom")),this._controllerHost.target.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY})},t.type="sankey",t})(Bt);function YW(r,t,e){switch(r.fill){case"source":r.fill=e.node1.getVisual("color"),r.decal=e.node1.getVisual("style").decal;break;case"target":r.fill=e.node2.getVisual("color"),r.decal=e.node2.getVisual("style").decal;break;case"gradient":var n=e.node1.getVisual("color"),i=e.node2.getVisual("color");be(n)&&be(i)&&(r.fill=new Cf(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function ITe(r,t,e){var n=new rt({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return Kt(n,{shape:{width:r.width+20}},t,e),n}var RTe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){var i=e.edges||e.links||[],a=e.data||e.nodes||[],o=e.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new st(o[l],this,n));var u=i3(a,i,this,!0,c);return u.data;function c(f,d){f.wrapMethod("getItemModel",function(h,v){var g=h.parentModel,m=g.getData().getItemLayout(v);if(m){var x=m.depth,_=g.levelModels[x];_&&(h.parentModel=_)}return h}),d.wrapMethod("getItemModel",function(h,v){var g=h.parentModel,m=g.getGraph().getEdgeByIndex(v),x=m.node1.getLayout();if(x){var _=x.depth,b=g.levelModels[_];b&&(h.parentModel=b)}return h})}},t.prototype.setNodePosition=function(e,n){var i=this.option.data||this.option.nodes,a=i[e];a.localX=n[0],a.localY=n[1]},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,i){function a(h){return isNaN(h)||h==null}if(i==="edge"){var o=this.getDataParams(e,i),s=o.data,l=o.value,u=s.source+" -- "+s.target;return Br("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(e),f=c.getLayout().value,d=this.getDataParams(e,i).data.name;return Br("nameValue",{name:d!=null?d+"":null,value:f,noValue:a(f)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var i=r.prototype.getDataParams.call(this,e,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(e),o=a.getLayout().value;i.value=o}return i},t.type="series.sankey",t.layoutMode="box",t.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:te.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:te.color.primary}},animationEasing:"linear",animationDuration:1e3},t})(Vt);function PTe(r,t){r.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),i=e.get("nodeGap"),a=qr(e,t).refContainer,o=rr(e.getBoxLayoutParams(),a);e.layoutInfo=o;var s=o.width,l=o.height,u=e.getGraph(),c=u.nodes,f=u.edges;BTe(c);var d=Tt(c,function(m){return m.getLayout().value===0}),h=d.length!==0?0:e.get("layoutIterations"),v=e.get("orient"),g=e.get("nodeAlign");OTe(c,f,n,i,s,l,h,v,g)})}function OTe(r,t,e,n,i,a,o,s,l){kTe(r,t,e,i,a,s,l),zTe(r,t,a,i,n,o,s),$Te(r,s)}function BTe(r){z(r,function(t){var e=hu(t.outEdges,ub),n=hu(t.inEdges,ub),i=t.getValue()||0,a=Math.max(e,n,i);t.setLayout({value:a},!0)})}function kTe(r,t,e,n,i,a,o){for(var s=[],l=[],u=[],c=[],f=0,d=0;d<t.length;d++)s[d]=1;for(var d=0;d<r.length;d++)l[d]=r[d].inEdges.length,l[d]===0&&u.push(r[d]);for(var h=-1;u.length;){for(var v=0;v<u.length;v++){var g=u[v],m=g.hostGraph.data.getRawDataItem(g.dataIndex),x=m.depth!=null&&m.depth>=0;x&&m.depth>h&&(h=m.depth),g.setLayout({depth:x?m.depth:f},!0),a==="vertical"?g.setLayout({dy:e},!0):g.setLayout({dx:e},!0);for(var _=0;_<g.outEdges.length;_++){var b=g.outEdges[_],w=t.indexOf(b);s[w]=0;var T=b.node2,A=r.indexOf(T);--l[A]===0&&c.indexOf(T)<0&&c.push(T)}}++f,u=c,c=[]}for(var d=0;d<s.length;d++)if(s[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var M=h>f-1?h:f-1;o&&o!=="left"&&LTe(r,o,a,M);var D=a==="vertical"?(i-e)/M:(n-e)/M;VTe(r,D,a)}function Jte(r){var t=r.hostGraph.data.getRawDataItem(r.dataIndex);return t.depth!=null&&t.depth>=0}function LTe(r,t,e,n){if(t==="right"){for(var i=[],a=r,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++o}z(r,function(f){Jte(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else t==="justify"&&NTe(r,n)}function NTe(r,t){z(r,function(e){!Jte(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}function VTe(r,t,e){z(r,function(n){var i=n.getLayout().depth*t;e==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function zTe(r,t,e,n,i,a,o){var s=FTe(r,o);HTe(s,t,e,n,i,o),qE(s,i,e,n,o);for(var l=1;a>0;a--)l*=.99,GTe(s,l,o),qE(s,i,e,n,o),XTe(s,l,o),qE(s,i,e,n,o)}function FTe(r,t){var e=[],n=t==="vertical"?"y":"x",i=AR(r,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,o){return a-o}),z(i.keys,function(a){e.push(i.buckets.get(a))}),e}function HTe(r,t,e,n,i,a){var o=1/0;z(r,function(s){var l=s.length,u=0;z(s,function(f){u+=f.getLayout().value});var c=a==="vertical"?(n-(l-1)*i)/u:(e-(l-1)*i)/u;c<o&&(o=c)}),z(r,function(s){z(s,function(l,u){var c=l.getLayout().value*o;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),z(t,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function qE(r,t,e,n,i){var a=i==="vertical"?"x":"y";z(r,function(o){o.sort(function(g,m){return g.getLayout()[a]-m.getLayout()[a]});for(var s,l,u,c=0,f=o.length,d=i==="vertical"?"dx":"dy",h=0;h<f;h++)l=o[h],u=c-l.getLayout()[a],u>0&&(s=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]+l.getLayout()[d]+t;var v=i==="vertical"?n:e;if(u=c-t-v,u>0){s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var h=f-2;h>=0;--h)l=o[h],u=l.getLayout()[a]+l.getLayout()[d]+t-c,u>0&&(s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]}})}function GTe(r,t,e){z(r.slice().reverse(),function(n){z(n,function(i){if(i.outEdges.length){var a=hu(i.outEdges,WTe,e)/hu(i.outEdges,ub);if(isNaN(a)){var o=i.outEdges.length;a=o?hu(i.outEdges,UTe,e)/o:0}if(e==="vertical"){var s=i.getLayout().x+(a-Su(i,e))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-Su(i,e))*t;i.setLayout({y:l},!0)}}})})}function WTe(r,t){return Su(r.node2,t)*r.getValue()}function UTe(r,t){return Su(r.node2,t)}function qTe(r,t){return Su(r.node1,t)*r.getValue()}function YTe(r,t){return Su(r.node1,t)}function Su(r,t){return t==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function ub(r){return r.getValue()}function hu(r,t,e){for(var n=0,i=r.length,a=-1;++a<i;){var o=+t(r[a],e);isNaN(o)||(n+=o)}return n}function XTe(r,t,e){z(r,function(n){z(n,function(i){if(i.inEdges.length){var a=hu(i.inEdges,qTe,e)/hu(i.inEdges,ub);if(isNaN(a)){var o=i.inEdges.length;a=o?hu(i.inEdges,YTe,e)/o:0}if(e==="vertical"){var s=i.getLayout().x+(a-Su(i,e))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-Su(i,e))*t;i.setLayout({y:l},!0)}}})})}function $Te(r,t){var e=t==="vertical"?"x":"y";z(r,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[e]-a.node2.getLayout()[e]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[e]-a.node1.getLayout()[e]})}),z(r,function(n){var i=0,a=0;z(n.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),z(n.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function jTe(r){r.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,i=e.edges;if(n.length){var a=1/0,o=-1/0;z(n,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),z(n,function(s){var l=new en({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}i.length&&z(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function ZTe(r){r.registerChartView(ETe),r.registerSeriesModel(RTe),r.registerLayout(PTe),r.registerVisual(jTe),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),r.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){var a=i.coordinateSystem,o=kS(a,t,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}var ere=(function(){function r(){}return r.prototype._hasEncodeRule=function(t){var e=this.getEncode();return e&&e.get(t)!=null},r.prototype.getInitialData=function(t,e){var n,i=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type"),l;o==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],d=u[1-c],h=[i,a],v=h[c].get("type"),g=h[1-c].get("type"),m=t.data;if(m&&l){var x=[];z(m,function(w,T){var A;ue(w)?(A=w.slice(),w.unshift(T)):ue(w.value)?(A=oe({},w),A.value=A.value.slice(),w.value.unshift(T)):A=w,x.push(A)}),t.data=x}var _=this.defaultValueDimensions,b=[{name:f,type:Y_(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:Y_(g),dimsDef:_.slice()}];return tv(this,{coordDimensions:b,dimensionsCount:_.length+1,encodeDefaulter:je(cQ,b,this)})},r.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},r})(),tre=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:te.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:te.color.shadow}},animationDuration:800},t})(Vt);mr(tre,ere,!0);var KTe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=e.get("layout")==="horizontal"?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=XW(c,a,u,l,!0);a.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!a.hasValue(u)){o.remove(f);return}var d=a.getItemLayout(u);f?(Ta(f),rre(d,f,a,u)):f=XW(d,a,u,l),o.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=a},t.prototype.remove=function(e){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t})(Bt),QTe=(function(){function r(){}return r})(),JTe=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new QTe},t.prototype.buildPath=function(e,n){var i=n.points,a=0;for(e.moveTo(i[a][0],i[a][1]),a++;a<4;a++)e.lineTo(i[a][0],i[a][1]);for(e.closePath();a<i.length;a++)e.moveTo(i[a][0],i[a][1]),a++,e.lineTo(i[a][0],i[a][1])},t})(lt);function XW(r,t,e,n,i){var a=r.ends,o=new JTe({shape:{points:i?eAe(a,n,r):a}});return rre(r,o,t,e,i),o}function rre(r,t,e,n,i){var a=e.hostModel,o=Tf[i?"initProps":"updateProps"];o(t,{shape:{points:r.ends}},a,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=e.getItemModel(n),l=s.getModel("emphasis");Wr(t,s),or(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function eAe(r,t,e){return he(r,function(n){return n=n.slice(),n[t]=e.initBaseline,n})}var H0=z;function tAe(r){var t=rAe(r);H0(t,function(e){var n=e.seriesModels;n.length&&(nAe(e),H0(n,function(i,a){iAe(i,e.boxOffsetList[a],e.boxWidthList[a])}))})}function rAe(r){var t=[],e=[];return r.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=Ze(e,i);a<0&&(a=e.length,e[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function nAe(r){var t=r.axis,e=r.seriesModels,n=e.length,i=r.boxWidthList=[],a=r.boxOffsetList=[],o=[],s;if(t.type==="category")s=t.getBandWidth();else{var l=0;H0(e,function(v){l=Math.max(l,v.getData().count())});var u=t.getExtent();s=Math.abs(u[1]-u[0])/l}H0(e,function(v){var g=v.get("boxWidth");ue(g)||(g=[g,g]),o.push([_e(g[0],s)||0,_e(g[1],s)||0])});var c=s*.8-2,f=c/n*.3,d=(c-f*(n-1))/n,h=d/2-c/2;H0(e,function(v,g){a.push(h),h+=f+d,i.push(Math.min(Math.max(d,o[g][0]),o[g][1]))})}function iAe(r,t,e){var n=r.coordinateSystem,i=r.getData(),a=e/2,o=r.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=i.mapDimension(l[o]),c=i.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var d=i.get(u,f),h=b(d,c[2],f),v=b(d,c[0],f),g=b(d,c[1],f),m=b(d,c[3],f),x=b(d,c[4],f),_=[];w(_,g,!1),w(_,m,!0),_.push(v,g,x,m),T(_,v),T(_,x),T(_,h),i.setItemLayout(f,{initBaseline:h[s],ends:_})}function b(A,M,D){var P=i.get(M,D),I=[];I[o]=A,I[s]=P;var R;return isNaN(A)||isNaN(P)?R=[NaN,NaN]:(R=n.dataToPoint(I),R[o]+=t),R}function w(A,M,D){var P=M.slice(),I=M.slice();P[o]+=a,I[o]-=a,D?A.push(P,I):A.push(I,P)}function T(A,M){var D=M.slice(),P=M.slice();D[o]-=a,P[o]+=a,A.push(D,P)}}function aAe(r,t){t=t||{};for(var e=[],n=[],i=t.boundIQR,a=i==="none"||i===0,o=0;o<r.length;o++){var s=zi(r[o].slice()),l=vx(s,.25),u=vx(s,.5),c=vx(s,.75),f=s[0],d=s[s.length-1],h=(i??1.5)*(c-l),v=a?f:Math.max(f,l-h),g=a?d:Math.min(d,c+h),m=t.itemNameFormatter,x=Re(m)?m({value:o}):be(m)?m.replace("{value}",o+""):o+"";e.push([x,v,l,u,c,g]);for(var _=0;_<s.length;_++){var b=s[_];if(b<v||b>g){var w=[x,b];n.push(w)}}}return{boxData:e,outliers:n}}var oAe={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==gn){var n="";Mt(n)}var i=aAe(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function sAe(r){r.registerSeriesModel(tre),r.registerChartView(KTe),r.registerLayout(tAe),r.registerTransform(oAe)}var lAe=["itemStyle","borderColor"],uAe=["itemStyle","borderColor0"],cAe=["itemStyle","borderColorDoji"],fAe=["itemStyle","color"],hAe=["itemStyle","color0"];function h3(r,t){return t.get(r>0?fAe:hAe)}function d3(r,t){return t.get(r===0?cAe:r>0?lAe:uAe)}var dAe={seriesType:"candlestick",plan:$d(),performRawSeries:!0,reset:function(r,t){if(!t.isSeriesFiltered(r)){var e=r.pipelineContext.large;return!e&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var o=i.getItemModel(a),s=i.getItemLayout(a).sign,l=o.getItemStyle();l.fill=h3(s,o),l.stroke=d3(s,o)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");oe(u,l)}}}}}},vAe=["color","borderColor"],pAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){Mu(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),i=this._data,a=this.group,o=n.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(c){if(n.hasValue(c)){var f=n.getItemLayout(c);if(s&&$W(u,f))return;var d=YE(f,c,!0);Kt(d,{shape:{points:f.ends}},e,c),XE(d,n,c,o),a.add(d),n.setItemGraphicEl(c,d)}}).update(function(c,f){var d=i.getItemGraphicEl(f);if(!n.hasValue(c)){a.remove(d);return}var h=n.getItemLayout(c);if(s&&$W(u,h)){a.remove(d);return}d?(bt(d,{shape:{points:h.ends}},e,c),Ta(d)):d=YE(h),XE(d,n,c,o),a.add(d),n.setItemGraphicEl(c,d)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),jW(e,this.group);var n=e.get("clip",!0)?sy(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),o;(o=e.next())!=null;){var s=i.getItemLayout(o),l=YE(s);XE(l,i,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(e,n){jW(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t})(Bt),gAe=(function(){function r(){}return r})(),yAe=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new gAe},t.prototype.buildPath=function(e,n){var i=n.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t})(lt);function YE(r,t,e){var n=r.ends;return new yAe({shape:{points:e?mAe(n,r):n},z2:100})}function $W(r,t){for(var e=!0,n=0;n<t.ends.length;n++)if(r.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function XE(r,t,e,n){var i=t.getItemModel(e);r.useStyle(t.getItemVisual(e,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,Wr(r,i);var a=t.getItemLayout(e).sign;z(r.states,function(s,l){var u=i.getModel(l),c=h3(a,u),f=d3(a,u)||c,d=s.style||(s.style={});c&&(d.fill=c),f&&(d.stroke=f)});var o=i.getModel("emphasis");or(r,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function mAe(r,t){return he(r,function(e){return e=e.slice(),e[1]=t.initBaseline,e})}var xAe=(function(){function r(){}return r})(),$E=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new xAe},t.prototype.buildPath=function(e,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];e.moveTo(o,i[a++]),e.lineTo(o,i[a++])}else a+=3},t})(lt);function jW(r,t,e,n){var i=r.getData(),a=i.getLayout("largePoints"),o=new $E({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new $E({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new $E({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),jE(1,o,r),jE(-1,s,r),jE(0,l,r),n&&(o.incremental=!0,s.incremental=!0),e&&e.push(o,s)}function jE(r,t,e,n){var i=d3(r,e)||h3(r,e),a=e.getModel("itemStyle").getItemStyle(vAe);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var nre=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,i){var a=n.getItemLayout(e);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t})(Vt);mr(nre,ere,!0);function _Ae(r){!r||!ue(r.series)||z(r.series,function(t){Le(t)&&t.type==="k"&&(t.type="candlestick")})}var bAe={seriesType:"candlestick",plan:$d(),reset:function(r){var t=r.coordinateSystem,e=r.getData(),n=SAe(r,e),i=0,a=1,o=["x","y"],s=e.getDimensionIndex(e.mapDimension(o[i])),l=he(e.mapDimensionsAll(o[a]),e.getDimensionIndex,e),u=l[0],c=l[1],f=l[2],d=l[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),s<0||l.length<4)return;return{progress:r.pipelineContext.large?v:h};function h(g,m){for(var x,_=m.getStore();(x=g.next())!=null;){var b=_.get(s,x),w=_.get(u,x),T=_.get(c,x),A=_.get(f,x),M=_.get(d,x),D=Math.min(w,T),P=Math.max(w,T),I=G(D,b),R=G(P,b),k=G(A,b),O=G(M,b),V=[];W(V,R,0),W(V,I,1),V.push(Z(O),Z(R),Z(k),Z(I));var N=m.getItemModel(x),L=!!N.get(["itemStyle","borderColorDoji"]);m.setItemLayout(x,{sign:ZW(_,x,w,T,c,L),initBaseline:w>T?R[a]:I[a],ends:V,brushRect:U(A,M,b)})}function G(F,q){var $=[];return $[i]=q,$[a]=F,isNaN(q)||isNaN(F)?[NaN,NaN]:t.dataToPoint($)}function W(F,q,$){var K=q.slice(),re=q.slice();K[i]=gx(K[i]+n/2,1,!1),re[i]=gx(re[i]-n/2,1,!0),$?F.push(K,re):F.push(re,K)}function U(F,q,$){var K=G(F,$),re=G(q,$);return K[i]-=n/2,re[i]-=n/2,{x:K[0],y:K[1],width:n,height:re[1]-K[1]}}function Z(F){return F[i]=gx(F[i],1),F}}function v(g,m){for(var x=Po(g.count*4),_=0,b,w=[],T=[],A,M=m.getStore(),D=!!r.get(["itemStyle","borderColorDoji"]);(A=g.next())!=null;){var P=M.get(s,A),I=M.get(u,A),R=M.get(c,A),k=M.get(f,A),O=M.get(d,A);if(isNaN(P)||isNaN(k)||isNaN(O)){x[_++]=NaN,_+=3;continue}x[_++]=ZW(M,A,I,R,c,D),w[i]=P,w[a]=k,b=t.dataToPoint(w,null,T),x[_++]=b?b[0]:NaN,x[_++]=b?b[1]:NaN,w[a]=O,b=t.dataToPoint(w,null,T),x[_++]=b?b[1]:NaN}m.setLayout("largePoints",x)}}};function ZW(r,t,e,n,i,a){var o;return e>n?o=-1:e<n?o=1:o=a?0:t>0?r.get(i,t-1)<=n?1:-1:1,o}function SAe(r,t){var e=r.getBaseAxis(),n,i=e.type==="category"?e.getBandWidth():(n=e.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=_e(Ie(r.get("barMaxWidth"),i),i),o=_e(Ie(r.get("barMinWidth"),1),i),s=r.get("barWidth");return s!=null?_e(s,i):Math.max(Math.min(i/2,a),o)}function wAe(r){r.registerChartView(pAe),r.registerSeriesModel(nre),r.registerPreprocessor(_Ae),r.registerVisual(dAe),r.registerLayout(bAe)}function KW(r,t){var e=t.rippleEffectColor||t.color;r.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?e:null,fill:t.brushType==="fill"?e:null}})})}var CAe=(function(r){J(t,r);function t(e,n){var i=r.call(this)||this,a=new ay(e,n),o=new Be;return i.add(a),i.add(o),i.updateData(e,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,i=e.color,a=e.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=Dr(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),o.add(l)}KW(o,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(n[s]!==e[s]){this.stopEffectAnimation(),this.startEffectAnimation(e);return}}KW(i,e)},t.prototype.highlight=function(){el(this)},t.prototype.downplay=function(){tl(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var i=this,a=e.hostModel;this.childAt(0).updateData(e,n);var o=this.childAt(1),s=e.getItemModel(n),l=e.getItemVisual(n,"symbol"),u=Zd(e.getItemVisual(n,"symbolSize")),c=e.getItemVisual(n,"style"),f=c&&c.fill,d=s.getModel("emphasis");o.setScale(u),o.traverse(function(m){m.setStyle("fill",f)});var h=Df(e.getItemVisual(n,"symbolOffset"),u);h&&(o.x=h[0],o.y=h[1]);var v=e.getItemVisual(n,"symbolRotate");o.rotation=(v||0)*Math.PI/180||0;var g={};g.showEffectOn=a.get("showEffectOn"),g.rippleScale=s.get(["rippleEffect","scale"]),g.brushType=s.get(["rippleEffect","brushType"]),g.period=s.get(["rippleEffect","period"])*1e3,g.effectOffset=n/e.count(),g.z=a.getShallow("z")||0,g.zlevel=a.getShallow("zlevel")||0,g.symbolType=l,g.color=f,g.rippleEffectColor=s.get(["rippleEffect","color"]),g.rippleNumber=s.get(["rippleEffect","number"]),g.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){m==="emphasis"?g.showEffectOn!=="render"&&i.startEffectAnimation(g):m==="normal"&&g.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=g,or(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t})(Be),TAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._symbolDraw=new oy(CAe)},t.prototype.render=function(e,n,i){var a=e.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(o.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,i=n&&n.getArea&&n.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,n,i){var a=e.getData();this.group.dirty();var o=ly("").reset(e,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=fZ(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t})(Bt),AAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e,n){return jo(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,i){return i.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t})(Vt);function MAe(r){r.registerChartView(TAe),r.registerSeriesModel(AAe),r.registerLayout(ly("effectScatter"))}var ire=(function(r){J(t,r);function t(e,n,i){var a=r.call(this)||this;return a.add(a.createLine(e,n,i)),a._updateEffectSymbol(e,n),a}return t.prototype.createLine=function(e,n,i){return new r3(e,n,i)},t.prototype._updateEffectSymbol=function(e,n){var i=e.getItemModel(n),a=i.getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");ue(o)||(o=[o,o]);var l=e.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Dr(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(e,a,n))},t.prototype._updateEffectAnimation=function(e,n,i){var a=this.childAt(1);if(a){var o=e.getItemLayout(i),s=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),f=dn(n.get("delay"),function(h){return h/e.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),c>0&&(s=this._getLineLength(a)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var d=void 0;Re(f)?d=f(i):d=f,a.__t>0&&(d=-s*a.__t),this._animateSymbol(a,s,d,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(e,n,i,a,o){if(n>0){e.__t=0;var s=this,l=e.animate("",a).when(o?n*2:n,{__t:o?2:1}).delay(i).during(function(){s._updateSymbolPosition(e)});a||l.done(function(){s.remove(e)}),l.start()}},t.prototype._getLineLength=function(e){return Fs(e.__p1,e.__cp1)+Fs(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,i){this.childAt(0).updateData(e,n,i),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,i=e.__p2,a=e.__cp1,o=e.__t<1?e.__t:2-e.__t,s=[e.x,e.y],l=s.slice(),u=fn,c=cR;s[0]=u(n[0],a[0],i[0],o),s[1]=u(n[1],a[1],i[1],o);var f=e.__t<1?c(n[0],a[0],i[0],o):c(i[0],a[0],n[0],1-o),d=e.__t<1?c(n[1],a[1],i[1],o):c(i[1],a[1],n[1],1-o);e.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(e.__lastT!==void 0&&e.__lastT<e.__t?(e.scaleY=Fs(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.__lastT===1?e.scaleY=2*Fs(n,s):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var i=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,i,n)},t})(Be),are=(function(r){J(t,r);function t(e,n,i){var a=r.call(this)||this;return a._createPolyline(e,n,i),a}return t.prototype._createPolyline=function(e,n,i){var a=e.getItemLayout(n),o=new pn({shape:{points:a}});this.add(o),this._updateCommonStl(e,n,i)},t.prototype.updateData=function(e,n,i){var a=e.hostModel,o=this.childAt(0),s={shape:{points:e.getItemLayout(n)}};bt(o,s,a,n),this._updateCommonStl(e,n,i)},t.prototype._updateCommonStl=function(e,n,i){var a=this.childAt(0),o=e.getItemModel(n),s=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(e.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var d=a.ensureState("emphasis");d.style=s,or(this,l,u,c)},t.prototype.updateLayout=function(e,n){var i=this.childAt(0);i.setShape("points",e.getItemLayout(n))},t})(Be),DAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return t.prototype.createLine=function(e,n,i){return new are(e,n,i)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var i=[0],a=0,o=1;o<n.length;o++){var s=n[o-1],l=n[o];a+=Fs(s,l),i.push(a)}if(a===0){this._length=0;return}for(var o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,i=this._points,a=this._offsets,o=i.length;if(a){var s=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>n);l++);l=Math.min(l-1,o-2)}var c=(n-a[l])/(a[l+1]-a[l]),f=i[l],d=i[l+1];e.x=f[0]*(1-c)+c*d[0],e.y=f[1]*(1-c)+c*d[1];var h=e.__t<1?d[0]-f[0]:f[0]-d[0],v=e.__t<1?d[1]-f[1]:f[1]-d[1];e.rotation=-Math.atan2(v,h)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,e.ignore=!1}},t})(ire),EAe=(function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r})(),IAe=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:te.color.neutral99,fill:null}},t.prototype.getDefaultShape=function(){return new EAe},t.prototype.buildPath=function(e,n){var i=n.segs,a=n.curveness,o;if(n.polyline)for(o=this._off;o<i.length;){var s=i[o++];if(s>0){e.moveTo(i[o++],i[o++]);for(var l=1;l<s;l++)e.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var u=i[o++],c=i[o++],f=i[o++],d=i[o++];if(e.moveTo(u,c),a>0){var h=(u+f)/2-(c-d)*a,v=(c+d)/2-(f-u)*a;e.quadraticCurveTo(h,v,f,d)}else e.lineTo(f,d)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var i=this.shape,a=i.segs,o=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],d=a[u++],h=1;h<c;h++){var v=a[u++],g=a[u++];if(Xl(f,d,v,g,s,e,n))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],d=a[u++],v=a[u++],g=a[u++];if(o>0){var m=(f+v)/2-(d-g)*o,x=(d+g)/2-(v-f)*o;if(aK(f,d,m,x,v,g,s,e,n))return l}else if(Xl(f,d,v,g,s,e,n))return l;l++}return-1},t.prototype.contain=function(e,n){var i=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(e=i[0],n=i[1],a.contain(e,n)){var o=this.hoverDataIdx=this.findDataIndex(e,n);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,i=n.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}e=this._rect=new Fe(a,o,s,l)}return e},t})(lt),RAe=(function(){function r(){this.group=new Be}return r.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},r.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+i.length);s.set(a),s.set(i,o),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,e),l.__startIndex=t.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},r.prototype._create=function(){var t=new IAe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},r.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var o=He(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",function(s){o.dataIndex=null;var l=t.hoverDataIdx;l>0&&(o.dataIndex=l+t.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),ore={seriesType:"lines",plan:$d(),reset:function(r){var t=r.coordinateSystem;if(t){var e=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(i,a){var o=[];if(n){var s=void 0,l=i.end-i.start;if(e){for(var u=0,c=i.start;c<i.end;c++)u+=r.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,d=[],c=i.start;c<i.end;c++){var h=r.getLineCoords(c,o);e&&(s[f++]=h);for(var v=0;v<h;v++)d=t.dataToPoint(o[v],!1,d),s[f++]=d[0],s[f++]=d[1]}a.setLayout("linesPoints",s)}else for(var c=i.start;c<i.end;c++){var g=a.getItemModel(c),h=r.getLineCoords(c,o),m=[];if(e)for(var x=0;x<h;x++)m.push(t.dataToPoint(o[x]));else{m[0]=t.dataToPoint(o[0]),m[1]=t.dataToPoint(o[1]);var _=g.get(["lineStyle","curveness"]);+_&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*_,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*_])}a.setItemLayout(c,m)}}}}}},PAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this._updateLineDraw(a,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var f=e.get("clip",!0)&&sy(e.coordinateSystem,!1,e);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,i){var a=e.getData(),o=this._updateLineDraw(a,e);o.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,n,i){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,i){var a=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=ore.reset(e,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,n){var i=this._lineDraw,a=this._showEffect(n),o=!!n.get("polyline"),s=n.pipelineContext,l=s.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new RAe:new n3(o?a?DAe:are:a?ire:r3),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t})(Bt),OAe=typeof Uint32Array>"u"?Array:Uint32Array,BAe=typeof Float64Array>"u"?Array:Float64Array;function QW(r){var t=r.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(r.data=he(t,function(e){var n=[e[0].coord,e[1].coord],i={coords:n};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),aS([i,e[0],e[1]])}))}var kAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return t.prototype.init=function(e){e.data=e.data||[],QW(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(QW(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=gd(this._flatCoords,n.flatCoords),this._flatCoordsOffset=gd(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[e*2+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[e*2],a=this._flatCoordsOffset[e*2+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[i+o*2],n[o][1]=this._flatCoords[i+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(e),o=0;o<s.length;o++)n[o]=n[o]||[],n[o][0]=s[o][0],n[o][1]=s[o][1];return s.length}},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),yt(e[0])){for(var i=e.length,a=new OAe(i),o=new BAe(i),s=0,l=0,u=0,c=0;c<i;){u++;var f=e[c++];a[l++]=s+n,a[l++]=f;for(var d=0;d<f;d++){var h=e[c++],v=e[c++];o[s++]=h,o[s++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var i=new Hn(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(a,o,s,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=a.getItemModel(e),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Br("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return e??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return e??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t})(Vt);function B1(r){return r instanceof Array||(r=[r,r]),r}var LAe={seriesType:"lines",reset:function(r){var t=B1(r.get("symbol")),e=B1(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]);function i(a,o){var s=a.getItemModel(o),l=B1(s.getShallow("symbol",!0)),u=B1(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),u[0]&&a.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?i:null}}};function NAe(r){r.registerChartView(PAe),r.registerSeriesModel(kAe),r.registerLayout(ore),r.registerVisual(LAe)}var VAe=256,zAe=(function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=yi.createCanvas();this.canvas=t}return r.prototype.update=function(t,e,n,i,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),h=t.length;f.width=e,f.height=n;for(var v=0;v<h;++v){var g=t[v],m=g[0],x=g[1],_=g[2],b=i(_);d.globalAlpha=b,d.drawImage(s,m-c,x-c)}if(!f.width||!f.height)return f;for(var w=d.getImageData(0,0,f.width,f.height),T=w.data,A=0,M=T.length,D=this.minOpacity,P=this.maxOpacity,I=P-D;A<M;){var b=T[A+3]/256,R=Math.floor(b*(VAe-1))*4;if(b>0){var k=o(b)?l:u;b>0&&(b=b*I+D),T[A++]=k[R],T[A++]=k[R+1],T[A++]=k[R+2],T[A++]=k[R+3]*b*256}else A+=4}return d.putImageData(w,0,0),f},r.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=yi.createCanvas()),e=this.pointSize+this.blurSize,n=e*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=te.color.neutral99,i.beginPath(),i.arc(-e,e,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},r.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,s=0;s<256;s++)t[e](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},r})();function FAe(r,t,e){var n=r[1]-r[0];t=he(t,function(o){return{interval:[(o.interval[0]-r[0])/n,(o.interval[1]-r[0])/n]}});var i=t.length,a=0;return function(o){var s;for(s=a;s<i;s++){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}if(s===i)for(s=a-1;s>=0;s--){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<i&&e[s]}}function HAe(r,t){var e=r[1]-r[0];return t=[(t[0]-r[0])/e,(t[1]-r[0])/e],function(n){return n>=t[0]&&n<=t[1]}}function JW(r){var t=r.dimensions;return t[0]==="lng"&&t[1]==="lat"}var GAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"||o.type==="matrix"?this._renderOnGridLike(e,i,0,e.getData().count()):JW(o)&&this._renderOnGeo(o,e,a,i)},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,i,a){var o=n.coordinateSystem;o&&(JW(o)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnGridLike(n,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Mu(this._progressiveEls||this.group,e)},t.prototype._renderOnGridLike=function(e,n,i,a,o){var s=e.coordinateSystem,l=_u(s,"cartesian2d"),u=_u(s,"matrix"),c,f,d,h;if(l){var v=s.getAxis("x"),g=s.getAxis("y");c=v.getBandWidth()+.5,f=g.getBandWidth()+.5,d=v.scale.getExtent(),h=g.scale.getExtent()}for(var m=this.group,x=e.getData(),_=e.getModel(["emphasis","itemStyle"]).getItemStyle(),b=e.getModel(["blur","itemStyle"]).getItemStyle(),w=e.getModel(["select","itemStyle"]).getItemStyle(),T=e.get(["itemStyle","borderRadius"]),A=Ur(e),M=e.getModel("emphasis"),D=M.get("focus"),P=M.get("blurScope"),I=M.get("disabled"),R=l||u?[x.mapDimension("x"),x.mapDimension("y"),x.mapDimension("value")]:[x.mapDimension("time"),x.mapDimension("value")],k=i;k<a;k++){var O=void 0,V=x.getItemVisual(k,"style");if(l){var N=x.get(R[0],k),L=x.get(R[1],k);if(isNaN(x.get(R[2],k))||isNaN(N)||isNaN(L)||N<d[0]||N>d[1]||L<h[0]||L>h[1])continue;var G=s.dataToPoint([N,L]);O=new rt({shape:{x:G[0]-c/2,y:G[1]-f/2,width:c,height:f},style:V})}else if(u){var W=s.dataToLayout([x.get(R[0],k),x.get(R[1],k)]).rect;if(Dn(W.x))continue;O=new rt({z2:1,shape:W,style:V})}else{if(isNaN(x.get(R[1],k)))continue;var U=s.dataToLayout([x.get(R[0],k)]),W=U.contentRect||U.rect;if(Dn(W.x)||Dn(W.y))continue;O=new rt({z2:1,shape:W,style:V})}if(x.hasItemOption){var Z=x.getItemModel(k),F=Z.getModel("emphasis");_=F.getModel("itemStyle").getItemStyle(),b=Z.getModel(["blur","itemStyle"]).getItemStyle(),w=Z.getModel(["select","itemStyle"]).getItemStyle(),T=Z.get(["itemStyle","borderRadius"]),D=F.get("focus"),P=F.get("blurScope"),I=F.get("disabled"),A=Ur(Z)}O.shape.r=T;var q=e.getRawValue(k),$="-";q&&q[2]!=null&&($=q[2]+""),tn(O,A,{labelFetcher:e,labelDataIndex:k,defaultOpacity:V.opacity,defaultText:$}),O.ensureState("emphasis").style=_,O.ensureState("blur").style=b,O.ensureState("select").style=w,or(O,D,P,I),O.incremental=o,o&&(O.states.emphasis.hoverLayer=!0),m.add(O),x.setItemGraphicEl(k,O),this._progressiveEls&&this._progressiveEls.push(O)}},t.prototype._renderOnGeo=function(e,n,i,a){var o=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new zAe;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=e.getViewRect().clone(),f=e.getRoamTransform();c.applyTransform(f);var d=Math.max(c.x,0),h=Math.max(c.y,0),v=Math.min(c.width+c.x,a.getWidth()),g=Math.min(c.height+c.y,a.getHeight()),m=v-d,x=g-h,_=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],b=l.mapArray(_,function(M,D,P){var I=e.dataToPoint([M,D]);return I[0]-=d,I[1]-=h,I.push(P),I}),w=i.getExtent(),T=i.type==="visualMap.continuous"?HAe(w,i.option.range):FAe(w,i.getPieceList(),i.option.selected);u.update(b,m,x,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},T);var A=new nn({style:{width:m,height:x,x:d,y:h,image:u.canvas},silent:!0});this.group.add(A)},t.type="heatmap",t})(Bt),WAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,n){return jo(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Xd.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:te.color.primary}}},t})(Vt);function UAe(r){r.registerChartView(GAe),r.registerSeriesModel(WAe)}var qAe=["itemStyle","borderWidth"],eU=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],ZE=new $o,YAe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group,o=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:eU[+c],categoryDim:eU[1-+c]};o.diff(s).add(function(v){if(o.hasValue(v)){var g=rU(o,v),m=tU(o,v,g,d),x=nU(o,d,m);o.setItemGraphicEl(v,x),a.add(x),aU(x,d,m)}}).update(function(v,g){var m=s.getItemGraphicEl(g);if(!o.hasValue(v)){a.remove(m);return}var x=rU(o,v),_=tU(o,v,x,d),b=hre(o,_);m&&b!==m.__pictorialShapeStr&&(a.remove(m),o.setItemGraphicEl(v,null),m=null),m?JAe(m,d,_):m=nU(o,d,_,!0),o.setItemGraphicEl(v,m),m.__pictorialSymbolMeta=_,a.add(m),aU(m,d,_)}).remove(function(v){var g=s.getItemGraphicEl(v);g&&iU(s,v,g.__pictorialSymbolMeta.animationModel,g)}).execute();var h=e.get("clip",!0)?sy(e.coordinateSystem,!1,e):null;return h?a.setClipPath(h):a.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(e,n){var i=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(o){iU(a,He(o).dataIndex,e,o)}):i.removeAll()},t.type="pictorialBar",t})(Bt);function tU(r,t,e,n){var i=r.getItemLayout(t),a=e.get("symbolRepeat"),o=e.get("symbolClip"),s=e.get("symbolPosition")||"start",l=e.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=e.get("symbolPatternSize")||2,f=e.isAnimationEnabled(),d={dataIndex:t,layout:i,itemModel:e,symbolType:r.getItemVisual(t,"symbol")||"circle",style:r.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?e:null,hoverScale:f&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};XAe(e,a,i,n,d),$Ae(r,t,i,a,o,d.boundingLength,d.pxSign,c,n,d),jAe(e,d.symbolScale,u,n,d);var h=d.symbolSize,v=Df(e.get("symbolOffset"),h);return ZAe(e,h,i,a,o,v,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,n,d),d}function XAe(r,t,e,n,i){var a=n.valueDim,o=r.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(e[a.wh]<=0),c;if(ue(o)){var f=[KE(s,o[0])-l,KE(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=KE(s,o)-l:t?c=n.coordSysExtent[a.index][u]-l:c=e[a.wh];i.boundingLength=c,t&&(i.repeatCutLength=e[a.wh]);var d=a.xy==="x",h=s.inverse;i.pxSign=d&&!h||!d&&h?c>=0?1:-1:c>0?1:-1}function KE(r,t){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(t)))}function $Ae(r,t,e,n,i,a,o,s,l,u){var c=l.valueDim,f=l.categoryDim,d=Math.abs(e[f.wh]),h=r.getItemVisual(t,"symbolSize"),v;ue(h)?v=h.slice():h==null?v=["100%","100%"]:v=[h,h],v[f.index]=_e(v[f.index],d),v[c.index]=_e(v[c.index],n?d:Math.abs(a)),u.symbolSize=v;var g=u.symbolScale=[v[0]/s,v[1]/s];g[c.index]*=(l.isHorizontal?-1:1)*o}function jAe(r,t,e,n,i){var a=r.get(qAe)||0;a&&(ZE.attr({scaleX:t[0],scaleY:t[1],rotation:e}),ZE.updateTransform(),a/=ZE.getLineScale(),a*=t[n.valueDim.index]),i.valueLineWidth=a||0}function ZAe(r,t,e,n,i,a,o,s,l,u,c,f){var d=c.categoryDim,h=c.valueDim,v=f.pxSign,g=Math.max(t[h.index]+s,0),m=g;if(n){var x=Math.abs(l),_=dn(r.get("symbolMargin"),"15%")+"",b=!1;_.lastIndexOf("!")===_.length-1&&(b=!0,_=_.slice(0,_.length-1));var w=_e(_,t[h.index]),T=Math.max(g+w*2,0),A=b?0:w*2,M=wB(n),D=M?n:oU((x+A)/T),P=x-D*g;w=P/2/(b?D:Math.max(D-1,1)),T=g+w*2,A=b?0:w*2,!M&&n!=="fixed"&&(D=u?oU((Math.abs(u)+A)/T):0),m=D*T-A,f.repeatTimes=D,f.symbolMargin=w}var I=v*(m/2),R=f.pathPosition=[];R[d.index]=e[d.wh]/2,R[h.index]=o==="start"?I:o==="end"?l-I:l/2,a&&(R[0]+=a[0],R[1]+=a[1]);var k=f.bundlePosition=[];k[d.index]=e[d.xy],k[h.index]=e[h.xy];var O=f.barRectShape=oe({},e);O[h.wh]=v*Math.max(Math.abs(e[h.wh]),Math.abs(R[h.index]+I)),O[d.wh]=e[d.wh];var V=f.clipShape={};V[d.xy]=-e[d.xy],V[d.wh]=c.ecSize[d.wh],V[h.xy]=0,V[h.wh]=e[h.wh]}function sre(r){var t=r.symbolPatternSize,e=Dr(r.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),e.type!=="image"&&e.setStyle({strokeNoScale:!0}),e}function lre(r,t,e,n){var i=r.__pictorialBundle,a=e.symbolSize,o=e.valueLineWidth,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,c=0,f=a[t.valueDim.index]+o+e.symbolMargin*2;for(v3(r,function(g){g.__pictorialAnimationIndex=c,g.__pictorialRepeatTimes=u,c<u?dd(g,null,v(c),e,n):dd(g,null,{scaleX:0,scaleY:0},e,n,function(){i.remove(g)}),c++});c<u;c++){var d=sre(e);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,i.add(d);var h=v(c);dd(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},e,n)}function v(g){var m=s.slice(),x=e.pxSign,_=g;return(e.symbolRepeatDirection==="start"?x>0:x<0)&&(_=u-1-g),m[l.index]=f*(_-u/2+.5)+s[l.index],{x:m[0],y:m[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function ure(r,t,e,n){var i=r.__pictorialBundle,a=r.__pictorialMainPath;a?dd(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(a=r.__pictorialMainPath=sre(e),i.add(a),dd(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function cre(r,t,e){var n=oe({},t.barRectShape),i=r.__pictorialBarRect;i?dd(i,null,{shape:n},t,e):(i=r.__pictorialBarRect=new rt({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,r.add(i))}function fre(r,t,e,n){if(e.symbolClip){var i=r.__pictorialClipPath,a=oe({},e.clipShape),o=t.valueDim,s=e.animationModel,l=e.dataIndex;if(i)bt(i,{shape:a},s,l);else{a[o.wh]=0,i=new rt({shape:a}),r.__pictorialBundle.setClipPath(i),r.__pictorialClipPath=i;var u={};u[o.wh]=e.clipShape[o.wh],Tf[n?"updateProps":"initProps"](i,{shape:u},s,l)}}}function rU(r,t){var e=r.getItemModel(t);return e.getAnimationDelayParams=KAe,e.isAnimationEnabled=QAe,e}function KAe(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function QAe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function nU(r,t,e,n){var i=new Be,a=new Be;return i.add(a),i.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?lre(i,t,e):ure(i,t,e),cre(i,e,n),fre(i,t,e,n),i.__pictorialShapeStr=hre(r,e),i.__pictorialSymbolMeta=e,i}function JAe(r,t,e){var n=e.animationModel,i=e.dataIndex,a=r.__pictorialBundle;bt(a,{x:e.bundlePosition[0],y:e.bundlePosition[1]},n,i),e.symbolRepeat?lre(r,t,e,!0):ure(r,t,e,!0),cre(r,e,!0),fre(r,t,e,!0)}function iU(r,t,e,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];v3(n,function(o){a.push(o)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),z(a,function(o){xu(o,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(t,null)}function hre(r,t){return[r.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function v3(r,t,e){z(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&t.call(e,n)})}function dd(r,t,e,n,i,a){t&&r.attr(t),n.symbolClip&&!i?e&&r.attr(e):e&&Tf[i?"updateProps":"initProps"](r,e,n.animationModel,n.dataIndex,a)}function aU(r,t,e){var n=e.dataIndex,i=e.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),d=a.get("scale");v3(r,function(g){if(g instanceof nn){var m=g.style;g.useStyle(oe({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},e.style))}else g.useStyle(e.style);var x=g.ensureState("emphasis");x.style=o,d&&(x.scaleX=g.scaleX*1.1,x.scaleY=g.scaleY*1.1),g.ensureState("blur").style=s,g.ensureState("select").style=l,u&&(g.cursor=u),g.z2=e.z2});var h=t.valueDim.posDesc[+(e.boundingLength>0)],v=r.__pictorialBarRect;v.ignoreClip=!0,tn(v,Ur(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:Md(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:h}),or(r,c,f,a.get("disabled"))}function oU(r){var t=Math.round(r);return Math.abs(r-t)<1e-4?t:Math.ceil(r)}var eMe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return t.prototype.getInitialData=function(e){return e.stack=null,r.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Du(gg.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:te.color.primary}}}),t})(gg);function tMe(r){r.registerChartView(YAe),r.registerSeriesModel(eMe),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,je(PJ,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,OJ("pictorialBar"))}var rMe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return t.prototype.render=function(e,n,i){var a=e.getData(),o=this,s=this.group,l=e.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function d(m){return m.name}var h=new rl(this._layersSeries||[],l,d,d),v=[];h.add(Se(g,this,"add")).update(Se(g,this,"update")).remove(Se(g,this,"remove")).execute();function g(m,x,_){var b=o._layers;if(m==="remove"){s.remove(b[x]);return}for(var w=[],T=[],A,M=l[x].indices,D=0;D<M.length;D++){var P=a.getItemLayout(M[D]),I=P.x,R=P.y0,k=P.y;w.push(I,R),T.push(I,R+k),A=a.getItemVisual(M[D],"style")}var O,V=a.getItemLayout(M[0]),N=e.getModel("label"),L=N.get("margin"),G=e.getModel("emphasis");if(m==="add"){var W=v[x]=new Be;O=new wee({shape:{points:w,stackedOnPoints:T,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),W.add(O),s.add(W),e.isAnimationEnabled()&&O.setClipPath(nMe(O.getBoundingRect(),e,function(){O.removeClipPath()}))}else{var W=b[_];O=W.childAt(0),s.add(W),v[x]=W,bt(O,{shape:{points:w,stackedOnPoints:T}},e),Ta(O)}tn(O,Ur(e),{labelDataIndex:M[D-1],defaultText:a.getName(M[D-1]),inheritColor:A.fill},{normal:{verticalAlign:"middle"}}),O.setTextConfig({position:null,local:!0});var U=O.getTextContent();U&&(U.x=V.x-L,U.y=V.y0+V.y/2),O.useStyle(A),a.setItemGraphicEl(x,O),Wr(O,e),or(O,G.get("focus"),G.get("blurScope"),G.get("disabled"))}this._layersSeries=l,this._layers=v},t.type="themeRiver",t})(Bt);function nMe(r,t,e){var n=new rt({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return Kt(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},t,e),n}var QE=2,iMe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new rv(Se(this.getData,this),Se(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,i={},a=AR(e,function(d){return i.hasOwnProperty(d[0]+"")||(i[d[0]+""]=-1),d[2]}),o=[];a.buckets.each(function(d,h){o.push({name:h,dataList:d})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,e[n]=[f,0,u],n++)}return e},t.prototype.getInitialData=function(e,n){for(var i=this.getReferringComponents("singleAxis",vr).models[0],a=i.get("type"),o=Tt(e.data,function(v){return v[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=Me(),c=0,f=0;f<s.length;++f)l.push(s[f][QE]),u.get(s[f][QE])||(u.set(s[f][QE],c),c++);var d=Kd(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Y_(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Hn(d,this);return h.initData(s),h},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),i=[],a=0;a<n;++a)i[a]=a;var o=e.mapDimension("single"),s=AR(i,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,d){return e.get(o,f)-e.get(o,d)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,n,i){ue(e)||(e=e?[e]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,d=-1,h=o[c].indices.length,v=0;v<h;++v){var g=a.get(e[0],o[c].indices[v]),m=Math.abs(g-n);m<=f&&(u=g,f=m,d=o[c].indices[v])}s.push(d)}return{dataIndices:s,nestestValue:u}},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=a.getName(e),s=a.get(a.mapDimension("value"),e);return Br("nameValue",{name:o,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t})(Vt);function aMe(r,t){r.eachSeriesByType("themeRiver",function(e){var n=e.getData(),i=e.coordinateSystem,a={},o=i.getRect();a.rect=o;var s=e.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=s,l.orient==="horizontal"){s[0]=_e(s[0],o.height),s[1]=_e(s[1],o.height);var u=o.height-s[0]-s[1];sU(n,e,u)}else{s[0]=_e(s[0],o.width),s[1]=_e(s[1],o.width);var c=o.width-s[0]-s[1];sU(n,e,c)}n.setLayout("layoutInfo",a)})}function sU(r,t,e){if(r.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),a=r.mapDimension("single"),o=r.mapDimension("value"),s=he(i,function(m){return he(m.indices,function(x){var _=n.dataToPoint(r.get(a,x));return _[1]=r.get(o,x),_})}),l=oMe(s),u=l.y0,c=e/l.max,f=i.length,d=i[0].indices.length,h,v=0;v<d;++v){h=u[v]*c,r.setItemLayout(i[0].indices[v],{layerIndex:0,x:s[0][v][0],y0:h,y:s[0][v][1]*c});for(var g=1;g<f;++g)h+=s[g-1][v][1]*c,r.setItemLayout(i[g].indices[v],{layerIndex:g,x:s[g][v][0],y0:h,y:s[g][v][1]*c})}}function oMe(r){for(var t=r.length,e=r[0].length,n=[],i=[],a=0,o=0;o<e;++o){for(var s=0,l=0;l<t;++l)s+=r[l][o][1];s>a&&(a=s),n.push(s)}for(var u=0;u<e;++u)i[u]=(a-n[u])/2;a=0;for(var c=0;c<e;++c){var f=n[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function sMe(r){r.registerChartView(rMe),r.registerSeriesModel(iMe),r.registerLayout(aMe),r.registerProcessor(ev("themeRiver"))}var lMe=2,uMe=4,lU=(function(r){J(t,r);function t(e,n,i,a){var o=r.call(this)||this;o.z2=lMe,o.textConfig={inside:!0},He(o).seriesIndex=n.seriesIndex;var s=new gt({z2:uMe,silent:e.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,e,n,i,a),o}return t.prototype.updateData=function(e,n,i,a,o){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var s=this;He(s).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),f=oe({},c);f.label=null;var d=n.getVisual("style");d.lineJoin="bevel";var h=n.getVisual("decal");h&&(d.decal=Cd(h,o));var v=Bo(l.getModel("itemStyle"),f,!0);oe(f,v),z(Qn,function(_){var b=s.ensureState(_),w=l.getModel([_,"itemStyle"]);b.style=w.getItemStyle();var T=Bo(w,f);T&&(b.shape=T)}),e?(s.setShape(f),s.shape.r=c.r0,Kt(s,{shape:{r:c.r}},i,n.dataIndex)):(bt(s,{shape:f},i),Ta(s)),s.useStyle(d),this._updateLabel(i);var g=l.getShallow("cursor");g&&s.attr("cursor",g),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var m=u.get("focus"),x=m==="relative"?gd(n.getAncestorsIndices(),n.getDescendantIndices()):m==="ancestor"?n.getAncestorsIndices():m==="descendant"?n.getDescendantIndices():m;or(this,x,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(v!=null&&Math.abs(s)<v);d.ignore=!g,z(rg,function(x){var _=x==="normal"?i.getModel("label"):i.getModel([x,"label"]),b=x==="normal",w=b?d:d.ensureState(x),T=e.getFormattedLabel(h,x);b&&(T=T||n.node.name),w.style=Ut(_,{},null,x!=="normal",!0),T&&(w.style.text=T);var A=_.get("show");A!=null&&!b&&(w.ignore=!A);var M=m(_,"position"),D=b?f:f.states[x],P=D.style.fill;D.textConfig={outsideFill:_.get("color")==="inherit"?P:null,inside:M!=="outside"};var I,R=m(_,"distance")||0,k=m(_,"align"),O=m(_,"rotate"),V=Math.PI*.5,N=Math.PI*1.5,L=Fi(O==="tangential"?Math.PI/2-l:l),G=L>V&&!xd(L-V)&&L<N;M==="outside"?(I=o.r+R,k=G?"right":"left"):!k||k==="center"?(s===2*Math.PI&&o.r0===0?I=0:I=(o.r+o.r0)/2,k="center"):k==="left"?(I=o.r0+R,k=G?"right":"left"):k==="right"&&(I=o.r-R,k=G?"left":"right"),w.style.align=k,w.style.verticalAlign=m(_,"verticalAlign")||"middle",w.x=I*u+o.cx,w.y=I*c+o.cy;var W=0;O==="radial"?W=Fi(-l)+(G?Math.PI:0):O==="tangential"?W=Fi(Math.PI/2-l)+(G?Math.PI:0):yt(O)&&(W=O*Math.PI/180),w.rotation=Fi(W)});function m(x,_){var b=x.get(_);return b??a.get(_)}d.dirtyStyle()},t})(Rn),GP="sunburstRootToNode",uU="sunburstHighlight",cMe="sunburstUnhighlight";function fMe(r){r.registerAction({type:GP,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,a){var o=mg(t,[GP],i);if(o){var s=i.getViewRoot();s&&(t.direction=Kk(s,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),r.registerAction({type:uU,update:"none"},function(t,e,n){t=oe({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var o=mg(t,[uU],a);o&&(t.dataIndex=o.node.dataIndex)}n.dispatchAction(oe(t,{type:"highlight"}))}),r.registerAction({type:cMe,update:"updateView"},function(t,e,n){t=oe({},t),n.dispatchAction(oe(t,{type:"downplay"}))})}var hMe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){var o=this;this.seriesModel=e,this.api=i,this.ecModel=n;var s=e.getData(),l=s.tree.root,u=e.getViewRoot(),c=this.group,f=e.get("renderLabelForZeroData"),d=[];u.eachNode(function(_){d.push(_)});var h=this._oldChildren||[];v(d,h),x(l,u),this._initEvents(),this._oldChildren=d;function v(_,b){if(_.length===0&&b.length===0)return;new rl(b,_,w,w).add(T).update(T).remove(je(T,null)).execute();function w(A){return A.getId()}function T(A,M){var D=A==null?null:_[A],P=M==null?null:b[M];g(D,P)}}function g(_,b){if(!f&&_&&!_.getValue()&&(_=null),_!==l&&b!==l){if(b&&b.piece)_?(b.piece.updateData(!1,_,e,n,i),s.setItemGraphicEl(_.dataIndex,b.piece)):m(b);else if(_){var w=new lU(_,e,n,i);c.add(w),s.setItemGraphicEl(_.dataIndex,w)}}}function m(_){_&&_.piece&&(c.remove(_.piece),_.piece=null)}function x(_,b){b.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,_,e,n,i):(o.virtualPiece=new lU(_,e,n,i),c.add(o.virtualPiece)),b.piece.off("click"),o.virtualPiece.on("click",function(w){o._rootToNode(b.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=e.seriesModel.getViewRoot();a.eachNode(function(o){if(!i&&o.piece&&o.piece===n.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")e._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";L_(u,c)}}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:GP,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var o=e[0]-a.cx,s=e[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="sunburst",t})(Bt),dMe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return t.prototype.getInitialData=function(e,n){var i={name:e.name,children:e.data};dre(i);var a=this._levelModels=he(e.levels||[],function(l){return new st(l,this,n)},this),o=Zk.createTree(i,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),d=a[f.depth];return d&&(u.parentModel=d),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=r.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=NS(i,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){yte(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t})(Vt);function dre(r){var t=0;z(r.children,function(n){dre(n);var i=n.value;ue(i)&&(i=i[0]),t+=i});var e=r.value;ue(e)&&(e=e[0]),(e==null||isNaN(e))&&(e=t),e<0&&(e=0),ue(r.value)?r.value[0]=e:r.value=e}var cU=Math.PI/180;function vMe(r,t,e){t.eachSeriesByType(r,function(n){var i=n.get("center"),a=n.get("radius");ue(a)||(a=[0,a]),ue(i)||(i=[i,i]);var o=e.getWidth(),s=e.getHeight(),l=Math.min(o,s),u=_e(i[0],o),c=_e(i[1],s),f=_e(a[0],l/2),d=_e(a[1],l/2),h=-n.get("startAngle")*cU,v=n.get("minAngle")*cU,g=n.getData().tree.root,m=n.getViewRoot(),x=m.depth,_=n.get("sort");_!=null&&vre(m,_);var b=0;z(m.children,function(L){!isNaN(L.getValue())&&b++});var w=m.getValue(),T=Math.PI/(w||b)*2,A=m.depth>0,M=m.height-(A?-1:1),D=(d-f)/(M||1),P=n.get("clockwise"),I=n.get("stillShowZeroSum"),R=P?1:-1,k=function(L,G){if(L){var W=G;if(L!==g){var U=L.getValue(),Z=w===0&&I?T:U*T;Z<v&&(Z=v),W=G+R*Z;var F=L.depth-x-(A?-1:1),q=f+D*F,$=f+D*(F+1),K=n.getLevelModel(L);if(K){var re=K.get("r0",!0),ce=K.get("r",!0),pe=K.get("radius",!0);pe!=null&&(re=pe[0],ce=pe[1]),re!=null&&(q=_e(re,l/2)),ce!=null&&($=_e(ce,l/2))}L.setLayout({angle:Z,startAngle:G,endAngle:W,clockwise:P,cx:u,cy:c,r0:q,r:$})}if(L.children&&L.children.length){var de=0;z(L.children,function(ge){de+=k(ge,G+de)})}return W-G}};if(A){var O=f,V=f+D,N=Math.PI*2;g.setLayout({angle:N,startAngle:h,endAngle:h+N,clockwise:P,cx:u,cy:c,r0:O,r:V})}k(m,h)})}function vre(r,t){var e=r.children||[];r.children=pMe(e,t),e.length&&z(r.children,function(n){vre(n,t)})}function pMe(r,t){if(Re(t)){var e=he(r,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return e.sort(function(i,a){return t(i.params,a.params)}),he(e,function(i){return r[i.index]})}else{var n=t==="asc";return r.sort(function(i,a){var o=(i.getValue()-a.getValue())*(n?1:-1);return o===0?(i.dataIndex-a.dataIndex)*(n?-1:1):o})}}function gMe(r){var t={};function e(n,i,a){if(n.depth===0)return te.color.neutral50;for(var o=n;o&&o.depth>1;)o=o.parentNode;var s=i.getColorFromPalette(o.name||o.dataIndex+"",t);return n.depth>1&&be(s)&&(s=S_(s,(n.depth-1)/(a-1)*.5)),s}r.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=e(o,n,a.root.height));var u=i.ensureUniqueItemVisual(o.dataIndex,"style");oe(u,l)})})}function yMe(r){r.registerChartView(hMe),r.registerSeriesModel(dMe),r.registerLayout(je(vMe,"sunburst")),r.registerProcessor(je(ev,"sunburst")),r.registerVisual(gMe),fMe(r)}var fU={color:"fill",borderColor:"stroke"},mMe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},$s=ot(),xMe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return jo(null,this)},t.prototype.getDataParams=function(e,n,i){var a=r.prototype.getDataParams.call(this,e,n);return i&&(a.info=$s(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t})(Vt);function _Me(r,t){return t=t||[0,0],he(["x","y"],function(e,n){var i=this.getAxis(e),a=t[n],o=r[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function bMe(r){var t=r.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:Se(_Me,r)}}}function SMe(r,t){return t=t||[0,0],he([0,1],function(e){var n=t[e],i=r[e]/2,a=[],o=[];return a[e]=n-i,o[e]=n+i,a[1-e]=o[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(o)[e])},this)}function wMe(r){var t=r.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:r.getZoom()},api:{coord:function(e){return r.dataToPoint(e)},size:Se(SMe,r)}}}function CMe(r,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,i=(r instanceof Array?r[0]:r)/2;return e.type==="category"?e.getBandWidth():Math.abs(e.dataToCoord(n-i)-e.dataToCoord(n+i))}function TMe(r){var t=r.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return r.dataToPoint(e)},size:Se(CMe,r)}}}function AMe(r,t){return t=t||[0,0],he(["Radius","Angle"],function(e,n){var i="get"+e+"Axis",a=this[i](),o=t[n],s=r[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return e==="Angle"&&(l=l*Math.PI/180),l},this)}function MMe(r){var t=r.getRadiusAxis(),e=r.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),o=e.dataToAngle(i[1]),s=r.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:Se(AMe,r)}}}function DMe(r){var t=r.getRect(),e=r.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,i){return r.dataToPoint(n,i)},layout:function(n,i){return r.dataToLayout(n,i)}}}}function EMe(r){var t=r.getRect();return{coordSys:{type:"matrix",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e,n){return r.dataToPoint(e,n)},layout:function(e,n){return r.dataToLayout(e,n)}}}}function pre(r,t,e,n){return r&&(r.legacy||r.legacy!==!1&&!e&&!n&&t!=="tspan"&&(t==="text"||Te(r,"text")))}function gre(r,t,e){var n=r,i,a,o;if(t==="text")o=n;else{o={},Te(n,"text")&&(o.text=n.text),Te(n,"rich")&&(o.rich=n.rich),Te(n,"textFill")&&(o.fill=n.textFill),Te(n,"textStroke")&&(o.stroke=n.textStroke),Te(n,"fontFamily")&&(o.fontFamily=n.fontFamily),Te(n,"fontSize")&&(o.fontSize=n.fontSize),Te(n,"fontStyle")&&(o.fontStyle=n.fontStyle),Te(n,"fontWeight")&&(o.fontWeight=n.fontWeight),a={type:"text",style:o,silent:!0},i={};var s=Te(n,"textPosition");e?i.position=s?n.textPosition:"inside":s&&(i.position=n.textPosition),Te(n,"textPosition")&&(i.position=n.textPosition),Te(n,"textOffset")&&(i.offset=n.textOffset),Te(n,"textRotation")&&(i.rotation=n.textRotation),Te(n,"textDistance")&&(i.distance=n.textDistance)}return hU(o,r),z(o.rich,function(l){hU(l,l)}),{textConfig:i,textContent:a}}function hU(r,t){t&&(t.font=t.textFont||t.font,Te(t,"textStrokeWidth")&&(r.lineWidth=t.textStrokeWidth),Te(t,"textAlign")&&(r.align=t.textAlign),Te(t,"textVerticalAlign")&&(r.verticalAlign=t.textVerticalAlign),Te(t,"textLineHeight")&&(r.lineHeight=t.textLineHeight),Te(t,"textWidth")&&(r.width=t.textWidth),Te(t,"textHeight")&&(r.height=t.textHeight),Te(t,"textBackgroundColor")&&(r.backgroundColor=t.textBackgroundColor),Te(t,"textPadding")&&(r.padding=t.textPadding),Te(t,"textBorderColor")&&(r.borderColor=t.textBorderColor),Te(t,"textBorderWidth")&&(r.borderWidth=t.textBorderWidth),Te(t,"textBorderRadius")&&(r.borderRadius=t.textBorderRadius),Te(t,"textBoxShadowColor")&&(r.shadowColor=t.textBoxShadowColor),Te(t,"textBoxShadowBlur")&&(r.shadowBlur=t.textBoxShadowBlur),Te(t,"textBoxShadowOffsetX")&&(r.shadowOffsetX=t.textBoxShadowOffsetX),Te(t,"textBoxShadowOffsetY")&&(r.shadowOffsetY=t.textBoxShadowOffsetY))}function dU(r,t,e){var n=r;n.textPosition=n.textPosition||e.position||"inside",e.offset!=null&&(n.textOffset=e.offset),e.rotation!=null&&(n.textRotation=e.rotation),e.distance!=null&&(n.textDistance=e.distance);var i=n.textPosition.indexOf("inside")>=0,a=r.fill||te.color.neutral99;vU(n,t);var o=n.textFill==null;return i?o&&(n.textFill=e.insideFill||te.color.neutral00,!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(o&&(n.textFill=r.fill||e.outsideFill||te.color.neutral00),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,z(t.rich,function(s){vU(s,s)}),n}function vU(r,t){t&&(Te(t,"fill")&&(r.textFill=t.fill),Te(t,"stroke")&&(r.textStroke=t.fill),Te(t,"lineWidth")&&(r.textStrokeWidth=t.lineWidth),Te(t,"font")&&(r.font=t.font),Te(t,"fontStyle")&&(r.fontStyle=t.fontStyle),Te(t,"fontWeight")&&(r.fontWeight=t.fontWeight),Te(t,"fontSize")&&(r.fontSize=t.fontSize),Te(t,"fontFamily")&&(r.fontFamily=t.fontFamily),Te(t,"align")&&(r.textAlign=t.align),Te(t,"verticalAlign")&&(r.textVerticalAlign=t.verticalAlign),Te(t,"lineHeight")&&(r.textLineHeight=t.lineHeight),Te(t,"width")&&(r.textWidth=t.width),Te(t,"height")&&(r.textHeight=t.height),Te(t,"backgroundColor")&&(r.textBackgroundColor=t.backgroundColor),Te(t,"padding")&&(r.textPadding=t.padding),Te(t,"borderColor")&&(r.textBorderColor=t.borderColor),Te(t,"borderWidth")&&(r.textBorderWidth=t.borderWidth),Te(t,"borderRadius")&&(r.textBorderRadius=t.borderRadius),Te(t,"shadowColor")&&(r.textBoxShadowColor=t.shadowColor),Te(t,"shadowBlur")&&(r.textBoxShadowBlur=t.shadowBlur),Te(t,"shadowOffsetX")&&(r.textBoxShadowOffsetX=t.shadowOffsetX),Te(t,"shadowOffsetY")&&(r.textBoxShadowOffsetY=t.shadowOffsetY),Te(t,"textShadowColor")&&(r.textShadowColor=t.textShadowColor),Te(t,"textShadowBlur")&&(r.textShadowBlur=t.textShadowBlur),Te(t,"textShadowOffsetX")&&(r.textShadowOffsetX=t.textShadowOffsetX),Te(t,"textShadowOffsetY")&&(r.textShadowOffsetY=t.textShadowOffsetY))}var yre={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},pU=ht(yre);Sa(Fo,function(r,t){return r[t]=1,r},{});Fo.join(", ");var cb=["","style","shape","extra"],Rd=ot();function p3(r,t,e,n,i){var a=r+"Animation",o=Gd(r,n,i)||{},s=Rd(t).userDuring;return o.duration>0&&(o.during=s?Se(BMe,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=r),oe(o,e[a]),o}function Tx(r,t,e,n){n=n||{};var i=n.dataIndex,a=n.isInit,o=n.clearStyle,s=e.isAnimationEnabled(),l=Rd(r),u=t.style;l.userDuring=t.during;var c={},f={};if(LMe(r,t,f),r.type==="compound")for(var d=r.shape.paths,h=t.shape.paths,v=0;v<h.length;v++){var g=h[v];JE("shape",g,d[v])}else JE("shape",t,f),JE("extra",t,f);if(!a&&s&&(kMe(r,t,c),gU("shape",r,t,c),gU("extra",r,t,c),NMe(r,t,u,c)),f.style=u,IMe(r,f,o),PMe(r,t),s)if(a){var m={};z(cb,function(_){var b=_?t[_]:t;b&&b.enterFrom&&(_&&(m[_]=m[_]||{}),oe(_?m[_]:m,b.enterFrom))});var x=p3("enter",r,t,e,i);x.duration>0&&r.animateFrom(m,x)}else RMe(r,t,i||0,e,c);mre(r,t),u?r.dirty():r.markRedraw()}function mre(r,t){for(var e=Rd(r).leaveToProps,n=0;n<cb.length;n++){var i=cb[n],a=i?t[i]:t;a&&a.leaveTo&&(e||(e=Rd(r).leaveToProps={}),i&&(e[i]=e[i]||{}),oe(i?e[i]:e,a.leaveTo))}}function FS(r,t,e,n){if(r){var i=r.parent,a=Rd(r).leaveToProps;if(a){var o=p3("update",r,t,e,0);o.done=function(){i&&i.remove(r)},r.animateTo(a,o)}else i&&i.remove(r)}}function rf(r){return r==="all"}function IMe(r,t,e){var n=t.style;if(!r.isGroup&&n){if(e){r.useStyle({});for(var i=r.animators,a=0;a<i.length;a++){var o=i[a];o.targetName==="style"&&o.changeTarget(r.style)}}r.setStyle(n)}t&&(t.style=null,t&&r.attr(t),t.style=n)}function RMe(r,t,e,n,i){if(i){var a=p3("update",r,t,n,e);a.duration>0&&r.animateFrom(i,a)}}function PMe(r,t){Te(t,"silent")&&(r.silent=t.silent),Te(t,"ignore")&&(r.ignore=t.ignore),r instanceof Ca&&Te(t,"invisible")&&(r.invisible=t.invisible),r instanceof lt&&Te(t,"autoBatch")&&(r.autoBatch=t.autoBatch)}var So={},OMe={setTransform:function(r,t){return So.el[r]=t,this},getTransform:function(r){return So.el[r]},setShape:function(r,t){var e=So.el,n=e.shape||(e.shape={});return n[r]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(r){var t=So.el.shape;if(t)return t[r]},setStyle:function(r,t){var e=So.el,n=e.style;return n&&(n[r]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(r){var t=So.el.style;if(t)return t[r]},setExtra:function(r,t){var e=So.el.extra||(So.el.extra={});return e[r]=t,this},getExtra:function(r){var t=So.el.extra;if(t)return t[r]}};function BMe(){var r=this,t=r.el;if(t){var e=Rd(t).userDuring,n=r.userDuring;if(e!==n){r.el=r.userDuring=null;return}So.el=t,n(OMe)}}function gU(r,t,e,n){var i=e[r];if(i){var a=t[r],o;if(a){var s=e.transition,l=i.transition;if(l)if(!o&&(o=n[r]={}),rf(l))oe(o,a);else for(var u=qt(l),c=0;c<u.length;c++){var f=u[c],d=a[f];o[f]=d}else if(rf(s)||Ze(s,r)>=0){!o&&(o=n[r]={});for(var h=ht(a),c=0;c<h.length;c++){var f=h[c],d=a[f];VMe(i[f],d)&&(o[f]=d)}}}}}function JE(r,t,e){var n=t[r];if(n)for(var i=e[r]={},a=ht(n),o=0;o<a.length;o++){var s=a[o];i[s]=B0(n[s])}}function kMe(r,t,e){for(var n=t.transition,i=rf(n)?Fo:qt(n||[]),a=0;a<i.length;a++){var o=i[a];if(!(o==="style"||o==="shape"||o==="extra")){var s=r[o];e[o]=s}}}function LMe(r,t,e){for(var n=0;n<pU.length;n++){var i=pU[n],a=yre[i],o=t[i];o&&(e[a[0]]=o[0],e[a[1]]=o[1])}for(var n=0;n<Fo.length;n++){var s=Fo[n];t[s]!=null&&(e[s]=t[s])}}function NMe(r,t,e,n){if(e){var i=r.style,a;if(i){var o=e.transition,s=t.transition;if(o&&!rf(o)){var l=qt(o);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(r.getAnimationStyleProps&&(rf(s)||rf(o)||Ze(s,"style")>=0)){var d=r.getAnimationStyleProps(),h=d?d.style:null;if(h){!a&&(a=n.style={});for(var v=ht(e),u=0;u<v.length;u++){var c=v[u];if(h[c]){var f=i[c];a[c]=f}}}}}}}function VMe(r,t){return En(r)?r!==t:r!=null&&isFinite(r)}var xre=ot(),zMe=["percent","easing","shape","style","extra"];function _re(r){r.stopAnimation("keyframe"),r.attr(xre(r))}function fb(r,t,e){if(!(!e.isAnimationEnabled()||!t)){if(ue(t)){z(t,function(s){fb(r,s,e)});return}var n=t.keyframes,i=t.duration;if(e&&i==null){var a=Gd("enter",e,0);i=a&&a.duration}if(!(!n||!i)){var o=xre(r);z(cb,function(s){if(!(s&&!r[s])){var l;n.sort(function(u,c){return u.percent-c.percent}),z(n,function(u){var c=r.animators,f=s?u[s]:u;if(f){var d=ht(f);if(s||(d=Tt(d,function(g){return Ze(zMe,g)<0})),!!d.length){l||(l=r.animate(s,t.loop,!0),l.scope="keyframe");for(var h=0;h<c.length;h++)c[h]!==l&&c[h].targetName===l.targetName&&c[h].stopTracks(d);s&&(o[s]=o[s]||{});var v=s?o[s]:o;z(d,function(g){v[g]=((s?r[s]:r)||{})[g]}),l.whenWithKeys(i*u.percent,f,d,u.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var js="emphasis",tu="normal",g3="blur",y3="select",wu=[tu,js,g3,y3],eI={normal:["itemStyle"],emphasis:[js,"itemStyle"],blur:[g3,"itemStyle"],select:[y3,"itemStyle"]},tI={normal:["label"],emphasis:[js,"label"],blur:[g3,"label"],select:[y3,"label"]},FMe=["x","y"],HMe="e\0\0",oa={normal:{},emphasis:{},blur:{},select:{}},GMe={cartesian2d:bMe,geo:wMe,single:TMe,polar:MMe,calendar:DMe,matrix:EMe};function WP(r){return r instanceof lt}function UP(r){return r instanceof Ca}function WMe(r,t){t.copyTransform(r),UP(t)&&UP(r)&&(t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t.invisible=r.invisible,t.ignore=r.ignore,WP(t)&&WP(r)&&t.setShape(r.shape))}var UMe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this._progressiveEls=null;var o=this._data,s=e.getData(),l=this.group,u=yU(e,s,n,i);o||l.removeAll(),s.diff(o).add(function(f){rI(i,null,f,u(f,a),e,l,s)}).remove(function(f){var d=o.getItemGraphicEl(f);d&&FS(d,$s(d).option,e)}).update(function(f,d){var h=o.getItemGraphicEl(d);rI(i,h,f,u(f,a),e,l,s)}).execute();var c=e.get("clip",!0)?sy(e.coordinateSystem,!1,e):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,i,a,o){var s=n.getData(),l=yU(n,s,i,a),u=this._progressiveEls=[];function c(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var f=e.start;f<e.end;f++){var d=rI(null,null,f,l(f,o),n,this.group,s);d&&(d.traverse(c),u.push(d))}},t.prototype.eachRendered=function(e){Mu(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,i,a){var o=n.element;if(o==null||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},t.type="custom",t})(Bt);function m3(r){var t=r.type,e;if(t==="path"){var n=r.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=wre(n);e=bd(a,null,i,n.layout||"center"),$s(e).customPathData=a}else if(t==="image")e=new nn({}),$s(e).customImagePath=r.style.image;else if(t==="text")e=new gt({});else if(t==="group")e=new Be;else if(t==="compoundPath"){var n=r.shape;if(!n||!n.paths){var o="";Mt(o)}var s=he(n.paths,function(c){if(c.type==="path")return bd(c.shape.pathData,c,null);var f=ig(c.type);if(!f){var d="";Mt(d)}return new f});e=new Jg({shape:{paths:s}})}else{var l=ig(t);if(!l){var o="";Mt(o)}e=new l}return $s(e).customGraphicType=t,e.name=r.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function x3(r,t,e,n,i,a,o){_re(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),n&&n.transition==null&&(n.transition=FMe);var l=n&&n.style;if(l){if(t.type==="text"){var u=l;Te(u,"textFill")&&(u.fill=u.textFill),Te(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=WP(t)?l.decal:null;r&&f&&(f.dirty=!0,c=Cd(f,r)),l.__decalPattern=c}if(UP(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}Tx(t,n,a,{dataIndex:e,isInit:o,clearStyle:!0}),fb(t,n.keyframeAnimation,a)}function bre(r,t,e,n,i){var a=t.isGroup?null:t,o=i&&i[r].cfg;if(a){var s=a.ensureState(r);if(n===!1){var l=a.getState(r);l&&(l.style=null)}else s.style=n||null;o&&(s.textConfig=o),uf(a)}}function qMe(r,t,e){if(!r.isGroup){var n=r,i=e.currentZ,a=e.currentZLevel;n.z=i,n.zlevel=a;var o=t.z2;o!=null&&(n.z2=o||0);for(var s=0;s<wu.length;s++)YMe(n,t,wu[s])}}function YMe(r,t,e){var n=e===tu,i=n?t:hb(t,e),a=i?i.z2:null,o;a!=null&&(o=n?r:r.ensureState(e),o.z2=a||0)}function yU(r,t,e,n){var i=r.get("renderItem");if(typeof i=="string"){var a=zme(i);a&&(i=a)}var o=r.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):GMe[o.type](o));for(var l=ke({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:T,style:M,ordinalRawValue:A,styleEmphasis:D,visual:R,barLayout:k,currentSeriesIndices:O,font:V},s.api||{}),u={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:XMe(r.getData()),itemPayload:r.get("itemPayload")||{}},c,f,d={},h={},v={},g={},m=0;m<wu.length;m++){var x=wu[m];v[x]=r.getModel(eI[x]),g[x]=r.getModel(tI[x])}function _(N){return N===c?f||(f=t.getItemModel(N)):t.getItemModel(N)}function b(N,L){return t.hasItemOption?N===c?d[L]||(d[L]=_(N).getModel(eI[L])):_(N).getModel(eI[L]):v[L]}function w(N,L){return t.hasItemOption?N===c?h[L]||(h[L]=_(N).getModel(tI[L])):_(N).getModel(tI[L]):g[L]}return function(N,L){return c=N,f=null,d={},h={},i&&i(ke({dataIndexInside:N,dataIndex:t.getRawIndex(N),actionType:L?L.type:null},u),l)};function T(N,L){return L==null&&(L=c),t.getStore().get(t.getDimensionIndex(N||0),L)}function A(N,L){L==null&&(L=c),N=N||0;var G=t.getDimensionInfo(N);if(!G){var W=t.getDimensionIndex(N);return W>=0?t.getStore().get(W,L):void 0}var U=t.get(G.name,L),Z=G&&G.ordinalMeta;return Z?Z.categories[U]:U}function M(N,L){L==null&&(L=c);var G=t.getItemVisual(L,"style"),W=G&&G.fill,U=G&&G.opacity,Z=b(L,tu).getItemStyle();W!=null&&(Z.fill=W),U!=null&&(Z.opacity=U);var F={inheritColor:be(W)?W:te.color.neutral99},q=w(L,tu),$=Ut(q,null,F,!1,!0);$.text=q.getShallow("show")?Ie(r.getFormattedLabel(L,tu),Md(t,L)):null;var K=O_(q,F,!1);return I(N,Z),Z=dU(Z,$,K),N&&P(Z,N),Z.legacy=!0,Z}function D(N,L){L==null&&(L=c);var G=b(L,js).getItemStyle(),W=w(L,js),U=Ut(W,null,null,!0,!0);U.text=W.getShallow("show")?gi(r.getFormattedLabel(L,js),r.getFormattedLabel(L,tu),Md(t,L)):null;var Z=O_(W,null,!0);return I(N,G),G=dU(G,U,Z),N&&P(G,N),G.legacy=!0,G}function P(N,L){for(var G in L)Te(L,G)&&(N[G]=L[G])}function I(N,L){N&&(N.textFill&&(L.textFill=N.textFill),N.textPosition&&(L.textPosition=N.textPosition))}function R(N,L){if(L==null&&(L=c),Te(fU,N)){var G=t.getItemVisual(L,"style");return G?G[fU[N]]:null}if(Te(mMe,N))return t.getItemVisual(L,N)}function k(N){if(o.type==="cartesian2d"){var L=o.getBaseAxis();return G1e(ke({axis:L},N))}}function O(){return e.getCurrentSeriesIndices()}function V(N){return WB(N,e)}}function XMe(r){var t={};return z(r.dimensions,function(e){var n=r.getDimensionInfo(e);if(!n.isExtraCoord){var i=n.coordDim,a=t[i]=t[i]||[];a[n.coordDimIndex]=r.getDimensionIndex(e)}}),t}function rI(r,t,e,n,i,a,o){if(!n){a.remove(t);return}var s=_3(r,t,e,n,i,a);return s&&o.setItemGraphicEl(e,s),s&&or(s,n.focus,n.blurScope,n.emphasisDisabled),s}function _3(r,t,e,n,i,a){var o=-1,s=t;t&&Sre(t,n,i)&&(o=Ze(a.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=m3(n),s&&WMe(s,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),n.tooltipDisabled&&(u.tooltipDisabled=!0),oa.normal.cfg=oa.normal.conOpt=oa.emphasis.cfg=oa.emphasis.conOpt=oa.blur.cfg=oa.blur.conOpt=oa.select.cfg=oa.select.conOpt=null,oa.isLegacy=!1,jMe(u,e,n,i,l,oa),$Me(u,e,n,i,l),x3(r,u,e,n,oa,i,l),Te(n,"info")&&($s(u).info=n.info);for(var c=0;c<wu.length;c++){var f=wu[c];if(f!==tu){var d=hb(n,f),h=b3(n,d,f);bre(f,u,d,h,oa)}}return qMe(u,n,i),n.type==="group"&&ZMe(r,u,e,n,i),o>=0?a.replaceAt(u,o):a.add(u),u}function Sre(r,t,e){var n=$s(r),i=t.type,a=t.shape,o=t.style;return e.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&eDe(a)&&wre(a)!==n.customPathData||i==="image"&&Te(o,"image")&&o.image!==n.customImagePath}function $Me(r,t,e,n,i){var a=e.clipPath;if(a===!1)r&&r.getClipPath()&&r.removeClipPath();else if(a){var o=r.getClipPath();o&&Sre(o,a,n)&&(o=null),o||(o=m3(a),r.setClipPath(o)),x3(null,o,t,a,null,n,i)}}function jMe(r,t,e,n,i,a){if(!(r.isGroup||r.type==="compoundPath")){mU(e,null,a),mU(e,js,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=r.getTextContent();if(o===!1)c&&r.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=m3(o),r.setTextContent(c)),x3(null,c,t,o,null,n,i);for(var f=o&&o.style,d=0;d<wu.length;d++){var h=wu[d];if(h!==tu){var v=a[h].conOpt;bre(h,c,v,b3(o,v,h),null)}}f?c.dirty():c.markRedraw()}}}}function mU(r,t,e){var n=t?hb(r,t):r,i=t?b3(r,n,js):r.style,a=r.type,o=n?n.textConfig:null,s=r.textContent,l=s?t?hb(s,t):s:null;if(i&&(e.isLegacy||pre(i,a,!!o,!!l))){e.isLegacy=!0;var u=gre(i,a,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var f=t?e[t]:e.normal;f.cfg=o,f.conOpt=l}function hb(r,t){return t?r?r[t]:null:r}function b3(r,t,e){var n=t&&t.style;return n==null&&e===js&&r&&(n=r.styleEmphasis),n}function ZMe(r,t,e,n,i){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,l=s==="byName"||n.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){QMe({api:r,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:i,group:t});return}u&&t.removeAll();for(var c=0;c<o;c++){var f=a[c],d=t.childAt(c);f?(f.ignore==null&&(f.ignore=!1),_3(r,d,e,f,i,t)):d.ignore=!0}for(var h=t.childCount()-1;h>=c;h--){var v=t.childAt(h);KMe(t,v,i)}}}function KMe(r,t,e){t&&FS(t,$s(r).option,e)}function QMe(r){new rl(r.oldChildren,r.newChildren,xU,xU,r).add(_U).update(_U).remove(JMe).execute()}function xU(r,t){var e=r&&r.name;return e??HMe+t}function _U(r,t){var e=this.context,n=r!=null?e.newChildren[r]:null,i=t!=null?e.oldChildren[t]:null;_3(e.api,i,e.dataIndex,n,e.seriesModel,e.group)}function JMe(r){var t=this.context,e=t.oldChildren[r];e&&FS(e,$s(e).option,t.seriesModel)}function wre(r){return r&&(r.pathData||r.d)}function eDe(r){return r&&(Te(r,"pathData")||Te(r,"d"))}function tDe(r){r.registerChartView(UMe),r.registerSeriesModel(xMe)}var kc=ot(),bU=Oe,nI=Se,S3=(function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(t,e,n,i){var a=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,t,e,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,e);if(!s)s=this._group=new Be,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),n.getZr().add(s);else{var d=je(SU,e,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,e)}CU(s,e,!0),this._renderHandle(a)}},r.prototype.remove=function(t){this.clear(t)},r.prototype.dispose=function(t){this.clear(t)},r.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,a=i.type==="category",o=e.get("snap");if(!o&&!a)return!1;if(n==="auto"||n==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=Wk(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return n===!0},r.prototype.makeElOption=function(t,e,n,i,a){},r.prototype.createPointerEl=function(t,e,n,i){var a=e.pointer;if(a){var o=kc(t).pointerEl=new Tf[a.type](bU(e.pointer));t.add(o)}},r.prototype.createLabelEl=function(t,e,n,i){if(e.label){var a=kc(t).labelEl=new gt(bU(e.label));t.add(a),wU(a,i)}},r.prototype.updatePointerEl=function(t,e,n){var i=kc(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},r.prototype.updateLabelEl=function(t,e,n,i){var a=kc(t).labelEl;a&&(a.setStyle(e.label.style),n(a,{x:e.label.x,y:e.label.y}),wU(a,i))},r.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=e.getModel("handle"),o=e.get("status");if(!a.get("show")||!o||o==="hide"){i&&n.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=Wd(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Js(u.event)},onmousedown:nI(this._onHandleDragMove,this,0,0),drift:nI(this._onHandleDragMove,this),ondragend:nI(this._onHandleDragEnd,this)}),n.add(i)),CU(i,e,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ue(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,jd(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},r.prototype._moveHandleToValue=function(t,e){SU(this._axisPointerModel,!e&&this._moveAnimation,this._handle,iI(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(iI(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(iI(i)),kc(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),lg(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},r})();function SU(r,t,e,n){Cre(kc(e).lastProp,n)||(kc(e).lastProp=n,t?bt(e,n,r):(e.stopAnimation(),e.attr(n)))}function Cre(r,t){if(Le(r)&&Le(t)){var e=!0;return z(t,function(n,i){e=e&&Cre(r[i],n)}),!!e}else return r===t}function wU(r,t){r[t.get(["label","show"])?"show":"hide"]()}function iI(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function CU(r,t,e){var n=t.get("z"),i=t.get("zlevel");r&&r.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=e)})}function w3(r){var t=r.get("type"),e=r.getModel(t+"Style"),n;return t==="line"?(n=e.getLineStyle(),n.fill=null):t==="shadow"&&(n=e.getAreaStyle(),n.stroke=null),n}function Tre(r,t,e,n,i){var a=e.get("value"),o=Are(a,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),s=e.getModel("label"),l=Yd(s.get("padding")||0),u=s.getFont(),c=cS(o,u),f=i.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],v=i.align;v==="right"&&(f[0]-=d),v==="center"&&(f[0]-=d/2);var g=i.verticalAlign;g==="bottom"&&(f[1]-=h),g==="middle"&&(f[1]-=h/2),rDe(f,d,h,n);var m=s.get("backgroundColor");(!m||m==="auto")&&(m=t.get(["axisLine","lineStyle","color"])),r.label={x:f[0],y:f[1],style:Ut(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function rDe(r,t,e,n){var i=n.getWidth(),a=n.getHeight();r[0]=Math.min(r[0]+t,i)-t,r[1]=Math.min(r[1]+e,a)-e,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function Are(r,t,e,n,i){r=t.scale.parse(r);var a=t.scale.getLabel({value:r},{precision:i.precision}),o=i.formatter;if(o){var s={value:X_(t,{value:r}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};z(n,function(l){var u=e.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),be(o)?a=o.replace("{value}",a):Re(o)&&(a=o(s))}return a}function C3(r,t,e){var n=Jr();return sl(n,n,e.rotation),to(n,n,e.position),Ja([r.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function Mre(r,t,e,n,i,a){var o=Zn.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),Tre(t,n,i,a,{position:C3(n.axis,r,e),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function T3(r,t,e){return e=e||0,{x1:r[e],y1:r[1-e],x2:t[e],y2:t[1-e]}}function Dre(r,t,e){return e=e||0,{x:r[e],y:r[1-e],width:t[e],height:t[1-e]}}function TU(r,t,e,n,i,a){return{cx:r,cy:t,r0:e,r:n,startAngle:i,endAngle:a,clockwise:!0}}var nDe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var s=i.axis,l=s.grid,u=a.get("type"),c=AU(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(n,!0));if(u&&u!=="none"){var d=w3(a),h=iDe[u](s,f,c);h.style=d,e.graphicKey=h.type,e.pointer=h}var v=nb(l.getRect(),i);Mre(n,e,v,i,a,o)},t.prototype.getHandleTransform=function(e,n,i){var a=nb(n.axis.grid.getRect(),n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=C3(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=AU(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[e.x,e.y];f[c]+=n[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:e.rotation,cursorPoint:h,tooltipOption:v[c]}},t})(S3);function AU(r,t){var e={};return e[t.dim+"AxisIndex"]=t.index,r.getCartesian(e)}var iDe={line:function(r,t,e){var n=T3([t,e[0]],[t,e[1]],MU(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=Math.max(1,r.getBandWidth()),i=e[1]-e[0];return{type:"Rect",shape:Dre([t-n/2,e[0]],[n,i],MU(r))}}};function MU(r){return r.dim==="x"?0:1}var aDe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:te.color.border,width:1,type:"dashed"},shadowStyle:{color:te.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:te.color.neutral00,padding:[5,7,5,7],backgroundColor:te.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:te.color.accent40,throttle:40}},t})(at),Us=ot(),oDe=z;function Ere(r,t,e){if(!ut.node){var n=t.getZr();Us(n).records||(Us(n).records={}),sDe(n,t);var i=Us(n).records[r]||(Us(n).records[r]={});i.handler=e}}function sDe(r,t){if(Us(r).initialized)return;Us(r).initialized=!0,e("click",je(DU,"click")),e("mousemove",je(DU,"mousemove")),e("globalout",uDe);function e(n,i){r.on(n,function(a){var o=cDe(t);oDe(Us(r).records,function(s){s&&i(s,a,o.dispatchAction)}),lDe(o.pendings,t)})}}function lDe(r,t){var e=r.showTip.length,n=r.hideTip.length,i;e?i=r.showTip[e-1]:n&&(i=r.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function uDe(r,t,e){r.handler("leave",null,e)}function DU(r,t,e,n){t.handler(r,e,n)}function cDe(r){var t={showTip:[],hideTip:[]},e=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=e,r.dispatchAction(n))};return{dispatchAction:e,pendings:t}}function qP(r,t){if(!ut.node){var e=t.getZr(),n=(Us(e).records||{})[r];n&&(Us(e).records[r]=null)}}var fDe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=n.getComponent("tooltip"),o=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Ere("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,n){qP("axisPointer",n)},t.prototype.dispose=function(e,n){qP("axisPointer",n)},t.type="axisPointer",t})(Yt);function Ire(r,t){var e=[],n=r.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),o=sf(a,r);if(o==null||o<0||ue(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(r.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,v=a.mapDimension(d),g=[];g[h]=a.get(v,o),g[1-h]=a.get(a.getCalculationInfo("stackResultDimension"),o),e=l.dataToPoint(g)||[]}else e=l.dataToPoint(a.getValues(he(l.dimensions,function(x){return a.mapDimension(x)}),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),e=[m.x+m.width/2,m.y+m.height/2]}return{point:e,el:s}}var EU=ot();function hDe(r,t,e){var n=r.currTrigger,i=[r.x,r.y],a=r,o=r.dispatchAction||Se(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Ax(i)&&(i=Ire({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=Ax(i),u=a.axesInfo,c=s.axesInfo,f=n==="leave"||Ax(i),d={},h={},v={list:[],map:{}},g={showPointer:je(vDe,h),showTooltip:je(pDe,v)};z(s.coordSysMap,function(x,_){var b=l||x.containPoint(i);z(s.coordSysAxesInfo[_],function(w,T){var A=w.axis,M=xDe(u,w);if(!f&&b&&(!u||M)){var D=M&&M.value;D==null&&!l&&(D=A.pointToData(i)),D!=null&&IU(w,D,g,!1,d)}})});var m={};return z(c,function(x,_){var b=x.linkGroup;b&&!h[_]&&z(b.axesInfo,function(w,T){var A=h[T];if(w!==x&&A){var M=A.value;b.mapper&&(M=x.axis.scale.parse(b.mapper(M,RU(w),RU(x)))),m[x.key]=M}})}),z(m,function(x,_){IU(c[_],x,g,!0,d)}),gDe(h,c,d),yDe(v,i,r,o),mDe(c,o,e),d}}function IU(r,t,e,n,i){var a=r.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!r.involveSeries){e.showPointer(r,t);return}var o=dDe(t,r),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&oe(i,s[0]),!n&&r.snap&&a.containData(l)&&l!=null&&(t=l),e.showPointer(r,t,s),e.showTooltip(r,o,l)}}function dDe(r,t){var e=t.axis,n=e.dim,i=r,a=[],o=Number.MAX_VALUE,s=-1;return z(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,r,e);d=h.dataIndices,f=h.nestestValue}else{if(d=l.indicesOfNearest(n,c[0],r,e.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var v=r-f,g=Math.abs(v);g<=o&&((g<o||v>=0&&s<0)&&(o=g,s=v,i=f,a.length=0),z(d,function(m){a.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:a,snapToValue:i}}function vDe(r,t,e,n){r[t.key]={value:e,payloadBatch:n}}function pDe(r,t,e,n){var i=e.payloadBatch,a=t.axis,o=a.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,u=yg(l),c=r.map[u];c||(c=r.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function gDe(r,t,e){var n=e.axesInfo=[];z(t,function(i,a){var o=i.axisPointerModel.option,s=r[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function yDe(r,t,e,n){if(Ax(t)||!r.list.length){n({type:"hideTip"});return}var i=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:r.list})}function mDe(r,t,e){var n=e.getZr(),i="axisPointerLastHighlights",a=EU(n)[i]||{},o=EU(n)[i]={};z(r,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&z(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;o[h]=d})});var s=[],l=[];z(a,function(u,c){!o[c]&&l.push(u)}),z(o,function(u,c){!a[c]&&s.push(u)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function xDe(r,t){for(var e=0;e<(r||[]).length;e++){var n=r[e];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function RU(r){var t=r.axis.model,e={},n=e.axisDim=r.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function Ax(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function cy(r){Ef.registerAxisPointerClass("CartesianAxisPointer",nDe),r.registerComponentModel(aDe),r.registerComponentView(fDe),r.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!ue(e)&&(t.axisPointer.link=[e])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=_Se(t,e)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},hDe)}function _De(r){Je(ete),Je(cy)}var bDe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(n),d=a.get("type");if(d&&d!=="none"){var h=w3(a),v=wDe[d](s,l,f,c);v.style=h,e.graphicKey=v.type,e.pointer=v}var g=a.get(["label","margin"]),m=SDe(n,i,a,l,g);Tre(e,i,a,o,m)},t})(S3);function SDe(r,t,e,n,i){var a=t.axis,o=a.dataToCoord(r),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var d=Jr();sl(d,d,s),to(d,d,[n.cx,n.cy]),u=Ja([o,-i],d);var h=t.getModel("axisLabel").get("rotate")||0,v=Zn.innerTextLayout(s,h*Math.PI/180,-1);c=v.textAlign,f=v.textVerticalAlign}else{var g=l[1];u=n.coordToPoint([g+i,o]);var m=n.cx,x=n.cy;c=Math.abs(u[0]-m)/g<.3?"center":u[0]>m?"left":"right",f=Math.abs(u[1]-x)/g<.3?"middle":u[1]>x?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var wDe={line:function(r,t,e,n){return r.dim==="angle"?{type:"Line",shape:T3(t.coordToPoint([n[0],e]),t.coordToPoint([n[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(r,t,e,n){var i=Math.max(1,r.getBandWidth()),a=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:TU(t.cx,t.cy,n[0],n[1],(-e-i/2)*a,(-e+i/2)*a)}:{type:"Sector",shape:TU(t.cx,t.cy,e-i/2,e+i/2,0,Math.PI*2)}}},CDe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.findAxisModel=function(e){var n,i=this.ecModel;return i.eachComponent(e,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t})(at),A3=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",vr).models[0]},t.type="polarAxis",t})(at);mr(A3,Jd);var TDe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="angleAxis",t})(A3),ADe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="radiusAxis",t})(A3),M3=(function(r){J(t,r);function t(e,n){return r.call(this,"radius",e,n)||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t})(Pa);M3.prototype.dataToRadius=Pa.prototype.dataToCoord;M3.prototype.radiusToData=Pa.prototype.coordToData;var MDe=ot(),D3=(function(r){J(t,r);function t(e,n){return r.call(this,"angle",e,n||[0,360])||this}return t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),i=e.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),c=cS(s==null?"":s+"",n.getFont(),"center","top"),f=Math.max(c.height,7),d=f/u;isNaN(d)&&(d=1/0);var h=Math.max(0,Math.floor(d)),v=MDe(e.model),g=v.lastAutoInterval,m=v.lastTickCount;return g!=null&&m!=null&&Math.abs(g-h)<=1&&Math.abs(m-o)<=1&&g>h?h=g:(v.lastTickCount=o,v.lastAutoInterval=h),h},t})(Pa);D3.prototype.dataToAngle=Pa.prototype.dataToCoord;D3.prototype.angleToData=Pa.prototype.coordToData;var Rre=["radius","angle"],DDe=(function(){function r(t){this.dimensions=Rre,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new M3,this._angleAxis=new D3,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},r.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},r.prototype.getAxis=function(t){var e="_"+t+"Axis";return this[e]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(t){var e=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},r.prototype.dataToPoint=function(t,e,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)],n)},r.prototype.pointToData=function(t,e,n){n=n||[];var i=this.pointToCoord(t);return n[0]=this._radiusAxis.radiusToData(i[0],e),n[1]=this._angleAxis.angleToData(i[1],e),n},r.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var l=Math.sqrt(e*e+n*n);e/=l,n/=l;for(var u=Math.atan2(-n,e)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},r.prototype.coordToPoint=function(t,e){e=e||[];var n=t[0],i=t[1]/180*Math.PI;return e[0]=Math.cos(i)*n+this.cx,e[1]=-Math.sin(i)*n+this.cy,e},r.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis(),n=e.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,d=this.r,h=this.r0;return d!==h&&f-o<=d*d&&f+o>=h*h},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},r.prototype.convertToPixel=function(t,e,n){var i=PU(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=PU(e);return i===this?this.pointToData(n):null},r})();function PU(r){var t=r.seriesModel,e=r.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function EDe(r,t,e){var n=t.get("center"),i=qr(t,e).refContainer;r.cx=_e(n[0],i.width)+i.x,r.cy=_e(n[1],i.height)+i.y;var a=r.getRadiusAxis(),o=Math.min(i.width,i.height)/2,s=t.get("radius");s==null?s=[0,"100%"]:ue(s)||(s=[0,s]);var l=[_e(s[0],o),_e(s[1],o)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function IDe(r,t){var e=this,n=e.getAngleAxis(),i=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),r.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();z($_(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),z($_(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),df(n.scale,n.model),df(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function RDe(r){return r.mainType==="angleAxis"}function OU(r,t){var e;if(r.type=t.get("type"),r.scale=iy(t),r.onBand=t.get("boundaryGap")&&r.type==="category",r.inverse=t.get("inverse"),RDe(t)){r.inverse=r.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(e=t.get("endAngle"))!==null&&e!==void 0?e:n+(r.inverse?-360:360);r.setExtent(n,i)}t.axis=r,r.model=t}var PDe={dimensions:Rre,create:function(r,t){var e=[];return r.eachComponent("polar",function(n,i){var a=new DDe(i+"");a.update=IDe;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");OU(o,l),OU(s,u),EDe(a,n,t),e.push(a),n.coordinateSystem=a,a.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",vr).models[0];n.coordinateSystem=i.coordinateSystem}}),e}},ODe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function k1(r,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=r.coordToPoint([t[0],e]),i=r.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function L1(r){var t=r.getRadiusAxis();return t.inverse?0:1}function BU(r){var t=r[0],e=r[r.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&r.pop()}var BDe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n){if(this.group.removeAll(),!!e.get("show")){var i=e.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords({breakTicks:"none"}),l=i.getMinorTicksCoords(),u=he(i.getViewLabels(),function(c){c=Oe(c);var f=i.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(d),c});BU(u),BU(s),z(ODe,function(c){e.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&kDe[c](this.group,e,a,s,l,o,u)},this)}},t.type="angleAxis",t})(Ef),kDe={axisLine:function(r,t,e,n,i,a){var o=t.getModel(["axisLine","lineStyle"]),s=e.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=L1(e),f=c?0:1,d,h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?d=new Tf[h]({shape:{cx:e.cx,cy:e.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):d=new Fd({shape:{cx:e.cx,cy:e.cy,r:a[c],r0:a[f]},style:o.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,r.add(d)},axisTick:function(r,t,e,n,i,a){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[L1(e)],u=he(n,function(c){return new Mr({shape:k1(e,[l,l+s],c.coord)})});r.add(Ni(u,{style:ke(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,t,e,n,i,a){if(i.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=a[L1(e)],c=[],f=0;f<i.length;f++)for(var d=0;d<i[f].length;d++)c.push(new Mr({shape:k1(e,[u,u+l],i[f][d].coord)}));r.add(Ni(c,{style:ke(s.getModel("lineStyle").getLineStyle(),ke(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,t,e,n,i,a,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");z(o,function(f,d){var h=l,v=f.tickValue,g=a[L1(e)],m=e.coordToPoint([g+u,f.coord]),x=e.cx,_=e.cy,b=Math.abs(m[0]-x)/g<.3?"center":m[0]>x?"left":"right",w=Math.abs(m[1]-_)/g<.3?"middle":m[1]>_?"top":"bottom";if(s&&s[v]){var T=s[v];Le(T)&&T.textStyle&&(h=new st(T.textStyle,l,l.ecModel))}var A=new gt({silent:Zn.isLabelSilent(t),style:Ut(h,{x:m[0],y:m[1],fill:h.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:b,verticalAlign:w})});if(r.add(A),ul({el:A,componentModel:t,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return A.isTruncated},value:f.rawLabel,tickIndex:d}}),c){var M=Zn.makeAxisEventDataBase(t);M.targetType="axisLabel",M.value=f.rawLabel,He(A).eventData=M}},this)},splitLine:function(r,t,e,n,i,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<n.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new Mr({shape:k1(e,a,n[f].coord)}))}for(var f=0;f<c.length;f++)r.add(Ni(c[f],{style:ke({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(r,t,e,n,i,a){if(i.length){for(var o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new Mr({shape:k1(e,a,i[u][c].coord)}));r.add(Ni(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(r,t,e,n,i,a){if(n.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,d=-n[0].coord*f,h=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),g=t.get("clockwise"),m=1,x=n.length;m<=x;m++){var _=m===x?n[0].coord:n[m].coord,b=u++%l.length;c[b]=c[b]||[],c[b].push(new Rn({shape:{cx:e.cx,cy:e.cy,r0:h,r:v,startAngle:d,endAngle:-_*f,clockwise:g},silent:!0})),d=-_*f}for(var m=0;m<c.length;m++)r.add(Ni(c[m],{style:ke({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}}},LDe=["splitLine","splitArea","minorSplitLine"],NDe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return t.prototype.render=function(e,n,i){if(this.group.removeAll(),!!e.get("show")){var a=this._axisGroup,o=this._axisGroup=new Be;this.group.add(o);var s=e.axis,l=s.polar,u=l.getAngleAxis(),c=s.getTicksCoords(),f=s.getMinorTicksCoords(),d=u.getExtent()[0],h=s.getExtent(),v=zDe(l,e,d),g=new Zn(e,i,v);g.build(),o.add(g.group),ey(a,o,e),z(LDe,function(m){e.get([m,"show"])&&!s.scale.isBlank()&&VDe[m](this.group,e,l,d,h,c,f)},this)}},t.type="radiusAxis",t})(Ef),VDe={splitLine:function(r,t,e,n,i,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=e.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),h=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],g=0;g<a.length;g++){var m=u++%l.length;v[m]=v[m]||[],v[m].push(new Tf[h]({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[g].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse}}))}for(var g=0;g<v.length;g++)r.add(Ni(v[g],{style:ke({stroke:l[g%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(r,t,e,n,i,a,o){if(o.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new $o({shape:{cx:e.cx,cy:e.cy,r:o[c][f].coord}}));r.add(Ni(u,{style:ke({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(r,t,e,n,i,a){if(a.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,d=1;d<a.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Rn({shape:{cx:e.cx,cy:e.cy,r0:f,r:a[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[d].coord}for(var d=0;d<c.length;d++)r.add(Ni(c[d],{style:ke({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}};function zDe(r,t,e){return{position:[r.cx,r.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function Pre(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function Ore(r,t){return t.dim+r.model.componentIndex}function FDe(r,t,e){var n={},i=HDe(Tt(t.getSeriesByType(r),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(r,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=Ore(s,l),c=Pre(a),f=i[u][c],d=f.offset,h=f.width,v=s.getOtherAxis(l),g=a.coordinateSystem.cx,m=a.coordinateSystem.cy,x=a.get("barMinHeight")||0,_=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var b=o.mapDimension(v.dim),w=o.mapDimension(l.dim),T=nl(o,b),A=l.dim!=="radius"||!a.get("roundCap",!0),M=v.model,D=M.get("startValue"),P=v.dataToCoord(D||0),I=0,R=o.count();I<R;I++){var k=o.get(b,I),O=o.get(w,I),V=k>=0?"p":"n",N=P;T&&(n[c][O]||(n[c][O]={p:P,n:P}),N=n[c][O][V]);var L=void 0,G=void 0,W=void 0,U=void 0;if(v.dim==="radius"){var Z=v.dataToCoord(k)-P,F=l.dataToCoord(O);Math.abs(Z)<x&&(Z=(Z<0?-1:1)*x),L=N,G=N+Z,W=F-d,U=W-h,T&&(n[c][O][V]=G)}else{var q=v.dataToCoord(k,A)-P,$=l.dataToCoord(O);Math.abs(q)<_&&(q=(q<0?-1:1)*_),L=$+d,G=L+h,W=N,U=N+q,T&&(n[c][O][V]=U)}o.setItemLayout(I,{cx:g,cy:m,r0:L,r:G,startAngle:-W*Math.PI/180,endAngle:-U*Math.PI/180,clockwise:W>=U})}}})}function HDe(r){var t={};z(r,function(n,i){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),l=Ore(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;t[l]=f;var h=Pre(n);d[h]||f.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var v=_e(n.get("barWidth"),c),g=_e(n.get("barMaxWidth"),c),m=n.get("barGap"),x=n.get("barCategoryGap");v&&!d[h].width&&(v=Math.min(f.remainedWidth,v),d[h].width=v,f.remainedWidth-=v),g&&(d[h].maxWidth=g),m!=null&&(f.gap=m),x!=null&&(f.categoryGap=x)});var e={};return z(t,function(n,i){e[i]={};var a=n.stacks,o=n.bandWidth,s=_e(n.categoryGap,o),l=_e(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),z(a,function(g,m){var x=g.maxWidth;x&&x<f&&(x=Math.min(x,u),g.width&&(x=Math.min(x,g.width)),u-=x,g.width=x,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var d=0,h;z(a,function(g,m){g.width||(g.width=f),h=g,d+=g.width*(1+l)}),h&&(d-=h.width*l);var v=-d/2;z(a,function(g,m){e[i][m]=e[i][m]||{offset:v,width:g.width},v+=g.width*(1+l)})}),e}var GDe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},WDe={splitNumber:5},UDe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="polar",t})(Yt);function qDe(r){Je(cy),Ef.registerAxisPointerClass("PolarAxisPointer",bDe),r.registerCoordinateSystem("polar",PDe),r.registerComponentModel(CDe),r.registerComponentView(UDe),Dd(r,"angle",TDe,GDe),Dd(r,"radius",ADe,WDe),r.registerComponentView(BDe),r.registerComponentView(NDe),r.registerLayout(je(FDe,"bar"))}function YP(r,t){t=t||{};var e=r.coordinateSystem,n=r.axis,i={},a=n.position,o=n.orient,s=e.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[o==="vertical"?u.vertical[a]:l[0],o==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],r.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),dn(t.labelInside,r.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var d=r.get(["axisLabel","rotate"]);return i.labelRotate=a==="top"?-d:d,i.z2=1,i}var YDe=["splitArea","splitLine","breakArea"],XDe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return t.prototype.render=function(e,n,i,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new Be;var l=YP(e),u=new Zn(e,i,l);u.build(),o.add(this._axisGroup),o.add(u.group),z(YDe,function(c){e.get([c,"show"])&&$De[c](this,this.group,this._axisGroup,e,i)},this),ey(s,this._axisGroup,e),r.prototype.render.call(this,e,n,i,a)},t.prototype.remove=function(){Kee(this)},t.type="singleAxis",t})(Ef),$De={splitLine:function(r,t,e,n,i){var a=n.axis;if(!a.scale.isBlank()){var o=n.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=s.get("width"),c=n.coordinateSystem.getRect(),f=a.isHorizontal(),d=[],h=0,v=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),g=[],m=[],x=0;x<v.length;++x){var _=a.toGlobalCoord(v[x].coord);f?(g[0]=_,g[1]=c.y,m[0]=_,m[1]=c.y+c.height):(g[0]=c.x,g[1]=_,m[0]=c.x+c.width,m[1]=_);var b=new Mr({shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},silent:!0});Sd(b.shape,u);var w=h++%l.length;d[w]=d[w]||[],d[w].push(b)}for(var T=s.getLineStyle(["color"]),x=0;x<d.length;++x)t.add(Ni(d[x],{style:ke({stroke:l[x%l.length]},T),silent:!0}))}},splitArea:function(r,t,e,n,i){Zee(r,e,n,n)},breakArea:function(r,t,e,n,i){var a=uy(),o=n.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(t,r,n,n.coordinateSystem.getRect(),i)}},Mx=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},t})(at);mr(Mx,Jd.prototype);var jDe=(function(r){J(t,r);function t(e,n,i,a,o){var s=r.call(this,e,n,i)||this;return s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t})(Pa),Bre=["single"],ZDe=(function(){function r(t,e,n){this.type="single",this.dimension="single",this.dimensions=Bre,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return r.prototype._init=function(t,e,n){var i=this.dimension,a=new jDe(i,iy(t),[0,0],t.get("type"),t.get("position")),o=a.type==="category";a.onBand=o&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},r.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();z(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),df(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(t,e){var n=qr(t,e).refContainer;this._rect=rr(t.getBoxLayoutParams(),n),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(i[a],i[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},r.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(o){return o+e}:function(o){return i-o+e},t.toLocalCoord=a?function(o){return o-e}:function(o){return i-o+e}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},r.prototype.pointToData=function(t,e,n){n=n||[];var i=this.getAxis();return n[0]=i.coordToData(i.toLocalCoord(t[i.orient==="horizontal"?0:1])),n},r.prototype.dataToPoint=function(t,e,n){var i=this.getAxis(),a=this.getRect();n=n||[];var o=i.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),n[o]=i.toGlobalCoord(i.dataToCoord(+t)),n[1-o]=o===0?a.y+a.height/2:a.x+a.width/2,n},r.prototype.convertToPixel=function(t,e,n){var i=kU(e);return i===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=kU(e);return i===this?this.pointToData(n):null},r})();function kU(r){var t=r.seriesModel,e=r.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function KDe(r,t){var e=[];return r.eachComponent("singleAxis",function(n,i){var a=new ZDe(n,r,t);a.name="single_"+i,a.resize(n,t),n.coordinateSystem=a,e.push(a)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",vr).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),e}var QDe={create:KDe,dimensions:Bre},LU=["x","y"],JDe=["width","height"],eEe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,i,a,o){var s=i.axis,l=s.coordinateSystem,u=aI(l,1-db(s)),c=l.dataToPoint(n)[0],f=a.get("type");if(f&&f!=="none"){var d=w3(a),h=tEe[f](s,c,u);h.style=d,e.graphicKey=h.type,e.pointer=h}var v=YP(i);Mre(n,e,v,i,a,o)},t.prototype.getHandleTransform=function(e,n,i){var a=YP(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=C3(n.axis,e,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,i,a){var o=i.axis,s=o.coordinateSystem,l=db(o),u=aI(s,l),c=[e.x,e.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=aI(s,1-l),d=(f[1]+f[0])/2,h=[d,d];return h[l]=c[l],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},t})(S3),tEe={line:function(r,t,e){var n=T3([t,e[0]],[t,e[1]],db(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,t,e){var n=r.getBandWidth(),i=e[1]-e[0];return{type:"Rect",shape:Dre([t-n/2,e[0]],[n,i],db(r))}}};function db(r){return r.isHorizontal()?0:1}function aI(r,t){var e=r.getRect();return[e[LU[t]],e[LU[t]]+e[JDe[t]]]}var rEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="single",t})(Yt);function nEe(r){Je(cy),Ef.registerAxisPointerClass("SingleAxisPointer",eEe),r.registerComponentView(rEe),r.registerComponentView(XDe),r.registerComponentModel(Mx),Dd(r,"single",Mx,Mx.defaultOption),r.registerCoordinateSystem("single",QDe)}var iEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n,i){var a=Af(e);r.prototype.init.apply(this,arguments),NU(e,a)},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),NU(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.layoutMode="box",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:te.color.axisLine,width:1,type:"solid"}},itemStyle:{color:te.color.neutral00,borderWidth:1,borderColor:te.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:te.size.s,color:te.color.secondary},monthLabel:{show:!0,position:"start",margin:te.size.s,align:"center",formatter:null,color:te.color.secondary},yearLabel:{show:!0,position:null,margin:te.size.xl,formatter:null,color:te.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t})(at);function NU(r,t){var e=r.cellSize,n;ue(e)?n=e:n=r.cellSize=[e,e],n.length===1&&(n[1]=n[0]);var i=he([0,1],function(a){return Age(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});Wo(r,t,{type:"box",ignoreSize:i})}var aEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){var a=this.group;a.removeAll();var o=e.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=n.getLocaleModel();this._renderDayRect(e,s,a),this._renderLines(e,s,l,a),this._renderYearText(e,s,l,a),this._renderMonthText(e,u,l,a),this._renderWeekText(e,u,s,l,a)},t.prototype._renderDayRect=function(e,n,i){for(var a=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToCalendarLayout([u],!1).tl,f=new rt({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});i.add(f)}},t.prototype._renderLines=function(e,n,i,a){var o=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,d=0;f.time<=n.end.time;d++){v(f.formatedDate),d===0&&(f=s.getDateInfo(n.start.y+"-"+n.start.m));var h=f.date;h.setMonth(h.getMonth()+1),f=s.getDateInfo(h)}v(s.getNextNDay(n.end.time,1).formatedDate);function v(g){o._firstDayOfMonth.push(s.getDateInfo(g)),o._firstDayPoints.push(s.dataToCalendarLayout([g],!1).tl);var m=o._getLinePointsOfOneWeek(e,g,i);o._tlpoints.push(m[0]),o._blpoints.push(m[m.length-1]),u&&o._drawSplitline(m,l,a)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,i),l,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,i),l,a)},t.prototype._getEdgesPoints=function(e,n,i){var a=[e[0].slice(),e[e.length-1].slice()],o=i==="horizontal"?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},t.prototype._drawSplitline=function(e,n,i){var a=new pn({z2:20,shape:{points:e},style:n});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,n,i){for(var a=e.coordinateSystem,o=a.getDateInfo(n),s=[],l=0;l<7;l++){var u=a.getNextNDay(o.time,l),c=a.dataToCalendarLayout([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,n){return be(e)&&e?xge(e,n):Re(e)?e(n):n.nameMap},t.prototype._yearTextPositionControl=function(e,n,i,a,o){var s=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=o,u=["center","top"]):a==="left"?s-=o:a==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,n,i,a){var o=e.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,d=i==="horizontal"?0:1,h={top:[c,u[d][1]],bottom:[c,u[1-d][1]],left:[u[1-d][0],f],right:[u[d][0],f]},v=n.start.y;+n.end.y>+n.start.y&&(v=v+"-"+n.end.y);var g=o.get("formatter"),m={start:n.start.y,end:n.end.y,nameMap:v},x=this._formatterLabel(g,m),_=new gt({z2:30,style:Ut(o,{text:x}),silent:o.get("silent")});_.attr(this._yearTextPositionControl(_,h[l],i,l,s)),a.add(_)}},t.prototype._monthTextPositionControl=function(e,n,i,a,o){var s="left",l="top",u=e[0],c=e[1];return i==="horizontal"?(c=c+o,n&&(s="center"),a==="start"&&(l="bottom")):(u=u+o,n&&(l="middle"),a==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,n,i,a){var o=e.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||be(s))&&(s&&(n=HR(s)||n),s=n.get(["time","monthAbbr"])||[]);var d=u==="start"?0:1,h=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=c==="center",g=o.get("silent"),m=0;m<f[d].length-1;m++){var x=f[d][m].slice(),_=this._firstDayOfMonth[m];if(v){var b=this._firstDayPoints[m];x[h]=(b[h]+f[0][m+1][h])/2}var w=o.get("formatter"),T=s[+_.m-1],A={yyyy:_.y,yy:(_.y+"").slice(2),MM:_.m,M:+_.m,nameMap:T},M=this._formatterLabel(w,A),D=new gt({z2:30,style:oe(Ut(o,{text:M}),this._monthTextPositionControl(x,v,i,u,l)),silent:g});a.add(D)}}},t.prototype._weekTextPositionControl=function(e,n,i,a,o){var s="center",l="middle",u=e[0],c=e[1],f=i==="start";return n==="horizontal"?(u=u+a+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+a+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,n,i,a,o){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),d=l.getFirstDayOfWeek();if(!c||be(c)){c&&(n=HR(c)||n);var h=n.get(["time","dayOfWeekShort"]);c=h||he(n.get(["time","dayOfWeekAbbr"]),function(A){return A[0]})}var v=l.getNextNDay(i.end.time,7-i.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];f=_e(f,Math.min(g[1],g[0])),u==="start"&&(v=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var m=s.get("silent"),x=0;x<7;x++){var _=l.getNextNDay(v,x),b=l.dataToCalendarLayout([_.time],!1).center,w=x;w=Math.abs((x+d)%7);var T=new gt({z2:30,style:oe(Ut(s,{text:c[w]}),this._weekTextPositionControl(b,a,u,f,g)),silent:m});o.add(T)}}},t.type="calendar",t})(Yt),oI=864e5,oEe=(function(){function r(t,e,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=t,this._update(e,n)}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(t){t=Xo(t);var e=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),o=a<10?"0"+a:""+a,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:o,day:s,time:t.getTime(),formatedDate:e+"-"+i+"-"+o,date:t}},r.prototype.getNextNDay=function(t,e){return e=e||0,e===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},r.prototype._update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[n,7]:[7,n];z([0,1],function(f){c(a,f)&&(o[i[f]]=a[f]*s[f])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=rr(o,l);z([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/s[f])});function c(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=a[0],this._sh=a[1]},r.prototype.dataToPoint=function(t,e,n){n=n||[],ue(t)&&(t=t[0]),e==null&&(e=!0);var i=this.getDateInfo(t),a=this._rangeInfo,o=i.formatedDate;if(e&&!(i.time>=a.start.time&&i.time<a.end.time+oI))return n[0]=n[1]=NaN,n;var s=i.day,l=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+s*this._sw+this._sw/2,n[1]=this._rect.y+l*this._sh+this._sh/2):(n[0]=this._rect.x+l*this._sw+this._sw/2,n[1]=this._rect.y+s*this._sh+this._sh/2),n},r.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},r.prototype.dataToLayout=function(t,e,n){n=n||{};var i=n.rect=n.rect||{},a=n.contentRect=n.contentRect||{},o=this.dataToPoint(t,e);return i.x=o[0]-this._sw/2,i.y=o[1]-this._sh/2,i.width=this._sw,i.height=this._sh,Fe.copy(a,i),cf(a,this._lineWidth/2,!0,!0),n},r.prototype.dataToCalendarLayout=function(t,e){var n=this.dataToPoint(t,e);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},r.prototype.convertToPixel=function(t,e,n){var i=sI(e);return i===this?i.dataToPoint(n):null},r.prototype.convertToLayout=function(t,e,n){var i=sI(e);return i===this?i.dataToLayout(n):null},r.prototype.convertFromPixel=function(t,e,n){var i=sI(e);return i===this?i.pointToData(n):null},r.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var t=this._model.get("range"),e;if(ue(t)&&t.length===1&&(t=t[0]),ue(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);e=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},r.prototype._getRangeInfo=function(t){var e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;e[0].time>e[1].time&&(n=!0,e.reverse());var i=Math.floor(e[1].time/oI)-Math.floor(e[0].time/oI)+1,a=new Date(e[0].time),o=a.getDate(),s=e[1].date.getDate();a.setDate(o+i-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-e[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-e[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+e[0].day+6)/7),f=n?-c+1:c-1;return n&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:c,nthWeek:f,fweek:e[0].day,lweek:e[1].day}},r.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var a=(t-1)*7-i.fweek+e,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},r.create=function(t,e){var n=[];return t.eachComponent("calendar",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){ry({targetModel:a,coordSysType:"calendar",coordSysProvider:JK})}),n},r.dimensions=["time","value"],r})();function sI(r){var t=r.calendarModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}function sEe(r){r.registerComponentModel(iEe),r.registerComponentView(aEe),r.registerCoordinateSystem("calendar",oEe)}var zs={level:1,leaf:2,nonLeaf:3},Zs={none:0,all:1,body:2,corner:3};function XP(r,t,e){var n=t[qe[e]].getCell(r);return!n&&yt(r)&&r<0&&(n=t[qe[1-e]].getUnitLayoutInfo(e,Math.round(r))),n}function kre(r){var t=r||[];return t[0]=t[0]||[],t[1]=t[1]||[],t[0][0]=t[0][1]=t[1][0]=t[1][1]=NaN,t}function Lre(r,t,e,n,i){VU(r[0],t,i,e,n,0),VU(r[1],t,i,e,n,1)}function VU(r,t,e,n,i,a){r[0]=1/0,r[1]=-1/0;var o=n[a],s=ue(o)?o:[o],l=s.length,u=!!e;if(l>=1?(zU(r,t,s,u,i,a,0),l>1&&zU(r,t,s,u,i,a,l-1)):r[0]=r[1]=NaN,u){var c=-i[qe[1-a]].getLocatorCount(a),f=i[qe[a]].getLocatorCount(a)-1;e===Zs.body?c=Tr(0,c):e===Zs.corner&&(f=Wi(-1,f)),f<c&&(c=f=NaN),Dn(r[0])&&(r[0]=c),Dn(r[1])&&(r[1]=f),r[0]=Tr(Wi(r[0],f),c),r[1]=Tr(Wi(r[1],f),c)}}function zU(r,t,e,n,i,a,o){var s=XP(e[o],i,a);if(!s){r[0]=r[1]=NaN;return}var l=s.id[qe[a]],u=l,c=fEe(s);c&&(u+=c.span[qe[a]]-1),r[0]=Wi(r[0],l,u),r[1]=Tr(r[1],l,u)}function N1(r,t){return Dn(r[t][0])||Dn(r[t][1])}function FU(r,t,e,n){t=t||lEe;for(var i=0;i<n;i++)t[i]=!1;for(;;){for(var a=!1,i=0;i<n;i++){var o=e[i];!t[i]&&o.cellMergeOwner&&uEe(r,o.locatorRange)&&(t[i]=!0,a=!0)}if(!a)break}}var lEe=[];function uEe(r,t){return!HU(r[0],t[0])||!HU(r[1],t[1])?!1:(r[0][0]=Wi(r[0][0],t[0][0]),r[0][1]=Tr(r[0][1],t[0][1]),r[1][0]=Wi(r[1][0],t[1][0]),r[1][1]=Tr(r[1][1],t[1][1]),!0)}function HU(r,t){return r[1]>=t[0]&&r[0]<=t[1]}function GU(r,t){r.id.set(t[0][0],t[1][0]),r.span.set(t[0][1]-r.id.x+1,t[1][1]-r.id.y+1)}function cEe(r,t){r[0][0]=t[0][0],r[0][1]=t[0][1],r[1][0]=t[1][0],r[1][1]=t[1][1]}function WU(r,t,e,n){var i=XP(t[n][0],e,n),a=XP(t[n][1],e,n);r[qe[n]]=r[Or[n]]=NaN,i&&a&&(r[qe[n]]=i.xy,r[Or[n]]=a.xy+a.wh-i.xy)}function Gp(r,t,e,n){return r[qe[t]]=e,r[qe[1-t]]=n,r}function fEe(r){return r&&(r.type===zs.leaf||r.type===zs.nonLeaf)?r:null}function vb(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var UU=(function(){function r(t,e){this._cells=[],this._levels=[],this.dim=t,this.dimIdx=t==="x"?0:1,this._model=e,this._uniqueValueGen=hEe(t);var n=e.get("data",!0);n!=null&&!ue(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return r.prototype._initByDimModelData=function(t){var e=this,n=e._cells,i=e._levels,a=[],o=0;e._leavesCount=s(t,0,0),l();return;function s(u,c,f){var d=0;return u&&z(u,function(h,v){var g;be(h)?g={value:h}:Le(h)?(g=h,h.value!=null&&!be(h.value)&&(g={value:null})):g={value:null};var m={type:zs.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new ze,span:Gp(new ze,e.dimIdx,1,1),option:g,xy:NaN,wh:NaN,dim:e,rect:vb()};o++,(a[c]||(a[c]=[])).push(m),i[f]||(i[f]={type:zs.level,xy:NaN,wh:NaN,option:null,id:new ze,dim:e});var x=s(g.children,c,f+1),_=Math.max(1,x);m.span[qe[e.dimIdx]]=_,d+=_,c+=_}),d}function l(){for(var u=[];n.length<o;)for(var c=0;c<a.length;c++){var f=a[c].pop();if(f){f.ordinal=u.length;var d=f.option.value;u.push(d),n.push(f),e._uniqueValueGen.calcDupBase(d)}}e._uniqueValueGen.ensureValueUnique(u,n);var h=e._ordinalMeta=new hg({categories:u,needCollect:!1,deduplication:!1});e._scale=new Td({ordinalMeta:h});for(var v=0;v<e._leavesCount;v++){var g=e._cells[v];g.type=zs.leaf,g.span[qe[1-e.dimIdx]]=e._levels.length-g.level}e._initCellsId(),e._initLevelIdOptions()}},r.prototype._initBySeriesData=function(){var t=this;t._leavesCount=0,t._levels=[{type:zs.level,xy:NaN,wh:NaN,option:null,id:new ze,dim:t}],t._initLevelIdOptions();var e=t._ordinalMeta=new hg({needCollect:!0,deduplication:!0,onCollect:function(n,i){var a=t._cells[i]={type:zs.leaf,ordinal:i,level:0,firstLeafLocator:i,id:new ze,span:Gp(new ze,t.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:t,rect:vb()};t._leavesCount++,t._setCellId(a)}});t._scale=new Td({ordinalMeta:e})},r.prototype._setCellId=function(t){var e=this._levels.length,n=this.dimIdx;Gp(t.id,n,t.firstLeafLocator,t.level-e)},r.prototype._initCellsId=function(){var t=this._levels.length,e=this.dimIdx;z(this._cells,function(n){Gp(n.id,e,n.firstLeafLocator,n.level-t)})},r.prototype._initLevelIdOptions=function(){var t=this._levels.length,e=this.dimIdx,n=this._model.get("levels",!0);n=ue(n)?n:[],z(this._levels,function(i,a){Gp(i.id,e,0,a-t),i.option=n[a]})},r.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},r.prototype.resetLayoutIterator=function(t,e,n,i){if(t=t||new su,e===this.dimIdx){var a=this._leavesCount,o=n!=null?Math.max(0,n):0;i=i!=null?Math.min(i,a):a,t.reset(this._cells,o,o+i)}else{var a=this._levels.length,o=n!=null?Math.max(0,n+a):0;i=i!=null?Math.min(i,a):a,t.reset(this._levels,o,o+i)}return t},r.prototype.resetCellIterator=function(t){return(t||new su).reset(this._cells,0)},r.prototype.resetLevelIterator=function(t){return(t||new su).reset(this._levels,0)},r.prototype.getLayout=function(t,e,n){var i=this.getUnitLayoutInfo(e,n);t[qe[e]]=i?i.xy:NaN,t[Or[e]]=i?i.wh:NaN},r.prototype.getUnitLayoutInfo=function(t,e){return t===this.dimIdx?e<this._leavesCount?this._cells[e]:void 0:this._levels[e+this._levels.length]},r.prototype.getCell=function(t){var e=this._scale.parse(t);return Dn(e)?void 0:this._cells[e]},r.prototype.getLocatorCount=function(t){return t===this.dimIdx?this._leavesCount:this._levels.length},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r})();function hEe(r){var t=r.toUpperCase(),e=new RegExp("^"+t+"([0-9]+)$"),n=0;function i(s){var l;s!=null&&(l=s.match(e))&&(n=Tr(n,+l[1]+1))}function a(){return""+t+n++}function o(s,l){for(var u=Me(),c=0;c<s.length;c++){var f=s[c];(f==null||u.get(f)!=null)&&(s[c]=f=a(),l[c].option=ke({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:i,ensureValueUnique:o}}var qU=(function(){function r(t,e,n){this._model=e,this._dims=n,this._kind=t,this._cellMergeOwnerList=[]}return r.prototype._ensureCellMap=function(){var t=this,e=t._cellMap;return e||(e=t._cellMap=Me(),n()),e;function n(){var a=[],o=t._model.getShallow("data");o&&!ue(o)&&(o=null),z(o,function(v,g){if(!(!Le(v)||!ue(v.coord))){var m=kre([]),x=null;if(Lre(m,x,v.coord,t._dims,v.coordClamp?Zs[t._kind]:Zs.none),!(N1(m,0)||N1(m,1))){var _=v&&v.mergeCells,b={id:new ze,span:new ze,locatorRange:m,option:v,cellMergeOwner:_};GU(b,m),a.push(b)}}});for(var s=[],l=0;l<a.length;l++){var u=a[l];if(u.cellMergeOwner){var c=u.locatorRange;FU(c,s,a,l);for(var f=0;f<l;f++)s[f]&&(a[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var d=oe({},u.option);d.coord=null;var h={id:new ze,span:new ze,locatorRange:c,option:d,cellMergeOwner:!0};GU(h,c),a.push(h)}}}z(a,function(v){var g=i(v.id.x,v.id.y);if(v.cellMergeOwner&&(g.cellMergeOwner=!0,g.span=v.span,g.locatorRange=v.locatorRange,g.spanRect=vb(),t._cellMergeOwnerList.push(g)),!(!v.cellMergeOwner&&!v.option))for(var m=0;m<v.span.y;m++)for(var x=0;x<v.span.x;x++){var _=i(v.id.x+x,v.id.y+m);_.option=v.option,v.cellMergeOwner&&(_.inSpanOf=g)}})}function i(a,o){var s=YU(a,o),l=e.get(s);return l||(l=e.set(s,{id:new ze(a,o),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},r.prototype.getCell=function(t){return this._ensureCellMap().get(YU(t[0],t[1]))},r.prototype.travelExistingCells=function(t){this._ensureCellMap().each(t)},r.prototype.expandRangeByCellMerge=function(t){if(!N1(t,0)&&!N1(t,1)&&t[0][0]===t[0][1]&&t[1][0]===t[1][1]){lI[0]=t[0][0],lI[1]=t[1][0];var e=this.getCell(lI),n=e&&e.inSpanOf;if(n){cEe(t,n.locatorRange);return}}var i=this._cellMergeOwnerList;FU(t,null,i,i.length)},r})(),lI=[];function YU(r,t){return r+"|"+t}var E3={show:!0,color:te.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function I3(r){return{color:"none",borderWidth:1,borderColor:r?"none":te.color.borderTint}}var XU={show:!0,label:E3,itemStyle:I3(!1),silent:void 0,dividerLineStyle:{width:1,color:te.color.border}},dEe={label:E3,itemStyle:I3(!1),silent:void 0},vEe={label:E3,itemStyle:I3(!0),silent:void 0},pEe={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:XU,y:XU,body:dEe,corner:vEe,backgroundStyle:{color:"none",borderColor:te.color.axisLine,borderWidth:1}},gEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){var e=this._dimModels={x:new $U(this.get("x",!0)||{}),y:new $U(this.get("y",!0)||{})};e.x.option.type=e.y.option.type="category";var n=e.x.dim=new UU("x",e.x),i=e.y.dim=new UU("y",e.y),a={x:n,y:i};this._body=new qU("body",new st(this.getShallow("body")),a),this._corner=new qU("corner",new st(this.getShallow("corner")),a)},t.prototype.getDimensionModel=function(e){return this._dimModels[e]},t.prototype.getBody=function(){return this._body},t.prototype.getCorner=function(){return this._corner},t.type="matrix",t.layoutMode="box",t.defaultOption=pEe,t})(at),$U=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},t})(st),V1=Math.round,yEe=0,mEe=99,xEe={normal:25,special:100},_Ee={normal:50,special:125},bEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n){this.group.removeAll();var i=this.group,a=e.coordinateSystem,o=a.getRect(),s=e.getDimensionModel("x"),l=e.getDimensionModel("y"),u=s.dim,c=l.dim;SEe(i,e,n),wEe(i,e,u,c,n);var f=e.getShallow("borderZ2",!0),d=Ie(f,mEe),h=d-1,v=e.getModel("backgroundStyle").getItemStyle(["borderWidth"]);v.lineWidth=0;var g=e.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);g.fill="none";var m=$P(o.clone(),v,yEe),x=$P(o.clone(),g,d);m.silent=!0,x.silent=!0,i.add(m),i.add(x);var _=u.getUnitLayoutInfo(0,0),b=c.getUnitLayoutInfo(1,0);_&&b&&(u.shouldShow()&&i.add(jU({x1:o.x,y1:b.xy,x2:o.x+o.width,y2:b.xy},s.getModel("dividerLineStyle").getLineStyle(),h)),c.shouldShow()&&i.add(jU({x1:_.xy,y1:o.y,x2:_.xy,y2:o.y+o.height},l.getModel("dividerLineStyle").getLineStyle(),h)))},t.type="matrix",t})(Yt);function SEe(r,t,e){n(0),n(1);function n(i){var a=t.getDimensionModel(qe[i]),o=a.dim;if(o.shouldShow())for(var s=a.getModel("itemStyle"),l=a.getModel("label"),u=t.getShallow("tooltip",!0),c=[],f=o.resetCellIterator();f.next();){var d=f.item,h={};Fe.copy(h,d.rect),sS(c,d.id.x,d.id.y),Nre(c,t,r,e,d.option,s,l,a,h,d.option.value,_Ee,u)}}}function wEe(r,t,e,n,i){a("body",t.getBody(),e,n),e.shouldShow()&&n.shouldShow()&&a("corner",t.getCorner(),n,e);function a(o,s,l,u){var c=new st(t.getShallow(o,!0)),f=c.getModel("itemStyle"),d=c.getModel("label"),h=new su,v=new su,g=[],m=t.getShallow("tooltip",!0);for(u.resetLayoutIterator(v,1);v.next();)for(l.resetLayoutIterator(h,0);h.next();){var x=h.item,_=v.item;sS(g,x.id.x,_.id.y);var b=s.getCell(g);if(!(b&&b.inSpanOf&&b.inSpanOf!==b)){var w={};b&&b.span?Fe.copy(w,b.spanRect):(x.dim.getLayout(w,0,g[0]),_.dim.getLayout(w,1,g[1]));var T=b?b.option:null;Nre(g,t,r,i,T,f,d,c,w,T?T.value:null,xEe,m)}}}}function Nre(r,t,e,n,i,a,o,s,l,u,c,f){var d;z1.option=i?i.itemStyle:null,z1.parentModel=a,Fh.option=i,Fh.parentModel=s;var h=Ie(Fh.getShallow("z2"),i&&i.itemStyle?c.special:c.normal),v=f&&f.show,g=$P(l,z1.getItemStyle(),h);e.add(g);var m=Fh.get("cursor");m!=null&&g.attr("cursor",m);var x;if(u!=null){var _=u+"";if(Hh.option=i?i.label:null,Hh.parentModel=o,Hh.ecModel=n,tn(g,{normal:Hh},{defaultText:_,autoOverflowArea:!0,layoutRect:Oe(g.shape)}),x=g.getTextContent(),x){x.z2=h+1;var b=x.style;if(b&&b.overflow&&b.overflow!=="none"&&b.lineOverflow){var w={};Fe.copy(w,l),cf(w,(((d=g.style)===null||d===void 0?void 0:d.lineWidth)||0)/2,!0,!0),g.updateInnerText(),x.getLocalTransform(F1),wa(F1,F1),Fe.applyTransform(w,w,F1),x.setClipPath(new rt({shape:w}))}}ul({el:g,componentModel:t,itemName:_,itemTooltipOption:f,formatterParamsExtra:{xyLocator:r.slice()}})}if(x){var T=Hh.get("silent");T==null&&(T=!v),x.silent=T,x.ignoreHostSilent=!0}var A=Fh.get("silent");A==null&&(A=!g.style||g.style.fill==="none"||!g.style.fill),g.silent=A,bD(Fh),bD(z1),bD(Hh)}var Fh=new st,z1=new st,Hh=new st,F1=[];function $P(r,t,e){var n=t.lineWidth;if(n){var i=r.x+r.width,a=r.y+r.height;r.x=Hi(r.x,n,!0),r.y=Hi(r.y,n,!0),r.width=Hi(i,n,!0)-r.x,r.height=Hi(a,n,!0)-r.y}return new rt({shape:r,style:t,z2:e})}function jU(r,t,e){var n=t.lineWidth;return n&&(V1(r.x1*2)===V1(r.x2*2)&&(r.x1=r.x2=Hi(r.x1,n,!0)),V1(r.y1*2)===V1(r.y2*2)&&(r.y1=r.y2=Hi(r.y1,n,!0))),new Mr({shape:r,style:t,silent:!0,z2:e})}var CEe=(function(){function r(t,e,n){this.dimensions=r.dimensions,this.type="matrix",this._model=t;var i=this._dimModels={x:t.getDimensionModel("x"),y:t.getDimensionModel("y")};this._dims={x:i.x.dim,y:i.y.dim},this._resize(t,n)}return r.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},r.create=function(t,e){var n=[];return t.eachComponent("matrix",function(i){var a=new r(i,t,e);n.push(a),i.coordinateSystem=a}),t.eachComponent(function(i,a){ry({targetModel:a,coordSysType:"matrix",coordSysProvider:JK})}),n},r.prototype.getRect=function(){return this._rect},r.prototype._resize=function(t,e){var n=this._dims,i=this._dimModels,a=this._rect=rr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});ZU(i,n,a,0),ZU(i,n,a,1),KU(0,n),KU(1,n),QU(this._model.getBody(),n),QU(this._model.getCorner(),n)},r.prototype.dataToPoint=function(t,e,n){return n=n||[],this.dataToLayout(t,e,Wp),n[0]=Wp.rect.x+Wp.rect.width/2,n[1]=Wp.rect.y+Wp.rect.height/2,n},r.prototype.dataToLayout=function(t,e,n){var i=this._dims;n=n||{};var a=n.rect=n.rect||{};a.x=a.y=a.width=a.height=NaN;var o=n.matrixXYLocatorRange=kre(n.matrixXYLocatorRange);return ue(t)&&(Lre(o,null,t,i,Ie(e&&e.clamp,Zs.none)),(!e||!e.ignoreMergeCells)&&((!e||e.clamp!==Zs.corner)&&this._model.getBody().expandRangeByCellMerge(o),(!e||e.clamp!==Zs.body)&&this._model.getCorner().expandRangeByCellMerge(o)),WU(a,o,i,0),WU(a,o,i,1)),n},r.prototype.pointToData=function(t,e,n){var i=this._dims;return JU(xo,0,i,t,e&&e.clamp),JU(xo,1,i,t,e&&e.clamp),n=n||[],n[0]=n[1]=NaN,xo.y===An.inCorner&&xo.x===An.inBody?eq(xo,n,0,i):xo.x===An.inCorner&&xo.y===An.inBody?eq(xo,n,1,i):(tq(xo,n,0,i),tq(xo,n,1,i)),n},r.prototype.convertToPixel=function(t,e,n,i){var a=cI(e);return a===this?a.dataToPoint(n,i):void 0},r.prototype.convertToLayout=function(t,e,n,i){var a=cI(e);return a===this?a.dataToLayout(n,i):void 0},r.prototype.convertFromPixel=function(t,e,n,i){var a=cI(e);return a===this?a.pointToData(n,i):void 0},r.prototype.containPoint=function(t){return this._rect.contain(t[0],t[1])},r.dimensions=["x","y","value"],r})(),Wp={rect:vb()},H1=new su,uI=new su;function ZU(r,t,e,n){for(var i=1-n,a=t[qe[n]],o=t[qe[i]],s=o.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=o.resetLayoutIterator(null,n);u.next();)u.item.wh=u.item.xy=NaN;for(var c=e[Or[n]],f=a.getLocatorCount(n)+o.getLocatorCount(n),d=new st,h=o.resetLevelIterator();h.next();)d.option=h.item.option,d.parentModel=r[qe[i]],m(h.item,s?d.get("levelSize"):0);for(var v=new st,g=a.resetCellIterator();g.next();)g.item.type===zs.leaf&&(v.option=g.item.option,v.parentModel=void 0,m(g.item,v.get("size")));function m(M,D){var P=TEe(D,n,e);Dn(P)||(M.wh=jP(P,c),c=jP(c-M.wh),f--)}var x=f?c/f:0,_=!f&&c>=1,b=e[qe[n]],w=a.getLocatorCount(n)-1,T=new su;for(o.resetLayoutIterator(T,n);T.next();)A(T.item);for(a.resetLayoutIterator(T,n);T.next();)A(T.item);function A(M){Dn(M.wh)&&(M.wh=x),M.xy=b,M.id[qe[n]]===w&&!_&&(M.wh=e[qe[n]]+e[Or[n]]-M.xy),b+=M.wh}}function KU(r,t){for(var e=t[qe[r]].resetCellIterator();e.next();){var n=e.item;pb(n.rect,r,n.id,n.span,t),pb(n.rect,1-r,n.id,n.span,t),n.type===zs.nonLeaf&&(n.xy=n.rect[qe[r]],n.wh=n.rect[Or[r]])}}function QU(r,t){r.travelExistingCells(function(e){var n=e.span;if(n){var i=e.spanRect,a=e.id;pb(i,0,a,n,t),pb(i,1,a,n,t)}})}function pb(r,t,e,n,i){r[Or[t]]=0;var a=e[qe[t]],o=a<0?i[qe[1-t]]:i[qe[t]],s=o.getUnitLayoutInfo(t,e[qe[t]]);if(r[qe[t]]=s.xy,r[Or[t]]=s.wh,n[qe[t]]>1){var l=o.getUnitLayoutInfo(t,e[qe[t]]+n[qe[t]]-1);r[Or[t]]=l.xy+l.wh-s.xy}}function TEe(r,t,e){var n=D_(r,e[Or[t]]);return jP(n,e[Or[t]])}function jP(r,t){return Math.max(Math.min(r,Ie(t,1/0)),0)}function cI(r){var t=r.matrixModel,e=r.seriesModel,n=t?t.coordinateSystem:e?e.coordinateSystem:null;return n}var An={inBody:1,inCorner:2,outside:3},xo={x:null,y:null,point:[]};function JU(r,t,e,n,i){var a=e[qe[t]],o=e[qe[1-t]],s=a.getUnitLayoutInfo(t,a.getLocatorCount(t)-1),l=a.getUnitLayoutInfo(t,0),u=o.getUnitLayoutInfo(t,-o.getLocatorCount(t)),c=o.shouldShow()?o.getUnitLayoutInfo(t,-1):null,f=r.point[t]=n[t];if(!l&&!c){r[qe[t]]=An.outside;return}if(i===Zs.body){l?(r[qe[t]]=An.inBody,f=Wi(s.xy+s.wh,Tr(l.xy,f)),r.point[t]=f):r[qe[t]]=An.outside;return}else if(i===Zs.corner){c?(r[qe[t]]=An.inCorner,f=Wi(c.xy+c.wh,Tr(u.xy,f)),r.point[t]=f):r[qe[t]]=An.outside;return}var d=l?l.xy:c?c.xy+c.wh:NaN,h=u?u.xy:d,v=s?s.xy+s.wh:d;if(f<h){if(!i){r[qe[t]]=An.outside;return}f=h}else if(f>v){if(!i){r[qe[t]]=An.outside;return}f=v}r.point[t]=f,r[qe[t]]=d<=f&&f<=v?An.inBody:h<=f&&f<=d?An.inCorner:An.outside}function eq(r,t,e,n){var i=1-e;if(r[qe[e]]!==An.outside)for(n[qe[e]].resetCellIterator(uI);uI.next();){var a=uI.item;if(rq(r.point[e],a.rect,e)&&rq(r.point[i],a.rect,i)){t[e]=a.ordinal,t[i]=a.id[qe[i]];return}}}function tq(r,t,e,n){if(r[qe[e]]!==An.outside){var i=r[qe[e]]===An.inCorner?n[qe[1-e]]:n[qe[e]];for(i.resetLayoutIterator(H1,e);H1.next();)if(AEe(r.point[e],H1.item)){t[e]=H1.item.id[qe[e]];return}}}function AEe(r,t){return t.xy<=r&&r<=t.xy+t.wh}function rq(r,t,e){return t[qe[e]]<=r&&r<=t[qe[e]]+t[Or[e]]}function MEe(r){r.registerComponentModel(gEe),r.registerComponentView(bEe),r.registerCoordinateSystem("matrix",CEe)}function DEe(r,t){var e=r.existing;if(t.id=r.keyInfo.id,!t.type&&e&&(t.type=e.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:e&&(t.parentId=e.parentId)}t.parentOption=null}function nq(r,t){var e;return z(t,function(n){r[n]!=null&&r[n]!=="auto"&&(e=!0)}),e}function EEe(r,t,e){var n=oe({},e),i=r[t],a=e.$action||"merge";a==="merge"?i?(Ke(i,n,!0),Wo(i,n,{ignoreSize:!0}),iQ(e,i),G1(e,i),G1(e,i,"shape"),G1(e,i,"style"),G1(e,i,"extra"),e.clipPath=i.clipPath):r[t]=n:a==="replace"?r[t]=n:a==="remove"&&i&&(r[t]=null)}var Vre=["transition","enterFrom","leaveTo"],IEe=Vre.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function G1(r,t,e){if(e&&(!r[e]&&t[e]&&(r[e]={}),r=r[e],t=t[e]),!(!r||!t))for(var n=e?Vre:IEe,i=0;i<n.length;i++){var a=n[i];r[a]==null&&t[a]!=null&&(r[a]=t[a])}}function REe(r,t){if(r&&(r.hv=t.hv=[nq(t,["left","right"]),nq(t,["top","bottom"])],r.type==="group")){var e=r,n=t;e.width==null&&(e.width=n.width=0),e.height==null&&(e.height=n.height=0)}}var PEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,e,n),this.option.elements=i},t.prototype.optionUpdated=function(e,n){var i=this.option,a=(n?i:e).elements,o=i.elements=n?[]:i.elements,s=[];this._flatten(a,s,null);var l=$Z(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];z(l,function(c,f){var d=c.newOption;d&&(u.push(d),DEe(c,d),EEe(o,f,d),REe(o[f],d))},this),i.elements=Tt(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(e,n,i){z(e,function(a){if(a){i&&(a.parentOption=i),n.push(a);var o=a.children;o&&o.length&&this._flatten(o,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t})(at),iq={path:null,compoundPath:null,group:Be,image:nn,text:gt},ha=ot(),OEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this._elMap=Me()},t.prototype.render=function(e,n,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,o=e.get("z"),s=e.get("zlevel");z(n,function(l){var u=Gr(l.id,null),c=u!=null?i.get(u):null,f=Gr(l.parentId,null),d=f!=null?i.get(f):a,h=l.type,v=l.style;h==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var g=l.textContent,m=l.textConfig;if(v&&pre(v,h,!!m,!!g)){var x=gre(v,h,!0);!m&&x.textConfig&&(m=l.textConfig=x.textConfig),!g&&x.textContent&&(g=x.textContent)}var _=BEe(l),b=l.$action||"merge",w=b==="merge",T=b==="replace";if(w){var A=!c,M=c;A?M=aq(u,d,l.type,i):(M&&(ha(M).isNew=!1),_re(M)),M&&(Tx(M,_,e,{isInit:A}),oq(M,l,o,s))}else if(T){Dx(c,l,i,e);var D=aq(u,d,l.type,i);D&&(Tx(D,_,e,{isInit:!0}),oq(D,l,o,s))}else b==="remove"&&(mre(c,l),Dx(c,l,i,e));var P=i.get(u);if(P&&g)if(w){var I=P.getTextContent();I?I.attr(g):P.setTextContent(new gt(g))}else T&&P.setTextContent(new gt(g));if(P){var R=l.clipPath;if(R){var k=R.type,O=void 0,A=!1;if(w){var V=P.getClipPath();A=!V||ha(V).type!==k,O=A?ZP(k):V}else T&&(A=!0,O=ZP(k));P.setClipPath(O),Tx(O,R,e,{isInit:A}),fb(O,R.keyframeAnimation,e)}var N=ha(P);P.setTextConfig(m),N.option=l,kEe(P,e,l),ul({el:P,componentModel:e,itemName:P.name,itemTooltipOption:l.tooltip}),fb(P,l.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var i=e.option.elements,a=this.group,o=this._elMap,s=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],d=Gr(f.id,null),h=d!=null?o.get(d):null;if(!(!h||!h.isGroup)){var v=h.parent,g=v===a,m=ha(h),x=ha(v);m.width=_e(m.option.width,g?s:x.width)||0,m.height=_e(m.option.height,g?l:x.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],d=Gr(f.id,null),h=d!=null?o.get(d):null;if(h){var v=h.parent,x=ha(v),_=v===a?{width:s,height:l}:{width:x.width,height:x.height},b={},w=CS(h,f,_,null,{hv:f.hv,boundingMode:f.bounding},b);if(!ha(h).isNew&&w){for(var T=f.transition,A={},M=0;M<u.length;M++){var D=u[M],P=b[D];T&&(rf(T)||Ze(T,D)>=0)?A[D]=P:h[D]=P}bt(h,A,e,0)}else h.attr(b)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(i){Dx(i,ha(i).option,n,e._lastGraphicModel)}),this._elMap=Me()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t})(Yt);function ZP(r){var t=Te(iq,r)?iq[r]:ig(r),e=new t({});return ha(e).type=r,e}function aq(r,t,e,n){var i=ZP(e);return t.add(i),n.set(r,i),ha(i).id=r,ha(i).isNew=!0,i}function Dx(r,t,e,n){var i=r&&r.parent;i&&(r.type==="group"&&r.traverse(function(a){Dx(a,t,e,n)}),FS(r,t,n),e.removeKey(ha(r).id))}function oq(r,t,e,n){r.isGroup||z([["cursor",Ca.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(i){var a=i[0];Te(t,a)?r[a]=Ie(t[a],i[1]):r[a]==null&&(r[a]=i[1])}),z(ht(t),function(i){if(i.indexOf("on")===0){var a=t[i];r[i]=Re(a)?a:null}}),Te(t,"draggable")&&(r.draggable=t.draggable),t.name!=null&&(r.name=t.name),t.id!=null&&(r.id=t.id)}function BEe(r){return r=oe({},r),z(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(eQ),function(t){delete r[t]}),r}function kEe(r,t,e){var n=He(r).eventData;!r.silent&&!r.ignore&&!n&&(n=He(r).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:r.name}),n&&(n.info=e.info)}function LEe(r){r.registerComponentModel(PEe),r.registerComponentView(OEe),r.registerPreprocessor(function(t){var e=t.graphic;ue(e)?!e[0]||!e[0].elements?t.graphic=[{elements:e}]:t.graphic=[t.graphic[0]]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}var sq=["x","y","radius","angle","single"],NEe=["cartesian2d","polar","singleAxis"];function VEe(r){var t=r.get("coordinateSystem");return Ze(NEe,t)>=0}function ru(r){return r+"Axis"}function zEe(r,t){var e=Me(),n=[],i=Me();r.eachComponent({mainType:"dataZoom",query:t},function(c){i.get(c.uid)||s(c)});var a;do a=!1,r.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&l(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),n.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(d,h){var v=e.get(d);v&&v[h]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,d){(e.get(f)||e.set(f,[]))[d]=!0})}return n}function zre(r){var t=r.ecModel,e={infoList:[],infoMap:Me()};return r.eachTargetAxis(function(n,i){var a=t.getComponent(ru(n),i);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(l={model:o,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(a)}}}),e}var fI=(function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r})(),wg=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,n,i){var a=lq(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this._doInit(a)},t.prototype.mergeOption=function(e){var n=lq(e);Ke(this.option,e,!0),Ke(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;z([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=Me(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return z(sq,function(i){var a=this.getReferringComponents(ru(i),npe);if(a.specified){n=!0;var o=new fI;z(a.models,function(s){o.add(s.componentIndex)}),e.set(i,o)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var i=this.ecModel,a=!0;if(a){var o=n==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});l(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(s,"single")}function l(u,c){var f=u[0];if(f){var d=new fI;if(d.add(f.componentIndex),e.set(c,d),a=!1,c==="x"||c==="y"){var h=f.getReferringComponents("grid",vr).models[0];h&&z(u,function(v){f.componentIndex!==v.componentIndex&&h===v.getReferringComponents("grid",vr).models[0]&&d.add(v.componentIndex)})}}}a&&z(sq,function(u){if(a){var c=i.findComponents({mainType:ru(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var f=new fI;f.add(c[0].componentIndex),e.set(u,f),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,i=this.get("rangeMode");z([["start","startValue"],["end","endValue"]],function(a,o){var s=e[a[0]]!=null,l=e[a[1]]!=null;s&&!l?n[o]="percent":!s&&l?n[o]="value":i?n[o]=i[o]:s&&(n[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,i){e==null&&(e=this.ecModel.getComponent(ru(n),i))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(i,a){z(i.indexList,function(o){e.call(n,a,o)})})},t.prototype.getAxisProxy=function(e,n){var i=this.getAxisModel(e,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[n])return this.ecModel.getComponent(ru(e),n)},t.prototype.setRawRange=function(e){var n=this.option,i=this.settledOption;z([["start","startValue"],["end","endValue"]],function(a){(e[a[0]]!=null||e[a[1]]!=null)&&(n[a[0]]=i[a[0]]=e[a[0]],n[a[1]]=i[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;z(["start","startValue","end","endValue"],function(i){n[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(e==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(e,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t})(at);function lq(r){var t={};return z(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}var FEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(wg),R3=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i,a){this.dataZoomModel=e,this.ecModel=n,this.api=i},t.type="dataZoom",t})(Yt),HEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t})(R3),Qh=z,uq=zi,GEe=(function(){function r(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(VEe(e)){var n=ru(this._dimName),i=e.getReferringComponents(n,vr).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return Oe(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var e=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Qh(["start","end"],function(d,h){var v=t[d],g=t[d+"Value"];a[h]==="percent"?(v==null&&(v=o[h]),g=i.parse(At(v,o,e))):(u=!0,g=g==null?e[h]:i.parse(g),v=At(g,e,o)),l[h]=g==null||isNaN(g)?e[h]:g,s[h]=v==null||isNaN(v)?o[h]:v}),uq(l),uq(s);var c=this._minMaxSpan;u?f(l,s,e,o,!1):f(s,l,o,e,!0);function f(d,h,v,g,m){var x=m?"Span":"ValueSpan";bu(0,d,v,"all",c["min"+x],c["max"+x]);for(var _=0;_<2;_++)h[_]=At(d[_],v,g,!0),m&&(h[_]=i.parse(h[_]))}return{valueWindow:l,percentWindow:s}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=WEe(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;if(a==="none")return;Qh(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var f=u.getStore(),d=he(c,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var v,g,m,x=0;x<c.length;x++){var _=f.get(d[x],h),b=!isNaN(_),w=_<o[0],T=_>o[1];if(b&&!w&&!T)return!0;b&&(m=!0),w&&(v=!0),T&&(g=!0)}return m&&v&&g})}else Qh(c,function(h){if(a==="empty")l.setData(u=u.map(h,function(g){return s(g)?g:NaN}));else{var v={};v[h]=o,u.selectRange(v)}});Qh(c,function(h){u.setApproximateExtent(o,h)})}});function s(l){return l>=o[0]&&l<=o[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;Qh(["min","max"],function(i){var a=e.get(i+"Span"),o=e.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=At(n[0]+o,n,[0,100],!0):a!=null&&(o=At(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=o},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=_B(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;e[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),e[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},r})();function WEe(r,t,e){var n=[1/0,-1/0];Qh(e,function(o){sxe(n,o.getData(),t)});var i=r.getAxisModel(),a=VJ(i.axis.scale,i,n).calculate();return[a.min,a.max]}var UEe={getTargetSeries:function(r){function t(i){r.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=r.getComponent(ru(o),s);i(o,s,l,a)})})}t(function(i,a,o,s){o.__dzAxisProxy=null});var e=[];t(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new GEe(i,a,s,r),e.push(o.__dzAxisProxy))});var n=Me();return z(e,function(i){z(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).reset(e)}),e.eachTargetAxis(function(n,i){e.getAxisProxy(n,i).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function qEe(r){r.registerAction("dataZoom",function(t,e){var n=zEe(e,t);z(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var cq=!1;function P3(r){cq||(cq=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,UEe),qEe(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function YEe(r){r.registerComponentModel(FEe),r.registerComponentView(HEe),P3(r)}var pa=(function(){function r(){}return r})(),Fre={};function Jh(r,t){Fre[r]=t}function Hre(r){return Fre[r]}var XEe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;z(this.option.feature,function(n,i){var a=Hre(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),Ke(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:te.color.border,borderRadius:0,borderWidth:0,padding:te.size.m,itemSize:15,itemGap:te.size.s,showTitle:!0,iconStyle:{borderColor:te.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:te.color.accent50}},tooltip:{show:!1,position:"bottom"}},t})(at);function Gre(r,t){var e=Yd(t.get("padding")),n=t.getItemStyle(["color","opacity"]);n.fill=t.get("backgroundColor");var i=new rt({shape:{x:r.x-e[3],y:r.y-e[0],width:r.width+e[1]+e[3],height:r.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1});return i}var $Ee=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){var o=this.group;if(o.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),l=e.get("orient")==="vertical",u=e.get("feature")||{},c=this._features||(this._features={}),f=[];z(u,function(_,b){f.push(b)}),new rl(this._featureNames||[],f).add(d).update(d).remove(je(d,null)).execute(),this._featureNames=f;function d(_,b){var w=f[_],T=f[b],A=u[w],M=new st(A,e,e.ecModel),D;if(a&&a.newTitle!=null&&a.featureName===w&&(A.title=a.newTitle),w&&!T){if(jEe(w))D={onclick:M.option.onclick,featureName:w};else{var P=Hre(w);if(!P)return;D=new P}c[w]=D}else if(D=c[T],!D)return;D.uid=qd("toolbox-feature"),D.model=M,D.ecModel=n,D.api=i;var I=D instanceof pa;if(!w&&T){I&&D.dispose&&D.dispose(n,i);return}if(!M.get("show")||I&&D.unusable){I&&D.remove&&D.remove(n,i);return}h(M,D,w),M.setIconStatus=function(R,k){var O=this.option,V=this.iconPaths;O.iconStatus=O.iconStatus||{},O.iconStatus[R]=k,V[R]&&(k==="emphasis"?el:tl)(V[R])},D instanceof pa&&D.render&&D.render(M,n,i,a)}function h(_,b,w){var T=_.getModel("iconStyle"),A=_.getModel(["emphasis","iconStyle"]),M=b instanceof pa&&b.getIcons?b.getIcons():_.get("icon"),D=_.get("title")||{},P,I;be(M)?(P={},P[w]=M):P=M,be(D)?(I={},I[w]=D):I=D;var R=_.iconPaths={};z(P,function(k,O){var V=Wd(k,{},{x:-s/2,y:-s/2,width:s,height:s});V.setStyle(T.getItemStyle());var N=V.ensureState("emphasis");N.style=A.getItemStyle();var L=new gt({style:{text:I[O],align:A.get("textAlign"),borderRadius:A.get("textBorderRadius"),padding:A.get("textPadding"),fill:null,font:WB({fontStyle:A.get("textFontStyle"),fontFamily:A.get("textFontFamily"),fontSize:A.get("textFontSize"),fontWeight:A.get("textFontWeight")},n)},ignore:!0});V.setTextContent(L),ul({el:V,componentModel:e,itemName:O,formatterParamsExtra:{title:I[O]}}),V.__title=I[O],V.on("mouseover",function(){var G=A.getItemStyle(),W=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";L.setStyle({fill:A.get("textFill")||G.fill||G.stroke||te.color.neutral99,backgroundColor:A.get("textBackgroundColor")}),V.setTextConfig({position:A.get("textPosition")||W}),L.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){_.get(["iconStatus",O])!=="emphasis"&&i.leaveEmphasis(this),L.hide()}),(_.get(["iconStatus",O])==="emphasis"?el:tl)(V),o.add(V),V.on("click",Se(b.onclick,b,n,i,O)),R[O]=V})}var v=qr(e,i).refContainer,g=e.getBoxLayoutParams(),m=e.get("padding"),x=rr(g,v,m);Jc(e.get("orient"),o,e.get("itemGap"),x.width,x.height),CS(o,g,v,m),o.add(Gre(o.getBoundingRect(),e)),l||o.eachChild(function(_){var b=_.__title,w=_.ensureState("emphasis"),T=w.textConfig||(w.textConfig={}),A=_.getTextContent(),M=A&&A.ensureState("emphasis");if(M&&!Re(M)&&b){var D=M.style||(M.style={}),P=cS(b,gt.makeFont(D)),I=_.x+o.x,R=_.y+o.y+s,k=!1;R+P.height>i.getHeight()&&(T.position="top",k=!0);var O=k?-5-P.height:s+10;I+P.width/2>i.getWidth()?(T.position=["100%",O],D.align="right"):I-P.width/2<0&&(T.position=[0,O],D.align="left")}})},t.prototype.updateView=function(e,n,i,a){z(this._features,function(o){o instanceof pa&&o.updateView&&o.updateView(o.model,n,i,a)})},t.prototype.remove=function(e,n){z(this._features,function(i){i instanceof pa&&i.remove&&i.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){z(this._features,function(i){i instanceof pa&&i.dispose&&i.dispose(e,n)})},t.type="toolbox",t})(Yt);function jEe(r){return r.indexOf("my")===0}var ZEe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){var i=this.model,a=i.get("name")||e.get("title.0.text")||"echarts",o=n.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||te.color.neutral00,connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=ut.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var d=l.split(","),h=d[0].indexOf("base64")>-1,v=o?decodeURIComponent(d[1]):d[1];h&&(v=window.atob(v));var g=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var m=v.length,x=new Uint8Array(m);m--;)x[m]=v.charCodeAt(m);var _=new Blob([x]);window.navigator.msSaveOrOpenBlob(_,g)}else{var b=document.createElement("iframe");document.body.appendChild(b);var w=b.contentWindow,T=w.document;T.open("image/svg+xml","replace"),T.write(v),T.close(),w.focus(),T.execCommand("SaveAs",!0,g),document.body.removeChild(b)}}else{var A=i.get("lang"),M='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',D=window.open();D.document.write(M),D.document.title=a}},t.getDefaultOption=function(e){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:te.color.neutral00,name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t})(pa),fq="__ec_magicType_stack__",KEe=[["line","bar"],["stack"]],QEe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),i={};return z(e.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(e){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(e,n,i){var a=this.model,o=a.get(["seriesIndex",i]);if(hq[i]){var s={series:[]},l=function(f){var d=f.subType,h=f.id,v=hq[i](d,h,f,a);v&&(ke(v,f.option),s.series.push(v));var g=f.coordinateSystem;if(g&&g.type==="cartesian2d"&&(i==="line"||i==="bar")){var m=g.getAxesByScale("ordinal")[0];if(m){var x=m.dim,_=x+"Axis",b=f.getReferringComponents(_,vr).models[0],w=b.componentIndex;s[_]=s[_]||[];for(var T=0;T<=w;T++)s[_][w]=s[_][w]||{};s[_][w].boundaryGap=i==="bar"}}};z(KEe,function(f){Ze(f,i)>=0&&z(f,function(d){a.setIconStatus(d,"normal")})}),a.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=i;i==="stack"&&(u=Ke({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t})(pa),hq={line:function(r,t,e,n){if(r==="bar")return Ke({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,t,e,n){if(r==="line")return Ke({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,t,e,n){var i=e.get("stack")===fq;if(r==="line"||r==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Ke({id:t,stack:i?"":fq},n.get(["option","stack"])||{},!0)}};oo({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});var HS=new Array(60).join("-"),Pd="	";function JEe(r){var t={},e=[],n=[];return r.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(i)}else e.push(i)}else e.push(i)}),{seriesGroupByCategoryAxis:t,other:e,meta:n}}function eIe(r){var t=[];return z(r,function(e,n){var i=e.categoryAxis,a=e.valueAxis,o=a.dim,s=[" "].concat(he(e.series,function(h){return h.name})),l=[i.model.getCategories()];z(e.series,function(h){var v=h.getRawData();l.push(h.getRawData().mapArray(v.mapDimension(o),function(g){return g}))});for(var u=[s.join(Pd)],c=0;c<l[0].length;c++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][c]);u.push(f.join(Pd))}t.push(u.join(`
`))}),t.join(`

`+HS+`

`)}function tIe(r){return he(r,function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=e.getName(o),l=0;l<a-1;l++)i[l]=arguments[l];n.push((s?s+Pd:"")+i.join(Pd))}),n.join(`
`)}).join(`

`+HS+`

`)}function rIe(r){var t=JEe(r);return{value:Tt([eIe(t.seriesGroupByCategoryAxis),tIe(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+HS+`

`),meta:t.meta}}function gb(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function nIe(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(Pd)>=0)return!0}var KP=new RegExp("["+Pd+"]+","g");function iIe(r){for(var t=r.split(/\n+/g),e=gb(t.shift()).split(KP),n=[],i=he(e,function(l){return{name:l,data:[]}}),a=0;a<t.length;a++){var o=gb(t[a]).split(KP);n.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:n}}function aIe(r){for(var t=r.split(/\n+/g),e=gb(t.shift()),n=[],i=0;i<t.length;i++){var a=gb(t[i]);if(a){var o=a.split(KP),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),n[i]={name:s,value:[]},l=n[i].value):l=n[i]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?n[i].value=l[0]:n[i]=l[0])}}return{name:e,data:n}}function oIe(r,t){var e=r.split(new RegExp(`
*`+HS+`
*`,"g")),n={series:[]};return z(e,function(i,a){if(nIe(i)){var o=iIe(i),s=t[a],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=aIe(i);n.series.push(o)}}),n}var sIe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||te.color.neutral00;var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),d=a.get("contentToOption"),h=rIe(e);if(Re(f)){var v=f(n.getOption());be(v)?u.innerHTML=v:af(v)&&u.appendChild(v)}else{c.readOnly=a.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=a.get("textColor"),g.borderColor=a.get("textareaBorderColor"),g.backgroundColor=a.get("textareaColor"),c.value=h.value,u.appendChild(c)}var m=h.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:5px;left:0;right:0";var _="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),w=document.createElement("div");_+=";background-color:"+a.get("buttonColor"),_+=";color:"+a.get("buttonTextColor");var T=this;function A(){i.removeChild(o),T._dom=null}sR(b,"click",A),sR(w,"click",function(){if(d==null&&f!=null||d!=null&&f==null){A();return}var M;try{Re(d)?M=d(u,n.getOption()):M=oIe(c.value,m)}catch(D){throw A(),new Error("Data view format error "+D)}M&&n.dispatchAction({type:"changeDataView",newOption:M}),A()}),b.innerHTML=l[1],w.innerHTML=l[2],w.style.cssText=b.style.cssText=_,!a.get("readOnly")&&x.appendChild(w),x.appendChild(b),o.appendChild(s),o.appendChild(u),o.appendChild(x),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:te.color.background,textColor:te.color.primary,textareaColor:te.color.background,textareaBorderColor:te.color.border,buttonColor:te.color.accent50,buttonTextColor:te.color.neutral00};return n},t})(pa);function lIe(r,t){return he(r,function(e,n){var i=t&&t[n];if(Le(i)&&!ue(i)){var a=Le(e)&&!ue(e);a||(e={value:e});var o=i.name!=null&&e.name==null;return e=ke(e,i),o&&delete e.name,e}else return e})}oo({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];z(r.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)e.push(oe({type:"scatter"},n));else{var a=i.get("data");e.push({name:n.name,data:lIe(n.data,a)})}}),t.mergeOption(ke({series:e},r.newOption))});var Wre=z,Ure=ot();function uIe(r,t){var e=O3(r);Wre(t,function(n,i){for(var a=e.length-1;a>=0;a--){var o=e[a];if(o[i])break}if(a<0){var s=r.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();e[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),e.push(t)}function cIe(r){var t=O3(r),e=t[t.length-1];t.length>1&&t.pop();var n={};return Wre(e,function(i,a){for(var o=t.length-1;o>=0;o--)if(i=t[o][a],i){n[a]=i;break}}),n}function fIe(r){Ure(r).snapshots=null}function hIe(r){return O3(r).length}function O3(r){var t=Ure(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var dIe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,n){fIe(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return n},t})(pa);oo({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});var vIe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],B3=(function(){function r(t,e,n){var i=this;this._targetInfoList=[];var a=dq(e,t);z(pIe,function(o,s){(!n||!n.include||Ze(n.include,s)>=0)&&o(a,i._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var o=hI[n.brushType](0,a,i);n.__rangeOffset={offset:yq[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,n){z(t,function(i){var a=this.findTargetInfo(i,e);a&&a!==!0&&z(a.coordSyses,function(o){var s=hI[i.brushType](1,o,i.range,!0);n(i,s.values,o,e)})},this)},r.prototype.setInputRanges=function(t,e){z(t,function(n){var i=this.findTargetInfo(n,e);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=hI[n.brushType](0,i.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?yq[n.brushType](a.values,o.offset,gIe(a.xyMinMax,o.xyMinMax)):a.values}},this)},r.prototype.makePanelOpts=function(t,e){return he(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:jte(i),isTargetByCursor:Kte(i,t,n.coordSysModel),getLinearBrushOtherExtent:Zte(i)}})},r.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return i===!0||i&&Ze(i.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=dq(e,t),a=0;a<n.length;a++){var o=n[a],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<vq.length;l++)if(vq[l](i,o))return o}return!0},r})();function QP(r){return r[0]>r[1]&&r.reverse(),r}function dq(r,t){return cd(r,t,{includeMainTypes:vIe})}var pIe={grid:function(r,t){var e=r.xAxisModels,n=r.yAxisModels,i=r.gridModels,a=Me(),o={},s={};!e&&!n&&!i||(z(e,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),z(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),z(i,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];z(u.getCartesians(),function(f,d){(Ze(e,f.getAxis("x").model)>=0||Ze(n,f.getAxis("y").model)>=0)&&c.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:pq.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(r,t){z(r.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:pq.geo})})}},vq=[function(r,t){var e=r.xAxisModel,n=r.yAxisModel,i=r.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],pq={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(uu(r)),t}},hI={lineX:je(gq,0),lineY:je(gq,1),rect:function(r,t,e,n){var i=r?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=r?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),o=[QP([i[0],a[0]]),QP([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(r,t,e,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=he(e,function(o){var s=r?t.pointToData(o,n):t.dataToPoint(o,n);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function gq(r,t,e,n){var i=e.getAxis(["x","y"][r]),a=QP(he([0,1],function(s){return t?i.coordToData(i.toLocalCoord(n[s]),!0):i.toGlobalCoord(i.dataToCoord(n[s]))})),o=[];return o[r]=a,o[1-r]=[NaN,NaN],{values:a,xyMinMax:o}}var yq={lineX:je(mq,0),lineY:je(mq,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return he(r,function(n,i){return[n[0]-e[0]*t[i][0],n[1]-e[1]*t[i][1]]})}};function mq(r,t,e,n){return[t[0]-n[r]*e[0],t[1]-n[r]*e[1]]}function gIe(r,t){var e=xq(r),n=xq(t),i=[e[0]/n[0],e[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function xq(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var JP=z,yIe=Qve("toolbox-dataZoom_"),mIe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i,a){this._brushController||(this._brushController=new a3(i.getZr()),this._brushController.on("brush",Se(this._onBrush,this)).mount()),bIe(e,n,this,a,i),_Ie(e,n)},t.prototype.onclick=function(e,n,i){xIe[i].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(!e.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new B3(k3(this.model),a,{include:["grid"]});o.matchOutputRanges(n,a,function(u,c,f){if(f.type==="cartesian2d"){var d=u.brushType;d==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[d],f,c)}}),uIe(a,i),this._dispatchZoomAction(i);function s(u,c,f){var d=c.getAxis(u),h=d.model,v=l(u,h,a),g=v.findRepresentativeAxisProxy(h).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(f=bu(0,f.slice(),d.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),v&&(i[v.id]={dataZoomId:v.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var v=h.getAxisModel(u,c.componentIndex);v&&(d=h)}),d}},t.prototype._dispatchZoomAction=function(e){var n=[];JP(e,function(i,a){n.push(Oe(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:te.color.backgroundTint}};return n},t})(pa),xIe={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(cIe(this.ecModel))}};function k3(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function _Ie(r,t){r.setIconStatus("back",hIe(t)>1?"emphasis":"normal")}function bIe(r,t,e,n,i){var a=e._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),e._isZoomActive=a,r.setIconStatus("zoom",a?"emphasis":"normal");var o=new B3(k3(r),t,{include:["grid"]}),s=o.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}Oge("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var n=t.getModel(e),i=[],a=k3(n),o=cd(r,a);JP(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),JP(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:yIe+u+f};d[c]=f,i.push(d)}return i});function SIe(r){r.registerComponentModel(XEe),r.registerComponentView($Ee),Jh("saveAsImage",ZEe),Jh("magicType",QEe),Jh("dataView",sIe),Jh("dataZoom",mIe),Jh("restore",dIe),Je(YEe)}var wIe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:te.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:te.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:te.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:te.color.tertiary,fontSize:14}},t})(at);function qre(r){var t=r.get("confine");return t!=null?!!t:r.get("renderMode")==="richText"}function Yre(r){if(ut.domSupported){for(var t=document.documentElement.style,e=0,n=r.length;e<n;e++)if(r[e]in t)return r[e]}}var Xre=Yre(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),CIe=Yre(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function $re(r,t){if(!r)return t;t=rk(t,!0);var e=r.indexOf(t);return r=e===-1?t:"-"+r.slice(0,e)+"-"+t,r.toLowerCase()}function TIe(r,t){var e=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return e?e[t]:null}var AIe=$re(CIe,"transition"),L3=$re(Xre,"transform"),MIe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ut.transform3dSupported?"will-change:transform;":"");function DIe(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function EIe(r,t,e){if(!be(e)||e==="inside")return"";var n=r.get("backgroundColor"),i=r.get("borderWidth");t=hf(t);var a=DIe(e),o=Math.max(Math.round(i)*1.5,6),s="",l=L3+":",u;Ze(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+i,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-f)/2)*100)/100;s+=";"+a+":-"+h+"px";var v=t+" solid "+i+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+g.join("")+'"></div>'}function IIe(r,t,e){var n="cubic-bezier(0.23,1,0.32,1)",i="",a="";return e&&(i=" "+r/2+"s "+n,a="opacity"+i+",visibility"+i),t||(i=" "+r+"s "+n,a+=(a.length?",":"")+(ut.transformSupported?""+L3+i:",left"+i+",top"+i)),AIe+":"+a}function _q(r,t,e){var n=r.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!ut.transformSupported)return e?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=ut.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return e?"top:0;left:0;"+L3+":"+o+";":[["top",0],["left",0],[Xre,o]]}function RIe(r){var t=[],e=r.get("fontSize"),n=r.getTextColor();n&&t.push("color:"+n),t.push("font:"+r.getFont());var i=Ie(r.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+i+"px");var a=r.get("textShadowColor"),o=r.get("textShadowBlur")||0,s=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return a&&o&&t.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),z(["decoration","align"],function(u){var c=r.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function PIe(r,t,e,n){var i=[],a=r.get("transitionDuration"),o=r.get("backgroundColor"),s=r.get("shadowBlur"),l=r.get("shadowColor"),u=r.get("shadowOffsetX"),c=r.get("shadowOffsetY"),f=r.getModel("textStyle"),d=LQ(r,"html"),h=u+"px "+c+"px "+s+"px "+l;return i.push("box-shadow:"+h),t&&a>0&&i.push(IIe(a,e,n)),o&&i.push("background-color:"+o),z(["width","color","radius"],function(v){var g="border-"+v,m=rk(g),x=r.get(m);x!=null&&i.push(g+":"+x+(v==="color"?"":"px"))}),i.push(RIe(f)),d!=null&&i.push("padding:"+Yd(d).join("px ")+"px"),i.join(";")+";"}function bq(r,t,e,n,i){var a=t&&t.painter;if(e){var o=a&&a.getViewportRoot();o&&yde(r,o,e,n,i)}else{r[0]=n,r[1]=i;var s=a&&a.getViewportRootOffset();s&&(r[0]+=s.offsetLeft,r[1]+=s.offsetTop)}r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var OIe=(function(){function r(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ut.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),a=e.appendTo,o=a&&(be(a)?document.querySelector(a):af(a)?a:Re(a)&&a(t.getDom()));bq(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(n),this._api=t,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();ua(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return r.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),n=TIe(e,"position"),i=e.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=t.get("displayTransition")&&t.get("transitionDuration")>0,this.el.className=t.get("className")||""},r.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=MIe+PIe(t,!this._firstShow,this._longHide,this._enableDisplayTransition)+_q(a[0],a[1],!0)+("border-color:"+hf(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(t,e,n,i,a){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(be(a)&&n.get("trigger")==="item"&&!qre(n)&&(s=EIe(n,i,a)),be(t))o.innerHTML=t+s;else if(t){o.innerHTML="",ue(t)||(t=[t]);for(var l=0;l<t.length;l++)af(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},r.prototype.moveTo=function(t,e){if(this.el){var n=this._styleCoord;if(bq(n,this._zr,this._container,t,e),n[0]!=null&&n[1]!=null){var i=this.el.style,a=_q(n[0],n[1]);z(a,function(o){i[o[0]]=o[1]})}}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){var t=this,e=this.el.style;this._enableDisplayTransition?(e.visibility="hidden",e.opacity="0"):e.display="none",ut.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Se(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this._zr;mde(t&&t.painter&&t.painter.getViewportRoot(),this._container);var e=this.el;if(e){e.onmouseenter=e.onmousemove=e.onmouseleave=null;var n=e.parentNode;n&&n.removeChild(e)}this.el=this._container=null},r})(),BIe=(function(){function r(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),wq(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return r.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(t,e,n,i,a){var o=this;Le(t)&&Mt(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new gt({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:LQ(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),z(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=n.get(u)}),z(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(t){this._enterable=t},r.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=Sq(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},r.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;wq(i,this._zr,t,e),t=i[0],e=i[1];var a=n.style,o=Yl(a.borderWidth||0),s=Sq(a);n.x=t+o+s.left,n.y=e+o+s.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Se(this.hide,this),t)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r})();function Yl(r){return Math.max(0,r)}function Sq(r){var t=Yl(r.shadowBlur||0),e=Yl(r.shadowOffsetX||0),n=Yl(r.shadowOffsetY||0);return{left:Yl(t-e),right:Yl(t+e),top:Yl(t-n),bottom:Yl(t+n)}}function wq(r,t,e,n){r[0]=e,r[1]=n,r[2]=r[0]/t.getWidth(),r[3]=r[1]/t.getHeight()}var kIe=new rt({shape:{x:-1,y:-1,width:2,height:2}}),LIe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){if(!(ut.node||!n.getDom())){var i=e.getComponent("tooltip"),a=this._renderMode=ape(i.get("renderMode"));this._tooltipContent=a==="richText"?new BIe(n):new OIe(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(e,n,i){if(!(ut.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?jd(this,"_updatePosition",50,"fixRate"):lg(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,n=e.get("triggerOn");Ere("itemTooltip",this._api,Se(function(i,a,o){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,i=this._api,a=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(e,n,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,i,a){if(!(a.from===this.uid||ut.node||!i.getDom())){var o=Cq(a,i);this._ticket="";var s=a.dataByCoordSys,l=FIe(a,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=kIe;c.x=a.x,c.y=a.y,c.update(),He(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(e,n,i,a))return;var f=Ire(a,n),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},t.prototype.manuallyHideTip=function(e,n,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Cq(a,i))},t.prototype._manuallyAxisShowTip=function(e,n,i,a){var o=a.seriesIndex,s=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=n.getSeriesByIndex(o);if(u){var c=u.getData(),f=Up([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},t.prototype._tryShow=function(e,n){var i=e.target,a=this._tooltipModel;if(a){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){var s=He(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Wc(i,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(He(c).dataIndex!=null?l=c:He(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(e,l,n):u?this._showComponentItemTooltip(e,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var i=e.get("showDelay");n=Se(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(e,n){var i=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=Up([n.tooltipOption],a),l=this._renderMode,u=[],c=Br("section",{blocks:[],noHeader:!0}),f=[],d=new XD;z(e,function(_){z(_.dataByAxis,function(b){var w=i.getComponent(b.axisDim+"Axis",b.axisIndex),T=b.value;if(!(!w||T==null)){var A=Are(T,w.axis,i,b.seriesDataIndices,b.valueLabelOpt),M=Br("section",{header:A,noHeader:!Vi(A),sortBlocks:!0,blocks:[]});c.blocks.push(M),z(b.seriesDataIndices,function(D){var P=i.getSeriesByIndex(D.seriesIndex),I=D.dataIndexInside,R=P.getDataParams(I);if(!(R.dataIndex<0)){R.axisDim=b.axisDim,R.axisIndex=b.axisIndex,R.axisType=b.axisType,R.axisId=b.axisId,R.axisValue=X_(w.axis,{value:T}),R.axisValueLabel=A,R.marker=d.makeTooltipMarker("item",hf(R.color),l);var k=F9(P.formatTooltip(I,!0,null)),O=k.frag;if(O){var V=Up([P],a).get("valueFormatter");M.blocks.push(V?oe({valueFormatter:V},O):O)}k.text&&f.push(k.text),u.push(R)}})}})}),c.blocks.reverse(),f.reverse();var h=n.position,v=s.get("order"),g=Y9(c,d,l,v,i.get("useUTC"),s.get("textStyle"));g&&f.unshift(g);var m=l==="richText"?`

`:"<br/>",x=f.join(m);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,x,u,Math.random()+"",o[0],o[1],h,null,d)})},t.prototype._showSeriesItemTooltip=function(e,n,i){var a=this._ecModel,o=He(n),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,d=u.getData(f),h=this._renderMode,v=e.positionDefault,g=Up([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=g.get("trigger");if(!(m!=null&&m!=="item")){var x=u.getDataParams(c,f),_=new XD;x.marker=_.makeTooltipMarker("item",hf(x.color),h);var b=F9(u.formatTooltip(c,!1,f)),w=g.get("order"),T=g.get("valueFormatter"),A=b.frag,M=A?Y9(T?oe({valueFormatter:T},A):A,_,h,w,a.get("useUTC"),g.get("textStyle")):b.text,D="item_"+u.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,M,x,D,e.offsetX,e.offsetY,e.position,e.target,_)}),i({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,i){var a=this._renderMode==="html",o=He(n),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(be(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=Oe(l),l.content=zn(l.content));var f=[l],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=e.positionDefault,v=Up(f,this._tooltipModel,h?{position:h}:null),g=v.get("content"),m=Math.random()+"",x=new XD;this._showOrMove(v,function(){var _=Oe(v.get("formatterParams")||{});this._showTooltipContent(v,g,_,m,e.offsetX,e.offsetY,e.position,n,x)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,i,a,o,s,l,u,c){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var f=this._tooltipContent;f.setEnterable(e.get("enterable"));var d=e.get("formatter");l=l||e.get("position");var h=n,v=this._getNearestPoint([o,s],i,e.get("trigger"),e.get("borderColor"),e.get("defaultBorderColor",!0)),g=v.color;if(d)if(be(d)){var m=e.ecModel.get("useUTC"),x=ue(i)?i[0]:i,_=x&&x.axisType&&x.axisType.indexOf("time")>=0;h=d,_&&(h=ty(x.axisValue,h,m)),h=nk(h,i,!0)}else if(Re(d)){var b=Se(function(w,T){w===this._ticket&&(f.setContent(T,c,e,g,l),this._updatePosition(e,l,o,s,f,i,u))},this);this._ticket=a,h=d(i,a,b)}else h=d;f.setContent(h,c,e,g,l),f.show(e,g),this._updatePosition(e,l,o,s,f,i,u)}},t.prototype._getNearestPoint=function(e,n,i,a,o){if(i==="axis"||ue(n))return{color:a||o};if(!ue(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,i,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||e.get("position");var f=o.getSize(),d=e.get("align"),h=e.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),Re(n)&&(n=n([i,a],s,o.el,v,{viewSize:[u,c],contentSize:f.slice()})),ue(n))i=_e(n[0],u),a=_e(n[1],c);else if(Le(n)){var g=n;g.width=f[0],g.height=f[1];var m=rr(g,{width:u,height:c});i=m.x,a=m.y,d=null,h=null}else if(be(n)&&l){var x=zIe(n,v,f,e.get("borderWidth"));i=x[0],a=x[1]}else{var x=NIe(i,a,o,u,c,d?null:20,h?null:20);i=x[0],a=x[1]}if(d&&(i-=Tq(d)?f[0]/2:d==="right"?f[0]:0),h&&(a-=Tq(h)?f[1]/2:h==="bottom"?f[1]:0),qre(e)){var x=VIe(i,a,o,u,c);i=x[0],a=x[1]}o.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(e,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===e.length;return o&&z(i,function(s,l){var u=s.dataByAxis||[],c=e[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&z(u,function(d,h){var v=f[h]||{},g=d.seriesDataIndices||[],m=v.seriesDataIndices||[];o=o&&d.value===v.value&&d.axisType===v.axisType&&d.axisId===v.axisId&&g.length===m.length,o&&z(g,function(x,_){var b=m[_];o=o&&x.seriesIndex===b.seriesIndex&&x.dataIndex===b.dataIndex}),a&&z(d.seriesDataIndices,function(x){var _=x.seriesIndex,b=n[_],w=a[_];b&&w&&w.data!==b.data&&(o=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!o},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){ut.node||!n.getDom()||(lg(this,"_updatePosition"),this._tooltipContent.dispose(),qP("itemTooltip",n))},t.type="tooltip",t})(Yt);function Up(r,t,e){var n=t.ecModel,i;e?(i=new st(e,n,n),i=new st(t.option,i,n)):i=t;for(var a=r.length-1;a>=0;a--){var o=r[a];o&&(o instanceof st&&(o=o.get("tooltip",!0)),be(o)&&(o={formatter:o}),o&&(i=new st(o,i,n)))}return i}function Cq(r,t){return r.dispatchAction||Se(t.dispatchAction,t)}function NIe(r,t,e,n,i,a,o){var s=e.getSize(),l=s[0],u=s[1];return a!=null&&(r+l+a+2>n?r-=l+a:r+=a),o!=null&&(t+u+o>i?t-=u+o:t+=o),[r,t]}function VIe(r,t,e,n,i){var a=e.getSize(),o=a[0],s=a[1];return r=Math.min(r+o,n)-o,t=Math.min(t+s,i)-s,r=Math.max(r,0),t=Math.max(t,0),[r,t]}function zIe(r,t,e,n){var i=e[0],a=e[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=t.width,c=t.height;switch(r){case"inside":s=t.x+u/2-i/2,l=t.y+c/2-a/2;break;case"top":s=t.x+u/2-i/2,l=t.y-a-o;break;case"bottom":s=t.x+u/2-i/2,l=t.y+c+o;break;case"left":s=t.x-i-o,l=t.y+c/2-a/2;break;case"right":s=t.x+u+o,l=t.y+c/2-a/2}return[s,l]}function Tq(r){return r==="center"||r==="middle"}function FIe(r,t,e){var n=TB(r).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=Vd(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=e.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=He(u).tooltipConfig;if(c&&c.name===r.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function HIe(r){Je(cy),r.registerComponentModel(wIe),r.registerComponentView(LIe),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},gr),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},gr)}var GIe=["rect","polygon","keep","clear"];function WIe(r,t){var e=qt(r?r.brush:[]);if(e.length){var n=[];z(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var i=r&&r.toolbox;ue(i)&&(i=i[0]),i||(i={feature:{}},r.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,n),UIe(s),t&&!s.length&&s.push.apply(s,GIe)}}function UIe(r){var t={};z(r,function(e){t[e]=1}),r.length=0,z(t,function(e,n){r.push(n)})}var Aq=z;function Mq(r){if(r){for(var t in r)if(r.hasOwnProperty(t))return!0}}function eO(r,t,e){var n={};return Aq(t,function(a){var o=n[a]=i();Aq(r[a],function(s,l){if(en.isValidType(l)){var u={type:l,visual:s};e&&e(u,a),o[l]=new en(u),l==="opacity"&&(u=Oe(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new en(u))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function jre(r,t,e){var n;z(e,function(i){t.hasOwnProperty(i)&&Mq(t[i])&&(n=!0)}),n&&z(e,function(i){t.hasOwnProperty(i)&&Mq(t[i])?r[i]=Oe(t[i]):delete r[i]})}function qIe(r,t,e,n,i,a){var o={};z(r,function(f){var d=en.prepareVisualTypes(t[f]);o[f]=d});var s;function l(f){return dk(e,s,f)}function u(f,d){YQ(e,s,f,d)}e.each(c);function c(f,d){s=f;var h=e.getRawDataItem(s);if(!(h&&h.visualMap===!1))for(var v=n.call(i,f),g=t[v],m=o[v],x=0,_=m.length;x<_;x++){var b=m[x];g[b]&&g[b].applyVisual(f,l,u)}}}function YIe(r,t,e,n){var i={};return z(r,function(a){var o=en.prepareVisualTypes(t[a]);i[a]=o}),{progress:function(o,s){var l;n!=null&&(l=s.getDimensionIndex(n));function u(T){return dk(s,f,T)}function c(T,A){YQ(s,f,T,A)}for(var f,d=s.getStore();(f=o.next())!=null;){var h=s.getRawDataItem(f);if(!(h&&h.visualMap===!1))for(var v=n!=null?d.get(l,f):f,g=e(v),m=t[g],x=i[g],_=0,b=x.length;_<b;_++){var w=x[_];m[w]&&m[w].applyVisual(v,u,c)}}}}}function XIe(r){var t=r.brushType,e={point:function(n){return Dq[t].point(n,e,r)},rect:function(n){return Dq[t].rect(n,e,r)}};return e}var Dq={lineX:Eq(0),lineY:Eq(1),rect:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])},rect:function(r,t,e){return r&&e.boundingRect.intersect(r)}},polygon:{point:function(r,t,e){return r&&e.boundingRect.contain(r[0],r[1])&&Oc(e.range,r[0],r[1])},rect:function(r,t,e){var n=e.range;if(!r||n.length<=1)return!1;var i=r.x,a=r.y,o=r.width,s=r.height,l=n[0];if(Oc(n,i,a)||Oc(n,i+o,a)||Oc(n,i,a+s)||Oc(n,i+o,a+s)||Fe.create(r).contain(l[0],l[1])||v0(i,a,i+o,a,n)||v0(i,a,i,a+s,n)||v0(i+o,a,i+o,a+s,n)||v0(i,a+s,i+o,a+s,n))return!0}}};function Eq(r){var t=["x","y"],e=["width","height"];return{point:function(n,i,a){if(n){var o=a.range,s=n[r];return qp(s,o)}},rect:function(n,i,a){if(n){var o=a.range,s=[n[t[r]],n[t[r]]+n[e[r]]];return s[1]<s[0]&&s.reverse(),qp(s[0],o)||qp(s[1],o)||qp(o[0],s)||qp(o[1],s)}}}}function qp(r,t){return t[0]<=r&&r<=t[1]}var Iq=["inBrush","outOfBrush"],dI="__ecBrushSelect",tO="__ecInBrushSelectEvent";function Zre(r){r.eachComponent({mainType:"brush"},function(t){var e=t.brushTargetManager=new B3(t.option,r);e.setInputRanges(t.areas,r)})}function $Ie(r,t,e){var n=[],i,a;r.eachComponent({mainType:"brush"},function(o){e&&e.type==="takeGlobalCursor"&&o.setBrushOption(e.key==="brush"?e.brushOption:{brushType:!1})}),Zre(r),r.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:Oe(o.areas),selected:[]};n.push(l);var u=o.option,c=u.brushLink,f=[],d=[],h=[],v=!1;s||(i=u.throttleType,a=u.throttleDelay);var g=he(o.areas,function(T){var A=QIe[T.brushType],M=ke({boundingRect:A?A(T):void 0},T);return M.selectors=XIe(M),M}),m=eO(o.option,Iq,function(T){T.mappingMethod="fixed"});ue(c)&&z(c,function(T){f[T]=1});function x(T){return c==="all"||!!f[T]}function _(T){return!!T.length}r.eachSeries(function(T,A){var M=h[A]=[];T.subType==="parallel"?b(T,A):w(T,A,M)});function b(T,A){var M=T.coordinateSystem;v=v||M.hasAxisBrushed(),x(A)&&M.eachActiveState(T.getData(),function(D,P){D==="active"&&(d[P]=1)})}function w(T,A,M){if(!(!T.brushSelector||KIe(o,A))&&(z(g,function(P){o.brushTargetManager.controlSeries(P,T,r)&&M.push(P),v=v||_(M)}),x(A)&&_(M))){var D=T.getData();D.each(function(P){Rq(T,M,D,P)&&(d[P]=1)})}}r.eachSeries(function(T,A){var M={seriesId:T.id,seriesIndex:A,seriesName:T.name,dataIndex:[]};l.selected.push(M);var D=h[A],P=T.getData(),I=x(A)?function(R){return d[R]?(M.dataIndex.push(P.getRawIndex(R)),"inBrush"):"outOfBrush"}:function(R){return Rq(T,D,P,R)?(M.dataIndex.push(P.getRawIndex(R)),"inBrush"):"outOfBrush"};(x(A)?v:_(D))&&qIe(Iq,m,P,I)})}),jIe(t,i,a,n,e)}function jIe(r,t,e,n,i){if(i){var a=r.getZr();if(!a[tO]){a[dI]||(a[dI]=ZIe);var o=jd(a,dI,e,t);o(r,n)}}}function ZIe(r,t){if(!r.isDisposed()){var e=r.getZr();e[tO]=!0,r.dispatchAction({type:"brushSelect",batch:t}),e[tO]=!1}}function Rq(r,t,e,n){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(r.brushSelector(n,e,o.selectors,o))return!0}}function KIe(r,t){var e=r.option.seriesIndex;return e!=null&&e!=="all"&&(ue(e)?Ze(e,t)<0:t!==e)}var QIe={rect:function(r){return Pq(r.range)},polygon:function(r){for(var t,e=r.range,n=0,i=e.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=e[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&Pq(t)}};function Pq(r){return new Fe(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var JIe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n,this.model,(this._brushController=new a3(n.getZr())).on("brush",Se(this._onBrush,this)).mount()},t.prototype.render=function(e,n,i,a){this.model=e,this._updateController(e,n,i,a)},t.prototype.updateTransform=function(e,n,i,a){Zre(n),this._updateController(e,n,i,a)},t.prototype.updateVisual=function(e,n,i,a){this.updateTransform(e,n,i,a)},t.prototype.updateView=function(e,n,i,a){this._updateController(e,n,i,a)},t.prototype._updateController=function(e,n,i,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Oe(i),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Oe(i),$from:n})},t.type="brush",t})(Yt),eRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&jre(i,e,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=he(e,function(n){return Oq(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=Oq(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:te.color.backgroundTint,borderColor:te.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:te.color.disabled},t})(at);function Oq(r,t){return Ke({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new st(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},t,!0)}var tRe=["rect","polygon","lineX","lineY","keep","clear"],rRe=(function(r){J(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,n,i){var a,o,s;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,z(e.get("type",!0),function(l){e.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,i){this.render(e,n,i)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),i={};return z(e.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},t.prototype.onclick=function(e,n,i){var a=this._brushType,o=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(e){var n={show:!0,type:tRe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return n},t})(pa);function nRe(r){r.registerComponentView(JIe),r.registerComponentModel(eRe),r.registerPreprocessor(WIe),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,$Ie),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},gr),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},gr),Jh("brush",rRe)}var iRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:te.size.m,backgroundColor:te.color.transparent,borderColor:te.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:te.color.primary},subtextStyle:{fontSize:12,color:te.color.quaternary}},t})(at),aRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){if(this.group.removeAll(),!!e.get("show")){var a=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=Ie(e.get("textBaseline"),e.get("textVerticalAlign")),c=new gt({style:Ut(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=e.get("subtext"),h=new gt({style:Ut(s,{text:d,fill:s.getTextColor(),y:f.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=e.get("link"),g=e.get("sublink"),m=e.get("triggerEvent",!0);c.silent=!v&&!m,h.silent=!g&&!m,v&&c.on("click",function(){L_(v,"_"+e.get("target"))}),g&&h.on("click",function(){L_(g,"_"+e.get("subtarget"))}),He(c).eventData=He(h).eventData=m?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(c),d&&a.add(h);var x=a.getBoundingRect(),_=e.getBoxLayoutParams();_.width=x.width,_.height=x.height;var b=qr(e,i),w=rr(_,b.refContainer,e.get("padding"));l||(l=e.get("left")||e.get("right"),l==="middle"&&(l="center"),l==="right"?w.x+=w.width:l==="center"&&(w.x+=w.width/2)),u||(u=e.get("top")||e.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?w.y+=w.height:u==="middle"&&(w.y+=w.height/2),u=u||"top"),a.x=w.x,a.y=w.y,a.markRedraw();var T={align:l,verticalAlign:u};c.setStyle(T),h.setStyle(T),x=a.getBoundingRect();var A=w.margin,M=e.getItemStyle(["color","opacity"]);M.fill=e.get("backgroundColor");var D=new rt({shape:{x:x.x-A[3],y:x.y-A[0],width:x.width+A[1]+A[3],height:x.height+A[0]+A[2],r:e.get("borderRadius")},style:M,subPixelOptimize:!0,silent:!0});a.add(D)}},t.type="title",t})(Yt);function oRe(r){r.registerComponentModel(iRe),r.registerComponentView(aRe)}var Bq=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){r.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){e==null&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e=this.option,n=e.data||[],i=e.axisType,a=this._names=[],o;i==="category"?(o=[],z(n,function(u,c){var f=Gr(Nd(u),""),d;Le(u)?(d=Oe(u),d.value=c):d=c,o.push(d),a.push(f)})):o=n;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Hn([{name:"value",type:s}],this);l.initData(o,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:te.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:te.color.secondary},data:[]},t})(at),Kre=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline.slider",t.defaultOption=Du(Bq.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:te.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:te.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:te.color.tertiary},itemStyle:{color:te.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:te.color.accent50,borderColor:te.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:te.color.accent50,borderColor:te.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:te.color.accent60},itemStyle:{color:te.color.accent60,borderColor:te.color.accent60},controlStyle:{color:te.color.accent70,borderColor:te.color.accent70}},progress:{lineStyle:{color:te.color.accent30},itemStyle:{color:te.color.accent40}},data:[]}),t})(Bq);mr(Kre,AS.prototype);var sRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="timeline",t})(Yt),lRe=(function(r){J(t,r);function t(e,n,i,a){var o=r.call(this,e,n,i)||this;return o.type=a||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t})(Pa),vI=Math.PI,kq=ot(),uRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,i){if(this.model=e,this.api=i,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,e);e.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return Br("nameValue",{noName:!0,value:c})},z(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,l,e)},this),this._renderAxisLabel(a,s,l,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var i=e.get(["label","position"]),a=e.get("orient"),o=fRe(e,n),s;i==null||i==="auto"?s=a==="horizontal"?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":be(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:vI/2},f=a==="vertical"?o.height:o.width,d=e.getModel("controlStyle"),h=d.get("show",!0),v=h?d.get("itemSize"):0,g=h?d.get("itemGap"):0,m=v+g,x=e.get(["label","rotate"])||0;x=x*vI/180;var _,b,w,T=d.get("position",!0),A=h&&d.get("showPlayBtn",!0),M=h&&d.get("showPrevBtn",!0),D=h&&d.get("showNextBtn",!0),P=0,I=f;T==="left"||T==="bottom"?(A&&(_=[0,0],P+=m),M&&(b=[P,0],P+=m),D&&(w=[I-v,0],I-=m)):(A&&(_=[I-v,0],I-=m),M&&(b=[0,0],P+=m),D&&(w=[I-v,0],I-=m));var R=[P,I];return e.get("inverse")&&R.reverse(),{viewRect:o,mainLength:f,orient:a,rotation:c[a],labelRotation:x,labelPosOpt:s,labelAlign:e.get(["label","align"])||l[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||u[a],playPosition:_,prevBtnPosition:b,nextBtnPosition:w,axisExtent:R,controlSize:v,controlGap:g}},t.prototype._position=function(e,n){var i=this._mainGroup,a=this._labelGroup,o=e.viewRect;if(e.orient==="vertical"){var s=Jr(),l=o.x,u=o.y+o.height;to(s,s,[-l,-u]),sl(s,s,-vI/2),to(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=_(o),f=_(i.getBoundingRect()),d=_(a.getBoundingRect()),h=[i.x,i.y],v=[a.x,a.y];v[0]=h[0]=c[0][0];var g=e.labelPosOpt;if(g==null||be(g)){var m=g==="+"?0:1;b(h,f,c,1,m),b(v,d,c,1,1-m)}else{var m=g>=0?0:1;b(h,f,c,1,m),v[1]=h[1]+g}i.setPosition(h),a.setPosition(v),i.rotation=a.rotation=e.rotation,x(i),x(a);function x(w){w.originX=c[0][0]-w.x,w.originY=c[1][0]-w.y}function _(w){return[[w.x,w.x+w.width],[w.y,w.y+w.height]]}function b(w,T,A,M,D){w[M]+=A[M][D]-T[M][D]}},t.prototype._createAxis=function(e,n){var i=n.getData(),a=n.get("axisType"),o=cRe(n,a);o.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new lRe("value",o,e.axisExtent,a);return l.model=n,l},t.prototype._createGroup=function(e){var n=this[e]=new Be;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,i,a){var o=i.getExtent();if(a.get(["lineStyle","show"])){var s=new Mr({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:oe({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new Mr({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:ke({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(e,n,i,a){var o=this,s=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],z(l,function(u){var c=i.dataToCoord(u.value),f=s.getItemModel(u.value),d=f.getModel("itemStyle"),h=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),g={x:c,y:0,onclick:Se(o._changeTimeline,o,u.value)},m=Lq(f,d,n,g);m.ensureState("emphasis").style=h.getItemStyle(),m.ensureState("progress").style=v.getItemStyle(),lu(m);var x=He(m);f.get("tooltip")?(x.dataIndex=u.value,x.dataModel=a):x.dataIndex=x.dataModel=null,o._tickSymbols.push(m)})},t.prototype._renderAxisLabel=function(e,n,i,a){var o=this,s=i.getLabelModel();if(s.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],z(u,function(c){var f=c.tickValue,d=l.getItemModel(f),h=d.getModel("label"),v=d.getModel(["emphasis","label"]),g=d.getModel(["progress","label"]),m=i.dataToCoord(c.tickValue),x=new gt({x:m,y:0,rotation:e.labelRotation-e.rotation,onclick:Se(o._changeTimeline,o,f),silent:!1,style:Ut(h,{text:c.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});x.ensureState("emphasis").style=Ut(v),x.ensureState("progress").style=Ut(g),n.add(x),lu(x),kq(x).dataIndex=f,o._tickLabels.push(x)})}},t.prototype._renderControl=function(e,n,i,a){var o=e.controlSize,s=e.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);d(e.nextBtnPosition,"next",Se(this._changeTimeline,this,f?"-":"+")),d(e.prevBtnPosition,"prev",Se(this._changeTimeline,this,f?"+":"-")),d(e.playPosition,c?"stop":"play",Se(this._handlePlayClick,this,!c),!0);function d(h,v,g,m){if(h){var x=ro(Ie(a.get(["controlStyle",v+"BtnSize"]),o),o),_=[0,-x/2,x,x],b=hRe(a,v+"Icon",_,{x:h[0],y:h[1],originX:o/2,originY:0,rotation:m?-s:0,rectHover:!0,style:l,onclick:g});b.ensureState("emphasis").style=u,n.add(b),lu(b)}}},t.prototype._renderCurrentPointer=function(e,n,i,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Se(u._handlePointerDrag,u),f.ondragend=Se(u._handlePointerDragend,u),Nq(f,u._progressLine,s,i,a,!0)},onUpdate:function(f){Nq(f,u._progressLine,s,i,a)}};this._currentPointer=Lq(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var i=this._toAxisCoord(e)[0],a=this._axis,o=zi(a.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var n=this._mainGroup.getLocalTransform();return Ja(e,n,!0)},t.prototype._findNearestTick=function(e){var n=this.model.getData(),i=1/0,a,o=this._axis;return n.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-e);c<i&&(i=c,a=l)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();e==="+"?e=n+1:e==="-"&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<e);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",kq(i[a]).dataIndex<=e)},t.type="timeline.slider",t})(sRe);function cRe(r,t){if(t=t||r.get("type"),t)switch(t){case"category":return new Td({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new Ek({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new il}}function fRe(r,t){return rr(r.getBoxLayoutParams(),qr(r,t).refContainer,r.get("padding"))}function hRe(r,t,e,n){var i=n.style,a=Wd(r.get(["controlStyle",t]),n||{},new Fe(e[0],e[1],e[2],e[3]));return i&&a.setStyle(i),a}function Lq(r,t,e,n,i,a){var o=t.get("color");if(i)i.setColor(o),e.add(i),a&&a.onUpdate(i);else{var s=r.get("symbol");i=Dr(s,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),e.add(i),a&&a.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),n=Ke({rectHover:!0,z2:100},n,!0);var u=Zd(r.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=Df(r.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var f=r.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function Nq(r,t,e,n,i,a){if(!r.dragging){var o=i.getModel("checkpointStyle"),s=n.dataToCoord(i.getData().get("value",e));if(a||!o.get("animation",!0))r.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function dRe(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var i=e.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),ke({currentIndex:i.option.currentIndex},t)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function vRe(r){var t=r&&r.timeline;ue(t)||(t=t?[t]:[]),z(t,function(e){e&&pRe(e)})}function pRe(r){var t=r.type,e={number:"value",time:"time"};if(e[t]&&(r.axisType=e[t],delete r.type),Vq(r),Lc(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});Lc(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!Lc(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}z(r.data||[],function(i){Le(i)&&!ue(i)&&(!Lc(i,"value")&&Lc(i,"name")&&(i.value=i.name),Vq(i))})}function Vq(r){var t=r.itemStyle||(r.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=r.label||r.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};z(n,function(o,s){!a[s]&&!Lc(i,s)&&(i[s]=o)}),e.label&&!Lc(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function Lc(r,t){return r.hasOwnProperty(t)}function gRe(r){r.registerComponentModel(Kre),r.registerComponentView(uRe),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),dRe(r),r.registerPreprocessor(vRe)}function N3(r,t){if(!r)return!1;for(var e=ue(r)?r:[r],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function W1(r){of(r,"label",["show"])}var U1=ot(),qo=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e.preventAutoZ=!0,e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(ut.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,i,a){var o=this.mainType;i||n.eachSeries(function(s){var l=s.get(this.mainType,!0),u=U1(s)[o];if(!l||!l.data){U1(s)[o]=null;return}u?u._mergeOption(l,n,!0):(a&&W1(l),z(l.data,function(c){c instanceof Array?(W1(c[0]),W1(c[1])):W1(c)}),u=this.createMarkerModelFromSeries(l,this,n),oe(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),U1(s)[o]=u},this)},t.prototype.formatTooltip=function(e,n,i){var a=this.getData(),o=this.getRawValue(e),s=a.getName(e);return Br("section",{header:this.name,blocks:[Br("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,n){var i=AS.prototype.getDataParams.call(this,e,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(e,n){return U1(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t})(at);mr(qo,AS.prototype);var yRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t})(qo);function rO(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function mRe(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function q1(r,t,e,n,i,a,o){var s=[],l=nl(t,i),u=l?t.getCalculationInfo("stackResultDimension"):i,c=yb(t,u,r),f=t.hostModel,d=f.indicesOfNearest(e,u,c)[0];s[a]=t.get(n,d),s[o]=t.get(u,d);var h=t.get(i,d),v=$a(t.get(i,d));return v=Math.min(v,20),v>=0&&(s[o]=+s[o].toFixed(v)),[s,h]}var Y1={min:je(q1,"min"),max:je(q1,"max"),average:je(q1,"average"),median:je(q1,"median")};function Cg(r,t){if(t){var e=r.getData(),n=r.coordinateSystem,i=n&&n.dimensions;if(!mRe(t)&&!ue(t.coord)&&ue(i)){var a=Qre(t,e,n,r);if(t=Oe(t),t.type&&Y1[t.type]&&a.baseAxis&&a.valueAxis){var o=Ze(i,a.baseAxis.dim),s=Ze(i,a.valueAxis.dim),l=Y1[t.type](e,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,o,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!ue(i)){t.coord=[];var u=r.getBaseAxis();if(u&&t.type&&Y1[t.type]){var c=n.getOtherAxis(u);c&&(t.value=yb(e,e.mapDimension(c.dim),t.type))}}else for(var f=t.coord,d=0;d<2;d++)Y1[f[d]]&&(f[d]=yb(e,e.mapDimension(i[d]),f[d]));return t}}function Qre(r,t,e,n){var i={};return r.valueIndex!=null||r.valueDim!=null?(i.valueDataDim=r.valueIndex!=null?t.getDimension(r.valueIndex):r.valueDim,i.valueAxis=e.getAxis(xRe(n,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function xRe(r,t){var e=r.getData().getDimensionInfo(t);return e&&e.coordDim}function Tg(r,t){return r&&r.containData&&t.coord&&!rO(t)?r.containData(t.coord):!0}function _Re(r,t,e){return r&&r.containZone&&t.coord&&e.coord&&!rO(t)&&!rO(e)?r.containZone(t.coord,e.coord):!0}function Jre(r,t){return r?function(e,n,i,a){var o=a<2?e.coord&&e.coord[a]:e.value;return fu(o,t[a])}:function(e,n,i,a){return fu(e.value,t[a])}}function yb(r,t,e){if(e==="average"){var n=0,i=0;return r.each(t,function(a,o){isNaN(a)||(n+=a,i++)}),n/i}else return e==="median"?r.getMedian(t):r.getDataExtent(t)[e==="max"?1:0]}var pI=ot(),V3=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(){this.markerGroupMap=Me()},t.prototype.render=function(e,n,i){var a=this,o=this.markerGroupMap;o.each(function(s){pI(s).keep=!1}),n.eachSeries(function(s){var l=qo.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,n,i)}),o.each(function(s){!pI(s).keep&&a.group.remove(s.group)}),bRe(n,o,this.type)},t.prototype.markKeep=function(e){pI(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var i=this;z(e,function(a){var o=qo.getMarkerModelFromSeries(a,i.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(n?vK(l):OB(l))})}})},t.type="marker",t})(Yt);function bRe(r,t,e){r.eachSeries(function(n){var i=qo.getMarkerModelFromSeries(n,e),a=t.get(n.id);if(i&&a&&a.group){var o=ff(i),s=o.z,l=o.zlevel;SS(a.group,s,l)}})}function zq(r,t,e){var n=t.coordinateSystem,i=e.getWidth(),a=e.getHeight(),o=n&&n.getArea&&n.getArea();r.each(function(s){var l=r.getItemModel(s),u=l.get("relativeTo")==="coordinate",c=u?o?o.width:0:i,f=u?o?o.height:0:a,d=u&&o?o.x:0,h=u&&o?o.y:0,v,g=_e(l.get("x"),c)+d,m=_e(l.get("y"),f)+h;if(!isNaN(g)&&!isNaN(m))v=[g,m];else if(t.getMarkerPosition)v=t.getMarkerPosition(r.getValues(r.dimensions,s));else if(n){var x=r.get(n.dimensions[0],s),_=r.get(n.dimensions[1],s);v=n.dataToPoint([x,_])}isNaN(g)||(v[0]=g),isNaN(m)||(v[1]=m),r.setItemLayout(s,v)})}var SRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=qo.getMarkerModelFromSeries(a,"markPoint");o&&(zq(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new oy),f=wRe(o,e,n);n.setData(f),zq(n.getData(),e,a),f.each(function(d){var h=f.getItemModel(d),v=h.getShallow("symbol"),g=h.getShallow("symbolSize"),m=h.getShallow("symbolRotate"),x=h.getShallow("symbolOffset"),_=h.getShallow("symbolKeepAspect");if(Re(v)||Re(g)||Re(m)||Re(x)){var b=n.getRawValue(d),w=n.getDataParams(d);Re(v)&&(v=v(b,w)),Re(g)&&(g=g(b,w)),Re(m)&&(m=m(b,w)),Re(x)&&(x=x(b,w))}var T=h.getModel("itemStyle").getItemStyle(),A=h.get("z2"),M=ny(l,"color");T.fill||(T.fill=M),f.setItemVisual(d,{z2:Ie(A,0),symbol:v,symbolSize:g,symbolRotate:m,symbolOffset:x,symbolKeepAspect:_,style:T})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(d){d.traverse(function(h){He(h).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t})(V3);function wRe(r,t,e){var n;r?n=he(r&&r.dimensions,function(s){var l=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return oe(oe({},l),{name:s,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new Hn(n,e),a=he(e.get("data"),je(Cg,t));r&&(a=Tt(a,je(Tg,r)));var o=Jre(!!r,n);return i.initData(a,null,o),i}function CRe(r){r.registerComponentModel(yRe),r.registerComponentView(SRe),r.registerPreprocessor(function(t){N3(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var TRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t})(qo),X1=ot(),ARe=function(r,t,e,n){var i=r.getData(),a;if(ue(n))a=n;else{var o=n.type;if(o==="min"||o==="max"||o==="average"||o==="median"||n.xAxis!=null||n.yAxis!=null){var s=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)s=t.getAxis(n.yAxis!=null?"y":"x"),l=dn(n.yAxis,n.xAxis);else{var u=Qre(n,i,t,r);s=u.valueAxis;var c=Ak(i,u.valueDataDim);l=yb(i,c,o)}var f=s.dim==="x"?0:1,d=1-f,h=Oe(n),v={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,v.coord[d]=1/0;var g=e.get("precision");g>=0&&yt(l)&&(l=+l.toFixed(Math.min(g,20))),h.coord[f]=v.coord[f]=l,a=[h,v,{type:o,valueIndex:n.valueIndex,value:l}]}else a=[]}var m=[Cg(r,a[0]),Cg(r,a[1]),oe({},a[2])];return m[2].type=m[2].type||null,Ke(m[2],m[0]),Ke(m[2],m[1]),m};function mb(r){return!isNaN(r)&&!isFinite(r)}function Fq(r,t,e,n){var i=1-r,a=n.dimensions[r];return mb(t[i])&&mb(e[i])&&t[r]===e[r]&&n.getAxis(a).containData(t[r])}function MRe(r,t){if(r.type==="cartesian2d"){var e=t[0].coord,n=t[1].coord;if(e&&n&&(Fq(1,e,n,r)||Fq(0,e,n,r)))return!0}return Tg(r,t[0])&&Tg(r,t[1])}function gI(r,t,e,n,i){var a=n.coordinateSystem,o=r.getItemModel(t),s,l=_e(o.get("x"),i.getWidth()),u=_e(o.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition)s=n.getMarkerPosition(r.getValues(r.dimensions,t));else{var c=a.dimensions,f=r.get(c[0],t),d=r.get(c[1],t);s=a.dataToPoint([f,d])}if(_u(a,"cartesian2d")){var h=a.getAxis("x"),v=a.getAxis("y"),c=a.dimensions;mb(r.get(c[0],t))?s[0]=h.toGlobalCoord(h.getExtent()[e?0:1]):mb(r.get(c[1],t))&&(s[1]=v.toGlobalCoord(v.getExtent()[e?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}r.setItemLayout(t,s)}var DRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=qo.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=X1(o).from,u=X1(o).to;l.each(function(c){gI(l,c,!0,a,i),gI(u,c,!1,a,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new n3);this.group.add(c.group);var f=ERe(o,e,n),d=f.from,h=f.to,v=f.line;X1(n).from=d,X1(n).to=h,n.setData(v);var g=n.get("symbol"),m=n.get("symbolSize"),x=n.get("symbolRotate"),_=n.get("symbolOffset");ue(g)||(g=[g,g]),ue(m)||(m=[m,m]),ue(x)||(x=[x,x]),ue(_)||(_=[_,_]),f.from.each(function(w){b(d,w,!0),b(h,w,!1)}),v.each(function(w){var T=v.getItemModel(w),A=T.getModel("lineStyle").getLineStyle();v.setItemLayout(w,[d.getItemLayout(w),h.getItemLayout(w)]);var M=T.get("z2");A.stroke==null&&(A.stroke=d.getItemVisual(w,"style").fill),v.setItemVisual(w,{z2:Ie(M,0),fromSymbolKeepAspect:d.getItemVisual(w,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(w,"symbolOffset"),fromSymbolRotate:d.getItemVisual(w,"symbolRotate"),fromSymbolSize:d.getItemVisual(w,"symbolSize"),fromSymbol:d.getItemVisual(w,"symbol"),toSymbolKeepAspect:h.getItemVisual(w,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(w,"symbolOffset"),toSymbolRotate:h.getItemVisual(w,"symbolRotate"),toSymbolSize:h.getItemVisual(w,"symbolSize"),toSymbol:h.getItemVisual(w,"symbol"),style:A})}),c.updateData(v),f.line.eachItemGraphicEl(function(w){He(w).dataModel=n,w.traverse(function(T){He(T).dataModel=n})});function b(w,T,A){var M=w.getItemModel(T);gI(w,T,A,e,a);var D=M.getModel("itemStyle").getItemStyle();D.fill==null&&(D.fill=ny(l,"color")),w.setItemVisual(T,{symbolKeepAspect:M.get("symbolKeepAspect"),symbolOffset:Ie(M.get("symbolOffset",!0),_[A?0:1]),symbolRotate:Ie(M.get("symbolRotate",!0),x[A?0:1]),symbolSize:Ie(M.get("symbolSize"),m[A?0:1]),symbol:Ie(M.get("symbol",!0),g[A?0:1]),style:D})}this.markKeep(c),c.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t})(V3);function ERe(r,t,e){var n;r?n=he(r&&r.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return oe(oe({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new Hn(n,e),a=new Hn(n,e),o=new Hn([],e),s=he(e.get("data"),je(ARe,t,r,e));r&&(s=Tt(s,je(MRe,r)));var l=Jre(!!r,n);return i.initData(he(s,function(u){return u[0]}),null,l),a.initData(he(s,function(u){return u[1]}),null,l),o.initData(he(s,function(u){return u[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}function IRe(r){r.registerComponentModel(TRe),r.registerComponentView(DRe),r.registerPreprocessor(function(t){N3(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var RRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.createMarkerModelFromSeries=function(e,n,i){return new t(e,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t})(qo),$1=ot(),PRe=function(r,t,e,n){var i=n[0],a=n[1];if(!(!i||!a)){var o=Cg(r,i),s=Cg(r,a),l=o.coord,u=s.coord;l[0]=dn(l[0],-1/0),l[1]=dn(l[1],-1/0),u[0]=dn(u[0],1/0),u[1]=dn(u[1],1/0);var c=aS([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function xb(r){return!isNaN(r)&&!isFinite(r)}function Hq(r,t,e,n){var i=1-r;return xb(t[i])&&xb(e[i])}function ORe(r,t){var e=t.coord[0],n=t.coord[1],i={coord:e,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return _u(r,"cartesian2d")?e&&n&&(Hq(1,e,n)||Hq(0,e,n))?!0:_Re(r,i,a):Tg(r,i)||Tg(r,a)}function Gq(r,t,e,n,i){var a=n.coordinateSystem,o=r.getItemModel(t),s,l=_e(o.get(e[0]),i.getWidth()),u=_e(o.get(e[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(n.getMarkerPosition){var c=r.getValues(["x0","y0"],t),f=r.getValues(["x1","y1"],t),d=a.clampData(c),h=a.clampData(f),v=[];e[0]==="x0"?v[0]=d[0]>h[0]?f[0]:c[0]:v[0]=d[0]>h[0]?c[0]:f[0],e[1]==="y0"?v[1]=d[1]>h[1]?f[1]:c[1]:v[1]=d[1]>h[1]?c[1]:f[1],s=n.getMarkerPosition(v,e,!0)}else{var g=r.get(e[0],t),m=r.get(e[1],t),x=[g,m];a.clampData&&a.clampData(x,x),s=a.dataToPoint(x,!0)}if(_u(a,"cartesian2d")){var _=a.getAxis("x"),b=a.getAxis("y"),g=r.get(e[0],t),m=r.get(e[1],t);xb(g)?s[0]=_.toGlobalCoord(_.getExtent()[e[0]==="x0"?0:1]):xb(m)&&(s[1]=b.toGlobalCoord(b.getExtent()[e[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var Wq=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],BRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.updateTransform=function(e,n,i){n.eachSeries(function(a){var o=qo.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var u=he(Wq,function(f){return Gq(s,l,f,a,i)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,n,i,a){var o=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new Be});this.group.add(c.group),this.markKeep(c);var f=kRe(o,e,n);n.setData(f),f.each(function(d){var h=he(Wq,function(I){return Gq(f,d,I,e,a)}),v=o.getAxis("x").scale,g=o.getAxis("y").scale,m=v.getExtent(),x=g.getExtent(),_=[v.parse(f.get("x0",d)),v.parse(f.get("x1",d))],b=[g.parse(f.get("y0",d)),g.parse(f.get("y1",d))];zi(_),zi(b);var w=!(m[0]>_[1]||m[1]<_[0]||x[0]>b[1]||x[1]<b[0]),T=!w;f.setItemLayout(d,{points:h,allClipped:T});var A=f.getItemModel(d),M=A.getModel("itemStyle").getItemStyle(),D=A.get("z2"),P=ny(l,"color");M.fill||(M.fill=P,be(M.fill)&&(M.fill=Q0(M.fill,.4))),M.stroke||(M.stroke=P),f.setItemVisual(d,"style",M),f.setItemVisual(d,"z2",Ie(D,0))}),f.diff($1(c).data).add(function(d){var h=f.getItemLayout(d),v=f.getItemVisual(d,"z2");if(!h.allClipped){var g=new Pn({z2:Ie(v,0),shape:{points:h.points}});f.setItemGraphicEl(d,g),c.group.add(g)}}).update(function(d,h){var v=$1(c).data.getItemGraphicEl(h),g=f.getItemLayout(d),m=f.getItemVisual(d,"z2");g.allClipped?v&&c.group.remove(v):(v?bt(v,{z2:Ie(m,0),shape:{points:g.points}},n,d):v=new Pn({shape:{points:g.points}}),f.setItemGraphicEl(d,v),c.group.add(v))}).remove(function(d){var h=$1(c).data.getItemGraphicEl(d);c.group.remove(h)}).execute(),f.eachItemGraphicEl(function(d,h){var v=f.getItemModel(h),g=f.getItemVisual(h,"style");d.useStyle(f.getItemVisual(h,"style")),tn(d,Ur(v),{labelFetcher:n,labelDataIndex:h,defaultText:f.getName(h)||"",inheritColor:be(g.fill)?Q0(g.fill,1):te.color.neutral99}),Wr(d,v),or(d,null,null,v.get(["emphasis","disabled"])),He(d).dataModel=n}),$1(c).data=f,c.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t})(V3);function kRe(r,t,e){var n,i,a=["x0","y0","x1","y1"];if(r){var o=he(r&&r.dimensions,function(u){var c=t.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return oe(oe({},f),{name:u,ordinalMeta:null})});i=he(a,function(u,c){return{name:u,type:o[c%2].type}}),n=new Hn(i,e)}else i=[{name:"value",type:"float"}],n=new Hn(i,e);var s=he(e.get("data"),je(PRe,t,r,e));r&&(s=Tt(s,je(ORe,r)));var l=r?function(u,c,f,d){var h=u.coord[Math.floor(d/2)][d%2];return fu(h,i[d])}:function(u,c,f,d){return fu(u.value,i[d])};return n.initData(s,null,l),n.hasItemOption=!0,n}function LRe(r){r.registerComponentModel(RRe),r.registerComponentView(BRe),r.registerPreprocessor(function(t){N3(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var NRe=function(r,t){if(t==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},nO=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,i=this.ecModel;n===!0&&(n=e.selector=["all","inverse"]),ue(n)&&z(n,function(a,o){be(a)&&(a={type:a}),n[o]=Ke(a,NRe(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],i=[];e.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();e.isSeriesFiltered(l)||(i=i.concat(d)),d.length?n=n.concat(d):c=!0}else c=!0;c&&CB(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,o=Me(),s=he(a,function(l){return(be(l)||yt(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new st(l,this,this.ecModel))},this);this._data=Tt(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;z(a,function(o){n[o.get("name")]=!1})}n[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,n=this.option.selected;z(e,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,n=this.option.selected;z(e,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&Ze(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:te.size.m,align:"auto",backgroundColor:te.color.transparent,borderColor:te.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:te.color.disabled,inactiveBorderColor:te.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:te.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:te.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:te.color.tertiary,borderWidth:1,borderColor:te.color.border},emphasis:{selectorLabel:{show:!0,color:te.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},t})(at),Gh=je,iO=z,j1=Be,ene=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new j1),this.group.add(this._selectorGroup=new j1),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,e,n,i,l,s,u);var c=qr(e,i).refContainer,f=e.getBoxLayoutParams(),d=e.get("padding"),h=rr(f,c,d),v=this.layoutInner(e,o,h,a,l,u),g=rr(ke({width:v.width,height:v.height},f),c,d);this.group.x=g.x-v.x,this.group.y=g.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Gre(v,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,i,a,o,s,l){var u=this.getContentGroup(),c=Me(),f=n.get("selectedMode"),d=n.get("triggerEvent"),h=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&h.push(v.id)}),iO(n.getData(),function(v,g){var m=this,x=v.get("name");if(!this.newlineDisabled&&(x===""||x===`
`)){var _=new j1;_.newline=!0,u.add(_);return}var b=i.getSeriesByName(x)[0];if(!c.get(x))if(b){var w=b.getData(),T=w.getVisual("legendLineStyle")||{},A=w.getVisual("legendIcon"),M=w.getVisual("style"),D=this._createItem(b,x,g,v,n,e,T,M,A,f,a);D.on("click",Gh(Uq,x,null,a,h)).on("mouseover",Gh(aO,b.name,null,a,h)).on("mouseout",Gh(oO,b.name,null,a,h)),i.ssr&&D.eachChild(function(P){var I=He(P);I.seriesIndex=b.seriesIndex,I.dataIndex=g,I.ssrType="legend"}),d&&D.eachChild(function(P){m.packEventData(P,n,b,g,x)}),c.set(x,!0)}else i.eachRawSeries(function(P){var I=this;if(!c.get(x)&&P.legendVisualProvider){var R=P.legendVisualProvider;if(!R.containName(x))return;var k=R.indexOfName(x),O=R.getItemVisual(k,"style"),V=R.getItemVisual(k,"legendIcon"),N=Fn(O.fill);N&&N[3]===0&&(N[3]=.2,O=oe(oe({},O),{fill:_a(N,"rgba")}));var L=this._createItem(P,x,g,v,n,e,{},O,V,f,a);L.on("click",Gh(Uq,null,x,a,h)).on("mouseover",Gh(aO,null,x,a,h)).on("mouseout",Gh(oO,null,x,a,h)),i.ssr&&L.eachChild(function(G){var W=He(G);W.seriesIndex=P.seriesIndex,W.dataIndex=g,W.ssrType="legend"}),d&&L.eachChild(function(G){I.packEventData(G,n,P,g,x)}),c.set(x,!0)}},this)},this),o&&this._createSelector(o,n,a,s,l)},t.prototype.packEventData=function(e,n,i,a,o){var s={componentType:"legend",componentIndex:n.componentIndex,dataIndex:a,value:o,seriesIndex:i.seriesIndex};He(e).eventData=s},t.prototype._createSelector=function(e,n,i,a,o){var s=this.getSelectorGroup();iO(e,function(u){var c=u.type,f=new gt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(f);var d=n.getModel("selectorLabel"),h=n.getModel(["emphasis","selectorLabel"]);tn(f,{normal:d,emphasis:h},{defaultText:u.title}),lu(f)})},t.prototype._createItem=function(e,n,i,a,o,s,l,u,c,f,d){var h=e.visualDrawType,v=o.get("itemWidth"),g=o.get("itemHeight"),m=o.isSelected(n),x=a.get("symbolRotate"),_=a.get("symbolKeepAspect"),b=a.get("icon");c=b||c||"roundRect";var w=VRe(c,a,l,u,h,m,d),T=new j1,A=a.getModel("textStyle");if(Re(e.getLegendIcon)&&(!b||b==="inherit"))T.add(e.getLegendIcon({itemWidth:v,itemHeight:g,icon:c,iconRotate:x,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:_}));else{var M=b==="inherit"&&e.getData().getVisual("symbol")?x==="inherit"?e.getData().getVisual("symbolRotate"):x:0;T.add(zRe({itemWidth:v,itemHeight:g,icon:c,iconRotate:M,itemStyle:w.itemStyle,symbolKeepAspect:_}))}var D=s==="left"?v+5:-5,P=s,I=o.get("formatter"),R=n;be(I)&&I?R=I.replace("{name}",n??""):Re(I)&&(R=I(n));var k=m?A.getTextColor():a.get("inactiveColor");T.add(new gt({style:Ut(A,{text:R,x:D,y:g/2,fill:k,align:P,verticalAlign:"middle"},{inheritColor:k})}));var O=new rt({shape:T.getBoundingRect(),style:{fill:"transparent"}}),V=a.getModel("tooltip");return V.get("show")&&ul({el:O,componentModel:o,itemName:n,itemTooltipOption:V.option}),T.add(O),T.eachChild(function(N){N.silent=!0}),O.silent=!f,this.getContentGroup().add(T),lu(T),T.__legendDataIndex=i,T},t.prototype.layoutInner=function(e,n,i,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Jc(e.get("orient"),l,e.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){Jc("horizontal",u,e.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],v=e.get("selectorButtonGap",!0),g=e.getOrient().index,m=g===0?"width":"height",x=g===0?"height":"width",_=g===0?"y":"x";s==="end"?h[g]+=c[m]+v:f[g]+=d[m]+v,h[1-g]+=c[x]/2-d[x]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var b={x:0,y:0};return b[m]=c[m]+v+d[m],b[x]=Math.max(c[x],d[x]),b[_]=Math.min(0,d[_]+h[1-g]),b}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t})(Yt);function VRe(r,t,e,n,i,a,o){function s(m,x){m.lineWidth==="auto"&&(m.lineWidth=x.lineWidth>0?2:0),iO(m,function(_,b){m[b]==="inherit"&&(m[b]=x[b])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=r.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?n.decal:Cd(f,o),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:e).opacity),s(u,n);var d=t.getModel("lineStyle"),h=d.getLineStyle();if(s(h,e),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),h.stroke==="auto"&&(h.stroke=n.fill),!a){var v=t.get("inactiveBorderWidth"),g=u[c];u.lineWidth=v==="auto"?n.lineWidth>0&&g?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function zRe(r){var t=r.icon||"roundRect",e=Dr(t,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return e.setStyle(r.itemStyle),e.rotation=(r.iconRotate||0)*Math.PI/180,e.setOrigin([r.itemWidth/2,r.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill=te.color.neutral00,e.style.lineWidth=2),e}function Uq(r,t,e,n){oO(r,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:r??t}),aO(r,t,e,n)}function tne(r){for(var t=r.getZr().storage.getDisplayList(),e,n=0,i=t.length;n<i&&!(e=t[n].states.emphasis);)n++;return e&&e.hoverLayer}function aO(r,t,e,n){tne(e)||e.dispatchAction({type:"highlight",seriesName:r,name:t,excludeSeriesId:n})}function oO(r,t,e,n){tne(e)||e.dispatchAction({type:"downplay",seriesName:r,name:t,excludeSeriesId:n})}function FRe(r){var t=r.findComponents({mainType:"legend"});t&&t.length&&r.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function Yp(r,t,e){var n=r==="allSelect"||r==="inverseSelect",i={},a=[];e.eachComponent({mainType:"legend",query:t},function(s){n?s[r]():s[r](t.name),qq(s,i),a.push(s.componentIndex)});var o={};return e.eachComponent("legend",function(s){z(i,function(l,u){s[l?"select":"unSelect"](u)}),qq(s,o)}),n?{selected:o,legendIndex:a}:{name:t.name,selected:o}}function qq(r,t){var e=t||{};return z(r.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=r.isSelected(i);Te(e,i)?e[i]=e[i]&&a:e[i]=a}}),e}function HRe(r){r.registerAction("legendToggleSelect","legendselectchanged",je(Yp,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",je(Yp,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",je(Yp,"inverseSelect")),r.registerAction("legendSelect","legendselected",je(Yp,"select")),r.registerAction("legendUnSelect","legendunselected",je(Yp,"unSelect"))}function rne(r){r.registerComponentModel(nO),r.registerComponentView(ene),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,FRe),r.registerSubTypeDefaulter("legend",function(){return"plain"}),HRe(r)}var GRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,i){var a=Af(e);r.prototype.init.call(this,e,n,i),Yq(this,e,a)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),Yq(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Du(nO.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:te.color.accent50,pageIconInactiveColor:te.color.accent10,pageIconSize:15,pageTextStyle:{color:te.color.tertiary},animationDurationUpdate:800}),t})(nO);function Yq(r,t,e){var n=r.getOrient(),i=[1,1];i[n.index]=0,Wo(t,e,{type:"box",ignoreSize:!!i})}var Xq=Be,yI=["width","height"],mI=["x","y"],WRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new Xq),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Xq)},t.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,i,a,o,s,l){var u=this;r.prototype.renderInner.call(this,e,n,i,a,o,s,l);var c=this._controllerGroup,f=n.get("pageIconSize",!0),d=ue(f)?f:[f,f];v("pagePrev",0);var h=n.getModel("pageTextStyle");c.add(new gt({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(g,m){var x=g+"DataIndex",_=Wd(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:Se(u._pageGo,u,x,n,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});_.name=g,c.add(_)}},t.prototype.layoutInner=function(e,n,i,a,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,c=yI[u],f=mI[u],d=yI[1-u],h=mI[1-u];o&&Jc("horizontal",l,e.get("selectorItemGap",!0));var v=e.get("selectorButtonGap",!0),g=l.getBoundingRect(),m=[-g.x,-g.y],x=Oe(i);o&&(x[c]=i[c]-g[c]-v);var _=this._layoutContentAndController(e,a,x,u,c,d,h,f);if(o){if(s==="end")m[u]+=_[c]+v;else{var b=g[c]+v;m[u]-=b,_[f]-=b}_[c]+=g[c]+v,m[1-u]+=_[h]+_[d]/2-g[d]/2,_[d]=Math.max(_[d],g[d]),_[h]=Math.min(_[h],g[h]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return _},t.prototype._layoutContentAndController=function(e,n,i,a,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;Jc(e.get("orient"),c,e.get("itemGap"),a?i.width:null,a?null:i.height),Jc("horizontal",d,e.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),v=d.getBoundingRect(),g=this._showController=h[o]>i[o],m=[-h.x,-h.y];n||(m[a]=c[u]);var x=[0,0],_=[-v.x,-v.y],b=Ie(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(g){var w=e.get("pageButtonPosition",!0);w==="end"?_[a]+=i[o]-v[o]:x[a]+=v[o]+b}_[1-a]+=h[s]/2-v[s]/2,c.setPosition(m),f.setPosition(x),d.setPosition(_);var T={x:0,y:0};if(T[o]=g?i[o]:h[o],T[s]=Math.max(h[s],v[s]),T[l]=Math.min(0,v[l]+_[1-a]),f.__rectSize=i[o],g){var A={x:0,y:0};A[o]=Math.max(i[o]-v[o]-b,0),A[s]=T[s],f.setClipPath(new rt({shape:A})),f.__rectSize=A[o]}else d.eachChild(function(D){D.attr({invisible:!0,silent:!0})});var M=this._getPageInfo(e);return M.pageIndex!=null&&bt(c,{x:M.contentPosition[0],y:M.contentPosition[1]},g?e:null),this._updatePageInfoView(e,M),T},t.prototype._pageGo=function(e,n,i){var a=this._getPageInfo(n)[e];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var i=this._controllerGroup;z(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=n[f]!=null,h=i.childOfName(c);h&&(h.setStyle("fill",d?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var a=i.childOfName("pageText"),o=e.get("pageFormatter"),s=n.pageIndex,l=s!=null?s+1:0,u=n.pageCount;a&&o&&a.setStyle("text",be(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=e.getOrient().index,s=yI[o],l=mI[o],u=this._findTargetItemIndex(n),c=i.children(),f=c[u],d=c.length,h=d?1:0,v={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var g=w(f);v.contentPosition[o]=-g.s;for(var m=u+1,x=g,_=g,b=null;m<=d;++m)b=w(c[m]),(!b&&_.e>x.s+a||b&&!T(b,x.s))&&(_.i>x.i?x=_:x=b,x&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=x.i),++v.pageCount)),_=b;for(var m=u-1,x=g,_=g,b=null;m>=-1;--m)b=w(c[m]),(!b||!T(_,b.s))&&x.i<_.i&&(_=x,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=x.i),++v.pageCount,++v.pageIndex),x=b;return v;function w(A){if(A){var M=A.getBoundingRect(),D=M[l]+A[l];return{s:D,e:D+M[s],i:A.__legendDataIndex}}}function T(A,M){return A.e>=M&&A.s<=M+a}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===e&&(n=s)}),n??a},t.type="legend.scroll",t})(ene);function URe(r){r.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;n!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function qRe(r){Je(rne),r.registerComponentModel(GRe),r.registerComponentView(WRe),URe(r)}function YRe(r){Je(rne),Je(qRe)}var XRe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.inside",t.defaultOption=Du(wg.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t})(wg),z3=ot();function $Re(r,t,e){z3(r).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}function jRe(r,t){for(var e=z3(r).coordSysRecordMap,n=e.keys(),i=0;i<n.length;i++){var a=n[i],o=e.get(a),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||nne(e,o))}}}function nne(r,t){if(t){r.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function ZRe(r,t){var e={model:t,containsPoint:je(QRe,t),dispatchAction:je(KRe,r),dataZoomInfoMap:null,controller:null},n=e.controller=new If(r.getZr());return z(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var o=[];e.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&e.dispatchAction(o)})}),e}function KRe(r,t){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function QRe(r,t,e,n){return r.coordinateSystem.containPoint([e,n])}function JRe(r,t,e){var n,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return r.each(function(s){var l=s.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[i+u]>a[i+n]&&(n=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:e,zInfo:{component:t.model},triggerInfo:{roamTrigger:null,isInSelf:t.containsPoint}}}}function ePe(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=z3(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=Me());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=zre(a);z(o.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,ZRe(e,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Me());c.set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),i.each(function(a){var o=a.controller,s,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){nne(i,a);return}var c=JRe(l,a,e);o.enable(c.controlType,c.opt),jd(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var tPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return t.prototype.render=function(e,n,i){if(r.prototype.render.apply(this,arguments),e.noTarget()){this._clear();return}this.range=e.getPercentRange(),$Re(i,e,{pan:Se(xI.pan,this),zoom:Se(xI.zoom,this),scrollMove:Se(xI.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){jRe(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t})(R3),xI={zoom:function(r,t,e,n){var i=this.range,a=i.slice(),o=r.axisModels[0];if(o){var s=_I[t](null,[n.originX,n.originY],o,e,r),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(bu(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:$q(function(r,t,e,n,i,a){var o=_I[n]([a.oldX,a.oldY],[a.newX,a.newY],t,i,e);return o.signal*(r[1]-r[0])*o.pixel/o.pixelLength}),scrollMove:$q(function(r,t,e,n,i,a){var o=_I[n]([0,0],[a.scrollDelta,a.scrollDelta],t,i,e);return o.signal*(r[1]-r[0])*a.scrollDelta})};function $q(r){return function(t,e,n,i){var a=this.range,o=a.slice(),s=t.axisModels[0];if(s){var l=r(o,s,t,e,n,i);if(bu(l,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var _I={grid:function(r,t,e,n,i){var a=e.axis,o={},s=i.model.coordinateSystem.getRect();return r=r||[0,0],a.dim==="x"?(o.pixel=t[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(r,t,e,n,i){var a=e.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return r=r?s.pointToCoord(r):[0,0],t=s.pointToCoord(t),e.mainType==="radiusAxis"?(o.pixel=t[0]-r[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-r[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(r,t,e,n,i){var a=e.axis,o=i.model.coordinateSystem.getRect(),s={};return r=r||[0,0],a.orient==="horizontal"?(s.pixel=t[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};function ine(r){P3(r),r.registerComponentModel(XRe),r.registerComponentView(tPe),ePe(r)}var rPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Du(wg.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:te.color.accent10,borderRadius:0,backgroundColor:te.color.transparent,dataBackground:{lineStyle:{color:te.color.accent30,width:.5},areaStyle:{color:te.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:te.color.accent40,width:.5},areaStyle:{color:te.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:te.color.neutral00,borderColor:te.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:te.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:te.color.tertiary},brushSelect:!0,brushStyle:{color:te.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:te.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),t})(wg),Xp=rt,nPe=1,bI=30,iPe=7,$p="horizontal",jq="vertical",aPe=5,oPe=["line","bar","candlestick","scatter"],sPe={easing:"cubicOut",duration:100,delay:0},lPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return t.prototype.init=function(e,n){this.api=n,this._onBrush=Se(this._onBrush,this),this._onBrushEnd=Se(this._onBrushEnd,this)},t.prototype.render=function(e,n,i,a){if(r.prototype.render.apply(this,arguments),jd(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),e.get("show")===!1){this.group.removeAll();return}if(e.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){lg(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Be;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,i=e.get("brushSelect"),a=i?iPe:0,o=qr(e,n).refContainer,s=this._findCoordRect(),l=e.get("defaultLocationEdgeGap",!0)||0,u=this._orient===$p?{right:o.width-s.x-s.width,top:o.height-bI-l-a,width:s.width,height:bI}:{right:l,top:s.y,width:bI,height:s.height},c=Af(e.option);z(["right","top","width","height"],function(d){c[d]==="ph"&&(c[d]=u[d])});var f=rr(c,o);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===jq&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===$p&&!o?{scaleY:l?1:-1,scaleX:1}:i===$p&&o?{scaleY:l?1:-1,scaleX:-1}:i===jq&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=e.getBoundingRect([s]);e.x=n.x-u.x,e.y=n.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=e.get("brushSelect");i.add(new Xp({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var o=new Xp({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Se(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!e)return;var n=this._size,i=this._shadowSize||[],a=e.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():e.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var f=o.getDataExtent(e.thisDim),d=o.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var v=[0,n[1]],g=[0,n[0]],m=[[n[0],0],[0,0]],x=[],_=g[1]/Math.max(1,o.count()-1),b=n[0]/(f[1]-f[0]),w=e.thisAxis.type==="time",T=-_,A=Math.round(o.count()/n[0]),M;o.each([e.thisDim,l],function(k,O,V){if(A>0&&V%A){w||(T+=_);return}T=w?(+k-f[0])*b:T+_;var N=O==null||isNaN(O)||O==="",L=N?0:At(O,d,v,!0);N&&!M&&V?(m.push([m[m.length-1][0],0]),x.push([x[x.length-1][0],0])):!N&&M&&(m.push([T,0]),x.push([T,0])),N||(m.push([T,L]),x.push([T,L])),M=N}),u=this._shadowPolygonPts=m,c=this._shadowPolylinePts=x}this._shadowData=o,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var D=this.dataZoomModel;function P(k){var O=D.getModel(k?"selectedDataBackground":"dataBackground"),V=new Be,N=new Pn({shape:{points:u},segmentIgnoreThreshold:1,style:O.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),L=new pn({shape:{points:c},segmentIgnoreThreshold:1,style:O.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return V.add(N),V.add(L),V}for(var I=0;I<3;I++){var R=P(I===1);this._displayables.sliderGroup.add(R),this._displayables.dataShadowSegs.push(R)}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return e.eachTargetAxis(function(o,s){var l=e.getAxisProxy(o,s).getTargetSeriesModels();z(l,function(u){if(!i&&!(n!==!0&&Ze(oPe,u.get("type"))<0)){var c=a.getComponent(ru(o),s).axis,f=uPe(o),d,h=u.coordinateSystem;f!=null&&h.getOtherAxis&&(d=h.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var v=u.getData().mapDimension(o);i={thisAxis:c,series:u,thisDim:v,otherDim:f,otherAxisInverse:d}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),d=n.filler=new Xp({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(d),o.add(new Xp({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:nPe,fill:te.color.transparent}})),z([0,1],function(b){var w=l.get("handleIcon");!z_[w]&&w.indexOf("path://")<0&&w.indexOf("image://")<0&&(w="path://"+w);var T=Dr(w,-1,0,2,2,null,!0);T.attr({cursor:cPe(this._orient),draggable:!0,drift:Se(this._onDragMove,this,b),ondragend:Se(this._onDragEnd,this),onmouseover:Se(this._showDataInfo,this,!0),onmouseout:Se(this._showDataInfo,this,!1),z2:5});var A=T.getBoundingRect(),M=l.get("handleSize");this._handleHeight=_e(M,this._size[1]),this._handleWidth=A.width/A.height*this._handleHeight,T.setStyle(l.getModel("handleStyle").getItemStyle()),T.style.strokeNoScale=!0,T.rectHover=!0,T.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),lu(T);var D=l.get("handleColor");D!=null&&(T.style.fill=D),o.add(i[b]=T);var P=l.getModel("textStyle"),I=l.get("handleLabel")||{},R=I.show||!1;e.add(a[b]=new gt({silent:!0,invisible:!R,style:Ut(P,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:P.getTextColor(),font:P.getFont()}),z2:10}))},this);var h=d;if(f){var v=_e(l.get("moveHandleSize"),s[1]),g=n.moveHandle=new rt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),m=v*.8,x=n.moveHandleIcon=Dr(l.get("moveHandleIcon"),-m/2,-m/2,m,m,te.color.neutral00,!0);x.silent=!0,x.y=s[1]+v/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var _=Math.min(s[1]/2,Math.max(v,10));h=n.moveZone=new rt({invisible:!0,shape:{y:s[1]-_,height:v+_}}),h.on("mouseover",function(){u.enterEmphasis(g)}).on("mouseout",function(){u.leaveEmphasis(g)}),o.add(g),o.add(x),o.add(h)}h.attr({draggable:!0,cursor:"default",drift:Se(this._onDragMove,this,"all"),ondragstart:Se(this._showDataInfo,this,!0),ondragend:Se(this._onDragEnd,this),onmouseover:Se(this._showDataInfo,this,!0),onmouseout:Se(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[At(e[0],[0,100],n,!0),At(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];bu(n,a,o,i.get("zoomLock")?"all":e,s.minSpan!=null?At(s.minSpan,l,o,!0):null,s.maxSpan!=null?At(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=zi([At(a[0],o,l,!0),At(a[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(e){var n=this._displayables,i=this._handleEnds,a=zi(i.slice()),o=this._size;z([0,1],function(h){var v=n.handles[h],g=this._handleHeight;v.attr({scaleX:g/2,scaleY:g/2,x:i[h]+(h?-1:1),y:o[1]/2-g/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],o[0]],c=0;c<l.length;c++){var f=l[c],d=f.getClipPath();d||(d=new rt,f.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=e?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var d=zi(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(v){var g=uu(i.handles[v].parent,this.group),m=bS(v===0?"right":"left",g),x=this._handleWidth/2+aPe,_=Ja([d[v]+(v===0?-x:x),this._size[1]/2],g);a[v].setStyle({x:_[0],y:_[1],verticalAlign:o===$p?"middle":m,align:o===$p?m:"center",text:s[v]})}},t.prototype._formatLabel=function(e,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=n.getPixelPrecision());var s=e==null||isNaN(e)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(o,20));return Re(a)?a(e,s):be(a)?a.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=a.get("show")||!1,s=e||this._dragging?o:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(e,n,i,a){this._dragging=!0,Js(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Ja([n,i],o,!0),l=this._updateInterval(e,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var n=e.offsetX,i=e.offsetY;this._brushStart=new ze(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100],l=this._handleEnds=[i.x,i.x+i.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();bu(0,l,o,0,u.minSpan!=null?At(u.minSpan,s,o,!0):null,u.maxSpan!=null?At(u.maxSpan,s,o,!0):null),this._range=zi([At(l[0],o,s,!0),At(l[1],o,s,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Js(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var i=this._displayables,a=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new Xp({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,n),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?sPe:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=zre(this.dataZoomModel).infoList;if(!e&&n.length){var i=n[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var a=this.api.getWidth(),o=this.api.getHeight();e={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return e},t.type="dataZoom.slider",t})(R3);function uPe(r){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[r]}function cPe(r){return r==="vertical"?"ns-resize":"ew-resize"}function ane(r){r.registerComponentModel(rPe),r.registerComponentView(lPe),P3(r)}function fPe(r){Je(ine),Je(ane)}var one={get:function(r,t,e){var n=Oe((hPe[r]||{})[t]);return e&&ue(n)?n[n.length-1]:n}},hPe={color:{active:["#006edd","#e0ffff"],inactive:[te.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Zq=en.mapVisual,dPe=en.eachVisual,vPe=ue,Kq=z,pPe=zi,gPe=At,_b=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return t.prototype.init=function(e,n,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,n){var i=this.option;!n&&jre(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=Se(e,this),this.controllerVisuals=eO(this.option.controller,n,e),this.targetVisuals=eO(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesId,n=this.option.seriesIndex;n==null&&e==null&&(n="all");var i=Vd(this.ecModel,"series",{index:n,id:e},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return he(i,function(a){return a.componentIndex})},t.prototype.eachTargetSeries=function(e,n){z(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&e.call(n,a)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(i){i===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,i){var a=this.option,o=a.precision,s=this.dataBound,l=a.formatter,u;i=i||["<",">"],ue(e)&&(e=e.slice(),u=!0);var c=n?e:u?[f(e[0]),f(e[1])]:f(e);if(be(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Re(l))return u?l(e[0],e[1]):l(e);if(u)return e[0]===s[0]?i[0]+" "+c[1]:e[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(d){return d===s[0]?"min":d===s[1]?"max":(+d).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,n=pPe([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(n!=null)return e.getDimensionIndex(n);for(var i=e.dimensions,a=i.length-1;a>=0;a--){var o=i[a],s=e.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),o=n.controller||(n.controller={});Ke(a,i),Ke(o,i);var s=this.isCategory();l.call(this,a),l.call(this,o),u.call(this,a,"inRange","outOfRange"),c.call(this,o);function l(f){vPe(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:e.get("gradientColor")}}function u(f,d,h){var v=f[d],g=f[h];v&&!g&&(g=f[h]={},Kq(v,function(m,x){if(en.isValidType(x)){var _=one.get(x,"inactive",s);_!=null&&(g[x]=_,x==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function c(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,h=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),g=this.getItemSymbol(),m=g||"roundRect";Kq(this.stateList,function(x){var _=this.itemSize,b=f[x];b||(b=f[x]={color:s?v:[v]}),b.symbol==null&&(b.symbol=d&&Oe(d)||(s?m:[m])),b.symbolSize==null&&(b.symbolSize=h&&Oe(h)||(s?_[0]:[_[0],_[0]])),b.symbol=Zq(b.symbol,function(A){return A==="none"?m:A});var w=b.symbolSize;if(w!=null){var T=-1/0;dPe(w,function(A){A>T&&(T=A)}),b.symbolSize=Zq(w,function(A){return gPe(A,[0,T],[0,_[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:te.color.transparent,borderColor:te.color.borderTint,contentColor:te.color.theme[0],inactiveColor:te.color.disabled,borderWidth:0,padding:te.size.m,textGap:10,precision:0,textStyle:{color:te.color.secondary}},t})(at),Qq=[20,140],yPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=Qq[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=Qq[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):ue(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),z(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=zi((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,i=this.getExtent(),a=Ie(this.option.unboundedRange,!0);return(a&&n[0]<=i[0]||n[0]<=e)&&(a&&n[1]>=i[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){e[0]<=s&&s<=e[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(e){var n=Jq(this,"outOfRange",this.getExtent()),i=Jq(this,"inRange",this.option.range.slice()),a=[];function o(h,v){a.push({value:h,color:e(h,v)})}for(var s=0,l=0,u=i.length,c=n.length;l<c&&(!i.length||n[l]<=i[0]);l++)n[l]<i[s]&&o(n[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&a.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<n[l])&&(f&&(a.length&&o(a[a.length-1].value,"outOfRange"),f=0),o(n[l],"outOfRange"));var d=a.length;return{stops:a,outerColors:[d?a[0].color:"transparent",d?a[d-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Du(_b.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:te.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:te.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:te.color.shadow}}),t})(_b);function Jq(r,t,e){if(e[0]===e[1])return e.slice();for(var n=200,i=(e[1]-e[0])/n,a=e[0],o=[],s=0;s<=n&&a<e[1];s++)o.push(a),a+=i;return o.push(e[1]),o}var sne=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,i,a){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,n,i,a)},t.prototype.renderBackground=function(e){var n=this.visualMapModel,i=Yd(n.get("padding")||0),a=e.getBoundingRect();e.add(new rt({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,i){i=i||{};var a=i.forceState,o=this.visualMapModel,s={};if(n==="color"){var l=o.get("contentColor");s.color=l}function u(h){return s[h]}function c(h,v){s[h]=v}var f=o.controllerVisuals[a||o.getValueState(e)],d=en.prepareVisualTypes(f);return z(d,function(h){var v=f[h];i.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",v=f.__alphaForOpacity),en.dependsOn(h,n)&&v&&v.applyVisual(e,u,c)}),s[n]},t.prototype.positionGroup=function(e){var n=this.visualMapModel,i=this.api,a=qr(n,i).refContainer;CS(e,n.getBoxLayoutParams(),a)},t.prototype.doRender=function(e,n,i,a){},t.type="visualMap",t})(Yt),eY=[["left","right","width"],["top","bottom","height"]];function lne(r,t,e){var n=r.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},o=n.orient==="horizontal"?1:0,s=eY[o],l=[0,null,10],u={},c=0;c<3;c++)u[eY[1-o][c]]=l[c],u[s[c]]=c===2?e[0]:n[s[c]];var f=[["x","width",3],["y","height",0]][o],d=rr(u,a,n.padding);return s[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<a[f[1]]*.5?0:1]}function Ex(r,t){return z(r||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),r}var wo=At,mPe=z,tY=Math.min,SI=Math.max,xPe=12,_Pe=6,bPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return t.prototype.init=function(e,n){r.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=Se(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Se(this._hideIndicator,this)},t.prototype.doRender=function(e,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var i=e.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),f=this._applyTransform(i===0?"bottom":"top",u),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new gt({style:Ut(h,{x:c[0],y:c[1],verticalAlign:h.get("verticalAlign")||(d==="horizontal"?"middle":f),align:h.get("align")||(d==="horizontal"?f:"center"),text:a})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,o=this._orient,s=this._useHandle,l=lne(n,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new Be;u.add(c),c.add(i.outOfRange=rY()),c.add(i.inRange=rY(null,s?iY(this._orient):null,Se(this._dragHandle,this,"all",!1),Se(this._dragHandle,this,"all",!0))),c.setClipPath(new rt({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=n.textStyleModel.getTextRect(""),d=SI(f.width,f.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,u,0,a,d,o),this._createHandle(n,u,1,a,d,o)),this._createIndicator(n,u,a,d,o),e.add(u)},t.prototype._createHandle=function(e,n,i,a,o,s){var l=Se(this._dragHandle,this,i,!1),u=Se(this._dragHandle,this,i,!0),c=ro(e.get("handleSize"),a[0]),f=Dr(e.get("handleIcon"),-c/2,-c/2,c,c,null,!0),d=iY(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:u,onmousemove:function(x){Js(x.event)}}),f.x=a[0]/2,f.useStyle(e.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Hc(f,!0),n.add(f);var h=this.visualMapModel.textStyleModel,v=new gt({cursor:d,draggable:!0,drift:l,onmousemove:function(x){Js(x.event)},ondragend:u,style:Ut(h,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var g=[c,0],m=this._shapes;m.handleThumbs[i]=f,m.handleLabelPoints[i]=g,m.handleLabels[i]=v},t.prototype._createIndicator=function(e,n,i,a,o){var s=ro(e.get("indicatorSize"),i[0]),l=Dr(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof nn){var c=l.style;l.useStyle(oe({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var f=this.visualMapModel.textStyleModel,d=new gt({silent:!0,invisible:!0,style:Ut(f,{x:0,y:0,text:""})});this.group.add(d);var h=[(o==="horizontal"?a/2:_Pe)+i[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=d,v.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():nY(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),i=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[wo(n[0],i,a,!0),wo(n[1],i,a,!0)]},t.prototype._updateInterval=function(e,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];bu(n,a,o,e,0);var s=i.getExtent();this._dataInterval=[wo(a[0],o,s,!0),wo(a[1],o,s,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],s=e?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,n,i,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,o),l=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new Cf(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var i=100,a=[],o=(e[1]-e[0])/i;a.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var s=1;s<i;s++){var l=e[0]+o*s;if(l>e[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:s/i})}return a.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(e,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,i=this.visualMapModel.get("inverse");return new Be(n==="horizontal"&&!i?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);mPe([0,1],function(f){var d=o[f];d.setStyle("fill",n.handlesColor[f]),d.y=e[f];var h=wo(e[f],[0,l[1]],u,!0),v=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=v/l[0],d.x=l[0]-v/2;var g=Ja(i.handleLabelPoints[f],uu(d,this.group));if(this._orient==="horizontal"){var m=c==="left"||c==="top"?(l[0]-v)/2:(l[0]-v)/-2;g[1]+=m}s[f].setStyle({x:g[0],y:g[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,i,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},h=this.getControllerVisual(e,"color",d),v=this.getControllerVisual(e,"symbolSize"),g=wo(e,s,u,!0),m=l[0]-v/2,x={x:f.x,y:f.y};f.y=g,f.x=m;var _=Ja(c.indicatorLabelPoint,uu(f,this.group)),b=c.indicatorLabel;b.attr("invisible",!1);var w=this._applyTransform("left",c.mainGroup),T=this._orient,A=T==="horizontal";b.setStyle({text:(i||"")+o.formatValueText(n),verticalAlign:A?w:"middle",align:A?"center":w});var M={x:m,y:g,style:{fill:h}},D={style:{x:_[0],y:_[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var P={duration:100,easing:"cubicInOut",additive:!0};f.x=x.x,f.y=x.y,f.animateTo(M,P),b.animateTo(D,P)}else f.attr(M),b.attr(D);this._firstShowIndicator=!1;var I=this._shapes.handleLabels;if(I)for(var R=0;R<I.length;R++)this.api.enterBlur(I[R])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,a=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);a[1]=tY(SI(0,a[1]),i[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var o=[0,a[1]],s=i.getExtent();e=tY(SI(o[0],e),o[1]);var l=SPe(i,s,o),u=[e-l,e+l],c=wo(e,o,s,!0),f=[wo(u[0],o,s,!0),wo(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var d=this._hoverLinkDataIndices,h=[];(n||nY(i))&&(h=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var v=tpe(d,h);this._dispatchHighDown("downplay",Ex(v[0],i)),this._dispatchHighDown("highlight",Ex(v[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if(Wc(e.target,function(l){var u=He(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(n.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Ex(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,i,a){var o=uu(n,a?null:this.group);return ue(e)?Ja(e,o,i):bS(e,o,i)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t})(sne);function rY(r,t,e,n){return new Pn({shape:{points:r},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){Js(i.event)},ondragend:n})}function SPe(r,t,e){var n=xPe/2,i=r.get("hoverLinkDataSize");return i&&(n=wo(i,t,e,!0)/2),n}function nY(r){var t=r.get("hoverLinkOnHandle");return!!(t??r.get("realtime"))}function iY(r){return r==="vertical"?"ns-resize":"ew-resize"}var wPe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},CPe=function(r,t){t.eachComponent({mainType:"visualMap",query:r},function(e){e.setSelected(r.selected)})},TPe=[{createOnAllSeries:!0,reset:function(r,t){var e=[];return t.eachComponent("visualMap",function(n){var i=r.pipelineContext;!n.isTargetSeries(r)||i&&i.large||e.push(YIe(n.stateList,n.targetVisuals,Se(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),e}},{createOnAllSeries:!0,reset:function(r,t){var e=r.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(r)){var a=i.getVisualMeta(Se(APe,null,r,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(e);o>=0&&(a.dimension=o,n.push(a))}}),r.getData().setVisual("visualMeta",n)}}];function APe(r,t,e,n){for(var i=t.targetVisuals[n],a=en.prepareVisualTypes(i),o={color:ny(r.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(e,f,d)}return o.color;function f(h){return o[h]}function d(h,v){o[h]=v}}var aY=z;function MPe(r){var t=r&&r.visualMap;ue(t)||(t=t?[t]:[]),aY(t,function(e){if(e){Wh(e,"splitList")&&!Wh(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&ue(n)&&aY(n,function(i){Le(i)&&(Wh(i,"start")&&!Wh(i,"min")&&(i.min=i.start),Wh(i,"end")&&!Wh(i,"max")&&(i.max=i.end))})}})}function Wh(r,t){return r&&r.hasOwnProperty&&r.hasOwnProperty(t)}var oY=!1;function une(r){oY||(oY=!0,r.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),r.registerAction(wPe,CPe),z(TPe,function(t){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,t)}),r.registerPreprocessor(MPe))}function cne(r){r.registerComponentModel(yPe),r.registerComponentView(bPe),une(r)}var DPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return t.prototype.optionUpdated=function(e,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],EPe[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=Oe(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=he(this._pieceList,function(l){return l=Oe(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},i=en.listVisualTypes(),a=this.isCategory();z(e.pieces,function(s){z(i,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),z(n,function(s,l){var u=!1;z(this.stateList,function(c){u=u||o(e,c,l)||o(e.target,c,l)},this),!u&&z(this.stateList,function(c){(e[c]||(e[c]={}))[l]=one.get(l,c==="inRange"?"active":"inactive",a)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}r.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var i=this.option,a=this._pieceList,o=(n?i:e).selected||{};if(i.selected=o,z(a,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),i.selectedMode==="single"){var s=!1;z(a,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Oe(e)},t.prototype.getValueState=function(e){var n=en.findPieceIndex(e,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=en.findPieceIndex(l,i);c===e&&o.push(u)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(e.value!=null)n=e.value;else{var i=e.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(e){if(this.isCategory())return;var n=[],i=["",""],a=this;function o(c,f){var d=a.getRepresentValue({interval:c});f||(f=a.getValueState(d));var h=e(d,f);c[0]===-1/0?i[0]=h:c[1]===1/0?i[1]=h:n.push({value:c[0],color:h},{value:c[1],color:h})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return z(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=Du(_b.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t})(_b),EPe={splitNumber:function(r){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,s=n[0];o<i;s+=a,o++){var l=o===i-1?n[1]:s+a;r.push({interval:[s,l],close:[1,1]})}t.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),TR(r),z(r,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(r){var t=this.option;z(t.categories,function(e){r.push({text:this.formatValueText(e,!0),value:e})},this),sY(t,r)},pieces:function(r){var t=this.option;z(t.pieces,function(e,n){Le(e)||(e={value:e});var i={text:"",index:n};if(e.label!=null&&(i.text=e.label),e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],h=0;h<3&&o[f]==null;h++)o[f]=e[d[h]],s[f]=l[h],c[f]=h===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=en.retrieveVisuals(e),r.push(i)},this),sY(t,r),TR(r),z(r,function(e){var n=e.close,i=[["<",""][n[1]],[">",""][n[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,i)},this)}};function sY(r,t){var e=r.inverse;(r.orient==="vertical"?!e:e)&&t.reverse()}var IPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,o=this._getItemAlign(),s=n.itemSize,l=this._getViewData(),u=l.endsText,c=dn(n.get("showLabel",!0),!u),f=!n.get("selectedMode");u&&this._renderEndsText(e,u[0],s,c,o),z(l.viewPieceList,function(d){var h=d.piece,v=new Be;v.onclick=Se(this._onItemClick,this,h),this._enableHoverLink(v,d.indexInModelPieceList);var g=n.getRepresentValue(h);if(this._createItemSymbol(v,g,[0,0,s[0],s[1]],f),c){var m=this.visualMapModel.getValueState(g),x=a.get("align")||o;v.add(new gt({style:Ut(a,{x:x==="right"?-i:s[0]+i,y:s[1]/2,text:h.text,verticalAlign:a.get("verticalAlign")||"middle",align:x,opacity:Ie(a.get("opacity"),m==="outOfRange"?.5:1)}),silent:f}))}e.add(v)},this),u&&this._renderEndsText(e,u[1],s,c,o),Jc(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var i=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:Ex(s.findTargetDataIndices(n),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if(n.orient==="vertical")return lne(e,this.api,e.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(e,n,i,a,o){if(n){var s=new Be,l=this.visualMapModel.textStyleModel;s.add(new gt({style:Ut(l,{x:a?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:n})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=he(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=e.get("text"),a=e.get("orient"),o=e.get("inverse");return(a==="horizontal"?o:!o)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(e,n,i,a){var o=Dr(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));o.silent=a,e.add(o)},t.prototype._onItemClick=function(e){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var o=Oe(i.selected),s=n.getSelectedMapKey(e);a==="single"||a===!0?(o[s]=!0,z(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t})(sne);function fne(r){r.registerComponentModel(DPe),r.registerComponentView(IPe),une(r)}function RPe(r){Je(cne),Je(fne)}var PPe=(function(){function r(t){this._thumbnailModel=t}return r.prototype.reset=function(t){this._renderVersion=t.getMainProcessVersion()},r.prototype.renderContent=function(t){var e=t.api.getViewOfComponentModel(this._thumbnailModel);e&&(t.group.silent=!0,e.renderContent({group:t.group,targetTrans:t.targetTrans,z2Range:kK(t.group),roamType:t.roamType,viewportRect:t.viewportRect,renderVersion:this._renderVersion}))},r.prototype.updateWindow=function(t,e){var n=e.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:t,renderVersion:this._renderVersion})},r})(),OPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return t.prototype.optionUpdated=function(e,n){this._updateBridge()},t.prototype._updateBridge=function(){var e=this._birdge=this._birdge||new PPe(this);if(this._target=null,this.ecModel.eachSeries(function(i){PW(i,null)}),this.shouldShow()){var n=this.getTarget();PW(n.baseMapProvider,e)}},t.prototype.shouldShow=function(){return this.getShallow("show",!0)},t.prototype.getBridge=function(){return this._birdge},t.prototype.getTarget=function(){if(this._target)return this._target;var e=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return e?e.subType!=="graph"&&(e=null):e=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:e},this._target},t.type="thumbnail",t.layoutMode="box",t.dependencies=["series","geo"],t.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:te.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:te.color.neutral30,borderColor:te.color.neutral40,opacity:.3},z:10},t})(at),BPe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,i){if(this._api=i,this._model=e,this._coordSys||(this._coordSys=new Rf),!this._isEnabled()){this._clear();return}this._renderVersion=i.getMainProcessVersion();var a=this.group;a.removeAll();var o=e.getModel("itemStyle"),s=o.getItemStyle();s.fill==null&&(s.fill=n.get("backgroundColor")||te.color.neutral00);var l=qr(e,i).refContainer,u=rr(tQ(e,!0),l),c=s.lineWidth||0,f=this._contentRect=cf(u.clone(),c/2,!0,!0),d=new Be;a.add(d),d.setClipPath(new rt({shape:f.plain()}));var h=this._targetGroup=new Be;d.add(h);var v=u.plain();v.r=o.getShallow("borderRadius",!0),a.add(this._bgRect=new rt({style:s,shape:v,silent:!1,cursor:"grab"}));var g=e.getModel("windowStyle"),m=g.getShallow("borderRadius",!0);d.add(this._windowRect=new rt({shape:{x:0,y:0,width:0,height:0,r:m},style:g.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),uY(e,this)},t.prototype.renderContent=function(e){this._bridgeRendered=e,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),uY(this._model,this))},t.prototype._dealRenderContent=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=this._targetGroup,i=this._coordSys,a=this._contentRect;if(n.removeAll(),!!e){var o=e.group,s=o.getBoundingRect();n.add(o),this._bgRect.z2=e.z2Range.min-10,i.setBoundingRect(s.x,s.y,s.width,s.height);var l=rr({left:"center",top:"center",aspect:s.width/s.height},a);i.setViewRect(l.x,l.y,l.width,l.height),o.attr(i.getTransformInfo().raw),this._windowRect.z2=e.z2Range.max+10,this._resetRoamController(e.roamType)}}},t.prototype.updateWindow=function(e){var n=this._bridgeRendered;n&&n.renderVersion===e.renderVersion&&(n.targetTrans=e.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},t.prototype._dealUpdateWindow=function(){var e=this._bridgeRendered;if(!(!e||e.renderVersion!==this._renderVersion)){var n=wa([],e.targetTrans),i=Ka([],this._coordSys.transform,n);this._transThisToTarget=wa([],i);var a=e.viewportRect;a?a=a.clone():a=new Fe(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(i);var o=this._windowRect,s=o.shape.r;o.setShape(ke({r:s},a))}},t.prototype._resetRoamController=function(e){var n=this,i=this._api,a=this._roamController;if(a||(a=this._roamController=new If(i.getZr())),!e||!this._isEnabled()){a.disable();return}a.enable(e,{api:i,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(o,s,l){return n._contentRect.contain(s,l)}}}),a.off("pan").off("zoom").on("pan",Se(this._onPan,this)).on("zoom",Se(this._onZoom,this))},t.prototype._onPan=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=yr([],[e.oldX,e.oldY],n),a=yr([],[e.oldX-e.dx,e.oldY-e.dy],n);this._api.dispatchAction(lY(this._model.getTarget().baseMapProvider,{dx:a[0]-i[0],dy:a[1]-i[1]}))}},t.prototype._onZoom=function(e){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var i=yr([],[e.originX,e.originY],n);this._api.dispatchAction(lY(this._model.getTarget().baseMapProvider,{zoom:1/e.scale,originX:i[0],originY:i[1]}))}},t.prototype._isEnabled=function(){var e=this._model;if(!e||!e.shouldShow())return!1;var n=e.getTarget().baseMapProvider;return!!n},t.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},t.prototype.remove=function(){this._clear()},t.prototype.dispose=function(){this._clear()},t.type="thumbnail",t})(Yt);function lY(r,t){var e=r.mainType==="series"?r.subType+"Roam":r.mainType+"Roam",n={type:e};return n[r.mainType+"Id"]=r.id,oe(n,t),n}function uY(r,t){var e=ff(r);SS(t.group,e.z,e.zlevel)}function kPe(r){r.registerComponentModel(OPe),r.registerComponentView(BPe)}var LPe={label:{enabled:!0},decal:{show:!1}},cY=ot(),NPe={};function VPe(r,t){var e=r.getModel("aria");if(!e.get("enabled"))return;var n=Oe(LPe);Ke(n.label,r.getLocaleModel().get("aria"),!1),Ke(e.option,n,!1),i(),a();function i(){var u=e.getModel("decal"),c=u.get("show");if(c){var f=Me();r.eachSeries(function(d){if(!d.isColorBySeries()){var h=f.get(d.type);h||(h={},f.set(d.type,h)),cY(d).scope=h}}),r.eachRawSeries(function(d){if(r.isSeriesFiltered(d))return;if(Re(d.enableAriaDecal)){d.enableAriaDecal();return}var h=d.getData();if(d.isColorBySeries()){var _=YR(d.ecModel,d.name,NPe,r.getSeriesCount()),b=h.getVisual("decal");h.setVisual("decal",w(b,_))}else{var v=d.getRawData(),g={},m=cY(d).scope;h.each(function(T){var A=h.getRawIndex(T);g[A]=T});var x=v.count();v.each(function(T){var A=g[T],M=v.getName(T)||T+"",D=YR(d.ecModel,M,m,x),P=h.getItemVisual(A,"decal");h.setItemVisual(A,"decal",w(P,D))})}function w(T,A){var M=T?oe(oe({},A),T):A;return M.dirty=!0,M}})}}function a(){var u=t.getZr().dom;if(u){var c=r.getLocaleModel().get("aria"),f=e.getModel("label");if(f.option=ke(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var d=r.getSeriesCount(),h=f.get(["data","maxCount"])||10,v=f.get(["series","maxCount"])||10,g=Math.min(d,v),m;if(!(d<1)){var x=s();if(x){var _=f.get(["general","withTitle"]);m=o(_,{title:x})}else m=f.get(["general","withoutTitle"]);var b=[],w=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);m+=o(w,{seriesCount:d}),r.eachSeries(function(D,P){if(P<g){var I=void 0,R=D.get("name"),k=R?"withName":"withoutName";I=d>1?f.get(["series","multiple",k]):f.get(["series","single",k]),I=o(I,{seriesId:D.seriesIndex,seriesName:D.get("name"),seriesType:l(D.subType)});var O=D.getData();if(O.count()>h){var V=f.get(["data","partialData"]);I+=o(V,{displayCnt:h})}else I+=f.get(["data","allData"]);for(var N=f.get(["data","separator","middle"]),L=f.get(["data","separator","end"]),G=f.get(["data","excludeDimensionId"]),W=[],U=0;U<O.count();U++)if(U<h){var Z=O.getName(U),F=G?Tt(O.getValues(U),function($,K){return Ze(G,K)===-1}):O.getValues(U),q=f.get(["data",Z?"withName":"withoutName"]);W.push(o(q,{name:Z,value:F.join(N)}))}I+=W.join(N)+L,b.push(I)}});var T=f.getModel(["series","multiple","separator"]),A=T.get("middle"),M=T.get("end");m+=b.join(A)+M,u.setAttribute("aria-label",m)}}}}function o(u,c){if(!be(u))return u;var f=u;return z(c,function(d,h){f=f.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),d)}),f}function s(){var u=r.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=r.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function zPe(r){if(!(!r||!r.aria)){var t=r.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},z(["description","general","series","data"],function(e){t[e]!=null&&(t.label[e]=t[e])})}}function FPe(r){r.registerPreprocessor(zPe),r.registerVisual(r.PRIORITY.VISUAL.ARIA,VPe)}var fY={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},HPe=(function(){function r(t){var e=this._condVal=be(t)?new RegExp(t):aZ(t)?t:null;if(e==null){var n="";Mt(n)}}return r.prototype.evaluate=function(t){var e=typeof t;return be(e)?this._condVal.test(t):yt(e)?this._condVal.test(t+""):!1},r})(),GPe=(function(){function r(){}return r.prototype.evaluate=function(){return this.value},r})(),WPe=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},r})(),UPe=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},r})(),qPe=(function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r})(),YPe=(function(){function r(){}return r.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},r})();function F3(r,t){if(r===!0||r===!1){var e=new GPe;return e.value=r,e}var n="";return hne(r)||Mt(n),r.and?hY("and",r,t):r.or?hY("or",r,t):r.not?XPe(r,t):$Pe(r,t)}function hY(r,t,e){var n=t[r],i="";ue(n)||Mt(i),n.length||Mt(i);var a=r==="and"?new WPe:new UPe;return a.children=he(n,function(o){return F3(o,e)}),a.children.length||Mt(i),a}function XPe(r,t){var e=r.not,n="";hne(e)||Mt(n);var i=new qPe;return i.child=F3(e,t),i.child||Mt(n),i}function $Pe(r,t){for(var e="",n=t.prepareGetValue(r),i=[],a=ht(r),o=r.parser,s=o?wQ(o):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=Te(fY,u)?fY[u]:u,f=r[u],d=s?s(f):f,h=vye(c,d)||c==="reg"&&new HPe(d);h||Mt(e),i.push(h)}}i.length||Mt(e);var v=new YPe;return v.valueGetterParam=n,v.valueParser=s,v.getValue=t.getValue,v.subCondList=i,v}function hne(r){return Le(r)&&!En(r)}var jPe=(function(){function r(t,e){this._cond=F3(t,e)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r})();function ZPe(r,t){return new jPe(r,t)}var KPe={type:"echarts:filter",transform:function(r){for(var t=r.upstream,e,n=ZPe(r.config,{valueGetterAttrMap:Me({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Te(s,"dimension")||Mt(l);var c=t.getDimensionInfo(u);return c||Mt(l),{dimIdx:c.index}},getValue:function(s){return t.retrieveValueFromItem(e,s.dimIdx)}}),i=[],a=0,o=t.count();a<o;a++)e=t.getRawDataItem(a),n.evaluate()&&i.push(e);return{data:i}}},QPe={type:"echarts:sort",transform:function(r){var t=r.upstream,e=r.config,n="",i=qt(e);i.length||Mt(n);var a=[];z(i,function(c){var f=c.dimension,d=c.order,h=c.parser,v=c.incomparable;if(f==null&&Mt(n),d!=="asc"&&d!=="desc"&&Mt(n),v&&v!=="min"&&v!=="max"){var g="";Mt(g)}if(d!=="asc"&&d!=="desc"){var m="";Mt(m)}var x=t.getDimensionInfo(f);x||Mt(n);var _=h?wQ(h):null;h&&!_&&Mt(n),a.push({dimIdx:x.index,parser:_,comparator:new TQ(d,v)})});var o=t.sourceFormat;o!==gn&&o!==qi&&Mt(n);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(c,f){for(var d=0;d<a.length;d++){var h=a[d],v=t.retrieveValueFromItem(c,h.dimIdx),g=t.retrieveValueFromItem(f,h.dimIdx);h.parser&&(v=h.parser(v),g=h.parser(g));var m=h.comparator.evaluate(v,g);if(m!==0)return m}return 0}),{data:s}}};function JPe(r){r.registerTransform(KPe),r.registerTransform(QPe)}var eOe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,n,i){r.prototype.init.call(this,e,n,i),this._sourceManager=new EQ(this),U9(this)},t.prototype.mergeOption=function(e,n){r.prototype.mergeOption.call(this,e,n),U9(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:eo},t})(at),tOe=(function(r){J(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t})(Yt);function rOe(r){r.registerComponentModel(eOe),r.registerComponentView(tOe)}var _o=Go.CMD;function sd(r,t){return Math.abs(r-t)<1e-5}function sO(r){var t=r.data,e=r.len(),n=[],i,a=0,o=0,s=0,l=0;function u(O,V){i&&i.length>2&&n.push(i),i=[O,V]}function c(O,V,N,L){sd(O,N)&&sd(V,L)||i.push(O,V,N,L,N,L)}function f(O,V,N,L,G,W){var U=Math.abs(V-O),Z=Math.tan(U/4)*4/3,F=V<O?-1:1,q=Math.cos(O),$=Math.sin(O),K=Math.cos(V),re=Math.sin(V),ce=q*G+N,pe=$*W+L,de=K*G+N,ge=re*W+L,Ce=G*Z*F,xe=W*Z*F;i.push(ce-Ce*$,pe+xe*q,de+Ce*re,ge-xe*K,de,ge)}for(var d,h,v,g,m=0;m<e;){var x=t[m++],_=m===1;switch(_&&(a=t[m],o=t[m+1],s=a,l=o,(x===_o.L||x===_o.C||x===_o.Q)&&(i=[s,l])),x){case _o.M:a=s=t[m++],o=l=t[m++],u(s,l);break;case _o.L:d=t[m++],h=t[m++],c(a,o,d,h),a=d,o=h;break;case _o.C:i.push(t[m++],t[m++],t[m++],t[m++],a=t[m++],o=t[m++]);break;case _o.Q:d=t[m++],h=t[m++],v=t[m++],g=t[m++],i.push(a+2/3*(d-a),o+2/3*(h-o),v+2/3*(d-v),g+2/3*(h-g),v,g),a=v,o=g;break;case _o.A:var b=t[m++],w=t[m++],T=t[m++],A=t[m++],M=t[m++],D=t[m++]+M;m+=1;var P=!t[m++];d=Math.cos(M)*T+b,h=Math.sin(M)*A+w,_?(s=d,l=h,u(s,l)):c(a,o,d,h),a=Math.cos(D)*T+b,o=Math.sin(D)*A+w;for(var I=(P?-1:1)*Math.PI/2,R=M;P?R>D:R<D;R+=I){var k=P?Math.max(R+I,D):Math.min(R+I,D);f(R,k,b,w,T,A)}break;case _o.R:s=a=t[m++],l=o=t[m++],d=s+t[m++],h=l+t[m++],u(d,l),c(d,l,d,h),c(d,h,s,h),c(s,h,s,l),c(s,l,d,l);break;case _o.Z:i&&c(a,o,s,l),a=s,o=l;break}}return i&&i.length>2&&n.push(i),n}function lO(r,t,e,n,i,a,o,s,l,u){if(sd(r,e)&&sd(t,n)&&sd(i,o)&&sd(a,s)){l.push(o,s);return}var c=2/u,f=c*c,d=o-r,h=s-t,v=Math.sqrt(d*d+h*h);d/=v,h/=v;var g=e-r,m=n-t,x=i-o,_=a-s,b=g*g+m*m,w=x*x+_*_;if(b<f&&w<f){l.push(o,s);return}var T=d*g+h*m,A=-d*x-h*_,M=b-T*T,D=w-A*A;if(M<f&&T>=0&&D<f&&A>=0){l.push(o,s);return}var P=[],I=[];mu(r,e,i,o,.5,P),mu(t,n,a,s,.5,I),lO(P[0],I[0],P[1],I[1],P[2],I[2],P[3],I[3],l,u),lO(P[4],I[4],P[5],I[5],P[6],I[6],P[7],I[7],l,u)}function nOe(r,t){var e=sO(r),n=[];t=t||1;for(var i=0;i<e.length;i++){var a=e[i],o=[],s=a[0],l=a[1];o.push(s,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],d=a[u++],h=a[u++],v=a[u++],g=a[u++];lO(s,l,c,f,d,h,v,g,o,t),s=v,l=g}n.push(o)}return n}function dne(r,t,e){var n=r[t],i=r[1-t],a=Math.abs(n/i),o=Math.ceil(Math.sqrt(a*e)),s=Math.floor(e/o);s===0&&(s=1,o=e);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=e-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function dY(r,t,e){for(var n=r.r0,i=r.r,a=r.startAngle,o=r.endAngle,s=Math.abs(o-a),l=s*i,u=i-n,c=l>Math.abs(u),f=dne([l,u],c?0:1,t),d=(c?s:u)/f.length,h=0;h<f.length;h++)for(var v=(c?u:s)/f[h],g=0;g<f[h];g++){var m={};c?(m.startAngle=a+d*h,m.endAngle=a+d*(h+1),m.r0=n+v*g,m.r=n+v*(g+1)):(m.startAngle=a+v*g,m.endAngle=a+v*(g+1),m.r0=n+d*h,m.r=n+d*(h+1)),m.clockwise=r.clockwise,m.cx=r.cx,m.cy=r.cy,e.push(m)}}function iOe(r,t,e){for(var n=r.width,i=r.height,a=n>i,o=dne([n,i],a?0:1,t),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=r[s]/o.length,d=0;d<o.length;d++)for(var h=r[l]/o[d],v=0;v<o[d];v++){var g={};g[u]=d*f,g[c]=v*h,g[s]=f,g[l]=h,g.x+=r.x,g.y+=r.y,e.push(g)}}function vY(r,t,e,n){return r*n-e*t}function aOe(r,t,e,n,i,a,o,s){var l=e-r,u=n-t,c=o-i,f=s-a,d=vY(c,f,l,u);if(Math.abs(d)<1e-6)return null;var h=r-i,v=t-a,g=vY(h,v,c,f)/d;return g<0||g>1?null:new ze(g*l+r,g*u+t)}function oOe(r,t,e){var n=new ze;ze.sub(n,e,t),n.normalize();var i=new ze;ze.sub(i,r,t);var a=i.dot(n);return a}function Uh(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function sOe(r,t,e){for(var n=r.length,i=[],a=0;a<n;a++){var o=r[a],s=r[(a+1)%n],l=aOe(o[0],o[1],s[0],s[1],t.x,t.y,e.x,e.y);l&&i.push({projPt:oOe(l,t,e),pt:l,idx:a})}if(i.length<2)return[{points:r},{points:r}];i.sort(function(m,x){return m.projPt-x.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var d=[u.pt.x,u.pt.y],h=[c.pt.x,c.pt.y],v=[d],g=[h],a=u.idx+1;a<=c.idx;a++)Uh(v,r[a].slice());Uh(v,h),Uh(v,d);for(var a=c.idx+1;a<=u.idx+n;a++)Uh(g,r[a%n].slice());return Uh(g,d),Uh(g,h),[{points:v},{points:g}]}function pY(r){var t=r.points,e=[],n=[];gS(t,e,n);var i=new Fe(e[0],e[1],n[0]-e[0],n[1]-e[1]),a=i.width,o=i.height,s=i.x,l=i.y,u=new ze,c=new ze;return a>o?(u.x=c.x=s+a/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+a),sOe(t,u,c)}function bb(r,t,e,n){if(e===1)n.push(t);else{var i=Math.floor(e/2),a=r(t);bb(r,a[0],i,n),bb(r,a[1],e-i,n)}return n}function lOe(r,t){for(var e=[],n=0;n<t;n++)e.push(kB(r));return e}function uOe(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function cOe(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}function fOe(r,t){var e=[],n=r.shape,i;switch(r.type){case"rect":iOe(n,t,e),i=rt;break;case"sector":dY(n,t,e),i=Rn;break;case"circle":dY({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,e),i=Rn;break;default:var a=r.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=he(nOe(r.getUpdatedPathProxy(),o),function(x){return cOe(x)}),l=s.length;if(l===0)bb(pY,{points:s[0]},t,e);else if(l===t)for(var u=0;u<l;u++)e.push({points:s[u]});else{var c=0,f=he(s,function(x){var _=[],b=[];gS(x,_,b);var w=(b[1]-_[1])*(b[0]-_[0]);return c+=w,{poly:x,area:w}});f.sort(function(x,_){return _.area-x.area});for(var d=t,u=0;u<l;u++){var h=f[u];if(d<=0)break;var v=u===l-1?d:Math.ceil(h.area/c*t);v<0||(bb(pY,{points:h.poly},v,e),d-=v)}}i=Pn;break}if(!i)return lOe(r,t);for(var g=[],u=0;u<e.length;u++){var m=new i;m.setShape(e[u]),uOe(r,m),g.push(m)}return g}function hOe(r,t){var e=r.length,n=t.length;if(e===n)return[r,t];for(var i=[],a=[],o=e<n?r:t,s=Math.min(e,n),l=Math.abs(n-e)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],d=l,h=2;h<s;){var v=o[h-2],g=o[h-1],m=o[h++],x=o[h++],_=o[h++],b=o[h++],w=o[h++],T=o[h++];if(d<=0){f.push(m,x,_,b,w,T);continue}for(var A=Math.min(d,c-1)+1,M=1;M<=A;M++){var D=M/A;mu(v,m,_,w,D,i),mu(g,x,b,T,D,a),v=i[3],g=a[3],f.push(i[1],a[1],i[2],a[2],v,g),m=i[5],x=a[5],_=i[6],b=a[6]}d-=A-1}return o===r?[f,t]:[r,f]}function gY(r,t){for(var e=r.length,n=r[e-2],i=r[e-1],a=[],o=0;o<t.length;)a[o++]=n,a[o++]=i;return a}function dOe(r,t){for(var e,n,i,a=[],o=[],s=0;s<Math.max(r.length,t.length);s++){var l=r[s],u=t[s],c=void 0,f=void 0;l?u?(e=hOe(l,u),c=e[0],f=e[1],n=c,i=f):(f=gY(i||l,l),c=l):(c=gY(n||u,u),f=u),a.push(c),o.push(f)}return[a,o]}function yY(r){for(var t=0,e=0,n=0,i=r.length,a=0,o=i-2;a<i;o=a,a+=2){var s=r[o],l=r[o+1],u=r[a],c=r[a+1],f=s*c-u*l;t+=f,e+=(s+u)*f,n+=(l+c)*f}return t===0?[r[0]||0,r[1]||0]:[e/t/3,n/t/3,t]}function vOe(r,t,e,n){for(var i=(r.length-2)/6,a=1/0,o=0,s=r.length,l=s-2,u=0;u<i;u++){for(var c=u*6,f=0,d=0;d<s;d+=2){var h=d===0?c:(c+d-2)%l+2,v=r[h]-e[0],g=r[h+1]-e[1],m=t[d]-n[0],x=t[d+1]-n[1],_=m-v,b=x-g;f+=_*_+b*b}f<a&&(a=f,o=u)}return o}function pOe(r){for(var t=[],e=r.length,n=0;n<e;n+=2)t[n]=r[e-n-2],t[n+1]=r[e-n-1];return t}function gOe(r,t,e,n){for(var i=[],a,o=0;o<r.length;o++){var s=r[o],l=t[o],u=yY(s),c=yY(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],d=[],h=0,v=1/0,g=[],m=s.length;a&&(s=pOe(s));for(var x=vOe(s,l,u,c)*6,_=m-2,b=0;b<_;b+=2){var w=(x+b)%_+2;f[b+2]=s[w]-u[0],f[b+3]=s[w+1]-u[1]}f[0]=s[x]-u[0],f[1]=s[x+1]-u[1];for(var T=n/e,A=-n/2;A<=n/2;A+=T){for(var M=Math.sin(A),D=Math.cos(A),P=0,b=0;b<s.length;b+=2){var I=f[b],R=f[b+1],k=l[b]-c[0],O=l[b+1]-c[1],V=k*D-O*M,N=k*M+O*D;g[b]=V,g[b+1]=N;var L=V-I,G=N-R;P+=L*L+G*G}if(P<v){v=P,h=A;for(var W=0;W<g.length;W++)d[W]=g[W]}}i.push({from:f,to:d,fromCp:u,toCp:c,rotation:-h})}return i}function Sb(r){return r.__isCombineMorphing}var vne="__mOriginal_";function wb(r,t,e){var n=vne+t,i=r[n]||r[t];r[n]||(r[n]=r[t]);var a=e.replace,o=e.after,s=e.before;r[t]=function(){var l=arguments,u;return s&&s.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),o&&o.apply(this,l),u}}function G0(r,t){var e=vne+t;r[e]&&(r[t]=r[e],r[e]=null)}function mY(r,t){for(var e=0;e<r.length;e++)for(var n=r[e],i=0;i<n.length;){var a=n[i],o=n[i+1];n[i++]=t[0]*a+t[2]*o+t[4],n[i++]=t[1]*a+t[3]*o+t[5]}}function pne(r,t){var e=r.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=dOe(sO(e),sO(n)),a=i[0],o=i[1],s=r.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&mY(a,s),l&&mY(o,l),wb(t,"updateTransform",{replace:u}),t.transform=null;var c=gOe(a,o,10,Math.PI),f=[];wb(t,"buildPath",{replace:function(d){for(var h=t.__morphT,v=1-h,g=[],m=0;m<c.length;m++){var x=c[m],_=x.from,b=x.to,w=x.rotation*h,T=x.fromCp,A=x.toCp,M=Math.sin(w),D=Math.cos(w);I0(g,T,A,h);for(var P=0;P<_.length;P+=2){var I=_[P],R=_[P+1],k=b[P],O=b[P+1],V=I*v+k*h,N=R*v+O*h;f[P]=V*D-N*M+g[0],f[P+1]=V*M+N*D+g[1]}var L=f[0],G=f[1];d.moveTo(L,G);for(var P=2;P<_.length;){var k=f[P++],O=f[P++],W=f[P++],U=f[P++],Z=f[P++],F=f[P++];L===k&&G===O&&W===Z&&U===F?d.lineTo(Z,F):d.bezierCurveTo(k,O,W,U,Z,F),L=Z,G=F}}}})}function H3(r,t,e){if(!r||!t)return t;var n=e.done,i=e.during;pne(r,t),t.__morphT=0;function a(){G0(t,"buildPath"),G0(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},ke({during:function(o){t.dirtyShape(),i&&i(o)},done:function(){a(),n&&n()}},e)),t}function yOe(r,t,e,n,i,a){var o=16;r=i===e?0:Math.round(32767*(r-e)/(i-e)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(r&u)>0&&(c=1),(t&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(r=u-1-r,t=u-1-t),l=r,r=t,t=l)}return s}function Cb(r){var t=1/0,e=1/0,n=-1/0,i=-1/0,a=he(r,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),e=Math.min(f,e),n=Math.max(c,n),i=Math.max(f,i),[c,f]}),o=he(a,function(s,l){return{cp:s,z:yOe(s[0],s[1],t,e,n,i),path:r[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function gne(r){return fOe(r.path,r.count)}function uO(){return{fromIndividuals:[],toIndividuals:[],count:0}}function mOe(r,t,e){var n=[];function i(T){for(var A=0;A<T.length;A++){var M=T[A];Sb(M)?i(M.childrenRef()):M instanceof lt&&n.push(M)}}i(r);var a=n.length;if(!a)return uO();var o=e.dividePath||gne,s=o({path:t,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),uO();n=Cb(n),s=Cb(s);for(var l=e.done,u=e.during,c=e.individualDelay,f=new Ws,d=0;d<a;d++){var h=n[d],v=s[d];v.parent=t,v.copyTransform(f),c||pne(h,v)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function g(T){for(var A=0;A<s.length;A++)s[A].addSelfToZr(T)}wb(t,"addSelfToZr",{after:function(T){g(T)}}),wb(t,"removeSelfFromZr",{after:function(T){for(var A=0;A<s.length;A++)s[A].removeSelfFromZr(T)}});function m(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,G0(t,"addSelfToZr"),G0(t,"removeSelfFromZr")}var x=s.length;if(c)for(var _=x,b=function(){_--,_===0&&(m(),l&&l())},d=0;d<x;d++){var w=c?ke({delay:(e.delay||0)+c(d,x,n[d],s[d]),done:b},e):e;H3(n[d],s[d],w)}else t.__morphT=0,t.animateTo({__morphT:1},ke({during:function(T){for(var A=0;A<x;A++){var M=s[A];M.__morphT=t.__morphT,M.dirtyShape()}u&&u(T)},done:function(){m();for(var T=0;T<r.length;T++)G0(r[T],"updateTransform");l&&l()}},e));return t.__zr&&g(t.__zr),{fromIndividuals:n,toIndividuals:s,count:x}}function xOe(r,t,e){var n=t.length,i=[],a=e.dividePath||gne;function o(h){for(var v=0;v<h.length;v++){var g=h[v];Sb(g)?o(g.childrenRef()):g instanceof lt&&i.push(g)}}if(Sb(r)){o(r.childrenRef());var s=i.length;if(s<n)for(var l=0,u=s;u<n;u++)i.push(kB(i[l++%s]));i.length=n}else{i=a({path:r,count:n});for(var c=r.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),uO()}i=Cb(i),t=Cb(t);for(var f=e.individualDelay,u=0;u<n;u++){var d=f?ke({delay:(e.delay||0)+f(u,n,i[u],t[u])},e):e;H3(i[u],t[u],d)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function xY(r){return ue(r[0])}function _Y(r,t){for(var e=[],n=r.length,i=0;i<n;i++)e.push({one:r[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,o=void 0;for(o=0;o<a;o++)e[o%n].many.push(t[i][o])}for(var s=0,i=n-1;i>=0;i--)if(!e[i].many.length){var l=e[s].many;if(l.length<=1)if(s)s=0;else return e;var a=l.length,u=Math.ceil(a/2);e[i].many=l.slice(u,a),e[s].many=l.slice(0,u),s++}return e}var _Oe={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var i=kB(r.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function wI(r,t,e,n,i,a){if(!r.length||!t.length)return;var o=Gd("update",n,i);if(!(o&&o.duration>0))return;var s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;xY(r)&&(u=r,c=t),xY(t)&&(u=t,c=r);function f(x,_,b,w,T){var A=x.many,M=x.one;if(A.length===1&&!T){var D=_?A[0]:M,P=_?M:A[0];if(Sb(D))f({many:[D],one:P},!0,b,w,!0);else{var I=s?ke({delay:s(b,w)},l):l;H3(D,P,I),a(D,P,D,P,I)}}else for(var R=ke({dividePath:_Oe[e],individualDelay:s&&function(G,W,U,Z){return s(G+b,w)}},l),k=_?mOe(A,M,R):xOe(M,A,R),O=k.fromIndividuals,V=k.toIndividuals,N=O.length,L=0;L<N;L++){var I=s?ke({delay:s(L,N)},l):l;a(O[L],V[L],_?A[L]:x.one,_?x.one:A[L],I)}}for(var d=u?u===r:r.length>t.length,h=u?_Y(c,u):_Y(d?t:r,[d?r:t]),v=0,g=0;g<h.length;g++)v+=h[g].many.length;for(var m=0,g=0;g<h.length;g++)f(h[g],d,m,v),m+=h[g].many.length}function Pc(r){if(!r)return[];if(ue(r)){for(var t=[],e=0;e<r.length;e++)t.push(Pc(r[e]));return t}var n=[];return r.traverse(function(i){i instanceof lt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var yne=1e4,bOe=0,bY=1,SY=2,SOe=ot();function wOe(r,t){for(var e=r.dimensions,n=0;n<e.length;n++){var i=r.getDimensionInfo(e[n]);if(i&&i.otherDims[t]===0)return e[n]}}function COe(r,t,e){var n=r.getDimensionInfo(e),i=n&&n.ordinalMeta;if(n){var a=r.get(n.name,t);return i&&i.categories[a]||a+""}}function wY(r,t,e,n){var i=n?"itemChildGroupId":"itemGroupId",a=wOe(r,i);if(a){var o=COe(r,t,a);return o}var s=r.getRawDataItem(t),l=n?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!n)return e||r.getId(t)}function CY(r){var t=[];return z(r,function(e){var n=e.data,i=e.dataGroupId;if(!(n.count()>yne))for(var a=n.getIndices(),o=0;o<a.length;o++)t.push({data:n,groupId:wY(n,o,i,!1),childGroupId:wY(n,o,i,!0),divide:e.divide,dataIndex:o})}),t}function CI(r,t,e){r.traverse(function(n){n instanceof lt&&Kt(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function TI(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function qh(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function TOe(r,t,e){var n=Gd("update",e,t);n&&r.traverse(function(i){if(i instanceof Ca){var a=G0e(i);a&&i.animateFrom({style:a},n)}})}function AOe(r,t){var e=r.length;if(e!==t.length)return!1;for(var n=0;n<e;n++){var i=r[n],a=t[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function mne(r,t,e){var n=CY(r),i=CY(t);function a(b,w,T,A,M){(T||b)&&w.animateFrom({style:T&&T!==b?oe(oe({},T.style),b.style):b.style},M)}var o=!1,s=bOe,l=Me(),u=Me();n.forEach(function(b){b.groupId&&l.set(b.groupId,!0),b.childGroupId&&u.set(b.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){s=bY;break}var d=i[c].childGroupId;if(d&&l.get(d)){s=SY;break}}function h(b,w){return function(T){var A=T.data,M=T.dataIndex;return w?A.getId(M):b?s===bY?T.childGroupId:T.groupId:s===SY?T.childGroupId:T.groupId}}var v=AOe(n,i),g={};if(!v)for(var c=0;c<i.length;c++){var m=i[c],x=m.data.getItemGraphicEl(m.dataIndex);x&&(g[x.id]=!0)}function _(b,w){var T=n[w],A=i[b],M=A.data.hostModel,D=T.data.getItemGraphicEl(T.dataIndex),P=A.data.getItemGraphicEl(A.dataIndex);if(D===P){P&&TOe(P,A.dataIndex,M);return}D&&g[D.id]||P&&(qh(P),D?(qh(D),TI(D),o=!0,wI(Pc(D),Pc(P),A.divide,M,b,a)):CI(P,M,b))}new rl(n,i,h(!0,v),h(!1,v),null,"multiple").update(_).updateManyToOne(function(b,w){var T=i[b],A=T.data,M=A.hostModel,D=A.getItemGraphicEl(T.dataIndex),P=Tt(he(w,function(I){return n[I].data.getItemGraphicEl(n[I].dataIndex)}),function(I){return I&&I!==D&&!g[I.id]});D&&(qh(D),P.length?(z(P,function(I){qh(I),TI(I)}),o=!0,wI(Pc(P),Pc(D),T.divide,M,b,a)):CI(D,M,T.dataIndex))}).updateOneToMany(function(b,w){var T=n[w],A=T.data.getItemGraphicEl(T.dataIndex);if(!(A&&g[A.id])){var M=Tt(he(b,function(P){return i[P].data.getItemGraphicEl(i[P].dataIndex)}),function(P){return P&&P!==A}),D=i[b[0]].data.hostModel;M.length&&(z(M,function(P){return qh(P)}),A?(qh(A),TI(A),o=!0,wI(Pc(A),Pc(M),T.divide,D,b[0],a)):z(M,function(P){return CI(P,D,b[0])}))}}).updateManyToMany(function(b,w){new rl(w,b,function(T){return n[T].data.getId(n[T].dataIndex)},function(T){return i[T].data.getId(i[T].dataIndex)}).update(function(T,A){_(b[T],w[A])}).execute()}).execute(),o&&z(t,function(b){var w=b.data,T=w.hostModel,A=T&&e.getViewOfSeriesModel(T),M=Gd("update",T,0);A&&T.isAnimationEnabled()&&M&&M.duration>0&&A.group.traverse(function(D){D instanceof lt&&!D.animators.length&&D.animateFrom({style:{opacity:0}},M)})})}function TY(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function AY(r){return ue(r)?r.sort().join(","):r}function $l(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function MOe(r,t){var e=Me(),n=Me(),i=Me();return z(r.oldSeries,function(a,o){var s=r.oldDataGroupIds[o],l=r.oldData[o],u=TY(a),c=AY(u);n.set(c,{dataGroupId:s,data:l}),ue(u)&&z(u,function(f){i.set(f,{key:c,dataGroupId:s,data:l})})}),z(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),l=TY(a),u=AY(l),c=n.get(u);if(c)e.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:$l(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:$l(s),data:s}]});else if(ue(l)){var f=[];z(l,function(v){var g=n.get(v);g.data&&f.push({dataGroupId:g.dataGroupId,divide:$l(g.data),data:g.data})}),f.length&&e.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:$l(s)}]})}else{var d=i.get(l);if(d){var h=e.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:$l(d.data)}],newSeries:[]},e.set(d.key,h)),h.newSeries.push({dataGroupId:o,data:s,divide:$l(s)})}}}}),e}function MY(r,t){for(var e=0;e<r.length;e++){var n=t.seriesIndex!=null&&t.seriesIndex===r[e].seriesIndex||t.seriesId!=null&&t.seriesId===r[e].id;if(n)return e}}function DOe(r,t,e,n){var i=[],a=[];z(qt(r.from),function(o){var s=MY(t.oldSeries,o);s>=0&&i.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:$l(t.oldData[s]),groupIdDim:o.dimension})}),z(qt(r.to),function(o){var s=MY(e.updatedSeries,o);if(s>=0){var l=e.updatedSeries[s].getData();a.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:$l(l),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&mne(i,a,n)}function EOe(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){z(qt(n.seriesTransition),function(i){z(qt(i.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][bx]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,n){var i=SOe(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)z(qt(a),function(h){DOe(h,i,n,e)});else{var o=MOe(i,n);z(o.keys(),function(h){var v=o.get(h);mne(v.oldSeries,v.newSeries,e)})}z(n.updatedSeries,function(h){h[bx]&&(h[bx]=!1)})}for(var s=t.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<s.length;f++){var d=s[f].getData();d.count()<yne&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(d))}})}var IOe=(function(){function r(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return r.prototype.setBreaks=function(t){this.breaks=t.breaks},r.prototype.update=function(t){POe(this,t);var e=this._elapsedExtent;e[0]=this.elapse(t[0]),e[1]=this.elapse(t[1])},r.prototype.hasBreaks=function(){return!!this.breaks.length},r.prototype.calcNiceTickMultiple=function(t,e){for(var n=0;n<this.breaks.length;n++){var i=this.breaks[n];if(i.vmin<t&&t<i.vmax){var a=e(t,i.vmax);return a}}return 0},r.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},r.prototype.normalize=function(t){var e=this._elapsedExtent[1]-this._elapsedExtent[0];return e===0?.5:(this.elapse(t)-this._elapsedExtent[0])/e},r.prototype.scale=function(t){return this.unelapse(t*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},r.prototype.elapse=function(t){for(var e=DY,n=EY,i=!0,a=0;a<this.breaks.length;a++){var o=this.breaks[a];if(t<=o.vmax){t>o.vmin?e+=o.vmin-n+(t-o.vmin)/(o.vmax-o.vmin)*o.gapReal:e+=t-n,n=o.vmax,i=!1;break}e+=o.vmin-n+o.gapReal,n=o.vmax}return i&&(e+=t-n),e},r.prototype.unelapse=function(t){for(var e=DY,n=EY,i=!0,a=0,o=0;o<this.breaks.length;o++){var s=this.breaks[o],l=e+s.vmin-n,u=l+s.gapReal;if(t<=u){t>l?a=s.vmin+(t-l)/(u-l)*(s.vmax-s.vmin):a=n+t-e,n=s.vmax,i=!1;break}e=u,n=s.vmax}return i&&(a=n+t-e),a},r})();function ROe(){return new IOe}var DY=0,EY=0;function POe(r,t){var e=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},i=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:i(),tpPrct:i()},E:{tpAbs:i(),tpPrct:i()}};z(r.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(e+=l.val);var u=G3(s,t);if(u){var c=u.vmin!==s.vmin,f=u.vmax!==s.vmax,d=u.vmax-u.vmin;if(!(c&&f))if(c||f){var h=c?"S":"E";a[h][l.type].has=!0,a[h][l.type].span=d,a[h][l.type].inExtFrac=d/(s.vmax-s.vmin),a[h][l.type].val=l.val}else n[l.type].span+=d,n[l.type].val+=l.val}});var o=e*(0+(t[1]-t[0])+(n.tpAbs.val-n.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));z(r.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(s.gapReal=e!==0?Math.max(o,0)*l.val/e:0),l.type==="tpAbs"&&(s.gapReal=l.val),s.gapReal==null&&(s.gapReal=0)})}function OOe(r,t,e,n,i,a){r!=="no"&&z(e,function(o){var s=G3(o,a);if(s)for(var l=t.length-1;l>=0;l--){var u=t[l],c=n(u),f=i*3/4;c>s.vmin-f&&c<s.vmax+f&&(r!=="preserve_extent_bound"||c!==a[0]&&c!==a[1])&&t.splice(l,1)}})}function BOe(r,t,e,n){z(t,function(i){var a=G3(i,e);a&&(r.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:n?n(a):void 0}),r.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:n?n(a):void 0}))}),t.length&&r.sort(function(i,a){return i.value-a.value})}function G3(r,t){var e=Math.max(r.vmin,t[0]),n=Math.min(r.vmax,t[1]);return e<n||e===n&&e>t[0]&&e<t[1]?{vmin:e,vmax:n,breakOption:r.breakOption,gapParsed:r.gapParsed,gapReal:r.gapReal}:null}function cO(r,t,e){var n=[];if(!r)return{breaks:n};function i(o,s){return o>=0&&o<1-1e-5}z(r,function(o){if(!(!o||o.start==null||o.end==null)&&!o.isExpanded){var s={breakOption:Oe(o),vmin:t(o.start),vmax:t(o.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(o.gap!=null){var l=!1;if(be(o.gap)){var u=Vi(o.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;i(c)||(c=0),s.gapParsed.type="tpPrct",s.gapParsed.val=c,l=!0}}if(!l){var f=t(o.gap);(!isFinite(f)||f<0)&&(f=0),s.gapParsed.type="tpAbs",s.gapParsed.val=f}}if(s.vmin===s.vmax&&(s.gapParsed.type="tpAbs",s.gapParsed.val=0),e&&e.noNegative&&z(["vmin","vmax"],function(h){s[h]<0&&(s[h]=0)}),s.vmin>s.vmax){var d=s.vmax;s.vmax=s.vmin,s.vmin=d}n.push(s)}}),n.sort(function(o,s){return o.vmin-s.vmin});var a=-1/0;return z(n,function(o,s){a>o.vmin&&(n[s]=null),a=o.vmax}),{breaks:n.filter(function(o){return!!o})}}function W3(r,t){return fO(t)===fO(r)}function fO(r){return r.start+"_\0_"+r.end}function kOe(r,t,e){var n=[];z(r,function(a,o){var s=t(a);s&&s.type==="vmin"&&n.push([o])}),z(r,function(a,o){var s=t(a);if(s&&s.type==="vmax"){var l=Tu(n,function(u){return W3(t(r[u[0]]).parsedBreak.breakOption,s.parsedBreak.breakOption)});l&&l.push(o)}});var i=[];return z(n,function(a){a.length===2&&i.push(e?a:[r[a[0]],r[a[1]]])}),i}function LOe(r,t,e,n){var i,a;if(r.break){var o=r.break.parsedBreak,s=Tu(e,function(f){return W3(f.breakOption,r.break.parsedBreak.breakOption)}),l=n(Math.pow(t,o.vmin),s.vmin),u=n(Math.pow(t,o.vmax),s.vmax),c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Ar(Math.pow(t,o.vmin+o.gapParsed.val))-l:o.gapParsed.val};i={type:r.break.type,parsedBreak:{breakOption:o.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal}},a=s[r.break.type]}return{brkRoundingCriterion:a,vBreak:i}}function NOe(r,t,e){var n={noNegative:!0},i=cO(r,e,n),a=cO(r,e,n),o=Math.log(t);return a.breaks=he(a.breaks,function(s){var l=Math.log(s.vmin)/o,u=Math.log(s.vmax)/o,c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?Math.log(s.vmin+s.gapParsed.val)/o-l:s.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal,breakOption:s.breakOption}}),{parsedOriginal:i,parsedLogged:a}}var VOe={vmin:"start",vmax:"end"};function zOe(r,t){return t&&(r=r||{},r.break={type:VOe[t.type],start:t.parsedBreak.vmin,end:t.parsedBreak.vmax}),r}function FOe(){lge({createScaleBreakContext:ROe,pruneTicksByBreak:OOe,addBreaksToTicks:BOe,parseAxisBreakOption:cO,identifyAxisBreak:W3,serializeAxisBreakIdentifier:fO,retrieveAxisBreakPairs:kOe,getTicksLogTransformBreak:LOe,logarithmicParseBreaksFromOption:NOe,makeAxisLabelFormatterParamBreak:zOe})}var IY=ot();function HOe(r,t){var e=Tu(r,function(n){return Pr().identifyAxisBreak(n.parsedBreak.breakOption,t.breakOption)});return e||r.push(e={zigzagRandomList:[],parsedBreak:t,shouldRemove:!1}),e}function GOe(r){z(r,function(t){return t.shouldRemove=!0})}function WOe(r){for(var t=r.length-1;t>=0;t--)r[t].shouldRemove&&r.splice(t,1)}function UOe(r,t,e,n,i){var a=e.axis;if(a.scale.isBlank()||!Pr())return;var o=Pr().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(P){return P.break},!1);if(!o.length)return;var s=e.getModel("breakArea"),l=s.get("zigzagAmplitude"),u=s.get("zigzagMinSpan"),c=s.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=s.get("expandOnClick"),d=s.get("zigzagZ"),h=s.getModel("itemStyle"),v=h.getItemStyle(),g=v.stroke,m=v.lineWidth,x=v.lineDash,_=v.fill,b=new Be({ignoreModelZ:!0}),w=a.isHorizontal(),T=IY(t).visualList||(IY(t).visualList=[]);GOe(T);for(var A=function(P){var I=o[P][0].break.parsedBreak,R=[];R[0]=a.toGlobalCoord(a.dataToCoord(I.vmin,!0)),R[1]=a.toGlobalCoord(a.dataToCoord(I.vmax,!0)),R[1]<R[0]&&R.reverse();var k=HOe(T,I);k.shouldRemove=!1;var O=new Be;D(k.zigzagRandomList,O,R[0],R[1],w,I),f&&O.on("click",function(){var V={type:OS,breaks:[{start:I.breakOption.start,end:I.breakOption.end}]};V[a.dim+"AxisIndex"]=e.componentIndex,i.dispatchAction(V)}),O.silent=!f,b.add(O)},M=0;M<o.length;M++)A(M);r.add(b),WOe(T);function D(P,I,R,k,O,V){var N={stroke:g,lineWidth:m,lineDash:x,fill:"none"},L=O?0:1,G=1-L,W=n[qe[G]]+n[Or[G]];function U(Pe){var De=[],Ae=[];De[L]=Ae[L]=Pe,De[G]=n[qe[G]],Ae[G]=W;var Xe={x1:De[0],y1:De[1],x2:Ae[0],y2:Ae[1]};return mS(Xe,Xe,{lineWidth:1}),De[0]=Xe.x1,De[1]=Xe.y1,De[L]}R=U(R),k=U(k);for(var Z=[],F=[],q=!0,$=n[qe[G]],K=0;;K++){var re=$===n[qe[G]],ce=$>=W;ce&&($=W);var pe=[],de=[];pe[L]=R,de[L]=k,!re&&!ce&&(pe[L]+=q?-l:l,de[L]-=q?l:-l),pe[G]=$,de[G]=$,Z.push(pe),F.push(de);var ge=void 0;if(K<P.length?ge=P[K]:(ge=Math.random(),P.push(ge)),$+=ge*(c-u)+u,q=!q,ce)break}var Ce=Pr().serializeAxisBreakIdentifier(V.breakOption);if(I.add(new pn({anid:"break_a_"+Ce,shape:{points:Z},style:N,z:d})),V.gapReal!==0){I.add(new pn({anid:"break_b_"+Ce,shape:{points:F},style:N,z:d}));var xe=F.slice();xe.reverse();var we=Z.concat(xe);I.add(new Pn({anid:"break_c_"+Ce,shape:{points:we},style:{fill:_,opacity:v.opacity},z:d}))}}}function qOe(r,t,e,n){var i=r.axis,a=e.transform;In(n.style);var o=i.getExtent();i.inverse&&(o=o.slice(),o.reverse());var s=Pr().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(m){return m.break},!1),l=he(s,function(m){var x=m[0].break.parsedBreak,_=[i.dataToCoord(x.vmin,!0),i.dataToCoord(x.vmax,!0)];return _[0]>_[1]&&_.reverse(),{coordPair:_,brkId:Pr().serializeAxisBreakIdentifier(x.breakOption)}});l.sort(function(m,x){return m.coordPair[0]-x.coordPair[0]});for(var u=o[0],c=null,f=0;f<l.length;f++){var d=l[f],h=Math.max(d.coordPair[0],o[0]),v=Math.min(d.coordPair[1],o[1]);u<=h&&g(u,h,c,d),u=v,c=d}u<=o[1]&&g(u,o[1],c,null);function g(m,x,_,b){function w(R,k){a&&(yr(R,R,a),yr(k,k,a))}function T(R,k){var O={x1:R[0],y1:R[1],x2:k[0],y2:k[1]};mS(O,O,n.style),R[0]=O.x1,R[1]=O.y1,k[0]=O.x2,k[1]=O.y2}var A=[m,0],M=[x,0],D=[m,5],P=[x,5];w(A,D),T(A,D),w(M,P),T(M,P),T(A,M);var I=new Mr(oe({shape:{x1:A[0],y1:A[1],x2:M[0],y2:M[1]}},n));t.add(I),I.anid="breakLine_"+(_?_.brkId:"\0")+"_\0_"+(b?b.brkId:"\0")}}function YOe(r,t,e){if(Tu(e,function(_){return!_}))return;var n=new ze;if(!RS(e[0],e[1],n,{direction:-(r?t+Math.PI:t),touchThreshold:0,bidirectional:!1}))return;var i=Jr();sl(i,i,-t);var a=he(e,function(_){return _.transform?Ka(Jr(),i,_.transform):i});function o(_){var b=e[0].localRect,w=new ze(b[Or[_]]*a[0][0],b[Or[_]]*a[0][1]);return Math.abs(w.y)<1e-5}var s=.5;if(o(0)||o(1)){var l=he(e,function(_,b){var w=_.localRect.clone();return w.applyTransform(a[b]),w}),u=new ze;u.copy(e[0].label).add(e[1].label).scale(.5),u.transform(i);var c=n.clone().transform(i),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),d=(f+c.x)/2-u.x,h=Math.min(d,d-c.x),v=Math.max(d,d-c.x),g=v<0?v:h>0?h:0;s=(d-g)/c.x}var m=new ze,x=new ze;ze.scale(m,n,-s),ze.scale(x,n,1-s),hP(e[0],m),hP(e[1],x)}function XOe(r,t){var e={breaks:[]};return z(t.breaks,function(n){if(n){var i=Tu(r.get("breaks",!0),function(s){return Pr().identifyAxisBreak(s,n)});if(i){var a=t.type,o={isExpanded:!!i.isExpanded};i.isExpanded=a===OS?!0:a===zee?!1:a===Fee?!i.isExpanded:i.isExpanded,e.breaks.push({start:i.start,end:i.end,isExpanded:!!i.isExpanded,old:o})}}}),e}function $Oe(){Wbe({adjustBreakLabelPair:YOe,buildAxisBreakLine:qOe,rectCoordBuildBreakAxis:UOe,updateModelAxisBreak:XOe})}function jOe(r){jbe(r),FOe(),$Oe()}function ZOe(){gSe(KOe)}function KOe(r,t){z(r,function(e){if(!e.model.get(["axisLabel","inside"])){var n=QOe(e);if(n){var i=e.isHorizontal()?"height":"width",a=e.model.get(["axisLabel","margin"]);t[i]-=n[i]+a,e.position==="top"?t.y+=n.height+a:e.position==="left"&&(t.x+=n.width+a)}}})}function QOe(r){var t=r.model,e=r.scale;if(!t.get(["axisLabel","show"])||e.isBlank())return;var n,i,a=e.getExtent();e instanceof Td?i=e.count():(n=e.getTicks(),i=n.length);var o=r.getLabelModel(),s=Qd(r),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=n?n[c]:{value:a[0]+c},d=s(f,c),h=o.getTextRect(d),v=g(h,o.get("rotate")||0);l?l.union(v):l=v}return l;function g(m,x){var _=x*Math.PI/180,b=m.width,w=m.height,T=b*Math.abs(Math.cos(_))+Math.abs(w*Math.sin(_)),A=b*Math.abs(Math.sin(_))+Math.abs(w*Math.cos(_)),M=new Fe(m.x,m.y,T,A);return M}}Je([H_e]);Je([L_e]);Je([sbe,Sbe,Pbe,kSe,YSe,kwe,l2e,q2e,hCe,xCe,TCe,OCe,ATe,ZTe,sAe,wAe,MAe,NAe,UAe,tMe,sMe,yMe,tDe]);Je(_De);Je(qDe);Je(hte);Je(nEe);Je(Qte);Je(sEe);Je(MEe);Je(LEe);Je(SIe);Je(HIe);Je(cy);Je(nRe);Je(oRe);Je(gRe);Je(CRe);Je(IRe);Je(LRe);Je(YRe);Je(fPe);Je(ine);Je(ane);Je(RPe);Je(cne);Je(fne);Je(kPe);Je(FPe);Je(JPe);Je(rOe);Je(EOe);Je(r_e);Je(jOe);Je(ZOe);Je(LSe);const JOe=Object.freeze(Object.defineProperty({__proto__:null,Axis:Pa,ChartView:Bt,ComponentModel:at,ComponentView:Yt,List:Hn,Model:st,PRIORITY:oJ,SeriesModel:Vt,color:eve,connect:a1e,dataTool:d1e,dependencies:Hme,disConnect:o1e,disconnect:vJ,dispose:s1e,env:ut,extendChartView:Hxe,extendComponentModel:Vxe,extendComponentView:zxe,extendSeriesModel:Fxe,format:wxe,getCoordinateSystemDimensions:u1e,getInstanceByDom:xk,getInstanceById:l1e,getMap:h1e,graphic:Sxe,helper:vxe,init:i1e,innerDrawElementOnCanvas:pk,matrix:Ede,number:_xe,parseGeoJSON:cP,parseGeoJson:cP,registerAction:oo,registerCoordinateSystem:yJ,registerCustomSeries:c1e,registerLayout:mJ,registerLoading:Ck,registerLocale:YB,registerMap:xJ,registerPostInit:pJ,registerPostUpdate:gJ,registerPreprocessor:bk,registerProcessor:Sk,registerTheme:_k,registerTransform:_J,registerUpdateLifecycle:IS,registerVisual:Eu,setCanvasCreator:f1e,setPlatformAPI:tZ,throttle:DS,time:bxe,use:Je,util:Cxe,vector:vde,version:Fme,zrUtil:sde,zrender:Lve},Symbol.toStringTag,{value:"Module"}));var Es={},Is={},AI={},RY;function eBe(){return RY||(RY=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=1;r.default=function(){return"".concat(t++)}})(AI)),AI}var jp={},Zp={},MI={},PY;function xne(){return PY||(PY=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,i=null;return function(){for(var a=this,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];clearTimeout(i),i=setTimeout(function(){e.apply(a,s)},n)}}})(MI)),MI}var Rs={},OY;function U3(){return OY||(OY=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.SizeSensorId=Rs.SensorTabIndex=Rs.SensorClassName=void 0,Rs.SizeSensorId="size-sensor-id",Rs.SensorClassName="size-sensor-object",Rs.SensorTabIndex="-1"),Rs}var BY;function tBe(){if(BY)return Zp;BY=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.createSensor=void 0;var r=e(xne()),t=U3();function e(n){return n&&n.__esModule?n:{default:n}}return Zp.createSensor=function(i,a){var o=void 0,s=[],l=function(){getComputedStyle(i).position==="static"&&(i.style.position="relative");var v=document.createElement("object");return v.onload=function(){v.contentDocument.defaultView.addEventListener("resize",u),u()},v.style.display="block",v.style.position="absolute",v.style.top="0",v.style.left="0",v.style.height="100%",v.style.width="100%",v.style.overflow="hidden",v.style.pointerEvents="none",v.style.zIndex="-1",v.style.opacity="0",v.setAttribute("class",t.SensorClassName),v.setAttribute("tabindex",t.SensorTabIndex),v.type="text/html",i.appendChild(v),v.data="about:blank",v},u=(0,r.default)(function(){s.forEach(function(h){h(i)})}),c=function(v){o||(o=l()),s.indexOf(v)===-1&&s.push(v)},f=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",u),o.parentNode.removeChild(o),i.removeAttribute(t.SizeSensorId),o=void 0,s=[],a&&a())},d=function(v){var g=s.indexOf(v);g!==-1&&s.splice(g,1),s.length===0&&o&&f()};return{element:i,bind:c,destroy:f,unbind:d}},Zp}var Kp={},kY;function rBe(){if(kY)return Kp;kY=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.createSensor=void 0;var r=U3(),t=e(xne());function e(n){return n&&n.__esModule?n:{default:n}}return Kp.createSensor=function(i,a){var o=void 0,s=[],l=(0,t.default)(function(){s.forEach(function(h){h(i)})}),u=function(){var v=new ResizeObserver(l);return v.observe(i),l(),v},c=function(v){o||(o=u()),s.indexOf(v)===-1&&s.push(v)},f=function(){o&&o.disconnect(),s=[],o=void 0,i.removeAttribute(r.SizeSensorId),a&&a()},d=function(v){var g=s.indexOf(v);g!==-1&&s.splice(g,1),s.length===0&&o&&f()};return{element:i,bind:c,destroy:f,unbind:d}},Kp}var LY;function nBe(){if(LY)return jp;LY=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.createSensor=void 0;var r=tBe(),t=rBe();return jp.createSensor=typeof ResizeObserver<"u"?t.createSensor:r.createSensor,jp}var NY;function iBe(){if(NY)return Is;NY=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.removeSensor=Is.getSensor=Is.Sensors=void 0;var r=n(eBe()),t=nBe(),e=U3();function n(o){return o&&o.__esModule?o:{default:o}}var i=Is.Sensors={};function a(o){o&&i[o]&&delete i[o]}return Is.getSensor=function(s){var l=s.getAttribute(e.SizeSensorId);if(l&&i[l])return i[l];var u=(0,r.default)();s.setAttribute(e.SizeSensorId,u);var c=(0,t.createSensor)(s,function(){return a(u)});return i[u]=c,c},Is.removeSensor=function(s){var l=s.element.getAttribute(e.SizeSensorId);s.destroy(),a(l)},Is}var VY;function aBe(){if(VY)return Es;VY=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.ver=Es.clear=Es.bind=void 0;var r=iBe();return Es.bind=function(e,n){var i=(0,r.getSensor)(e);return i.bind(n),function(){i.unbind(n)}},Es.clear=function(e){var n=(0,r.getSensor)(e);(0,r.removeSensor)(n)},Es.ver="1.0.3",Es}var zY=aBe();function FY(r,t){var e={};return t.forEach(function(n){e[n]=r[n]}),e}function DI(r){return typeof r=="function"}function oBe(r){return typeof r=="string"}var sBe=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.echarts=e.echarts,n.ele=null,n.isInitialResize=!0,n.eventHandlerRefs={},n}return t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(e){var n=this.props.shouldSetOption;if(!(DI(n)&&!n(e,this.props))){if(!Ac(e.theme,this.props.theme)||!Ac(e.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var i=this.getEchartsInstance();Ac(e.onEvents,this.props.onEvents)||(this.unbindEvents(i),this.bindEvents(i,this.props.onEvents));var a=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];Ac(FY(this.props,a),FY(e,a))||this.updateEChartsOption(),(!Ac(e.style,this.props.style)||!Ac(e.className,this.props.className))&&this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.initEchartsInstance=function(){return e7(this,void 0,void 0,function(){var e=this;return t7(this,function(n){return[2,new Promise(function(i){e.echarts.init(e.ele,e.props.theme,e.props.opts);var a=e.getEchartsInstance();a.on("finished",function(){var o=e.ele.clientWidth,s=e.ele.clientHeight;e.echarts.dispose(e.ele);var l=M0({width:o,height:s},e.props.opts);i(e.echarts.init(e.ele,e.props.theme,l))})})]})})},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},t.prototype.dispose=function(){if(this.ele){try{zY.clear(this.ele)}catch(e){console.warn(e)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){return e7(this,void 0,void 0,function(){var e,n,i,a,o,s,l=this;return t7(this,function(u){switch(u.label){case 0:return e=this.props,n=e.onEvents,i=e.onChartReady,a=e.autoResize,o=a===void 0?!0:a,[4,this.initEchartsInstance()];case 1:return u.sent(),s=this.updateEChartsOption(),this.bindEvents(s,n||{}),DI(i)&&i(s),this.ele&&o&&zY.bind(this.ele,function(){l.resize()}),[2]}})})},t.prototype.bindEvents=function(e,n){var i=this,a=function(s,l){if(oBe(s)&&DI(l)){var u=function(c){l(c,e)};e.on(s,u),i.eventHandlerRefs[s]=u}};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&a(o,n[o])},t.prototype.unbindEvents=function(e){for(var n=0,i=Object.entries(this.eventHandlerRefs);n<i.length;n++){var a=i[n],o=a[0],s=a[1];e.off(o,s)}this.eventHandlerRefs={}},t.prototype.updateEChartsOption=function(){var e=this.props,n=e.option,i=e.notMerge,a=i===void 0?!1:i,o=e.replaceMerge,s=o===void 0?null:o,l=e.lazyUpdate,u=l===void 0?!1:l,c=e.showLoading,f=e.loadingOption,d=f===void 0?null:f,h=this.getEchartsInstance();return h.setOption(n,{notMerge:a,replaceMerge:s,lazyUpdate:u}),c?h.showLoading(d):h.hideLoading(),h},t.prototype.resize=function(){var e=this.getEchartsInstance();if(!this.isInitialResize)try{e.resize({width:"auto",height:"auto"})}catch(n){console.warn(n)}this.isInitialResize=!1},t.prototype.render=function(){var e=this,n=this.props,i=n.style,a=n.className,o=a===void 0?"":a;n.echarts,n.option,n.theme,n.notMerge,n.replaceMerge,n.lazyUpdate,n.showLoading,n.loadingOption,n.opts,n.onChartReady,n.onEvents,n.shouldSetOption,n.autoResize;var s=Whe(n,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=M0({height:300},i);return dse.createElement("div",M0({ref:function(u){e.ele=u},style:l,className:"echarts-for-react ".concat(o)},s))},t})(Ue.PureComponent),lBe=(function(r){J(t,r);function t(e){var n=r.call(this,e)||this;return n.echarts=JOe,n}return t})(sBe);function uBe({option:r,style:t,onReady:e}){return it.jsx(lBe,{option:r,style:{width:"100%",height:"100%",minHeight:200,...t},theme:"dark",notMerge:!0,lazyUpdate:!0,onChartReady:e})}function cBe(r){return r>3?"#00c853":r>0?"#69f0ae":r<-3?"#d50000":r<0?"#ff5252":"#607d8b"}function fBe(r){return r>=1e12?`$${(r/1e12).toFixed(2)}T`:r>=1e9?`$${(r/1e9).toFixed(1)}B`:r>=1e6?`$${(r/1e6).toFixed(0)}M`:`$${r}`}function hBe(r){const t=r.map(i=>({name:i.name,value:i.value,itemStyle:{color:cBe(i.change)},change:i.change}));return{backgroundColor:"#1a1a2e",tooltip:{formatter:i=>{const a=i.data.change>=0?"+":"";return[`<b>${i.name}</b>`,`: ${a}${i.data.change.toFixed(2)}%`,`: ${fBe(i.data.value)}`].join("<br/>")}},series:[{type:"treemap",data:t,width:"100%",height:"100%",roam:!1,nodeClick:!1,breadcrumb:{show:!1},label:{show:!0,formatter:(i=>{const a=i.data.change>=0?"+":"";return`{name|${i.name}}
{change|${a}${i.data.change.toFixed(2)}%}`}),rich:{name:{fontSize:13,fontWeight:"bold",color:"#ffffff",lineHeight:20},change:{fontSize:12,color:"#ffffffcc",lineHeight:18}}},itemStyle:{borderColor:"#1a1a2e",borderWidth:2,gapWidth:2},emphasis:{itemStyle:{borderColor:"#ffffff",borderWidth:1}}}]}}const dBe=[{name:"BTC",value:12e11,change:2.5},{name:"ETH",value:35e10,change:-1.2},{name:"BNB",value:8e10,change:.8},{name:"SOL",value:75e9,change:4.3},{name:"XRP",value:6e10,change:-.5},{name:"USDC",value:45e9,change:.01},{name:"ADA",value:18e9,change:-2.1},{name:"AVAX",value:16e9,change:3.7},{name:"DOGE",value:15e9,change:6.2},{name:"TRX",value:14e9,change:1.1},{name:"DOT",value:11e9,change:-3.4},{name:"LINK",value:1e10,change:2},{name:"MATIC",value:85e8,change:-1.8},{name:"LTC",value:8e9,change:.3},{name:"SHIB",value:75e8,change:5.1},{name:"UNI",value:6e9,change:-.9},{name:"ATOM",value:55e8,change:1.5},{name:"XLM",value:48e8,change:-.4},{name:"ICP",value:42e8,change:7.3},{name:"FIL",value:39e8,change:-2.6}];function vn(r,t){if(!(!Za(r)&&!Za(t))){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=r[e],i=t[e];Za(i)&&Za(n)?vn(n,i):le(t[e])&&(r[e]=Ag(t[e]))}}}function Ag(r){if(!Za(r))return r;let t=null;vi(r)?t=[]:t={};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const n=r[e];Za(n)?t[e]=Ag(n):t[e]=n}return t}function vi(r){return Object.prototype.toString.call(r)==="[object Array]"}function Jn(r){return typeof r=="function"}function Za(r){return typeof r=="object"&&le(r)}function We(r){return typeof r=="number"&&Number.isFinite(r)}function le(r){return r!=null}function Tb(r){return typeof r=="boolean"}function Wt(r){return typeof r=="string"}const vBe=/\\(\\)?/g,pBe=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function ma(r,t,e){if(le(r)){const n=[];t.replace(pBe,(s,...l)=>{let u=s;return le(l[1])?u=l[2].replace(vBe,"$1"):le(l[0])&&(u=l[0].trim()),n.push(u),""});let i=r,a=0;const o=n.length;for(;le(i)&&a<o;)i=i?.[n[a++]];return le(i)?i:e??"--"}return e??"--"}function gBe(r,t){const e={};return r.formatToParts(new Date(t)).forEach(({type:n,value:i})=>{switch(n){case"year":{e.YYYY=i;break}case"month":{e.MM=i;break}case"day":{e.DD=i;break}case"hour":{e.HH=i==="24"?"00":i;break}case"minute":{e.mm=i;break}case"second":{e.ss=i;break}}}),e}function _ne(r,t,e){const n=gBe(r,t);return e.replace(/YYYY|MM|DD|HH|mm|ss/g,i=>n[i])}function Mn(r,t){const e=+r;return We(e)?e.toFixed(t??2):`${r}`}function bne(r){const t=+r;if(We(t)){if(t>1e9)return`${+(t/1e9).toFixed(3)}B`;if(t>1e6)return`${+(t/1e6).toFixed(3)}M`;if(t>1e3)return`${+(t/1e3).toFixed(3)}K`}return`${r}`}function Sne(r,t){const e=`${r}`;if(t.length===0)return e;if(e.includes(".")){const n=e.split(".");return`${n[0].replace(/(\d)(?=(\d{3})+$)/g,i=>`${i}${t}`)}.${n[1]}`}return e.replace(/(\d)(?=(\d{3})+$)/g,n=>`${n}${t}`)}function wne(r,t){const e=`${r}`;if(new RegExp("\\.0{"+t+",}[1-9][0-9]*$").test(e)){const i=e.split("."),a=i.length-1,o=i[a],s=/0*/.exec(o);if(le(s)){const l=s[0].length;return i[a]=o.replace(/0*/,`0{${l}}`),i.join(".")}}return e}function HY(r,t){return r.replace(/\{(\w+)\}/g,(e,n)=>{const i=t[n];return le(i)?i:`{${n}}`})}let Qp=null;function du(r){return r.ownerDocument.defaultView?.devicePixelRatio??1}function Ks(r,t,e){return`${t??"normal"} ${r??12}px ${e??"Helvetica Neue"}`}function xa(r,t,e,n){if(!le(Qp)){const i=document.createElement("canvas"),a=du(i);Qp=i.getContext("2d"),Qp.scale(a,a)}return Qp.font=Ks(t,e,n),Math.round(Qp.measureText(r).width)}function Ab(r){const t={width:0,height:0,left:0,right:0,top:0,bottom:0};return le(r)&&vn(t,r),t}var pt=(r=>(r[r.Main=0]="Main",r[r.Overlay=1]="Overlay",r[r.Separator=2]="Separator",r[r.Drawer=3]="Drawer",r[r.All=4]="All",r))(pt||{});const vd=-1;function Do(r){return Jn(window.requestAnimationFrame)?window.requestAnimationFrame(r):window.setTimeout(r,20)}function GY(r){Jn(window.cancelAnimationFrame)?window.cancelAnimationFrame(r):window.clearTimeout(r)}function WY(r){if(Jn(window.requestIdleCallback))return window.requestIdleCallback(r);const t=performance.now();return window.setTimeout(function(){r({didTimeout:!1,timeRemaining(){return Math.max(0,50-(performance.now()-t))}})},1)}function yBe(r){Jn(window.cancelIdleCallback)?window.cancelIdleCallback(r):window.clearTimeout(r)}class Mb{constructor(t){this._options={duration:500,iterationCount:1},this._currentIterationCount=0,this._running=!1,this._time=0,vn(this._options,t)}_loop(){this._running=!0;const t=()=>{if(this._running){const e=new Date().getTime()-this._time;e<this._options.duration?(this._doFrameCallback?.(e),Do(t)):(this.stop(),this._currentIterationCount++,this._currentIterationCount<this._options.iterationCount&&this.start())}};Do(t)}doFrame(t){return this._doFrameCallback=t,this}setDuration(t){return this._options.duration=t,this}setIterationCount(t){return this._options.iterationCount=t,this}start(){this._running||(this._time=new Date().getTime(),this._loop())}stop(){this._running&&this._doFrameCallback?.(this._options.duration),this._running=!1}}let EI=1,UY=new Date().getTime();function ed(r){const t=new Date().getTime();return t===UY?++EI:EI=1,UY=t,`${r??""}${t}_${EI}`}function ol(r,t){const e=document.createElement(r),n=t??{};for(const i in n)e.style[i]=n[i]??"";return e}function hO(r,t,e){let n=0,i=0;for(i=r.length-1;n!==i;){const a=Math.floor((i+n)/2),o=i-n,s=r[a][t];if(e===r[n][t])return n;if(e===r[i][t])return i;if(e===s)return a;if(e>s?n=a:i=a,o<=2)break}return n}function mBe(r){const t=Math.floor(Bs(r)),e=Nc(t),n=r/e;let i=0;return n<1.5?i=1:n<2.5?i=2:n<3.5?i=3:n<4.5?i=4:n<5.5?i=5:n<6.5?i=6:i=8,r=i*e,+r.toFixed(Math.abs(t))}function qY(r,t){t=Math.max(0,t??0);const e=Math.pow(10,t);return Math.round(r*e)/e}function xBe(r){const t=r.toString(),e=t.indexOf("e");if(e>0){const i=+t.slice(e+1);return i<0?-i:0}const n=t.indexOf(".");return n<0?0:t.length-1-n}function Bs(r){return r===0?0:Math.log10(r)}function Nc(r){return Math.pow(10,r)}function YY(){return{from:0,to:0,realFrom:0,realTo:0}}function XY(...r){return r.join("_")}class _Be{constructor(t){this._requestIdleCallbackId=vd,this._tasks=t??[],this._operateTasks()}_operateTasks(t){this._requestIdleCallbackId!==vd&&(yBe(this._requestIdleCallbackId),this._requestIdleCallbackId=vd),t?.(),this._requestIdleCallbackId=WY(e=>{this._runTasks(e)})}_runTasks(t){for(;t.timeRemaining()>0&&this._tasks.length>0;)this._tasks.shift()?.handler();this._tasks.length>0&&(this._requestIdleCallbackId=WY(e=>{this._runTasks(e)}))}addTask(t){return this._operateTasks(()=>{const e=this._tasks.findIndex(n=>n.id===t.id);e>-1?this._tasks[e]=t:this._tasks.push(t)}),this}removeTask(t){return le(t)&&this._operateTasks(()=>{if(le(t)){const e=this._tasks.findIndex(n=>n.id===t);e>-1&&this._tasks.splice(e,1)}else this._tasks=[]}),this}}class bBe{constructor(){this._callbacks=[]}subscribe(t){this._callbacks.indexOf(t)<0&&this._callbacks.push(t)}unsubscribe(t){if(Jn(t)){const e=this._callbacks.indexOf(t);e>-1&&this._callbacks.splice(e,1)}else this._callbacks=[]}execute(t){this._callbacks.forEach(e=>{e(t)})}isEmpty(){return this._callbacks.length===0}}function lr(r){return r==="transparent"||r==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(r)||/^[hH][Ss][Ll][Aa]\(([\s]*(3603[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(r)}function vu(r,t){const e=r.replace(/^#/,""),n=parseInt(e,16),i=n>>16&255,a=n>>8&255,o=n&255;return`rgba(${i}, ${a}, ${o}, ${t??1})`}const $e={RED:"#F92855",GREEN:"#2DC08E",WHITE:"#FFFFFF",GREY:"#76808F",BLUE:"#1677FF"};function SBe(){return{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:"dashed",length:0,dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:"dashed",length:0,dashedValue:[2,2]}}}function wBe(){const r={show:!0,color:$e.GREY,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"};return{type:"candle_solid",bar:{compareRule:"current_open",upColor:$e.GREEN,downColor:$e.RED,noChangeColor:$e.GREY,upBorderColor:$e.GREEN,downBorderColor:$e.RED,noChangeBorderColor:$e.GREY,upWickColor:$e.GREEN,downWickColor:$e.RED,noChangeWickColor:$e.GREY},area:{lineSize:2,lineColor:$e.BLUE,smooth:!1,value:"close",backgroundColor:[{offset:0,color:vu($e.BLUE,.01)},{offset:1,color:vu($e.BLUE,.2)}],point:{show:!0,color:$e.BLUE,radius:4,rippleColor:vu($e.BLUE,.3),rippleRadius:8,animation:!0,animationDuration:1e3}},footprint:{dataKey:"footprint",barWidthMultiplier:2,gapMultiplier:1,buyColor:$e.GREEN,sellColor:$e.RED,neutralColor:$e.GREY,pocHighlightColor:"rgba(0, 118, 255, 0.2)",dividerColor:"rgba(255,255,255,0.2)",text:{show:!0,color:$e.WHITE,size:10,family:"Helvetica Neue",weight:"normal"},padding:{body:4,textTop:6,textBottom:6,textHorizontal:4},delta:{show:!0,size:10},cell:{height:18,size:10},vol:{show:!0,color:"#FFFFFF",size:10,family:"Helvetica Neue",weight:"normal"},border:{size:1,dividerWidth:1}},footprintPeriod:{dataKey:"footprint",barWidthMultiplier:2,gapMultiplier:1,buyColor:$e.GREEN,sellColor:$e.RED,neutralColor:$e.GREY,leftBar:{width:6,gap:1,backgroundAlpha:.35,borderAlpha:.6},histogram:{minAlpha:.3,maxAlpha:1},textOffset:{gap:6,centerOffset:10,rightPadding:12},delta:{show:!0,size:10},vol:{show:!0,color:"#FFFFFF",size:10,family:"Helvetica Neue",weight:"normal"},cell:{height:12,size:10,text:{show:!0,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal"}},padding:{body:4,textTop:6,textBottom:6,textHorizontal:2},border:{dividerWidth:1}},priceMark:{show:!0,high:{...r},low:{...r},last:{show:!0,compareRule:"current_open",upColor:$e.GREEN,downColor:$e.RED,noChangeColor:$e.GREY,line:{show:!0,style:"dashed",dashedValue:[4,4],size:1,length:0},text:{show:!0,style:"fill",size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:"solid",borderSize:0,borderDashedValue:[2,2],color:$e.WHITE,family:"Helvetica Neue",weight:"normal",borderRadius:2},extendTexts:[]}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",rect:{show:!0,position:"fixed",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,offsetLeft:4,offsetTop:4,offsetRight:4,offsetBottom:4,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},title:{show:!0,size:14,family:"Helvetica Neue",weight:"normal",color:$e.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,template:"{ticker}  {period}"},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:$e.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a",template:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}]},features:[]}}}function CBe(){const r=vu($e.GREEN,.7),t=vu($e.RED,.7);return{ohlc:{compareRule:"current_open",upColor:r,downColor:t,noChangeColor:$e.GREY},bars:[{show:!0,style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:r,downColor:t,noChangeColor:$e.GREY}],lines:["#FF9600","#935EBD",$e.BLUE,"#E11D74","#01C5C4"].map(e=>({show:!0,style:"solid",smooth:!1,size:1,length:0,dashedValue:[2,2],color:e})),circles:[{show:!0,style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:r,downColor:t,noChangeColor:$e.GREY}],lastValueMark:{show:!1,text:{show:!1,style:"fill",color:$e.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",title:{show:!0,showName:!0,showParams:!0,size:12,family:"Helvetica Neue",weight:"normal",color:$e.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:$e.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a"},features:[]}}}function $Y(){return{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1,length:0},tickText:{show:!0,color:$e.GREY,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}}}function TBe(){return{show:!0,horizontal:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,length:0,color:$e.GREY},text:{show:!0,style:"fill",color:$e.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:$e.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:$e.GREY},features:[]},vertical:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,length:0,color:$e.GREY},text:{show:!0,style:"fill",color:$e.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:$e.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:$e.GREY}}}}function ABe(){const r=vu($e.BLUE,.35),t=vu($e.BLUE,.25);function e(){return{show:!0,style:"fill",color:$e.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:$e.BLUE,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:$e.BLUE}}return{point:{color:$e.BLUE,borderColor:r,borderSize:1,radius:5,activeColor:$e.BLUE,activeBorderColor:r,activeBorderSize:3,activeRadius:5},line:{show:!0,style:"solid",smooth:!1,color:$e.BLUE,size:1,length:0,dashedValue:[2,2]},rect:{show:!0,style:"fill",color:t,borderColor:$e.BLUE,borderSize:1,borderRadius:0,borderStyle:"solid",borderDashedValue:[2,2]},polygon:{show:!0,style:"fill",color:$e.BLUE,borderColor:$e.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},circle:{show:!0,style:"fill",color:t,borderColor:$e.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},arc:{show:!0,style:"solid",color:$e.BLUE,size:1,length:0,dashedValue:[2,2]},text:e()}}function MBe(){return{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:vu($e.BLUE,.08)}}function DBe(){return{grid:SBe(),candle:wBe(),indicator:CBe(),xAxis:$Y(),yAxis:$Y(),separator:MBe(),crosshair:TBe(),overlay:ABe()}}function q3(r,t,e,n){const i=r.result,a=r.figures,o=r.styles,s=ma(o,"circles",e.circles),l=s.length,u=ma(o,"bars",e.bars),c=u.length,f=ma(o,"lines",e.lines),d=f.length;let h=0,v=0,g=0,m,x=0;a.forEach(_=>{switch(_.type){case"circle":{x=h;const b=s[h%l];m={...b,color:b.noChangeColor},h++;break}case"bar":{x=v;const b=u[v%c];m={...b,color:b.noChangeColor},v++;break}case"line":{x=g,m=f[g%d],g++;break}}if(le(_.type)){const b=_.styles?.({data:{prev:i[t-1],current:i[t],next:i[t+1]},indicator:r,defaultStyles:e});n(_,{...m,...b},x)}})}const EBe={};function Cne(r){return EBe[r]??null}function Ga(r,t){const e=t?.ignoreEvent??!1;return Tb(e)?!e:!e.includes(r)}const jY=1,Jp=-1,IBe="overlay_",Yh="overlay_figure_";class Y3{constructor(t){this.groupId="",this.group="",this.totalStep=1,this.currentStep=jY,this.lock=!1,this.visible=!0,this.zLevel=0,this.needDefaultPointFigure=!1,this.needDefaultXAxisFigure=!1,this.needDefaultYAxisFigure=!1,this.mode="normal",this.modeSensitivity=8,this.points=[],this.styles=null,this.createPointFigures=null,this.createXAxisFigures=null,this.createYAxisFigures=null,this.performEventPressedMove=null,this.performEventMoveForDrawing=null,this.onDrawStart=null,this.onDrawing=null,this.onDrawEnd=null,this.onClick=null,this.onDoubleClick=null,this.onRightClick=null,this.onPressedMoveStart=null,this.onPressedMoving=null,this.onPressedMoveEnd=null,this.onMouseMove=null,this.onMouseEnter=null,this.onMouseLeave=null,this.onRemoved=null,this.onSelected=null,this.onDeselected=null,this._prevZLevel=0,this._prevPressedPoint=null,this._prevPressedPoints=[],this._hasMoved=!1,this.override(t)}override(t){this._prevOverlay=Ag(this);const{id:e,name:n,currentStep:i,points:a,styles:o,...s}=t;if(vn(this,s),Wt(this.name)||(this.name=n??""),!Wt(this.id)&&Wt(e)&&(this.id=e),le(o)&&(this.styles??={},vn(this.styles,o)),vi(a)&&a.length>0){let l=0;if(this.points=[...a],a.length>=this.totalStep-1?(this.currentStep=Jp,l=this.totalStep-1):(this.currentStep=a.length+1,l=a.length),Jn(this.performEventMoveForDrawing))for(let u=0;u<l;u++)this.performEventMoveForDrawing({currentStep:u+2,mode:this.mode,points:this.points,performPointIndex:u,performPoint:this.points[u]});this.currentStep===Jp&&this.performEventPressedMove?.({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]})}}getPrevZLevel(){return this._prevZLevel}setPrevZLevel(t){this._prevZLevel=t}shouldUpdate(){const t=this._prevOverlay.zLevel!==this.zLevel,e=t||JSON.stringify(this._prevOverlay.points)!==JSON.stringify(this.points)||this._prevOverlay.visible!==this.visible||this._prevOverlay.extendData!==this.extendData||this._prevOverlay.styles!==this.styles;return{sort:t,draw:e}}nextStep(){this.currentStep===this.totalStep-1?this.currentStep=Jp:this.currentStep++}forceComplete(){this.currentStep=Jp}isDrawing(){return this.currentStep!==Jp}isStart(){return this.currentStep===jY}eventMoveForDrawing(t){const e=this.currentStep-1,n={};We(t.timestamp)&&(n.timestamp=t.timestamp),We(t.dataIndex)&&(n.dataIndex=t.dataIndex),We(t.value)&&(n.value=t.value),this.points[e]=n,this.performEventMoveForDrawing?.({currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:e,performPoint:n})}eventPressedPointMove(t,e){this.points[e].timestamp=t.timestamp,We(t.value)&&(this.points[e].value=t.value),this.performEventPressedMove?.({currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:e,performPoint:this.points[e]})}startPressedMove(t){this._prevPressedPoint={...t},this._prevPressedPoints=Ag(this.points)}eventPressedOtherMove(t,e){if(this._prevPressedPoint!==null){let n=null;We(t.dataIndex)&&We(this._prevPressedPoint.dataIndex)&&(n=t.dataIndex-this._prevPressedPoint.dataIndex);let i=null;We(t.value)&&We(this._prevPressedPoint.value)&&(i=t.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(a=>{We(a.timestamp)&&(a.dataIndex=e.timestampToDataIndex(a.timestamp));const o={...a};return We(n)&&We(a.dataIndex)&&(o.dataIndex=a.dataIndex+n,o.timestamp=e.dataIndexToTimestamp(o.dataIndex)??void 0),We(i)&&We(a.value)&&(o.value=a.value+i),o})}}static extend(t){class e extends Y3{constructor(){super(t)}}return e}setHasMoved(t){this._hasMoved=t}getHasMoved(){return this._hasMoved}}const RBe={name:"fibonacci",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,createPointFigures:r=>{const{chart:t,coordinates:e,bounding:n,overlay:i,yAxis:a}=r,o=i.points;if(e.length>0){let s=0;a?.isInCandle()??!0?s=t.getSymbol()?.pricePrecision??2:t.getIndicators({paneId:i.paneId}).forEach(v=>{s=Math.max(s,v.precision)});const l=[],u=[],c=[],f=0,d=n.width;if(e.length>1&&We(o[0].value)&&We(o[1].value)){const h=i.styles?.param,v=Array.isArray(h)&&h.length>0?h:[1,.786,.618,.5,.382,.236,0],g=e[0].y-e[1].y,m=o[0].value-o[1].value;v.forEach(x=>{const _=e[1].y+g*x,b=t.getDecimalFold().format(t.getThousandsSeparator().format(((o[1].value??0)+m*x).toFixed(s)));l.push({coordinates:[{x:f,y:_},{x:d,y:_}]}),u.push({x:f,y:_,text:`${b} (${(x*100).toFixed(1)}%)`,baseline:"bottom"})}),c.push({coordinates:[{x:f,y:e[0].y},{x:d,y:e[0].y},{x:d,y:e[1].y},{x:f,y:e[1].y}]})}return[{type:"polygon",attrs:c},{type:"line",attrs:l},{type:"text",ignoreEvent:!0,attrs:u}]}return[]}},PBe={name:"horizontalRay",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{const e={x:0,y:r[0].y};return le(r[1])&&r[0].x<r[1].x&&(e.x=t.width),[{type:"line",attrs:{coordinates:[r[0],e]}}]},performEventPressedMove:({points:r,performPoint:t})=>{r[0].value=t.value,r[1].value=t.value},performEventMoveForDrawing:({currentStep:r,points:t,performPoint:e})=>{r===2&&(t[0].value=e.value)}},OBe={name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{const t=[];return r.length===2&&t.push({coordinates:r}),[{type:"line",attrs:t}]},performEventPressedMove:({points:r,performPoint:t})=>{r[0].value=t.value,r[1].value=t.value},performEventMoveForDrawing:({currentStep:r,points:t,performPoint:e})=>{r===2&&(t[0].value=e.value)}},BBe={name:"horizontalStraight",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>[{type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:t.width,y:r[0].y}]}}]};class X3{constructor(){this._children=[],this._callbacks=new Map}registerEvent(t,e){return this._callbacks.set(t,e),this}onEvent(t,e){const n=this._callbacks.get(t);return le(n)&&this.checkEventOn(e)?n(e):!1}dispatchEventToChildren(t,e){const n=this._children.length-1;if(n>-1){for(let i=n;i>-1;i--)if(this._children[i].dispatchEvent(t,e))return!0}return!1}dispatchEvent(t,e){return this.dispatchEventToChildren(t,e)?!0:this.onEvent(t,e)}addChild(t){return this._children.push(t),this}clear(){this._children=[]}}const hn=2;class $3 extends X3{constructor(t){super(),this.attrs=t.attrs,this.styles=t.styles}checkEventOn(t){return this.checkEventOnImp(t,this.attrs,this.styles)}setAttrs(t){return this.attrs=t,this}setStyles(t){return this.styles=t,this}draw(t){this.drawImp(t,this.attrs,this.styles)}getBounding(){const t=this.attrs;if(t&&typeof t.x=="number"&&typeof t.y=="number"){const e=t.width||0,n=t.height||0;return{left:t.x,top:t.y,right:t.x+e,bottom:t.y+n}}return{left:0,top:0,right:0,bottom:0}}static extend(t){class e extends $3{checkEventOnImp(i,a,o){return t.checkEventOn(i,a,o)}drawImp(i,a,o){t.draw(i,a,o)}}return e}}function Tne(r,t){let e=[];e=e.concat(t);for(const n of e){const{coordinates:i}=n;if(i.length>1)for(let a=1;a<i.length;a++){const o=i[a-1],s=i[a];if(o.x===s.x){if(Math.abs(o.y-r.y)+Math.abs(s.y-r.y)-Math.abs(o.y-s.y)<hn+hn&&Math.abs(r.x-o.x)<hn)return!0}else{const l=GS(o,s),u=j3(l,r),c=Math.abs(u-r.y);if(Math.abs(o.x-r.x)+Math.abs(s.x-r.x)-Math.abs(o.x-s.x)<hn+hn&&c*c/(l[0]*l[0]+1)<hn*hn)return!0}}}return!1}function j3(r,t){return r!==null?t.x*r[0]+r[1]:t.y}function Mg(r,t,e){const n=GS(r,t);return j3(n,e)}function GS(r,t){const e=r.x-t.x;if(e!==0){const n=(r.y-t.y)/e,i=r.y-n*r.x;return[n,i]}return null}function Ane(r,t,e){const n=t.length,i=We(e)?e>0&&e<1?e:0:e?.5:0;if(i>0&&n>2){let a=t[0].x,o=t[0].y;for(let l=1;l<n-1;l++){const u=t[l-1],c=t[l],f=t[l+1],d=c.x-u.x,h=c.y-u.y,v=f.x-c.x,g=f.y-c.y;let m=f.x-u.x,x=f.y-u.y;const _=Math.sqrt(d*d+h*h),b=Math.sqrt(v*v+g*g),w=b/(b+_);let T=c.x+m*i*w,A=c.y+x*i*w;T=Math.min(T,Math.max(f.x,c.x)),A=Math.min(A,Math.max(f.y,c.y)),T=Math.max(T,Math.min(f.x,c.x)),A=Math.max(A,Math.min(f.y,c.y)),m=T-c.x,x=A-c.y;let M=c.x-m*_/b,D=c.y-x*_/b;M=Math.min(M,Math.max(u.x,c.x)),D=Math.min(D,Math.max(u.y,c.y)),M=Math.max(M,Math.min(u.x,c.x)),D=Math.max(D,Math.min(u.y,c.y)),m=c.x-M,x=c.y-D,T=c.x+m*b/_,A=c.y+x*b/_,r.bezierCurveTo(a,o,M,D,c.x,c.y),a=T,o=A}const s=t[n-1];r.bezierCurveTo(a,o,s.x,s.y,s.x,s.y)}else for(let a=1;a<n;a++)r.lineTo(t[a].x,t[a].y)}function kBe(r,t,e){let n=[];n=n.concat(t);const{style:i="solid",smooth:a=!1,size:o=1,color:s="currentColor",dashedValue:l=[2,2],show:u=!0}=e;if(!u)return;switch(r.lineWidth=o,r.strokeStyle=s,i){case"dashed":r.setLineDash(l.map(f=>f*o));break;case"dotted":r.setLineDash([o,o*2]);break;default:r.setLineDash([]);break}const c=o%2===1?.5:0;n.forEach(({coordinates:f})=>{f.length>1&&(f.length===2&&(f[0].x===f[1].x||f[0].y===f[1].y)?(r.beginPath(),f[0].x===f[1].x?(r.moveTo(f[0].x+c,f[0].y),r.lineTo(f[1].x+c,f[1].y)):(r.moveTo(f[0].x,f[0].y+c),r.lineTo(f[1].x,f[1].y+c)),r.stroke(),r.closePath()):(r.save(),o%2===1&&r.translate(.5,.5),r.beginPath(),r.moveTo(f[0].x,f[0].y),Ane(r,f,a),r.stroke(),r.closePath(),r.restore()))})}const LBe={name:"line",checkEventOn:Tne,draw:(r,t,e)=>{kBe(r,t,e)}};function Mne(r,t,e){const n=e??0,i=[];if(r.length>1)if(r[0].x===r[1].x){const o=t.height;if(i.push({coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:o}]}),r.length>2){i.push({coordinates:[{x:r[2].x,y:0},{x:r[2].x,y:o}]});const s=r[0].x-r[2].x;for(let l=0;l<n;l++){const u=s*(l+1);i.push({coordinates:[{x:r[0].x+u,y:0},{x:r[0].x+u,y:o}]})}}}else{const o=t.width,s=GS(r[0],r[1]),l=s[0],u=s[1];if(i.push({coordinates:[{x:0,y:0*l+u},{x:o,y:o*l+u}]}),r.length>2){const c=r[2].y-l*r[2].x;i.push({coordinates:[{x:0,y:0*l+c},{x:o,y:o*l+c}]});const f=u-c;for(let d=0;d<n;d++){const h=u+f*(d+1);i.push({coordinates:[{x:0,y:0*l+h},{x:o,y:o*l+h}]})}}}return i}const NBe={name:"parallelStraight",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{const e=Mne(r,t);return e.length>1?[{type:"polygon",attrs:{coordinates:[e[0].coordinates[0],e[0].coordinates[1],e[1].coordinates[1],e[1].coordinates[0]]}},{type:"line",attrs:e}]:[{type:"line",attrs:e}]}},VBe={name:"priceChannel",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{const e=Mne(r,t,1);return e.length>2?[{type:"polygon",attrs:{coordinates:[e[1].coordinates[0],e[1].coordinates[1],e[2].coordinates[1],e[2].coordinates[0]]}},{type:"line",attrs:e}]:[{type:"line",attrs:e}]}},zBe={name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:r,coordinates:t,bounding:e,overlay:n,yAxis:i})=>{let a=0;i?.isInCandle()??!0?a=r.getSymbol()?.pricePrecision??2:r.getIndicators({paneId:n.paneId}).forEach(l=>{a=Math.max(a,l.precision)});const{value:o=0}=n.points[0];return[{type:"line",attrs:{coordinates:[t[0],{x:e.width,y:t[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:t[0].x,y:t[0].y,text:r.getDecimalFold().format(r.getThousandsSeparator().format(o.toFixed(a))),baseline:"bottom"}}]}};function FBe(r,t){if(r.length>1){let e={x:0,y:0};return r[0].x===r[1].x&&r[0].y!==r[1].y?r[0].y<r[1].y?e={x:r[0].x,y:t.height}:e={x:r[0].x,y:0}:r[0].x>r[1].x?e={x:0,y:Mg(r[0],r[1],{x:0,y:r[0].y})}:e={x:t.width,y:Mg(r[0],r[1],{x:t.width,y:r[0].y})},{coordinates:[r[0],e]}}return[]}const HBe={name:"ray",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>[{type:"line",attrs:FBe(r,t)}]},GBe={name:"segment",totalStep:3,needDefaultPointFigure:!0,createPointFigures:({coordinates:r})=>r.length===2?[{type:"line",attrs:{coordinates:r}}]:[]},WBe={name:"straight",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>r.length===2?r[0].x===r[1].x?[{type:"line",attrs:{coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Mg(r[0],r[1],{x:0,y:r[0].y})},{x:t.width,y:Mg(r[0],r[1],{x:t.width,y:r[0].y})}]}}]:[]},UBe={name:"verticalRay",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{if(r.length===2){const e={x:r[0].x,y:0};return r[0].y<r[1].y&&(e.y=t.height),[{type:"line",attrs:{coordinates:[r[0],e]}}]}return[]},performEventPressedMove:({points:r,performPoint:t})=>{r[0].timestamp=t.timestamp,r[0].dataIndex=t.dataIndex,r[1].timestamp=t.timestamp,r[1].dataIndex=t.dataIndex},performEventMoveForDrawing:({currentStep:r,points:t,performPoint:e})=>{r===2&&(t[0].timestamp=e.timestamp,t[0].dataIndex=e.dataIndex)}},qBe={name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>r.length===2?[{type:"line",attrs:{coordinates:r}}]:[],performEventPressedMove:({points:r,performPoint:t})=>{r[0].timestamp=t.timestamp,r[0].dataIndex=t.dataIndex,r[1].timestamp=t.timestamp,r[1].dataIndex=t.dataIndex},performEventMoveForDrawing:({currentStep:r,points:t,performPoint:e})=>{r===2&&(t[0].timestamp=e.timestamp,t[0].dataIndex=e.dataIndex)}},YBe={name:"verticalStraight",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>[{type:"line",attrs:{coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:t.height}]}}]},XBe={name:"simpleAnnotation",totalStep:2,createPointFigures:({overlay:r,coordinates:t})=>{let e="";le(r.extendData)&&(Jn(r.extendData)?e=r.extendData(r):e=r.extendData??"");const n=t[0].x,i=t[0].y-6,a=i-(r?.styles?.line?.length||10),o=a-5;return[{type:"line",attrs:{coordinates:[{x:n,y:i},{x:n,y:a}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:n,y:a},{x:n-4,y:o},{x:n+4,y:o}]}},{type:"text",attrs:{x:n,y:o,text:e,align:"center",baseline:"bottom"}}]}},$Be={name:"simpleTag",totalStep:2,createPointFigures:({bounding:r,coordinates:t})=>({type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:r.width,y:t[0].y}]},ignoreEvent:!0}),createYAxisFigures:({chart:r,overlay:t,coordinates:e,bounding:n,yAxis:i})=>{const a=i?.isFromZero()??!1;let o="left",s=0;a?(o="left",s=0):(o="right",s=n.width);let l="";return le(t.extendData)&&(Jn(t.extendData)?l=t.extendData(t):l=t.extendData??""),!le(l)&&We(t.points[0].value)&&(l=Mn(t.points[0].value,r.getSymbol()?.pricePrecision??2)),{type:"text",attrs:{x:s,y:e[0].y,text:l,align:o,baseline:"middle"}}}};function W0(r,t,e){const n=(r.x-t.x)*Math.cos(e)-(r.y-t.y)*Math.sin(e)+t.x,i=(r.x-t.x)*Math.sin(e)+(r.y-t.y)*Math.cos(e)+t.y;return{x:n,y:i}}function Xa(r,t){if(r.length>1){let e;return r[0].x===r[1].x&&r[0].y!==r[1].y?r[0].y<r[1].y?e={x:r[0].x,y:t.height}:e={x:r[0].x,y:0}:r[0].x>r[1].x?e={x:0,y:Pb.getLinearYFromCoordinates(r[0],r[1],{x:0,y:r[0].y})}:e={x:t.width,y:Pb.getLinearYFromCoordinates(r[0],r[1],{x:t.width,y:r[0].y})},{coordinates:[r[0],e]}}return[]}function Dne(r,t){const e=Math.abs(r.x-t.x),n=Math.abs(r.y-t.y);return Math.sqrt(e*e+n*n)}const jBe={name:"arrow",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{if(r.length>1){const t=r[1].x>r[0].x?0:1,e=Pb.getLinearSlopeIntercept(r[0],r[1]);let n;e?n=Math.atan(e[0])+Math.PI*t:r[1].y>r[0].y?n=Math.PI/3:n=Math.PI/3*3;const i=W0({x:r[1].x-18,y:r[1].y+6},r[1],n),a=W0({x:r[1].x-18,y:r[1].y-6},r[1],n);return[{type:"line",attrs:{coordinates:r}},{type:"polygon",ignoreEvent:!0,attrs:{coordinates:[i,r[1],a]}}]}return[]}};function ZBe(r,t,e){const n=[];if(r.length>1)if(r[0].x===r[1].x){let i=t.height;r[1].y<r[0].y&&(i=0),n.push({coordinates:[r[0],{x:r[0].x,y:i}]});for(let a=2;a<r.length;a++)n.push({coordinates:[r[a],{x:r[a].x,y:i}]})}else{const i=(r[1].y-r[0].y)/(r[1].x-r[0].x),a=r[0].y-i*r[0].x;let o=t.width;r[1].x<r[0].x&&(o=0),n.push({coordinates:[r[0],{x:o,y:i*o+a}]});for(let s=2;s<r.length;s++){const l=r[s].y-i*r[s].x;let u=t.width;r[1].x<r[0].x&&(u=0),n.push({coordinates:[r[s],{x:u,y:i*u+l}]})}}return n}const KBe={name:"parallelRay",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{const e=ZBe(r,t);return e.length>1?[{type:"polygon",attrs:{coordinates:[e[0].coordinates[0],e[0].coordinates[1],e[1].coordinates[1],e[1].coordinates[0]]}},{type:"line",attrs:e}]:[{type:"line",attrs:e}]}};function QBe(r,t,e){const n=[];if(r.length>1){const i=r[1].x-r[0].x,a=r[1].y-r[0].y;n.push({coordinates:[r[0],r[1]]});for(let o=2;o<r.length;o++)n.push({coordinates:[r[o],{x:r[o].x+i,y:r[o].y+a}]})}return n}const JBe={name:"parallelSegment",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{const e=QBe(r);return e.length>1?[{type:"polygon",attrs:{coordinates:[e[0].coordinates[0],e[0].coordinates[1],e[1].coordinates[1],e[1].coordinates[0]]}},{type:"line",attrs:e}]:[{type:"line",attrs:e}]}};function eke(r,t){if(r.length<3)return[];const[e,n,i]=r,a=[];a.push({key:"base_segment",type:"line",attrs:{coordinates:[n,i]}});const o={x:(n.x+i.x)/2,y:(n.y+i.y)/2},s=Xa([e,o],t).coordinates,l={x:n.x-e.x+o.x,y:n.y-e.y+o.y},u=Xa([n,l],t).coordinates,c={x:i.x-e.x+o.x,y:i.y-e.y+o.y},f=Xa([i,c],t).coordinates,d={x:(n.x+o.x)/2,y:(n.y+o.y)/2},h={x:d.x-e.x+o.x,y:d.y-e.y+o.y},v=Xa([d,h],t).coordinates,g={x:(i.x+o.x)/2,y:(i.y+o.y)/2},m={x:g.x-e.x+o.x,y:g.y-e.y+o.y},x=Xa([g,m],t).coordinates;return a.push({key:"area",type:"polygon",attrs:{coordinates:[u[0],u[1],f[1],f[0]]}}),a.push({key:"median_line",type:"line",attrs:{coordinates:s}},{key:"upper_line",type:"line",attrs:{coordinates:u}},{key:"lower_line",type:"line",attrs:{coordinates:f}},{key:"assist5",type:"line",attrs:{coordinates:v}},{key:"assist6",type:"line",attrs:{coordinates:x}}),a}const tke={name:"bifurcate",totalStep:4,needDefaultPointFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>!r||r.length<3?[]:eke(r,t)},rke={name:"circle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{if(r.length>1){const t=Dne(r[0],r[1]);return{type:"circle",attrs:{...r[0],r:t}}}return[]}},nke={name:"triangle",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>[{type:"polygon",attrs:{coordinates:r}}]},ike={name:"rect",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>r.length>1?[{type:"polygon",attrs:{coordinates:[r[0],{x:r[1].x,y:r[0].y},r[1],{x:r[0].x,y:r[1].y}]}}]:[]},ake={name:"parallelogram",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{if(r.length===2)return[{type:"line",attrs:{coordinates:r}}];if(r.length>=3){const t={x:r[0].x+r[2].x-r[1].x,y:r[0].y+r[2].y-r[1].y};return[{type:"polygon",attrs:{coordinates:[r[0],r[1],r[2],t]}}]}return[]},performEventPressedMove:({points:r,performPointIndex:t,performPoint:e})=>{t<2&&(r[0].price=e.price,r[1].price=e.price)},performEventMoveForDrawing:({currentStep:r,points:t,performPoint:e})=>{r===2&&(t[0].price=e.price)}},oke={name:"oval",totalStep:3,needDefaultPointFigure:!0,createPointFigures:({coordinates:r})=>{if(r.length>=2){const[t,e]=r,n=(t.x+e.x)/2,i=(t.y+e.y)/2,a=Math.abs(t.x-e.x)/2,o=Math.abs(t.y-e.y)/2;if(a<=0||o<=0)return[];const s=Math.PI*2/180,l=[];for(let u=0;u<Math.PI*2;u+=s)l.push({x:n+a*Math.cos(u),y:i+o*Math.sin(u)});return[{type:"polygon",attrs:{coordinates:l}}]}return[]}},ske={name:"fibonacciSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({chart:r,coordinates:t,overlay:e,yAxis:n})=>{if(t.length>0){let i=0;n?.isInCandle()??!0?i=r.getSymbol()?.pricePrecision??2:r.getIndicators({paneId:e.paneId}).forEach(u=>{i=Math.max(i,u.precision)});const a=[],o=[],s=[];if(t.length>1){const l=t[1].x>t[0].x?t[0].x:t[1].x,u=e.styles?.param,c=Array.isArray(u)&&u.length>0?u:[1,.786,.618,.5,.382,.236,0],f=t[0].y-t[1].y,d=e.points,h=d[0].value-d[1].value;c.forEach(v=>{const g=t[1].y+f*v,m=r.getDecimalFold().format(r.getThousandsSeparator().format(((d[1].value??0)+h*v).toFixed(i)));a.push({coordinates:[{x:t[0].x,y:g},{x:t[1].x,y:g}]}),o.push({x:l,y:g,text:`${m} (${(v*100).toFixed(1)}%)`,baseline:"bottom"})}),s.push({coordinates:[{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[0].y},{x:t[1].x,y:t[1].y},{x:t[0].x,y:t[1].y}]})}return[{type:"polygon",attrs:s},{type:"line",attrs:a},{type:"text",ignoreEvent:!0,attrs:o}]}return[]}},lke={name:"fibonacciChannel",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!1,needDefaultYAxisFigure:!1,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({chart:r,coordinates:t,overlay:e,yAxis:n})=>{const i=[],a=[],o=[];if(t.length===2)return i.push({coordinates:[{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y}]}),[{type:"line",attrs:i}];if(t.length>=3){let s=0;n?.isInCandle()??!0?s=r.getSymbol()?.pricePrecision??2:r.getIndicators({paneId:e.paneId}).forEach(A=>{s=Math.max(s,A.precision)});const l=e.points,u=l[0]?.value??0;l[1]?.value;const c=l[2]?.value??0,f=e.styles?.param,d=Array.isArray(f)&&f.length>0?f:[0,.236,.382,.5,.618,.786,1,1.618,2.618,3.618],h=c-u,v=t[1].x-t[0].x,g=t[1].y-t[0].y,m=t[2].x-t[0].x,x=t[2].y-t[0].y,_=[],b=[],w=[];for(let T=0;T<d.length;T++){const A=d[T],M=u+h*A,D=t[0].x+m*A,P=t[0].y+x*A,I=D,R=P,k=D+v,O=P+g;_.push({coordinates:[{x:I,y:R},{x:k,y:O}]});const V=M.toFixed(s);if(b.push({x:D,y:P,text:`${V} (${(A*100).toFixed(1)}%)`,baseline:"bottom"}),T>0){const N=d[T-1],L=t[0].x+m*N,G=t[0].y+x*N,W=L+v,U=G+g;w.push({coordinates:[{x:L,y:G},{x:W,y:U},{x:k,y:O},{x:I,y:R}]})}}return i.push(..._),a.push(...b),o.push(...w),[{type:"polygon",attrs:o},{type:"line",attrs:i},{type:"text",ignoreEvent:!0,attrs:a}]}return[]}},uke={name:"fibonacciCircle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,overlay:t})=>{if(r.length>1){const e=Math.abs(r[0].x-r[1].x),n=Math.abs(r[0].y-r[1].y),i=Math.sqrt(e*e+n*n),a=t.styles?.param,o=Array.isArray(a)&&a.length>0?a:[1,.786,.618,.5,.382,.236,0],s=[],l=[];return o.forEach(u=>{const c=i*u;s.push({...r[0],r:c}),l.push({x:r[0].x,y:r[0].y+c+6,text:`${(u*100).toFixed(1)}%`})}),[{type:"circle",attrs:s},{type:"text",ignoreEvent:!0,attrs:l}]}return[]}},cke={name:"fibonacciExtension",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:r,coordinates:t,overlay:e,yAxis:n})=>{const i=[],a=[],o=[];if(t.length>2){let s=0;n?.isInCandle()??!0?s=r.getSymbol()?.pricePrecision??2:r.getIndicators({paneId:e.paneId}).forEach(v=>{s=Math.max(s,v.precision)});const l=e.points,u=l[1].value-l[0].value,c=t[1].y-t[0].y,f=[0,.236,.382,.5,.618,.786,1],d=t[2].x>t[1].x?t[1].x:t[2].x;f.forEach(h=>{const v=t[2].y+c*h,g=r.getDecimalFold().format(r.getThousandsSeparator().format(((l[1].value??0)+u*h).toFixed(s)));i.push({coordinates:[{x:t[1].x,y:v},{x:t[2].x,y:v}]}),a.push({x:d,y:v,text:`${g} (${(h*100).toFixed(1)}%)`,baseline:"bottom"})}),o.push({coordinates:[{x:t[1].x,y:t[2].y},{x:t[2].x,y:t[2].y},{x:t[2].x,y:t[2].y+c},{x:t[1].x,y:t[2].y+c}]})}return[{type:"line",attrs:{coordinates:t},styles:{style:"dashed"}},{type:"polygon",attrs:o},{type:"line",attrs:i},{type:"text",ignoreEvent:!0,attrs:a}]}},fke={name:"fibonacciSector",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{const e=[];let n=[];const i=[];if(r.length>1){const a=r[1].x>r[0].x?-38:4,o=r[1].y>r[0].y?-2:20,s=r[1].x-r[0].x,l=r[1].y-r[0].y;[1,.75,.618,.5,.382,.25,0].forEach(c=>{const f=r[1].x-s*c,d=r[1].y-l*c;e.push({coordinates:[{x:f,y:r[0].y},{x:f,y:r[1].y}]}),e.push({coordinates:[{x:r[0].x,y:d},{x:r[1].x,y:d}]}),n=n.concat(Xa([r[0],{x:f,y:r[1].y}],t)),n=n.concat(Xa([r[0],{x:r[1].x,y:d}],t)),i.unshift({x:r[0].x+a,y:d+10,text:`${c.toFixed(3)}`}),i.unshift({x:f-18,y:r[0].y+o,text:`${c.toFixed(3)}`})})}return[{type:"line",attrs:e},{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},hke={name:"fibonacciSpiral",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{if(r.length>1){const e=Dne(r[0],r[1])/Math.sqrt(24),n=r[1].x>r[0].x?0:1,i=Pb.getLinearSlopeIntercept(r[0],r[1]);let a;i?a=Math.atan(i[0])+Math.PI*n:r[1].y>r[0].y?a=Math.PI/2:a=Math.PI/2*3;const o=W0({x:r[0].x-e,y:r[0].y},r[0],a),s=W0({x:r[0].x-e,y:r[0].y-e},r[0],a),l=[{...o,r:e,startAngle:a,endAngle:a+Math.PI/2},{...s,r:e*2,startAngle:a+Math.PI/2,endAngle:a+Math.PI}];let u=r[0].x-e,c=r[0].y-e;for(let f=2;f<9;f++){const d=l[f-2].r+l[f-1].r;let h=0;switch(f%4){case 0:{h=a,u-=l[f-2].r;break}case 1:{h=a+Math.PI/2,c-=l[f-2].r;break}case 2:{h=a+Math.PI,u+=l[f-2].r;break}case 3:{h=a+Math.PI/2*3,c+=l[f-2].r;break}}const v=h+Math.PI/2,g=W0({x:u,y:c},r[0],a);l.push({...g,r:d,startAngle:h,endAngle:v})}return[{type:"arc",attrs:l},{type:"line",attrs:Xa(r,t)}]}return[]}},dke={name:"gannBox",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{if(r.length>1){const t=(r[1].y-r[0].y)/4,e=r[1].x-r[0].x,n=[{coordinates:[r[0],{x:r[1].x,y:r[1].y-t}]},{coordinates:[r[0],{x:r[1].x,y:r[1].y-t*2}]},{coordinates:[{x:r[0].x,y:r[1].y},{x:r[1].x,y:r[0].y+t}]},{coordinates:[{x:r[0].x,y:r[1].y},{x:r[1].x,y:r[0].y+t*2}]},{coordinates:[{...r[0]},{x:r[0].x+e*.236,y:r[1].y}]},{coordinates:[{...r[0]},{x:r[0].x+e*.5,y:r[1].y}]},{coordinates:[{x:r[0].x,y:r[1].y},{x:r[0].x+e*.236,y:r[0].y}]},{coordinates:[{x:r[0].x,y:r[1].y},{x:r[0].x+e*.5,y:r[0].y}]}],i=[{coordinates:[r[0],r[1]]},{coordinates:[{x:r[0].x,y:r[1].y},{x:r[1].x,y:r[0].y}]}];return[{type:"line",attrs:[{coordinates:[r[0],{x:r[1].x,y:r[0].y}]},{coordinates:[{x:r[1].x,y:r[0].y},r[1]]},{coordinates:[r[1],{x:r[0].x,y:r[1].y}]},{coordinates:[{x:r[0].x,y:r[1].y},r[0]]}]},{type:"polygon",ignoreEvent:!0,attrs:{coordinates:[r[0],{x:r[1].x,y:r[0].y},r[1],{x:r[0].x,y:r[1].y}]}},{type:"line",attrs:n,styles:{style:"dashed"}},{type:"line",attrs:i}]}return[]}},vke={name:"threeWaves",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{let t=0;const e=[];return r.forEach((n,i)=>{let a=n.x,o=n.y;a=n.x-11,i>0&&(o>t?(i===1&&(e[0].y=e[0].y-6),o+=26):(i===1&&(e[0].y=e[0].y+26),o-=6)),t=o,e.push({x:a,y:o,text:`(${i})`,baseline:"bottom"})}),[{type:"line",attrs:{coordinates:r}},{type:"text",ignoreEvent:!0,attrs:e}]}},pke={name:"fiveWaves",totalStep:7,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{let t=0;const e=[];return r.forEach((n,i)=>{let a=n.x,o=n.y;a=n.x-11,i>0&&(o>t?(i===1&&(e[0].y=e[0].y-6),o+=26):(i===1&&(e[0].y=e[0].y+26),o-=6)),t=o,e.push({x:a,y:o,text:`(${i})`,baseline:"bottom"})}),[{type:"line",attrs:{coordinates:r}},{type:"text",ignoreEvent:!0,attrs:e}]}},gke={name:"eightWaves",totalStep:10,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{let t=0;const e=[];return r.forEach((n,i)=>{let a=n.x,o=n.y;a=n.x-11,i>0&&(o>t?(i===1&&(e[0].y=e[0].y-6),o+=26):(i===1&&(e[0].y=e[0].y+26),o-=6)),t=o,e.push({x:a,y:o,text:`(${i})`,baseline:"bottom"})}),[{type:"line",attrs:{coordinates:r}},{type:"text",ignoreEvent:!0,attrs:e}]}},yke={name:"continuousLine",totalStep:Number.MAX_SAFE_INTEGER,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{let t=0;const e=[];return r.forEach((n,i)=>{let a=n.x,o=n.y;a=n.x-11,i>0&&(o>t?(i===1&&(e[0].y=e[0].y-6),o+=26):(i===1&&(e[0].y=e[0].y+26),o-=6)),t=o,e.push({x:a,y:o,text:`(${i})`,baseline:"bottom"})}),[{type:"line",attrs:{coordinates:r}},{type:"text",ignoreEvent:!0,attrs:e}]}},mke={name:"xabcd",totalStep:6,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,overlay:t})=>{const e=[],n=[],i=["X","A","B","C","D"],a=r.map((o,s)=>({...o,baseline:"bottom",text:`(${i[s]})`}));return r.length>2&&(e.push({coordinates:[r[0],r[2]]}),n.push({coordinates:[r[0],r[1],r[2]]}),r.length>3&&(e.push({coordinates:[r[1],r[3]]}),r.length>4&&(e.push({coordinates:[r[2],r[4]]}),n.push({coordinates:[r[2],r[3],r[4]]})))),[{type:"line",attrs:{coordinates:r}},{type:"line",attrs:e,styles:{style:"dashed"}},{type:"polygon",ignoreEvent:!0,attrs:n},{type:"text",ignoreEvent:!0,attrs:a}]}},xke={name:"abcd",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{let t=[],e=[];const n=[],i=["A","B","C","D"],a=r.map((o,s)=>({...o,baseline:"bottom",text:`(${i[s]})`}));return r.length>2&&(t=[r[0],r[2]],n.push({coordinates:[r[0],r[1],r[2]]}),r.length>3&&(e=[r[1],r[3]],n.push({coordinates:[r[1],r[2],r[3]]}))),[{type:"polygon",attrs:n},{type:"line",attrs:{coordinates:r}},{type:"line",attrs:[{coordinates:t},{coordinates:e}],styles:{style:"dashed"}},{type:"text",ignoreEvent:!0,attrs:a}]}};function Z1(r,t,e){if(r.x===t.x)return e.y;const n=(t.y-r.y)/(t.x-r.x),i=r.y-n*r.x;return n*e.x+i}function ZY(r,t,e,n){const i=(t.y-r.y)*(n.x-e.x)-(n.y-e.y)*(t.x-r.x);if(i===0)return null;const a=((e.y-r.y)*(n.x-e.x)-(n.y-e.y)*(e.x-r.x))/i,o=r.x+a*(t.x-r.x),s=r.y+a*(t.y-r.y);return{x:o,y:s}}const _ke={name:"headShoulders",totalStep:8,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{const e=[],n=[],i=[],a=[null,"",null,"",null,"",null];if(r.length>0){r.forEach((u,c)=>{c>0&&e.push({coordinates:[r[c-1],u]});const f=a[c];f&&n.push({x:u.x,y:u.y-10,text:f,baseline:"bottom"})});let s=null,l=null;if(r.length>=5)if(i.push({coordinates:[r[2],r[3],r[4]]}),Z1(r[2],r[4],r[0])<r[0].y)s={x:0,y:Z1(r[2],r[4],{x:0,y:0})},l={x:t.width,y:Z1(r[2],r[4],{x:t.width,y:0})};else{const c=ZY(r[0],r[1],r[2],r[4]);c&&(s=c,l=Xa([c,r[4]],t).coordinates[1],i.push({coordinates:[c,r[1],r[2]]}))}if(r.length>=7&&Z1(r[2],r[4],r[6])>=r[6].y){const c=ZY(r[5],r[6],r[2],r[4]);c&&s&&(l=c,i.push({coordinates:[c,r[4],r[5]]}))}s&&l&&e.push({coordinates:[s,l]})}return[{type:"line",attrs:e},{type:"polygon",ignoreEvent:!0,attrs:i},{type:"text",ignoreEvent:!0,attrs:n}]}};function e0(r,t,e){if(r.x===t.x)return e.y;const n=(t.y-r.y)/(t.x-r.x),i=r.y-n*r.x;return n*e.x+i}function bke(r,t,e,n){const i=r.x===t.x,a=e.x===n.x;let o,s,l,u;if(i?(o=1/0,s=1/0):(o=(t.y-r.y)/(t.x-r.x),s=r.y-o*r.x),a?(l=1/0,u=1/0):(l=(n.y-e.y)/(n.x-e.x),u=e.y-l*e.x),o===l)return null;let c,f;return i?(c=r.x,f=l*c+u):a?(c=e.x,f=o*c+s):(c=(u-s)/(o-l),f=o*c+s),{point:{x:c,y:f},kb1:{k:o,b:s},kb2:{k:l,b:u}}}const Ske={name:"triangleTruss",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{const t=[],e=[],n=[],i=["A","B","C","D"];if(r.length>0&&r.forEach((a,o)=>{const s=i[o];s&&n.push({x:a.x,y:a.y-10,text:s,baseline:"bottom"}),o>0&&t.push({coordinates:[r[o-1],a]})}),r.length===3&&r[2].x>r[0].x){const a=e0(r[2],r[1],r[0]),o={x:r[0].x,y:a};t.push({coordinates:[r[0],r[2]]}),t.push({coordinates:[r[0],o]}),t.push({coordinates:[o,r[2]]}),e.push({coordinates:[r[0],r[2],o]})}if(r.length===4){const a=bke(r[0],r[2],r[1],r[3]);if(a){let o,s,l,u;a.kb1.k>a.kb2.k?r[0].x<r[1].x?(o=r[0].x,s=r[0].y,l=r[0].x,u=e0(r[1],r[3],r[0])):(o=r[1].x,s=r[1].y,l=r[1].x,u=e0(r[2],r[0],r[1])):r[2].x<r[3].x?(o=r[3].x,s=r[3].y,l=r[3].x,u=e0(r[0],r[2],r[3])):(o=r[2].x,s=r[2].y,l=r[2].x,u=e0(r[1],r[3],r[2])),t.push({coordinates:[{x:o,y:s},a.point]}),t.push({coordinates:[{x:o,y:s},{x:l,y:u}]}),t.push({coordinates:[{x:o,y:u},a.point]}),e.push({coordinates:[{x:o,y:s},{x:o,y:u},a.point]})}}return[{type:"line",attrs:t},{type:"polygon",ignoreEvent:!0,attrs:e},{type:"text",ignoreEvent:!0,attrs:n}]}};function KY(r,t,e){if(!r||!t||!e)return"";const n=r.value??0,i=t.value??0,a=e.value??0,o=n-i,s=a-i;return o===0?"N/A":(s/o).toFixed(3)}const wke={name:"threePush",totalStep:8,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,overlay:t})=>{const e=[],n=[],i=[],a=[],o=t.points;return r.length>1&&r.forEach((s,l)=>{if(l>0&&e.push({coordinates:[r[l-1],s]}),l===3){const u=o[l-2],c=o[l-1],f=o[l];if(u&&c&&f){n.push({coordinates:[r[l-2],s]});const d=KY(u,c,f);d&&i.push({x:s.x,y:s.y+8,text:d,baseline:"bottom"}),a.push({coordinates:[r[l-2],r[l-1],s]})}}if(l===5){const u=o[l-2],c=o[l-1],f=o[l];if(u&&c&&f){n.push({coordinates:[r[l-2],s]});const d=KY(u,c,f);d&&i.push({x:s.x,y:s.y+8,text:d,baseline:"bottom"}),a.push({coordinates:[r[l-2],r[l-1],s]})}}}),[{type:"polygon",attrs:a},{type:"line",attrs:e},{type:"line",attrs:n,styles:{style:"dashed"}},{type:"text",ignoreEvent:!0,attrs:i}]}},Cke={name:"mw",totalStep:6,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r})=>{let t=0;const e=[];return r.forEach((n,i)=>{let a=n.x,o=n.y;a=n.x-11,i>0&&(o>t?(i===1&&(e[0].y=e[0].y-6),o+=26):(i===1&&(e[0].y=e[0].y+26),o-=6)),t=o,e.push({x:a,y:o,text:`(${i})`,baseline:"bottom"})}),[{type:"line",attrs:{coordinates:r}},{type:"text",ignoreEvent:!0,attrs:e}]}};function Tke(r){const t=Math.round(r),e=Math.floor(t/(24*3600)),n=Math.floor(t%(24*3600)/3600),i=Math.floor(t%3600/60);let a="";return e>0&&(a+=`${e}D`),n>0&&(a+=`${n}H`),i>0&&(a+=`${i}M`),a}const Ake={name:"ruler",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:r,overlay:t})=>{if(r.length!==2)return[];const e=t.points;if(e.length!==2)return[];const n=e[0],i=e[1],a=r[0],o=r[1],s=i.value-n.value,l=s/n.value*100,u=`${s.toFixed(2)} (${l.toFixed(2)}%)`,c=Math.abs(i.dataIndex-n.dataIndex),f=Math.abs(i.timestamp-n.timestamp);let d=`${c} bars`;f>0&&(d+=` (${Tke(f/1e3)})`);const h=(a.x+o.x)/2,v=(a.y+o.y)/2,g=a.y<o.y?-8:8,m=a.x<o.x?-8:8,_=12*1.3,b=Math.max(a.y,o.y),w=h,T=b+_/2+5,A=T+_+6;return[{type:"polygon",attrs:[{coordinates:[a,{x:o.x,y:a.y},o,{x:a.x,y:o.y}]}]},{type:"line",attrs:[{coordinates:[a,{x:o.x,y:a.y}]},{coordinates:[{x:o.x,y:a.y},o]},{coordinates:[o,{x:a.x,y:o.y}]},{coordinates:[{x:a.x,y:o.y},a]}]},{type:"line",attrs:[{coordinates:[{x:h,y:a.y},{x:h,y:o.y}]},{coordinates:[{x:h,y:o.y},{x:h-4,y:o.y+g}]},{coordinates:[{x:h,y:o.y},{x:h+4,y:o.y+g}]},{coordinates:[{x:a.x,y:v},{x:o.x,y:v}]},{coordinates:[{x:o.x,y:v},{x:o.x+m,y:v-4}]},{coordinates:[{x:o.x,y:v},{x:o.x+m,y:v+4}]}]},{type:"text",ignoreEvent:!0,attrs:[{x:w,y:T,text:u,align:"center",baseline:"middle"},{x:w,y:A,text:d,align:"center",baseline:"middle"}]}]}};function Mke(r){const t=Math.round(r),e=Math.floor(t/(24*3600)),n=Math.floor(t%(24*3600)/3600),i=Math.floor(t%3600/60);let a="";return e>0&&(a+=`${e}D`),n>0&&(a+=`${n}H`),i>0&&(a+=`${i}M`),a}const Dke={name:"timeRuler",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)",style:"fill",borderColor:"rgba(22, 119, 255, 1)"},line:{color:"rgba(22, 119, 255, 1)"},text:{color:"#FFF",size:12,paddingLeft:4,paddingRight:4,backgroundColor:"rgba(22, 119, 255, 0.8)"}},createPointFigures:({coordinates:r,overlay:t})=>{if(r.length===2){const e=t.points;if(e.length!==2)return[];const n=e[0],i=e[1],a=r[0],o=r[1],s=[],l=[{coordinates:[a,{x:o.x,y:a.y},o,{x:a.x,y:o.y}]}];s.push({type:"polygon",attrs:l}),s.push({type:"line",attrs:[{coordinates:[a,{x:o.x,y:a.y}]},{coordinates:[{x:o.x,y:a.y},o]},{coordinates:[o,{x:a.x,y:o.y}]},{coordinates:[{x:a.x,y:o.y},a]}],styles:{style:"dashed"}});const u=[],c=(a.y+o.y)/2;u.push({coordinates:[{x:a.x,y:c},{x:o.x,y:c}]}),a.x<o.x?(u.push({coordinates:[{x:o.x,y:c},{x:o.x-8,y:c-4}]}),u.push({coordinates:[{x:o.x,y:c},{x:o.x-8,y:c+4}]})):(u.push({coordinates:[{x:o.x,y:c},{x:o.x+8,y:c-4}]}),u.push({coordinates:[{x:o.x,y:c},{x:o.x+8,y:c+4}]})),s.push({type:"line",attrs:u});const f=Math.abs(i.dataIndex-n.dataIndex),d=Math.abs(i.timestamp-n.timestamp);let h=`${f} bars`;d>0&&(h+=` (${Mke(d/1e3)})`);const v=Math.max(a.y,o.y),g=(a.x+o.x)/2,m=v+16,x=[{x:g,y:m,text:h,align:"center",baseline:"middle"}];return s.push({type:"text",attrs:x,ignoreEvent:!0}),s}return[]}},Eke={name:"spaceRuler",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)",style:"fill",borderColor:"rgba(22, 119, 255, 1)"},line:{color:"rgba(22, 119, 255, 1)"},text:{color:"#FFF",size:12,paddingLeft:4,paddingRight:4,backgroundColor:"rgba(22, 119, 255, 0.8)"}},createPointFigures:({coordinates:r,overlay:t})=>{if(r.length===2){const e=t.points;if(e.length!==2)return[];const n=e[0],i=e[1],a=r[0],o=r[1],s=[],l=[{coordinates:[a,{x:o.x,y:a.y},o,{x:a.x,y:o.y}]}];s.push({type:"polygon",attrs:l}),s.push({type:"line",attrs:[{coordinates:[a,{x:o.x,y:a.y}]},{coordinates:[{x:o.x,y:a.y},o]},{coordinates:[o,{x:a.x,y:o.y}]},{coordinates:[{x:a.x,y:o.y},a]}]});const u=[],c=(a.x+o.x)/2;u.push({coordinates:[{x:c,y:a.y},{x:c,y:o.y}]}),a.y<o.y?(u.push({coordinates:[{x:c,y:o.y},{x:c-4,y:o.y-8}]}),u.push({coordinates:[{x:c,y:o.y},{x:c+4,y:o.y-8}]})):(u.push({coordinates:[{x:c,y:o.y},{x:c-4,y:o.y+8}]}),u.push({coordinates:[{x:c,y:o.y},{x:c+4,y:o.y+8}]})),s.push({type:"line",attrs:u});const f=i.value-n.value,d=f/n.value*100,h=`${f.toFixed(2)} (${d.toFixed(2)}%)`,g=Math.max(a.y,o.y)+16,m=[{x:c,y:g,text:h,align:"center",baseline:"middle"}];return s.push({type:"text",attrs:m,ignoreEvent:!0}),s}return[]}};function Ike(r,t){if(r.length<2)return[];const[e,n]=r,i=e.x<=n.x?e:n,a=e.x>n.x?e:n,o=Math.min(e.y,n.y),s=Math.max(e.y,n.y),l=Xa([{x:i.x,y:o},{x:a.x,y:o}],t).coordinates,u=Xa([{x:i.x,y:s},{x:a.x,y:s}],t).coordinates,c=[{x:i.x,y:o},{x:i.x,y:s}];return[{key:"area",type:"polygon",attrs:{coordinates:[l[0],l[1],u[1],u[0]]}},{key:"top_line",type:"line",attrs:{coordinates:l}},{key:"bottom_line",type:"line",attrs:{coordinates:u}},{key:"left_line",type:"line",attrs:{coordinates:c}}]}const Rke={name:"horizontalChannel",totalStep:3,needDefaultPointFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>!r||r.length<2?[]:Ike(r,t)};function Pke(r,t){if(r.length<4)return[];const[e,n,i,a]=r,o={x:e.x,y:n.y},s={x:i.x,y:n.y},l={x:i.x,y:a.y},u={x:e.x,y:a.y};return[{key:"area",type:"polygon",attrs:{coordinates:[o,s,l,u]}},{key:"left_line",type:"line",attrs:{coordinates:[o,u]}},{key:"top_line",type:"line",attrs:{coordinates:[o,s]}},{key:"bottom_line",type:"line",attrs:{coordinates:[u,l]}},{key:"right_line",type:"line",attrs:{coordinates:[s,l]}},{key:"label_open",type:"label",attrs:{coordinate:e,text:""}},{key:"label_tp",type:"label",attrs:{coordinate:i,text:""}},{key:"label_sl",type:"label",attrs:{coordinate:a,text:""}}]}const Oke={name:"bullish",totalStep:2,needDefaultPointFigure:!0,createPointFigures:({coordinates:r,bounding:t})=>{if(!r||r.length<1)return[];if(r.length===1){let e=r[0],n={x:e.x-100,y:e.y},i={x:e.x+100,y:e.y},a={x:e.x,y:e.y+100};r=[e,n,i,a]}return Pke(r)}},Ene={},Bke=[RBe,PBe,OBe,BBe,NBe,VBe,zBe,HBe,GBe,WBe,UBe,qBe,YBe,XBe,$Be,jBe,KBe,JBe,tke,rke,nke,ike,ake,oke,ske,lke,uke,cke,fke,hke,dke,vke,pke,gke,yke,mke,xke,_ke,Ske,wke,Cke,Ake,Dke,Eke,Rke,Oke];Bke.forEach(r=>{Ene[r.name]=Y3.extend(r)});function kke(r){return Ene[r]??null}const Lke={grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},title:{color:"#76808F"},legend:{color:"#76808F"}}},indicator:{tooltip:{title:{color:"#76808F"},legend:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},Nke={grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},title:{color:"#929AA5"},legend:{color:"#929AA5"}}},indicator:{tooltip:{title:{color:"#929AA5"},legend:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}},Vke={light:Lke,dark:Nke};function zke(r){return Vke[r]??null}const Ix=30,dO=100,ft={CANDLE:"candle_pane",INDICATOR:"indicator_pane_",X_AXIS:"x_axis_pane"},Wl={MIN:1,MAX:50},Fke=10,Hke=80,Gke=.2,vO=10;class Wke{constructor(t,e){this._styles=DBe(),this._formatter={formatDate:({dateTimeFormat:u,timestamp:c,template:f})=>_ne(u,c,f),formatBigNumber:bne,formatExtendText:u=>""},this._innerFormatter={formatDate:(u,c,f)=>this._formatter.formatDate({dateTimeFormat:this._dateTimeFormat,timestamp:u,template:c,type:f}),formatBigNumber:u=>this._formatter.formatBigNumber(u),formatExtendText:u=>this._formatter.formatExtendText(u)},this._locale="en-US",this._thousandsSeparator={sign:",",format:u=>Sne(u,this._thousandsSeparator.sign)},this._decimalFold={threshold:3,format:u=>wne(u,this._decimalFold.threshold)},this._symbol=null,this._period=null,this._dataList=[],this._dataLoader=null,this._hasSubscribedBars=!1,this._loading=!1,this._dataLoadMore={forward:!1,backward:!1},this._zoomEnabled=!0,this._scrollEnabled=!0,this._totalBarSpace=0,this._barSpace=Fke,this._offsetRightDistance=Hke,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole="bar_count",this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange=YY(),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._crosshair={},this._actions=new Map,this._indicators=new Map,this._scripts=new Map,this._paneYAxisInited=new Set,this._taskScheduler=new _Be,this._overlays=new Map,this._progressOverlayInfo=null,this._lastPriceMarkExtendTextUpdateTimers=[],this._pressedOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._hoverOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._clickOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._chart=t,this._calcOptimalBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace;const{styles:n,locale:i,timezone:a,formatter:o,thousandsSeparator:s,decimalFold:l}=e??{};le(n)&&this.setStyles(n),Wt(i)&&this.setLocale(i),this.setTimezone(a??""),le(o)&&this.setFormatter(o),le(s)&&this.setThousandsSeparator(s),le(l)&&this.setDecimalFold(l)}setStyles(t){let e=null;Wt(t)?e=zke(t):e=t,vn(this._styles,e);const n=this._styles.candle.type;if(n==="footprint"||n==="footprint_period"?(Wl.MAX=120,Wl.MIN=42,this._barSpace<Wl.MIN&&(this._barSpace=Wl.MIN)):(Wl.MIN=1,Wl.MAX=50,this._barSpace>Wl.MAX&&(this._barSpace=Wl.MAX)),vi(e?.candle?.tooltip?.legend?.template)&&(this._styles.candle.tooltip.legend.template=e.candle.tooltip.legend.template),le(e?.candle?.priceMark?.last?.extendTexts)){this._clearLastPriceMarkExtendTextUpdateTimer();const i=[];this._styles.candle.priceMark.last.extendTexts.forEach(a=>{const o=a.updateInterval;if(a.show&&o>0&&!i.includes(o)){i.push(o);const s=setInterval(()=>{this._chart.updatePane(pt.Main,ft.CANDLE)},o);this._lastPriceMarkExtendTextUpdateTimers.push(s)}})}}getStyles(){return this._styles}setFormatter(t){vn(this._formatter,t)}getFormatter(){return this._formatter}getInnerFormatter(){return this._innerFormatter}setLocale(t){this._locale=t}getLocale(){return this._locale}setTimezone(t){if(!le(this._dateTimeFormat)||this.getTimezone()!==t){const e={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};t.length>0&&(e.timeZone=t);let n=null;try{n=new Intl.DateTimeFormat("en",e)}catch{}n!==null&&(this._dateTimeFormat=n)}}getTimezone(){return this._dateTimeFormat.resolvedOptions().timeZone}getDateTimeFormat(){return this._dateTimeFormat}setThousandsSeparator(t){vn(this._thousandsSeparator,t)}getThousandsSeparator(){return this._thousandsSeparator}setDecimalFold(t){vn(this._decimalFold,t)}getDecimalFold(){return this._decimalFold}setSymbol(t){this._processDataUnsubscribe(),this._symbol=t,this._synchronizeIndicatorSeriesPrecision(),this.resetData()}getSymbol(){return this._symbol}setPeriod(t){this._processDataUnsubscribe(),this._period=t,this.resetData()}getPeriod(){return this._period}getDataList(){return this._dataList}getVisibleRangeDataList(){return this._visibleRangeDataList}getVisibleRangeHighLowPrice(){return this._visibleRangeHighLowPrice}_addData(t,e,n){let i=!1,a=!1,o=0;if(vi(t)){const s={backward:!1,forward:!1};switch(Tb(n)?(s.backward=n,s.forward=n):(s.backward=n?.backward??!1,s.forward=n?.forward??!1),o=t.length,e){case"init":{this._clearData(),this._dataList=t,this._dataLoadMore.backward=s.backward,this._dataLoadMore.forward=s.forward,this.setOffsetRightDistance(this._offsetRightDistance),a=!0;break}case"backward":{this._dataList=this._dataList.concat(t),this._dataLoadMore.backward=s.backward,this._lastBarRightSideDiffBarCount-=o,a=o>0;break}case"forward":{this._dataList=t.concat(this._dataList),this._dataLoadMore.forward=s.forward,a=o>0;break}}i=!0}else{const s=this._dataList.length,l=t.timestamp,u=ma(this._dataList[s-1],"timestamp",0);if(l>u){this._dataList.push(t);let c=this.getLastBarRightSideDiffBarCount();c<0&&this.setLastBarRightSideDiffBarCount(--c),o=1,i=!0,a=!0}else if(l===u)this._dataList[s-1]=t,i=!0,a=!0;else if(l<u){let c=s-1;for(let f=s-2;f>=0;f--){const d=ma(this._dataList[f],"timestamp",0);if(l>d){c=f+1;break}else if(l===d){this._dataList[f]=t,i=!0,a=!0;return}c=f}this._dataList.splice(c,0,t),o=1,i=!0,a=!0}}i&&a&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this.getIndicatorsByFilter({}).forEach(l=>{this._addIndicatorCalcTask(l,e)}),this._chart.checkScriptStateChanges().catch(l=>{console.error("",l)}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:e!=="init"}))}setDataLoader(t){this._dataLoader=t,this.resetData()}setDataList(t){const e={backward:this._dataLoadMore.backward,forward:this._dataLoadMore.forward};this._addData(t,"init",e),!this._hasSubscribedBars&&le(this._dataLoader)&&le(this._symbol)&&le(this._period)&&(this._dataLoader?.subscribeBar?.({symbol:this._symbol,period:this._period,callback:n=>{this._addData(n,"update")}}),this._hasSubscribedBars=!0)}upsertDataList(t){if(!vi(t)||t.length===0)return;const e=[...t].sort((i,a)=>i.timestamp-a.timestamp);let n=!1;for(const i of e){const a=this._dataList.length,o=i.timestamp,s=ma(this._dataList[a-1],"timestamp",0);if(a===0||o>s){this._dataList.push(i);let u=this.getLastBarRightSideDiffBarCount();u<0&&this.setLastBarRightSideDiffBarCount(--u),n=!0;continue}if(o===s){this._dataList[a-1]=i,n=!0;continue}let l=a-1;for(let u=a-2;u>=0;u--){const c=ma(this._dataList[u],"timestamp",0);if(o>c){l=u+1;break}else if(o===c){this._dataList[u]=i,n=!0,l=-1;break}l=u}l>=0&&(this._dataList.splice(l,0,i),n=!0)}n&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this.getIndicatorsByFilter({}).forEach(a=>{this._addIndicatorCalcTask(a,"update")}),this._chart.checkScriptStateChanges().catch(()=>{}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0}))}appendDataList(t){if(!vi(t)||t.length===0)return;const e={backward:this._dataLoadMore.backward,forward:this._dataLoadMore.forward};this._addData(t,"backward",e)}_calcOptimalBarSpace(){const e=1-Gke*Math.atan(Math.max(4,this._barSpace)-4)/(Math.PI*.5);let n=Math.min(Math.floor(this._barSpace*e),Math.floor(this._barSpace));n%2===0&&n+2>=this._barSpace&&--n,this._gapBarSpace=Math.max(1,n)}_adjustVisibleRange(){const t=this._dataList.length,e=this._totalBarSpace/this._barSpace;let n=0,i=0;this._scrollLimitRole==="distance"?(n=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,i=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(n=this._minVisibleBarCount.left,i=this._minVisibleBarCount.right),n=Math.max(0,n),i=Math.max(0,i);const a=e-Math.min(n,t);this._lastBarRightSideDiffBarCount>a&&(this._lastBarRightSideDiffBarCount=a);const o=-t+Math.min(i,t);this._lastBarRightSideDiffBarCount<o&&(this._lastBarRightSideDiffBarCount=o);let s=Math.round(this._lastBarRightSideDiffBarCount+t+.5);const l=s;s>t&&(s=t);let u=Math.round(s-e)-1;u<0&&(u=0);const c=this._lastBarRightSideDiffBarCount>0?Math.round(t+this._lastBarRightSideDiffBarCount-e)-1:u;this._visibleRange={from:u,to:s,realFrom:c,realTo:l},this.executeAction("onVisibleRangeChange",this._visibleRange),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}];for(let f=c;f<l;f++){const d=this._dataList[f],h=this.dataIndexToCoordinate(f);this._visibleRangeDataList.push({dataIndex:f,x:h,data:{prev:this._dataList[f-1]??d,current:d,next:this._dataList[f+1]??d}}),le(d)&&(this._visibleRangeHighLowPrice[0].price<d.high&&(this._visibleRangeHighLowPrice[0].price=d.high,this._visibleRangeHighLowPrice[0].x=h),this._visibleRangeHighLowPrice[1].price>d.low&&(this._visibleRangeHighLowPrice[1].price=d.low,this._visibleRangeHighLowPrice[1].x=h))}u===0?this._dataLoadMore.forward&&this._processDataLoad("forward"):s===t&&this._dataLoadMore.backward&&this._processDataLoad("backward")}_processDataLoad(t){if(!this._loading&&le(this._dataLoader)&&le(this._symbol)&&le(this._period)){this._loading=!0;const e={type:t,symbol:this._symbol,period:this._period,timestamp:null,callback:(n,i)=>{this._loading=!1,this._addData(n,t,i),t==="init"&&(this._hasSubscribedBars||(this._dataLoader?.subscribeBar?.({symbol:this._symbol,period:this._period,callback:a=>{this._addData(a,"update")}}),this._hasSubscribedBars=!0))}};switch(t){case"backward":{e.timestamp=this._dataList[this._dataList.length-1]?.timestamp??null;break}case"forward":{e.timestamp=this._dataList[0]?.timestamp??null;break}}this._dataLoader.getBars(e)}}_processDataUnsubscribe(){le(this._dataLoader)&&le(this._symbol)&&le(this._period)&&this._dataLoader.unsubscribeBar?.({symbol:this._symbol,period:this._period}),this._hasSubscribedBars=!1}resetData(){this._loading=!1,this._processDataLoad("init")}getBarSpace(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:Math.floor(this._gapBarSpace/2)}}setBarSpace(t,e){const n=this._styles.candle.type,i=n==="footprint"||n==="footprint_period"?42:1,a=n==="footprint"||n==="footprint_period"?120:50;t<i||t>a||this._barSpace===t||(this._barSpace=t,this._calcOptimalBarSpace(),e?.(),this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0}))}setTotalBarSpace(t){this._totalBarSpace!==t&&(this._totalBarSpace=t,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}))}setOffsetRightDistance(t,e){return this._offsetRightDistance=this._scrollLimitRole==="distance"?Math.min(this._maxOffsetDistance.right,t):t,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,(e??!1)&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0})),this}getInitialOffsetRightDistance(){return this._offsetRightDistance}getOffsetRightDistance(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)}getLastBarRightSideDiffBarCount(){return this._lastBarRightSideDiffBarCount}setLastBarRightSideDiffBarCount(t){this._lastBarRightSideDiffBarCount=t}setMaxOffsetLeftDistance(t){this._scrollLimitRole="distance",this._maxOffsetDistance.left=t}setMaxOffsetRightDistance(t){this._scrollLimitRole="distance",this._maxOffsetDistance.right=t}setLeftMinVisibleBarCount(t){this._scrollLimitRole="bar_count",this._minVisibleBarCount.left=t}setRightMinVisibleBarCount(t){this._scrollLimitRole="bar_count",this._minVisibleBarCount.right=t}getVisibleRange(){return this._visibleRange}startScroll(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount}scroll(t){if(!this._scrollEnabled)return;const e=t/this._barSpace,n=this._lastBarRightSideDiffBarCount*this._barSpace;this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-e,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0});const i=Math.round(n-this._lastBarRightSideDiffBarCount*this._barSpace);i!==0&&this.executeAction("onScroll",{distance:i})}getDataByDataIndex(t){return this._dataList[t]??null}coordinateToFloatIndex(t){const e=this._dataList.length,n=(this._totalBarSpace-t)/this._barSpace,i=e+this._lastBarRightSideDiffBarCount-n;return Math.round(i*1e6)/1e6}dataIndexToTimestamp(t){const e=this._dataList.length;if(e===0)return null;const n=this.getDataByDataIndex(t);if(le(n))return n.timestamp;if(le(this._period)){const i=e-1;let a=null,o=0;if(t>i?(a=this._dataList[i].timestamp,o=t-i):t<0&&(a=this._dataList[0].timestamp,o=t),We(a)){const{type:s,span:l}=this._period;switch(s){case"second":return a+l*1e3*o;case"minute":return a+l*60*1e3*o;case"hour":return a+l*60*60*1e3*o;case"day":return a+l*24*60*60*1e3*o;case"week":return a+l*7*24*60*60*1e3*o;case"month":{const u=new Date(a),c=u.getDate();u.setDate(1),u.setMonth(u.getMonth()+l*o);const f=new Date(u.getFullYear(),u.getMonth()+1,0).getDate();return u.setDate(Math.min(c,f)),u.getTime()}case"year":{const u=new Date(a);return u.setFullYear(u.getFullYear()+l*o),u.getTime()}}}}return null}timestampToDataIndex(t){const e=this._dataList.length;if(e===0)return 0;if(le(this._period)){let n=null,i=0;const a=e-1,o=this._dataList[a].timestamp;t>o&&(n=o,i=a);const s=this._dataList[0].timestamp;if(t<s&&(n=s,i=0),We(n)){const{type:l,span:u}=this._period;switch(l){case"second":return i+Math.floor((t-n)/(u*1e3));case"minute":return i+Math.floor((t-n)/(u*60*1e3));case"hour":return i+Math.floor((t-n)/(u*60*60*1e3));case"day":return i+Math.floor((t-n)/(u*24*60*60*1e3));case"week":return i+Math.floor((t-n)/(u*7*24*60*60*1e3));case"month":{const c=new Date(n),f=new Date(t),d=c.getFullYear(),h=f.getFullYear(),v=c.getMonth(),g=f.getMonth();return i+Math.floor(((h-d)*12+(g-v))/u)}case"year":{const c=new Date(n).getFullYear(),f=new Date(t).getFullYear();return i+Math.floor((f-c)/u)}}}}return hO(this._dataList,"timestamp",t)}dataIndexToCoordinate(t){const n=this._dataList.length+this._lastBarRightSideDiffBarCount-t;return Math.floor(this._totalBarSpace-(n-.5)*this._barSpace+.5)}coordinateToDataIndex(t){return Math.ceil(this.coordinateToFloatIndex(t))-1}zoom(t,e){if(!this._zoomEnabled)return;let n=e??null;We(n?.x)||(n={x:this._crosshair.x??this._totalBarSpace/2});const i=n.x,a=this.coordinateToFloatIndex(i),o=this._barSpace,s=this._barSpace+t*(this._barSpace/vO);this.setBarSpace(s,()=>{this._lastBarRightSideDiffBarCount+=a-this.coordinateToFloatIndex(i)});const l=this._barSpace/o;l!==1&&this.executeAction("onZoom",{scale:l})}setZoomEnabled(t){this._zoomEnabled=t}isZoomEnabled(){return this._zoomEnabled}setScrollEnabled(t){this._scrollEnabled=t}isScrollEnabled(){return this._scrollEnabled}setCrosshair(t,e){const{notInvalidate:n,notExecuteAction:i,forceInvalidate:a}=e??{},o=t??{};let s=0,l=0;We(o.x)?(s=this.coordinateToDataIndex(o.x),s<0?l=0:s>this._dataList.length-1?l=this._dataList.length-1:l=s):(s=this._dataList.length-1,l=s);const u=this._dataList[l];let c;if(We(o.x)){const d=this._dataList.length-1;s<0||s>d?c=o.x:c=this.dataIndexToCoordinate(s)}else c=this.dataIndexToCoordinate(s);const f={x:this._crosshair.x,y:this._crosshair.y,paneId:this._crosshair.paneId};this._crosshair={...o,realX:c,kLineData:u,realDataIndex:s,dataIndex:l,timestamp:this.dataIndexToTimestamp(s)??void 0},(f.x!==o.x||f.y!==o.y||f.paneId!==o.paneId||(a??!1))&&(le(u)&&!(i??!1)&&this._chart.crosshairChange(this._crosshair),(n??!1)||this._chart.updatePane(pt.Overlay))}getCrosshair(){return this._crosshair}executeAction(t,e){this._actions.get(t)?.execute(e)}subscribeAction(t,e){this._actions.has(t)||this._actions.set(t,new bBe),this._actions.get(t)?.subscribe(e)}unsubscribeAction(t,e){const n=this._actions.get(t);le(n)&&(n.unsubscribe(e),n.isEmpty()&&this._actions.delete(t))}hasAction(t){const e=this._actions.get(t);return le(e)&&!e.isEmpty()}_sortIndicators(t){Wt(t)?this._indicators.get(t)?.sort((e,n)=>e.zLevel-n.zLevel):this._indicators.forEach(e=>{e.sort((n,i)=>n.zLevel-i.zLevel)})}_addIndicatorCalcTask(t,e){this._taskScheduler.addTask({id:XY(t.id),handler:()=>{t.onDataStateChange?.({state:"loading",type:e,indicator:t}),t.calcImp(this._dataList).then(n=>{if(n){const i=t.paneId,a=e==="init"||!this._paneYAxisInited.has(i);if(a&&this._chart.updatePane(pt.Main,i),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!a}),a){this._paneYAxisInited.add(i);try{this._chart.setPaneOptions({id:i})}catch{}}t.onDataStateChange?.({state:"ready",type:e,indicator:t})}}).catch(()=>{t.onDataStateChange?.({state:"error",type:e,indicator:t})})}})}addIndicator(t,e,n){const{name:i}=t;if(this.getIndicatorsByFilter(t).length>0)return!1;let o=this.getIndicatorsByPaneId(e);const s=Cne(i),l=new s;return this._synchronizeIndicatorSeriesPrecision(l),l.paneId=e,l.override(t),n||(this.removeIndicator({paneId:e}),o=[]),o.push(l),this._indicators.set(e,o),this._sortIndicators(e),this._addIndicatorCalcTask(l,"init"),!0}getIndicatorsByPaneId(t){return this._indicators.get(t)??[]}getIndicatorsByFilter(t){const{paneId:e,name:n,id:i}=t,a=s=>le(i)?s.id===i:!le(n)||s.name===n;let o=[];return le(e)?o=o.concat(this.getIndicatorsByPaneId(e).filter(a)):this._indicators.forEach(s=>{o=o.concat(s.filter(a))}),o}removeIndicator(t){let e=!1;return this.getIndicatorsByFilter(t??{}).forEach(i=>{const a=this.getIndicatorsByPaneId(i.paneId),o=a.findIndex(s=>s.id===i.id);o>-1&&(this._taskScheduler.removeTask(XY(i.id)),a.splice(o,1),e=!0),a.length===0&&this._indicators.delete(i.paneId)}),e}hasIndicators(t){return this._indicators.has(t)}addScript(t,e,n){const i=this._scripts.get(e)??[];return n?i.push(t):i.unshift(t),this._scripts.set(e,i),t.key}_sortScripts(t){}getScriptsByPaneId(t){return this._scripts.get(t)??[]}getScriptsByFilter(t){const{paneId:e,name:n,key:i}=t,a=s=>le(i)?s.key===i:!le(n)||s.name===n;let o=[];if(le(e)){const s=this.getScriptsByPaneId(e);o=o.concat(s.filter(a))}else this._scripts.forEach(s=>{o=o.concat(s.filter(a))});return o}removeScript(t){let e=!1;return this.getScriptsByFilter(t??{}).forEach(i=>{const a=this.getScriptsByPaneId(i.paneId),o=a.findIndex(s=>s.key===i.key);o>-1&&(a.splice(o,1),e=!0),a.length===0&&this._scripts.delete(i.paneId)}),e}hasScripts(t){return this._scripts.has(t)}overrideScript(t){let e=!1;return this.getScriptsByFilter(t).forEach(i=>{i.shouldUpdateImp&&i.shouldUpdateImp()&&(e=!0)}),e?(this._chart.layout({update:!0}),!0):!1}_synchronizeIndicatorSeriesPrecision(t){if(le(this._symbol)){const{pricePrecision:e=2,volumePrecision:n=0}=this._symbol,i=a=>{switch(a.series){case"price":{a.setSeriesPrecision(e);break}case"volume":{a.setSeriesPrecision(n);break}}};le(t)?i(t):this._indicators.forEach(a=>{a.forEach(o=>{i(o)})})}}overrideIndicator(t){let e=!1,n=!1;return this.getIndicatorsByFilter(t).forEach(a=>{a.override(t);const{calc:o,draw:s,sort:l}=a.shouldUpdateImp();l&&(n=!0),o?this._addIndicatorCalcTask(a,"update"):s&&(e=!0)}),n&&this._sortIndicators(),e?(this._chart.layout({update:!0}),!0):!1}getOverlaysByFilter(t){const{id:e,groupId:n,group:i,paneId:a,name:o}=t,s=c=>le(e)?c.id===e:le(n)?c.groupId===n&&(!le(o)||c.name===o):le(i)?c.group===i&&(!le(o)||c.name===o):!le(o)||c.name===o;let l=[];le(a)?l=l.concat(this.getOverlaysByPaneId(a).filter(s)):this._overlays.forEach(c=>{l=l.concat(c.filter(s))});const u=this._progressOverlayInfo?.overlay;return le(u)&&s(u)&&l.push(u),l}getOverlaysByPaneId(t){if(!Wt(t)){let e=[];return this._overlays.forEach(n=>{e=e.concat(n)}),e}return this._overlays.get(t)??[]}_sortOverlays(t){Wt(t)?this._overlays.get(t)?.sort((e,n)=>e.zLevel-n.zLevel):this._overlays.forEach(e=>{e.sort((n,i)=>n.zLevel-i.zLevel)})}addOverlays(t,e){const n=[],i=t.map((a,o)=>{if(le(a.id)){let l=null;for(const u of this._overlays){const f=u[1].find(d=>d.id===a.id);if(le(f)){l=f;break}}if(le(l))return a.id}const s=kke(a.name);if(le(s)){const l=a.id??ed(IBe),u=new s,c=a.paneId??ft.CANDLE;a.id=l,a.groupId??=l;const f=this.getOverlaysByPaneId(c).length;return a.zLevel??=f,u.override(a),n.includes(c)||n.push(c),u.isDrawing()?this._progressOverlayInfo={paneId:c,overlay:u,appointPaneFlag:e[o]}:(this._overlays.has(c)||this._overlays.set(c,[]),this._overlays.get(c)?.push(u)),u.isStart()&&u.onDrawStart?.({overlay:u,chart:this._chart}),l}return null});return n.length>0&&(this._sortOverlays(),n.forEach(a=>{this._chart.updatePane(pt.Overlay,a)}),this._chart.updatePane(pt.Overlay,ft.X_AXIS)),i}getProgressOverlayInfo(){return this._progressOverlayInfo}progressOverlayComplete(){if(this._progressOverlayInfo!==null){const{overlay:t,paneId:e}=this._progressOverlayInfo;t.isDrawing()||(this._overlays.has(e)||this._overlays.set(e,[]),this._overlays.get(e)?.push(t),this._sortOverlays(e),this._progressOverlayInfo=null)}}updateProgressOverlayInfo(t,e){this._progressOverlayInfo!==null&&(Tb(e)&&e&&(this._progressOverlayInfo.appointPaneFlag=e),this._progressOverlayInfo.paneId=t,this._progressOverlayInfo.overlay.override({paneId:t}))}overrideOverlay(t){let e=!1;const n=[];return this.getOverlaysByFilter(t).forEach(a=>{a.override(t);const{sort:o,draw:s}=a.shouldUpdate();o&&(e=!0),(o||s)&&(n.includes(a.paneId)||n.push(a.paneId))}),e&&this._sortOverlays(),n.length>0?(n.forEach(a=>{this._chart.updatePane(pt.Overlay,a)}),this._chart.updatePane(pt.Overlay,ft.X_AXIS),!0):!1}removeOverlay(t){const e=[];return this.getOverlaysByFilter(t??{}).forEach(i=>{const a=i.paneId,o=this.getOverlaysByPaneId(i.paneId);if(i.onRemoved?.({overlay:i,chart:this._chart}),e.includes(a)||e.push(a),i.isDrawing())this._progressOverlayInfo=null;else{const s=o.findIndex(l=>l.id===i.id);s>-1&&o.splice(s,1)}o.length===0&&this._overlays.delete(a)}),e.length>0?(e.forEach(i=>{this._chart.updatePane(pt.Overlay,i)}),this._chart.updatePane(pt.Overlay,ft.X_AXIS),!0):!1}removeOverlays(t){if(!t||t.length===0)return!1;const e=[];return t.forEach(n=>{this.getOverlaysByFilter({id:n}).forEach(a=>{const o=a.paneId,s=this.getOverlaysByPaneId(a.paneId);if(a.onRemoved?.({overlay:a,chart:this._chart}),e.includes(o)||e.push(o),a.isDrawing())this._progressOverlayInfo=null;else{const l=s.findIndex(u=>u.id===a.id);l>-1&&s.splice(l,1)}s.length===0&&this._overlays.delete(o)})}),e.length>0?(e.forEach(n=>{this._chart.updatePane(pt.Overlay,n)}),this._chart.updatePane(pt.Overlay,ft.X_AXIS),!0):!1}setPressedOverlayInfo(t){this._pressedOverlayInfo=t}getPressedOverlayInfo(){return this._pressedOverlayInfo}setHoverOverlayInfo(t,e,n){const{overlay:i,figureType:a,figureIndex:o,figure:s}=this._hoverOverlayInfo,l=t.overlay;if((i?.id!==l?.id||a!==t.figureType||o!==t.figureIndex)&&(this._hoverOverlayInfo=t,i?.id!==l?.id)){let u=!1,c=!1;i!==null&&(i.override({zLevel:i.getPrevZLevel()}),c=!0,n(i,s)&&(u=!0)),l!==null&&(l.setPrevZLevel(l.zLevel),l.override({zLevel:Number.MAX_SAFE_INTEGER}),c=!0,e(l,t.figure)&&(u=!0)),c&&this._sortOverlays(),u||this._chart.updatePane(pt.Overlay)}}getHoverOverlayInfo(){return this._hoverOverlayInfo}setClickOverlayInfo(t,e,n){const{paneId:i,overlay:a,figureType:o,figure:s,figureIndex:l}=this._clickOverlayInfo,u=t.overlay;(a?.id!==u?.id||o!==t.figureType||l!==t.figureIndex)&&(this._clickOverlayInfo=t,a?.id!==u?.id&&(le(a)&&n(a,s),le(u)&&e(u,t.figure),this._chart.updatePane(pt.Overlay,t.paneId),i!==t.paneId&&this._chart.updatePane(pt.Overlay,i),this._chart.updatePane(pt.Overlay,ft.X_AXIS)))}getClickOverlayInfo(){return this._clickOverlayInfo}isOverlayEmpty(){return this._overlays.size===0&&this._progressOverlayInfo===null}isOverlayDrawing(){return this._progressOverlayInfo?.overlay.isDrawing()??!1}_clearLastPriceMarkExtendTextUpdateTimer(){this._lastPriceMarkExtendTextUpdateTimers.forEach(t=>{clearInterval(t)}),this._lastPriceMarkExtendTextUpdateTimers=[]}_clearData(){this._dataLoadMore.backward=!1,this._dataLoadMore.forward=!1,this._loading=!1,this._dataList=[],this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._visibleRange=YY(),this._crosshair={}}getChart(){return this._chart}destroy(){this._clearData(),this._clearLastPriceMarkExtendTextUpdateTimer(),this._taskScheduler.removeTask(),this._overlays.clear(),this._indicators.clear(),this._actions.clear()}setPriceVolumePrecision(t){this._symbol&&(typeof t.pricePrecision=="number"&&(this._symbol.pricePrecision=t.pricePrecision),typeof t.volumePrecision=="number"&&(this._symbol.volumePrecision=t.volumePrecision)),this._synchronizeIndicatorSeriesPrecision(),this._chart.layout({update:!0})}}const et={MAIN:"main",X_AXIS:"xAxis",Y_AXIS:"yAxis",SEPARATOR:"separator",SCRIPT:"script"},U0=7;async function Uke(){return await new Promise(r=>{const t=new ResizeObserver(e=>{r(e.every(n=>"devicePixelContentBoxSize"in n)),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(()=>!1)}class QY{constructor(t,e){this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._nextPixelWidth=0,this._nextPixelHeight=0,this._requestAnimationId=vd,this._mediaQueryListener=()=>{const n=du(this._element);this._nextPixelWidth=Math.round(this._element.clientWidth*n),this._nextPixelHeight=Math.round(this._element.clientHeight*n),this._resetPixelRatio()},this._listener=e,this._element=ol("canvas",t),this._ctx=this._element.getContext("2d"),Uke().then(n=>{this._supportedDevicePixelContentBox=n,n?(this._resizeObserver=new ResizeObserver(i=>{const o=i.find(s=>s.target===this._element)?.devicePixelContentBoxSize[0];le(o)&&(this._nextPixelWidth=o.inlineSize,this._nextPixelHeight=o.blockSize,(this._pixelWidth!==this._nextPixelWidth||this._pixelHeight!==this._nextPixelHeight)&&this._resetPixelRatio())}),this._resizeObserver.observe(this._element,{box:"device-pixel-content-box"})):(this._mediaQueryList=window.matchMedia(`(resolution: ${du(this._element)}dppx)`),this._mediaQueryList.addListener(this._mediaQueryListener))}).catch(n=>!1)}_resetPixelRatio(){this._executeListener(()=>{const t=this._element.clientWidth,e=this._element.clientHeight;this._width=t,this._height=e,this._pixelWidth=this._nextPixelWidth,this._pixelHeight=this._nextPixelHeight,this._element.width=this._nextPixelWidth,this._element.height=this._nextPixelHeight;const n=this._nextPixelWidth/t,i=this._nextPixelHeight/e;this._ctx.scale(n,i)})}_executeListener(t){this._requestAnimationId===vd&&(this._requestAnimationId=Do(()=>{this._ctx.clearRect(0,0,this._width,this._height),t?.(),this._listener(),this._requestAnimationId=vd}))}update(t,e){if(this._width!==t||this._height!==e){if(this._element.style.width=`${t}px`,this._element.style.height=`${e}px`,!this._supportedDevicePixelContentBox){const n=du(this._element);this._nextPixelWidth=Math.round(t*n),this._nextPixelHeight=Math.round(e*n),this._resetPixelRatio()}}else this._executeListener()}getElement(){return this._element}getContext(){return this._ctx}destroy(){le(this._resizeObserver)&&this._resizeObserver.unobserve(this._element),le(this._mediaQueryList)&&this._mediaQueryList.removeListener(this._mediaQueryListener)}}class Ine extends X3{constructor(t,e){super(),this._bounding=Ab(),this._cursor="crosshair",this._forceCursor=null,this._pane=e,this._rootContainer=t,this._container=this.createContainer(),t.appendChild(this._container)}setBounding(t){return vn(this._bounding,t),this}getContainer(){return this._container}getBounding(){return this._bounding}getPane(){return this._pane}checkEventOn(t){return!0}setCursor(t){Wt(this._forceCursor)||t!==this._cursor&&(this._cursor=t,this._container.style.cursor=this._cursor)}setForceCursor(t){t!==this._forceCursor&&(this._forceCursor=t,this._container.style.cursor=this._forceCursor??this._cursor)}getForceCursor(){return this._forceCursor}update(t){this.updateImp(this._container,this._bounding,t??pt.Drawer)}destroy(){this._rootContainer.removeChild(this._container)}}class WS extends Ine{constructor(t,e){super(t,e),this._mainCanvas=new QY({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},()=>{this.updateMain(this._mainCanvas.getContext())}),this._overlayCanvas=new QY({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},()=>{this.updateOverlay(this._overlayCanvas.getContext())});const n=this.getContainer();n.appendChild(this._mainCanvas.getElement()),n.appendChild(this._overlayCanvas.getElement())}createContainer(){return ol("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})}updateImp(t,e,n){const{width:i,height:a,left:o}=e;t.style.left=`${o}px`;let s=n;const l=t.clientWidth,u=t.clientHeight;switch((i!==l||a!==u)&&(t.style.width=`${i}px`,t.style.height=`${a}px`,s=pt.Drawer),s){case pt.Main:{this._mainCanvas.update(i,a);break}case pt.Overlay:{this._overlayCanvas.update(i,a);break}case pt.Drawer:case pt.All:{this._mainCanvas.update(i,a),this._overlayCanvas.update(i,a);break}}}destroy(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()}getImage(t){const{width:e,height:n}=this.getBounding(),i=ol("canvas",{width:`${e}px`,height:`${n}px`,boxSizing:"border-box"}),a=i.getContext("2d"),o=du(i);return i.width=e*o,i.height=n*o,a.scale(o,o),a.drawImage(this._mainCanvas.getElement(),0,0,e,n),t&&a.drawImage(this._overlayCanvas.getElement(),0,0,e,n),i}}function Rne(r,t){let e=[];e=e.concat(t);for(const n of e){const{x:i,y:a,r:o}=n,s=r.x-i,l=r.y-a;if(!(s*s+l*l>o*o))return!0}return!1}function qke(r,t,e){let n=[];n=n.concat(t);const{show:i=!0,style:a="fill",color:o="currentColor",borderSize:s=1,borderColor:l="currentColor",borderStyle:u="solid",borderDashedValue:c=[2,2]}=e;if(!i)return;const f=(a==="fill"||e.style==="stroke_fill")&&(!Wt(o)||!lr(o));if(f&&(r.fillStyle=o,n.forEach(({x:d,y:h,r:v})=>{r.beginPath();let g=v;g>v&&(g=v),r.arc(d,h,g,0,Math.PI*2),r.closePath(),r.fill()})),(a==="stroke"||e.style==="stroke_fill")&&s>0&&!lr(l)){switch(r.strokeStyle=l,r.lineWidth=s,u){case"dashed":r.setLineDash(c.map(d=>d*s));break;case"dotted":r.setLineDash([s,s*2]);break;default:r.setLineDash([]);break}n.forEach(({x:d,y:h,r:v})=>{if(!f||v>s){let g=v;g>v&&(g=v),r.beginPath(),r.arc(d,h,g,0,Math.PI*2),r.closePath(),r.stroke()}})}}const Yke={name:"circle",checkEventOn:Rne,draw:(r,t,e)=>{qke(r,t,e)}};function Pne(r,t){let e=[];e=e.concat(t);for(const n of e){let i=!1;const{coordinates:a}=n;for(let o=0,s=a.length-1;o<a.length;s=o++)a[o].y>r.y!=a[s].y>r.y&&r.x<(a[s].x-a[o].x)*(r.y-a[o].y)/(a[s].y-a[o].y)+a[o].x&&(i=!i);if(i)return!0}return!1}function Xke(r,t,e){let n=[];n=n.concat(t);const{style:i="fill",color:a="currentColor",borderSize:o=1,borderColor:s="currentColor",borderStyle:l="solid",borderDashedValue:u=[2,2],show:c=!0}=e;if(c&&((i==="fill"||e.style==="stroke_fill")&&(!Wt(a)||!lr(a))&&(r.fillStyle=a,n.forEach(({coordinates:f})=>{r.beginPath(),r.moveTo(f[0].x,f[0].y);for(let d=1;d<f.length;d++)r.lineTo(f[d].x,f[d].y);r.closePath(),r.fill()})),(i==="stroke"||e.style==="stroke_fill")&&o>0&&!lr(s))){switch(r.strokeStyle=s,r.lineWidth=o,l){case"dashed":r.setLineDash(u.map(f=>f*o));break;case"dotted":r.setLineDash([o,o*2]);break;default:r.setLineDash([]);break}n.forEach(({coordinates:f})=>{r.beginPath(),r.moveTo(f[0].x,f[0].y);for(let d=1;d<f.length;d++)r.lineTo(f[d].x,f[d].y);r.closePath(),r.stroke()})}}const $ke={name:"polygon",checkEventOn:Pne,draw:(r,t,e)=>{Xke(r,t,e)}};function fy(r,t,e={},n){const{color:i="#000000",borderColor:a="#000000",borderSize:o=1,alpha:s=1,show:l=!0,size:u=10,filled:c=!0,style:f=c?"fill":"stroke"}=e;if(!l)return;const{x:d,y:h}=t;r.save(),r.globalAlpha=s,r.setLineDash([]),r.beginPath();const v=u,g=u*.3,m=u*.6;switch(n){case"up":r.moveTo(d,h),r.lineTo(d-v/2,h+v*.6),r.lineTo(d-g/2,h+v*.6),r.lineTo(d-g/2,h+v*.6+m),r.lineTo(d+g/2,h+v*.6+m),r.lineTo(d+g/2,h+v*.6),r.lineTo(d+v/2,h+v*.6);break;case"down":r.moveTo(d,h),r.lineTo(d-v/2,h-v*.6),r.lineTo(d-g/2,h-v*.6),r.lineTo(d-g/2,h-v*.6-m),r.lineTo(d+g/2,h-v*.6-m),r.lineTo(d+g/2,h-v*.6),r.lineTo(d+v/2,h-v*.6);break;case"left":r.moveTo(d,h),r.lineTo(d+v*.6,h-v/2),r.lineTo(d+v*.6,h-g/2),r.lineTo(d+v*.6+m,h-g/2),r.lineTo(d+v*.6+m,h+g/2),r.lineTo(d+v*.6,h+g/2),r.lineTo(d+v*.6,h+v/2);break;case"right":r.moveTo(d,h),r.lineTo(d-v*.6,h-v/2),r.lineTo(d-v*.6,h-g/2),r.lineTo(d-v*.6-m,h-g/2),r.lineTo(d-v*.6-m,h+g/2),r.lineTo(d-v*.6,h+g/2),r.lineTo(d-v*.6,h+v/2);break}r.closePath(),(f==="fill"||f==="stroke_fill")&&!lr(i)&&(r.fillStyle=i,r.fill()),(f==="stroke"||f==="stroke_fill")&&o>0&&!lr(a)&&(r.strokeStyle=a,r.lineWidth=o,r.stroke()),r.restore()}function JY(r,t,e={}){fy(r,t,e,"up")}function eX(r,t,e={}){fy(r,t,e,"down")}function tX(r,t,e={}){fy(r,t,e,"left")}function rX(r,t,e={}){fy(r,t,e,"right")}function hy(r,t,e={},n="up"){const{color:i="#000",borderColor:a="#000",borderSize:o=1,alpha:s=1,show:l=!0,filled:u=!0,size:c=10,style:f=u?"fill":"stroke"}=e;if(!l)return;const{x:d,y:h}=t;r.save(),r.globalAlpha=s,r.setLineDash([]),r.beginPath();let v=[];const g=Math.sqrt(3)/2*c;switch(n){case"up":v=[{x:d,y:h-g/2},{x:d-c/2,y:h+g/2},{x:d+c/2,y:h+g/2}];break;case"down":v=[{x:d,y:h+g/2},{x:d-c/2,y:h-g/2},{x:d+c/2,y:h-g/2}];break;case"left":v=[{x:d-g/2,y:h},{x:d+g/2,y:h-c/2},{x:d+g/2,y:h+c/2}];break;case"right":v=[{x:d+g/2,y:h},{x:d-g/2,y:h-c/2},{x:d-g/2,y:h+c/2}];break}r.moveTo(v[0].x,v[0].y),r.lineTo(v[1].x,v[1].y),r.lineTo(v[2].x,v[2].y),r.closePath(),(f==="fill"||f==="stroke_fill")&&!lr(i)&&(r.fillStyle=i,r.fill()),(f==="stroke"||f==="stroke_fill")&&o>0&&!lr(a)&&(r.strokeStyle=a,r.lineWidth=o,r.stroke()),r.restore()}function jke(r,t,e={}){hy(r,t,e,"up")}function Zke(r,t,e={}){hy(r,t,e,"down")}function Kke(r,t,e={}){hy(r,t,e,"left")}function Qke(r,t,e={}){hy(r,t,e,"right")}function Jke(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=1,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]);const h=u/2;r.beginPath(),r.rect(f-h,d-h,u,u),(c==="fill"||c==="stroke_fill")&&!lr(n)&&(r.fillStyle=n,r.fill()),(c==="stroke"||c==="stroke_fill")&&a>0&&!lr(i)&&(r.strokeStyle=i,r.lineWidth=a,r.stroke()),r.restore()}function e3e(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=1,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]);const h=u/2;r.beginPath(),r.moveTo(f,d-h),r.lineTo(f+h,d),r.lineTo(f,d+h),r.lineTo(f-h,d),r.closePath(),(c==="fill"||c==="stroke_fill")&&!lr(n)&&(r.fillStyle=n,r.fill()),(c==="stroke"||c==="stroke_fill")&&a>0&&!lr(i)&&(r.strokeStyle=i,r.lineWidth=a,r.stroke()),r.restore()}function t3e(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=1,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]),r.beginPath(),r.arc(f,d,u/2,0,Math.PI*2),(c==="fill"||c==="stroke_fill")&&!lr(n)&&(r.fillStyle=n,r.fill()),(c==="stroke"||c==="stroke_fill")&&a>0&&!lr(i)&&(r.strokeStyle=i,r.lineWidth=a,r.stroke()),r.restore()}function r3e(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=1,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]),r.beginPath();const h=u/2,v=h*.5;for(let g=0;g<5;g++){const m=Math.PI/5*(2*g-.5),x=f+Math.cos(m)*h,_=d+Math.sin(m)*h;g===0?r.moveTo(x,_):r.lineTo(x,_);const b=m+Math.PI/5;r.lineTo(f+Math.cos(b)*v,d+Math.sin(b)*v)}r.closePath(),(c==="fill"||c==="stroke_fill")&&!lr(n)&&(r.fillStyle=n,r.fill()),(c==="stroke"||c==="stroke_fill")&&a>0&&!lr(i)&&(r.strokeStyle=i,r.lineWidth=a,r.stroke()),r.restore()}function n3e(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=1,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]);const h=u/2,v=u*.2;r.beginPath(),r.rect(f-v/2,d-h,v,u),r.rect(f-h,d-v/2,u,v),(c==="fill"||c==="stroke_fill")&&!lr(n)&&(r.fillStyle=n,r.fill()),(c==="stroke"||c==="stroke_fill")&&a>0&&!lr(i)&&(r.strokeStyle=i,r.lineWidth=a,r.stroke()),r.restore()}function i3e(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=1,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]);const h=u/2,v=u*.2;r.beginPath(),r.save(),r.translate(f,d),r.rotate(Math.PI/4),r.rect(-v/2,-h,v,u),r.restore(),r.save(),r.translate(f,d),r.rotate(-Math.PI/4),r.rect(-v/2,-h,v,u),r.restore(),r.closePath(),(c==="fill"||c==="stroke_fill")&&!lr(n)&&(r.fillStyle=n,r.fill()),(c==="stroke"||c==="stroke_fill")&&a>0&&!lr(i)&&(r.strokeStyle=i,r.lineWidth=a,r.stroke()),r.restore()}function a3e(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=1,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]);const h=u,v=f-u*.2,g=u*.6,m=u*.5,x=d-h/2;r.beginPath(),r.moveTo(v,d-h/2),r.lineTo(v,d+h/2),r.moveTo(v,x),r.lineTo(v+g,x+m/2),r.lineTo(v,x+m),r.closePath(),(c==="fill"||c==="stroke_fill")&&!lr(n)&&(r.fillStyle=n,r.fill()),(c==="stroke"||c==="stroke_fill")&&a>0&&!lr(i)&&(r.strokeStyle=i,r.lineWidth=a,r.stroke()),r.beginPath(),r.moveTo(v,d-h/2),r.lineTo(v,d+h/2),r.strokeStyle=i,r.lineWidth=Math.max(1,a),r.stroke(),r.restore()}function o3e(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=1,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]);const h=u/4;r.beginPath(),r.moveTo(f,d+h),r.bezierCurveTo(f+h*2,d-h,f+h,d-h*2,f,d-h),r.bezierCurveTo(f-h,d-h*2,f-h*2,d-h,f,d+h),r.closePath(),(c==="fill"||c==="stroke_fill")&&!lr(n)&&(r.fillStyle=n,r.fill()),(c==="stroke"||c==="stroke_fill")&&a>0&&!lr(i)&&(r.strokeStyle=i,r.lineWidth=a,r.stroke()),r.restore()}function s3e(r,t,e={}){const{color:n="#000",borderColor:i="#000",borderSize:a=2,alpha:o=1,show:s=!0,filled:l=!0,size:u=10,style:c=l?"fill":"stroke"}=e;if(!s)return;const{x:f,y:d}=t;r.save(),r.globalAlpha=o,r.setLineDash([]),r.beginPath();const h=u*.5,v=u*.5;r.moveTo(f-h*.5,d),r.lineTo(f-h*.1,d+v*.4),r.lineTo(f+h*.5,d-v*.4),(c==="fill"||c==="stroke_fill")&&(r.strokeStyle=n,r.lineWidth=a,r.lineCap="round",r.stroke()),r.restore()}const One={arrow:fy,arrowUp:JY,arrowDown:eX,arrowLeft:tX,arrowRight:rX,drawArrowUp:JY,drawArrowDown:eX,drawArrowLeft:tX,drawArrowRight:rX,circle:t3e,square:Jke,triangle:hy,triangleUp:jke,triangleDown:Zke,triangleLeft:Kke,triangleRight:Qke,diamond:e3e,star:r3e,cross:n3e,x:i3e,flag:a3e,heart:o3e,check:s3e};function Z3(r,t){let e=[];e=e.concat(t);for(const n of e){let i=n.x,a=n.width;a<hn*2&&(i-=hn,a=hn*2);let o=n.y,s=n.height;if(s<hn*2&&(o-=hn,s=hn*2),r.x>=i&&r.x<=i+a&&r.y>=o&&r.y<=o+s)return!0}return!1}function Bne(r,t,e){let n=[];n=n.concat(t);const{style:i="fill",color:a="transparent",borderSize:o=1,borderColor:s="transparent",borderStyle:l="solid",borderRadius:u=0,borderDashedValue:c=[2,2],show:f=!0}=e;if(!f)return;const d=r.roundRect??r.rect,h=(i==="fill"||e.style==="stroke_fill")&&(!Wt(a)||!lr(a));if(h&&(r.fillStyle=a,n.forEach(({x:v,y:g,width:m,height:x})=>{r.beginPath(),d.call(r,v,g,m,x,u),r.closePath(),r.fill()})),(i==="stroke"||e.style==="stroke_fill")&&o>0&&!lr(s)){switch(r.strokeStyle=s,r.fillStyle=s,r.lineWidth=o,l){case"dashed":r.setLineDash(c.map(m=>m*o));break;case"dotted":r.setLineDash([o,o*2]);break;default:r.setLineDash([]);break}const v=o%2===1?.5:0,g=Math.round(v*2);n.forEach(({x:m,y:x,width:_,height:b})=>{_>o*2&&b>o*2?(r.beginPath(),d.call(r,m+v,x+v,_-g,b-g,u),r.closePath(),r.stroke()):h||r.fillRect(m,x,_,b)})}}const l3e={name:"rect",checkEventOn:Z3,draw:(r,t,e)=>{Bne(r,t,e)}};function kne(r,t){const{size:e=12,paddingLeft:n=0,paddingTop:i=0,paddingRight:a=0,paddingBottom:o=0,weight:s="normal",family:l}=t,{x:u,y:c,text:f,align:d="left",baseline:h="top",width:v,height:g}=r,m=v??n+xa(f,e,s,l)+a,x=g??i+e+o;let _=0;switch(d){case"left":case"start":{_=u;break}case"right":case"end":{_=u-m;break}default:{_=u-m/2;break}}let b=0;switch(h){case"top":case"hanging":{b=c;break}case"bottom":case"ideographic":case"alphabetic":{b=c-x;break}default:{b=c-x/2;break}}return{x:_,y:b,width:m,height:x}}function Lne(r,t,e){let n=[];n=n.concat(t);for(const i of n){const{x:a,y:o,width:s,height:l}=kne(i,e);if(r.x>=a&&r.x<=a+s&&r.y>=o&&r.y<=o+l)return!0}return!1}function u3e(r,t,e){let n=[];n=n.concat(t);const{show:i=!0,color:a="currentColor",size:o=12,family:s,weight:l,paddingLeft:u=0,paddingTop:c=0,paddingRight:f=0,backgroundColor:d=""}=e;if(!i)return;const h=n.map(v=>kne(v,e));d&&Bne(r,h,{...e,color:d}),r.textAlign="left",r.textBaseline="top",r.font=Ks(o,l,s),r.fillStyle=a,n.forEach((v,g)=>{const m=h[g];r.fillText(v.text,m.x+u,m.y+c,m.width-u-f)})}const c3e={name:"text",checkEventOn:Lne,draw:(r,t,e)=>{u3e(r,t,e)}};function f3e(r,t){const e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)}function Nne(r,t){let e=[];e=e.concat(t);for(const n of e)if(Math.abs(f3e(r,n)-n.r)<hn){const{r:i,startAngle:a,endAngle:o}=n,s=i*Math.cos(a)+n.x,l=i*Math.sin(a)+n.y,u=i*Math.cos(o)+n.x,c=i*Math.sin(o)+n.y;if(r.x<=Math.max(s,u)+hn&&r.x>=Math.min(s,u)-hn&&r.y<=Math.max(l,c)+hn&&r.y>=Math.min(l,c)-hn)return!0}return!1}function h3e(r,t,e){let n=[];n=n.concat(t);const{style:i="solid",size:a=1,color:o="currentColor",dashedValue:s=[2,2],show:l=!0}=e;if(l){switch(r.lineWidth=a,r.strokeStyle=o,i){case"dashed":r.setLineDash(s.map(u=>u*a));break;case"dotted":r.setLineDash([a,a*2]);break;default:r.setLineDash([]);break}n.forEach(({x:u,y:c,r:f,startAngle:d,endAngle:h})=>{r.beginPath(),r.arc(u,c,f,d,h),r.stroke(),r.closePath()})}}const d3e={name:"arc",checkEventOn:Nne,draw:(r,t,e)=>{h3e(r,t,e)}};function nX(r,t,e,n,i,a,o){const[s,l,u,c,f,d,h]=n,v=o?t+d:d+i,g=o?e+h:h+a;v3e(t,e,s,l,u,c,f,v,g).forEach(x=>{r.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5])})}function v3e(r,t,e,n,i,a,o,s,l){const{cx:u,cy:c,startAngle:f,deltaAngle:d}=p3e(r,t,e,n,i,a,o,s,l),h=[],v=Math.ceil(Math.abs(d)/(Math.PI/2));for(let g=0;g<v;g++){const m=f+g*d/v,x=f+(g+1)*d/v,_=g3e(u,c,e,n,i,m,x);h.push(_)}return h}function p3e(r,t,e,n,i,a,o,s,l){const u=i*Math.PI/180,c=(r-s)/2,f=(t-l)/2,d=Math.cos(u)*c+Math.sin(u)*f,h=-Math.sin(u)*c+Math.cos(u)*f,v=d**2/e**2+h**2/n**2;v>1&&(e*=Math.sqrt(v),n*=Math.sqrt(v));const g=a===o?-1:1,m=e**2*n**2-e**2*h**2-n**2*d**2,x=e**2*h**2+n**2*d**2,_=g*Math.sqrt(Math.abs(m/x))*(e*h/n),b=g*Math.sqrt(Math.abs(m/x))*(-n*d/e),w=Math.cos(u)*_-Math.sin(u)*b+(r+s)/2,T=Math.sin(u)*_+Math.cos(u)*b+(t+l)/2,A=Math.atan2((h-b)/n,(d-_)/e);let M=Math.atan2((-h-b)/n,(-d-_)/e)-A;return M<0&&o===1?M+=2*Math.PI:M>0&&o===0&&(M-=2*Math.PI),{cx:w,cy:T,startAngle:A,deltaAngle:M}}function g3e(r,t,e,n,i,a,o){const s=Math.sin(o-a)*(Math.sqrt(4+3*Math.tan((o-a)/2)**2)-1)/3,l=Math.cos(i),u=Math.sin(i),c=r+e*Math.cos(a)*l-n*Math.sin(a)*u,f=t+e*Math.cos(a)*u+n*Math.sin(a)*l,d=r+e*Math.cos(o)*l-n*Math.sin(o)*u,h=t+e*Math.cos(o)*u+n*Math.sin(o)*l,v=c+s*(-e*Math.sin(a)*l-n*Math.cos(a)*u),g=f+s*(-e*Math.sin(a)*u+n*Math.cos(a)*l),m=d-s*(-e*Math.sin(o)*l-n*Math.cos(o)*u),x=h-s*(-e*Math.sin(o)*u+n*Math.cos(o)*l);return[v,g,m,x,d,h]}function y3e(r,t,e){let n=[];n=n.concat(t);const{lineWidth:i=1,color:a="currentColor",show:o=!0}=e;o&&(r.lineWidth=i,r.strokeStyle=a,r.setLineDash([]),n.forEach(({x:s,y:l,path:u})=>{const c=u.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi);if(le(c)){const f=s,d=l;r.beginPath(),c.forEach(h=>{let v=0,g=0,m=0,x=0;const _=h[0],b=h.slice(1).trim().split(/[\s,]+/).map(Number);switch(_){case"M":v=b[0]+f,g=b[1]+d,r.moveTo(v,g),m=v,x=g;break;case"m":v+=b[0],g+=b[1],r.moveTo(v,g),m=v,x=g;break;case"L":v=b[0]+f,g=b[1]+d,r.lineTo(v,g);break;case"l":v+=b[0],g+=b[1],r.lineTo(v,g);break;case"H":v=b[0]+f,r.lineTo(v,g);break;case"h":v+=b[0],r.lineTo(v,g);break;case"V":g=b[0]+d,r.lineTo(v,g);break;case"v":g+=b[0],r.lineTo(v,g);break;case"C":r.bezierCurveTo(b[0]+f,b[1]+d,b[2]+f,b[3]+d,b[4]+f,b[5]+d),v=b[4]+f,g=b[5]+d;break;case"c":r.bezierCurveTo(v+b[0],g+b[1],v+b[2],g+b[3],v+b[4],g+b[5]),v+=b[4],g+=b[5];break;case"S":r.bezierCurveTo(v,g,b[0]+f,b[1]+d,b[2]+f,b[3]+d),v=b[2]+f,g=b[3]+d;break;case"s":r.bezierCurveTo(v,g,v+b[0],g+b[1],v+b[2],g+b[3]),v+=b[2],g+=b[3];break;case"Q":r.quadraticCurveTo(b[0]+f,b[1]+d,b[2]+f,b[3]+d),v=b[2]+f,g=b[3]+d;break;case"q":r.quadraticCurveTo(v+b[0],g+b[1],v+b[2],g+b[3]),v+=b[2],g+=b[3];break;case"T":r.quadraticCurveTo(v,g,b[0]+f,b[1]+d),v=b[0]+f,g=b[1]+d;break;case"t":r.quadraticCurveTo(v,g,v+b[0],g+b[1]),v+=b[0],g+=b[1];break;case"A":nX(r,v,g,b,f,d,!1),v=b[5]+f,g=b[6]+d;break;case"a":nX(r,v,g,b,f,d,!0),v+=b[5],g+=b[6];break;case"Z":case"z":r.closePath(),v=m,g=x;break}}),e.style==="fill"?r.fill():r.stroke()}}))}const m3e={name:"path",checkEventOn:Z3,draw:(r,t,e)=>{y3e(r,t,e)}},Vne={},x3e=[Yke,LBe,$ke,l3e,c3e,d3e,m3e];x3e.forEach(r=>{Vne[r.name]=$3.extend(r)});function _3e(r){return Vne[r]??null}class mi extends X3{constructor(t){super(),this._widget=t}getWidget(){return this._widget}createFigure(t,e){const n=_3e(t.name);if(n!==null){const i=new n(t);if(le(e)){for(const a in e)e.hasOwnProperty(a)&&i.registerEvent(a,e[a]);this.addChild(i)}return i}return null}draw(t,...e){this.clear(),this.drawImp(t,e)}checkEventOn(t){return!0}}class zne extends mi{drawImp(t){const e=this.getWidget(),n=this.getWidget().getPane(),i=n.getChart(),a=e.getBounding(),o=i.getStyles().grid;if(o.show){t.save(),t.globalCompositeOperation="destination-over";const l=o.horizontal;if(l.show){const h=n.getAxisComponent().getTicks().map(v=>({coordinates:[{x:0,y:v.coord},{x:a.width,y:v.coord}]}));this.createFigure({name:"line",attrs:h,styles:l})?.draw(t)}const c=o.vertical;if(c.show){const h=i.getXAxisPane().getAxisComponent().getTicks().map(v=>({coordinates:[{x:v.coord,y:0},{x:v.coord,y:a.height}]}));this.createFigure({name:"line",attrs:h,styles:c})?.draw(t)}t.restore()}}}class dy extends mi{eachChildren(t){const n=this.getWidget().getPane().getChart().getChartStore(),i=n.getVisibleRangeDataList(),a=n.getBarSpace(),o=i.length;let s=0;for(;s<o;)t(i[s],a,s),++s}}class Fne extends dy{constructor(){super(...arguments),this._boundCandleBarClickEvent=t=>()=>(this.getWidget().getPane().getChart().getChartStore().executeAction("onCandleBarClick",t),!1)}drawImp(t){const e=this.getWidget().getPane(),n=e.getId()===ft.CANDLE,i=e.getChart().getChartStore(),a=this.getCandleBarOptions();if(a!==null){const{type:o,styles:s}=a;let l=0,u=0;if(a.type==="ohlc"){const{gapBar:f}=i.getBarSpace();l=Math.min(Math.max(Math.round(f*.2),1),8),l>2&&l%2===1&&l--,u=Math.floor(l/2)}const c=e.getAxisComponent();this.eachChildren((f,d)=>{const{x:h,data:{current:v,prev:g}}=f;if(le(v)){const{open:m,high:x,low:_,close:b}=v,w=s.compareRule==="current_open"?m:g?.close??b,T=[];b>w?(T[0]=s.upColor,T[1]=s.upBorderColor,T[2]=s.upWickColor):b<w?(T[0]=s.downColor,T[1]=s.downBorderColor,T[2]=s.downWickColor):(T[0]=s.noChangeColor,T[1]=s.noChangeBorderColor,T[2]=s.noChangeWickColor);const A=c.convertToPixel(m),M=c.convertToPixel(b),D=[A,M,c.convertToPixel(x),c.convertToPixel(_)];D.sort((R,k)=>R-k);const P=d.gapBar%2===0?1:0;let I=[];switch(o){case"candle_solid":{I=this._createSolidBar(h,D,d,T,P);break}case"candle_stroke":{I=this._createStrokeBar(h,D,d,T,P);break}case"candle_up_stroke":{b>m?I=this._createStrokeBar(h,D,d,T,P):I=this._createSolidBar(h,D,d,T,P);break}case"candle_down_stroke":{m>b?I=this._createStrokeBar(h,D,d,T,P):I=this._createSolidBar(h,D,d,T,P);break}case"ohlc":{I=[{name:"rect",attrs:[{x:h-u,y:D[0],width:l,height:D[3]-D[0]},{x:h-d.halfGapBar,y:A+l>D[3]?D[3]-l:A,width:d.halfGapBar-u,height:l},{x:h+u,y:M+l>D[3]?D[3]-l:M,width:d.halfGapBar-u,height:l}],styles:{color:T[0]}}];break}}I.forEach(R=>{let k=null;n&&(k={mouseClickEvent:this._boundCandleBarClickEvent(f)}),this.createFigure(R,k??void 0)?.draw(t)})}})}}getCandleBarOptions(){const t=this.getWidget().getPane().getChart().getStyles().candle;return{type:t.type,styles:t.bar}}_createSolidBar(t,e,n,i,a){return[{name:"rect",attrs:{x:t,y:e[0],width:1,height:e[3]-e[0]},styles:{color:i[2]}},{name:"rect",attrs:{x:t-n.halfGapBar,y:e[1],width:n.gapBar+a,height:Math.max(1,e[2]-e[1])},styles:{style:"stroke_fill",color:i[0],borderColor:i[1]}}]}_createStrokeBar(t,e,n,i,a){return[{name:"rect",attrs:[{x:t,y:e[0],width:1,height:e[1]-e[0]},{x:t,y:e[2],width:1,height:e[3]-e[2]}],styles:{color:i[2]}},{name:"rect",attrs:{x:t-n.halfGapBar,y:e[1],width:n.gapBar+a,height:Math.max(1,e[2]-e[1])},styles:{style:"stroke",borderColor:i[1]}}]}}class b3e extends Fne{getCandleBarOptions(){const t=this.getWidget().getPane();if(!t.getAxisComponent().isInCandle()){const n=t.getChart().getChartStore(),i=n.getIndicatorsByPaneId(t.getId());for(const a of i)if(a.shouldOhlc&&a.visible){const o=a.styles,s=n.getStyles().indicator,l=ma(o,"ohlc.compareRule",s.ohlc.compareRule),u=ma(o,"ohlc.upColor",s.ohlc.upColor),c=ma(o,"ohlc.downColor",s.ohlc.downColor),f=ma(o,"ohlc.noChangeColor",s.ohlc.noChangeColor);return{type:"ohlc",styles:{compareRule:l,upColor:u,downColor:c,noChangeColor:f,upBorderColor:u,downBorderColor:c,noChangeBorderColor:f,upWickColor:u,downWickColor:c,noChangeWickColor:f}}}}return null}drawImp(t){super.drawImp(t);const e=this.getWidget(),n=e.getPane(),i=n.getChart(),a=e.getBounding(),o=i.getXAxisPane().getAxisComponent(),s=n.getAxisComponent(),l=i.getChartStore(),u=l.getIndicatorsByPaneId(n.getId()),c=l.getStyles().indicator;t.save(),u.forEach(f=>{if(f.visible){f.zLevel<0?t.globalCompositeOperation="destination-over":t.globalCompositeOperation="source-over";let d=!1;if(f.draw!==null&&(t.save(),d=f.draw({ctx:t,chart:i,indicator:f,bounding:a,xAxis:o,yAxis:s}),t.restore()),!d){const g=f.result,m=[];this.eachChildren((x,_)=>{const{halfGapBar:b}=_,{dataIndex:w,x:T}=x,A=o.convertToPixel(w-1),M=o.convertToPixel(w+1),D=g[w-1]??null,P=g[w]??null,I=g[w+1]??null,R={x:A},k={x:T},O={x:M};f.figures.forEach(({key:V})=>{const N=D?.[V];We(N)&&(R[V]=s.convertToPixel(N));const L=P?.[V];We(L)&&(k[V]=s.convertToPixel(L));const G=I?.[V];We(G)&&(O[V]=s.convertToPixel(G))}),q3(f,w,c,(V,N,L)=>{if(le(P?.[V.key])){const G=k[V.key];let W=V.attrs?.({data:{prev:D,current:P,next:I},coordinate:{prev:R,current:k,next:O},bounding:a,barSpace:_,xAxis:o,yAxis:s});if(!le(W))switch(V.type){case"circle":{W={x:T,y:G,r:Math.max(1,b)};break}case"rect":case"bar":{const Z=V.baseValue??s.getRange().from,F=s.convertToPixel(Z);let q=Math.abs(F-G);Z!==P?.[V.key]&&(q=Math.max(1,q));let $=0;G>F?$=F:$=G,W={x:T-b,y:$,width:Math.max(1,b*2),height:q};break}case"line":{le(m[L])||(m[L]=[]),We(k[V.key])&&We(O[V.key])&&m[L].push({coordinates:[{x:k.x,y:k[V.key]},{x:O.x,y:O[V.key]}],styles:N});break}}const U=V.type;le(W)&&U!=="line"&&this.createFigure({name:U==="bar"?"rect":U,attrs:W,styles:N})?.draw(t)}})}),m.forEach(x=>{if(x.length>1){const _=[{coordinates:[x[0].coordinates[0],x[0].coordinates[1]],styles:x[0].styles}];for(let b=1;b<x.length;b++){const w=_[_.length-1],T=x[b],A=w.coordinates[w.coordinates.length-1];A.x===T.coordinates[0].x&&A.y===T.coordinates[0].y&&w.styles.style===T.styles.style&&w.styles.color===T.styles.color&&w.styles.size===T.styles.size&&w.styles.smooth===T.styles.smooth&&w.styles.dashedValue?.[0]===T.styles.dashedValue?.[0]&&w.styles.dashedValue?.[1]===T.styles.dashedValue?.[1]?w.coordinates.push(T.coordinates[1]):_.push({coordinates:[T.coordinates[0],T.coordinates[1]],styles:T.styles})}_.forEach(({coordinates:b,styles:w})=>{this.createFigure({name:"line",attrs:{coordinates:b},styles:w})?.draw(t)})}})}const h=f.result,v=l.getBarSpace();f.figures.forEach((g,m)=>{if(g.type==="polygon"&&typeof g.attrs=="function"){const x=h?.length??0,_=x>0?h[0]:null,b=x>0?h[x-1]:null,w=x>0?{x:o.convertToPixel(0)}:{x:0},T=x>0?{x:o.convertToPixel(x-1)}:{x:0},A=g.attrs({data:{prev:null,current:_,next:b},coordinate:{prev:null,current:w,next:T},bounding:a,barSpace:v,xAxis:o,yAxis:s});A&&A.coordinates&&Array.isArray(A.coordinates)&&A.coordinates.length>0&&this.createFigure({name:"polygon",attrs:A,styles:typeof g.styles=="function"?g.styles({data:{prev:null,current:_,next:b},indicator:f,defaultStyles:c}):g.styles})?.draw(t)}})}}),t.restore()}}class Hne extends mi{drawImp(t){const e=this.getWidget(),n=e.getPane(),i=e.getBounding(),a=e.getPane().getChart().getChartStore(),o=a.getCrosshair(),s=a.getStyles().crosshair;if(Wt(o.paneId)&&s.show){if(o.paneId===n.getId()){const u=o.y;this._drawLine(t,[{x:0,y:u},{x:i.width,y:u}],s.horizontal)}const l=o.realX;this._drawLine(t,[{x:l,y:0},{x:l,y:i.height}],s.vertical)}}_drawLine(t,e,n){if(n.show){const i=n.line;i.show&&this.createFigure({name:"line",attrs:{coordinates:e},styles:i})?.draw(t)}}}class Gne extends mi{constructor(t){super(t),this._activeFeatureInfo=null,this._featureClickEvent=(e,n)=>()=>{const i=this.getWidget().getPane();return n.script?i.getChart().getChartStore().executeAction("onScriptTooltipFeatureClick",n):i.getChart().getChartStore().executeAction(e,n),!0},this._featureMouseMoveEvent=e=>()=>(this._activeFeatureInfo=e,!0),this.registerEvent("mouseMoveEvent",e=>(this._activeFeatureInfo=null,!1))}drawImp(t){const e=this.getWidget(),i=e.getPane().getChart().getChartStore(),a=i.getCrosshair();if(le(a.kLineData)){const o=e.getBounding(),{offsetLeft:s,offsetTop:l,offsetRight:u}=i.getStyles().indicator.tooltip;this.drawIndicatorTooltip(t,s,l,o.width-u)}}drawIndicatorTooltip(t,e,n,i){const a=this.getWidget().getPane(),o=a.getChart().getChartStore(),l=o.getStyles().indicator.tooltip;if(this.isDrawTooltip(o.getCrosshair(),l)){const u=o.getIndicatorsByPaneId(a.getId()),c=l.title,f=l.legend;u.forEach(m=>{let x=0;const _={x:e,y:n},{name:b,inputsText:w,legends:T,features:A}=this.getIndicatorTooltipData(m),M=b.length>0,D=T.length>0;if(M||D){const P=this.classifyTooltipFeatures(A);if(x=this.drawStandardTooltipFeatures(t,P[0],_,m,e,x,i),M){let I=b;w.length>0&&(I=`${I}${w}`);const R=c.color;x=this.drawStandardTooltipLegends(t,[{title:{text:"",color:R},value:{text:I,color:R}}],_,e,x,i,c)}x=this.drawStandardTooltipFeatures(t,P[1],_,m,e,x,i),D&&(x=this.drawStandardTooltipLegends(t,T,_,e,x,i,f)),x=this.drawStandardTooltipFeatures(t,P[2],_,m,e,x,i),n=_.y+x}});const h=a.getChart().getScripts?.()||[],v=a.getId();h.filter(m=>v==="candle_pane"?m.position==="main":m.position==="vice").forEach(m=>{if(m.createTooltipDataSource){let x=0;const _={x:e,y:n},{features:b,legends:w}=m.createTooltipDataSource({script:m});let T=w||[];if(m.tooltipTools&&Array.isArray(m.tooltipTools)&&m.tooltipTools.length>0){const P=a.getChart().getChartStore().getCrosshair().dataIndex,I=m.tooltipTools.map(R=>{let k="N/A",O=!1;if(Array.isArray(R.dataSource)&&R.dataSource.length>0){const G=R.dataSource[P??0]||R.dataSource[R.dataSource.length-1];G!=null&&!isNaN(G)&&(k=String(G),O=!0)}else if(!Array.isArray(R.dataSource)){const G=R.dataSource;if(G!=null)if(typeof G=="string"){const W=parseFloat(G);!isNaN(W)&&isFinite(W)?(k=String(W),O=!0):(k=G,O=!0)}else typeof G=="number"&&!isNaN(G)&&isFinite(G)&&(k=String(G),O=!0)}const V=R.style?.color||R.valueColor||"#333",N=R.precision;let L=k;return O&&N!==null&&N!==void 0?L=Number(k).toFixed(N):O&&(L=String(k)),{title:{text:R.label+":",color:V},value:{text:L,color:V}}});T=[...T,...I]}const A=this.classifyTooltipFeatures(b||[]);if(b&&b.length>0){if(x=this.drawStandardTooltipFeatures(t,A[0],_,null,e,x,i,m),m.name){const M=c.color;x=this.drawStandardTooltipLegends(t,[{title:{text:"",color:M},value:{text:m.name,color:M}}],_,e,x,i,c)}x=this.drawStandardTooltipFeatures(t,A[1],_,null,e,x,i,m),T&&T.length>0&&(x=this.drawStandardTooltipLegends(t,T,_,e,x,i,f)),x=this.drawStandardTooltipFeatures(t,A[2],_,null,e,x,i,m),n=_.y+x}}})}return n}drawStandardTooltipFeatures(t,e,n,i,a,o,s,l){if(e.length>0){let u=0,c=0;e.forEach(h=>{const{marginLeft:v=0,marginTop:g=0,marginRight:m=0,marginBottom:x=0,paddingLeft:_=0,paddingTop:b=0,paddingRight:w=0,paddingBottom:T=0,size:A=0,type:M,content:D}=h;let P=0;if(M==="icon_font"){const I=D;t.font=Ks(A,"normal",I.family),P=t.measureText(I.code).width}else P=A;u+=v+_+P+w+m,c=Math.max(c,g+b+A+T+x)}),n.x+u>s?(n.x=a,n.y+=o,o=c):o=Math.max(o,c);const d=this.getWidget().getPane().getId();e.forEach(h=>{const{marginLeft:v=0,marginTop:g=0,marginRight:m=0,paddingLeft:x=0,paddingTop:_=0,paddingRight:b=0,paddingBottom:w=0,backgroundColor:T,activeBackgroundColor:A,borderRadius:M,size:D=0,color:P,activeColor:I,type:R,content:k}=h;let O=P,V=T;this._activeFeatureInfo?.paneId===d&&this._activeFeatureInfo.indicator?.id===i?.id&&this._activeFeatureInfo.feature.id===h.id&&(O=I??P,V=A??T);let N="onCandleTooltipFeatureClick";const L={paneId:d,feature:h};le(i)?(N="onIndicatorTooltipFeatureClick",L.indicator=i):l&&(N="onScriptTooltipFeatureClick",L.script=l);const G={mouseClickEvent:this._featureClickEvent(N,L),mouseMoveEvent:this._featureMouseMoveEvent(L)};let W=0;if(R==="icon_font"){const U=k;this.createFigure({name:"text",attrs:{text:U.code,x:n.x+v,y:n.y+g},styles:{paddingLeft:x,paddingTop:_,paddingRight:b,paddingBottom:w,borderRadius:M,size:D,family:U.family,color:O,backgroundColor:V}},G)?.draw(t),W=t.measureText(U.code).width}else{this.createFigure({name:"rect",attrs:{x:n.x+v,y:n.y+g,width:D,height:D},styles:{paddingLeft:x,paddingTop:_,paddingRight:b,paddingBottom:w,color:V}},G)?.draw(t);const U=k;this.createFigure({name:"path",attrs:{path:U.path,x:n.x+v+x,y:n.y+g+_,width:D,height:D},styles:{style:U.style,lineWidth:U.lineWidth,color:O}})?.draw(t),W=D}n.x+=v+x+W+b+m})}return o}drawStandardTooltipLegends(t,e,n,i,a,o,s){if(e.length>0){const{marginLeft:l,marginTop:u,marginRight:c,marginBottom:f,size:d,family:h,weight:v}=s;t.font=Ks(d,v,h),e.forEach(g=>{const m=g.title,x=g.value,_=t.measureText(m.text).width,b=t.measureText(x.text).width,w=_+b,T=u+d+f;n.x+l+w+c>o?(n.x=i,n.y+=a,a=T):a=Math.max(a,T),m.text.length>0&&this.createFigure({name:"text",attrs:{x:n.x+l,y:n.y+u,text:m.text},styles:{color:m.color,size:d,family:h,weight:v}})?.draw(t),this.createFigure({name:"text",attrs:{x:n.x+l+_,y:n.y+u,text:x.text},styles:{color:x.color,size:d,family:h,weight:v}})?.draw(t),n.x+=l+w+c})}return a}isDrawTooltip(t,e){const n=e.showRule;return n==="always"||n==="follow_cross"&&Wt(t.paneId)}getIndicatorTooltipData(t){const e=this.getWidget().getPane().getChart().getChartStore(),n=e.getStyles().indicator,i=n.tooltip,a=i.title;let o="",s="";a.show&&a.showName&&(o=t.shortName);const l={name:o,inputsText:s,legends:[],features:i.features},u=e.getCrosshair().dataIndex,c=t.result,f=e.getInnerFormatter(),d=e.getDecimalFold(),h=e.getThousandsSeparator(),v=[],m=this.getWidget().getBounding();if(t.visible&&m.width>768){const x=c[u]??c[u-1]??{},_=i.legend.defaultValue;q3(t,u,n,(b,w)=>{if(Wt(b.title)&&b.title.trim()!==""){const T=w.color;let A=x[b.key];We(A)&&(A=Mn(A,t.precision),t.shouldFormatBigNumber&&(A=f.formatBigNumber(A)),A=d.format(h.format(A))),v.push({title:{text:b.title,color:T},value:{text:A??_,color:T}})}}),l.legends=v}if(Jn(t.createTooltipDataSource)){const x=this.getWidget(),_=x.getPane(),b=_.getChart(),{name:w,inputsText:T,legends:A,features:M}=t.createTooltipDataSource({chart:b,indicator:t,crosshair:e.getCrosshair(),bounding:x.getBounding(),xAxis:_.getChart().getXAxisPane().getAxisComponent(),yAxis:_.getAxisComponent()});if(a.show&&(Wt(w)&&a.showName&&(l.name=w),Wt(T)&&a.showParams&&(l.inputsText=T)),le(M)&&(l.features=M),le(A)&&t.visible){const D=[],P=n.tooltip.legend.color;A.forEach(I=>{let R={text:"",color:P};Za(I.title)?R=I.title:R.text=I.title;let k={text:"",color:P};Za(I.value)?k=I.value:k.text=I.value,We(Number(k.text))&&(k.text=d.format(h.format(k.text))),D.push({title:R,value:k})}),l.legends=D}}return l}classifyTooltipFeatures(t){const e=[],n=[],i=[];return t.forEach(a=>{switch(a.position){case"left":{e.push(a);break}case"middle":{n.push(a);break}case"right":{i.push(a);break}}}),[e,n,i]}}class K3 extends mi{constructor(t){super(t),this._initEvent()}_isMouseInButtonArea(t){const e=this.getWidget(),n=e.getBounding(),i=t.x-(n?.left??0),a=t.y-(n?.top??0),l=e.getPane().getMainWidget()._children||[];for(const u of l)if(u.constructor.name==="CandleTooltipView"){const c=u.getButtonAreas();for(const f of c)if(i>=f.left&&i<=f.right&&a>=f.top&&a<=f.bottom)return!0}return!1}_initEvent(){const t=this.getWidget(),e=t.getPane(),n=e.getId(),i=e.getChart(),a=i.getChartStore();this.registerEvent("mouseMoveEvent",o=>{const s=a.getProgressOverlayInfo();if(s!==null){const l=s.overlay;let u=s.paneId;l.isStart()&&(a.updateProgressOverlayInfo(n),u=n);const c=l.points.length-1;return l.isDrawing()&&u===n&&(l.eventMoveForDrawing(this._coordinateToPoint(l,o)),l.onDrawing?.({chart:i,overlay:l,...o})),this._figureMouseMoveEvent(l,"point",c,{key:`${Yh}point_${c}`,type:"circle",attrs:{}})(o)}return a.setHoverOverlayInfo({paneId:n,overlay:null,figureType:"none",figureIndex:-1,figure:null},(l,u)=>this._processOverlayMouseEnterEvent(l,u,o),(l,u)=>this._processOverlayMouseLeaveEvent(l,u,o)),t.setForceCursor(null),!1}).registerEvent("mouseClickEvent",o=>{const s=this.getWidget();if(s.getName()===et.SCRIPT){const u=s;if(u._isMouseInScriptButtons&&u._isMouseInScriptButtons(o))return!1}const l=a.getProgressOverlayInfo();if(l!==null){const u=l.overlay;let c=l.paneId;u.isStart()&&(a.updateProgressOverlayInfo(n,!0),c=n);const f=u.points.length-1;return u.isDrawing()&&c===n&&(u.eventMoveForDrawing(this._coordinateToPoint(u,o)),u.onDrawing?.({chart:i,overlay:u,...o}),u.nextStep(),u.isDrawing()||(a.progressOverlayComplete(),u.onDrawEnd?.({chart:i,overlay:u,...o}))),this._figureMouseClickEvent(u,"point",f,{key:`${Yh}point_${f}`,type:"circle",attrs:{}})(o)}return a.setClickOverlayInfo({paneId:n,overlay:null,figureType:"none",figureIndex:-1,figure:null},(u,c)=>this._processOverlaySelectedEvent(u,c,o),(u,c)=>this._processOverlayDeselectedEvent(u,c,o)),!1}).registerEvent("mouseDoubleClickEvent",o=>{const s=a.getProgressOverlayInfo();if(s!==null){const l=s.overlay,u=s.paneId;l.isDrawing()&&u===n&&(l.forceComplete(),l.isDrawing()||(a.progressOverlayComplete(),l.onDrawEnd?.({chart:i,overlay:l,...o})));const c=l.points.length-1;return this._figureMouseClickEvent(l,"point",c,{key:`${Yh}point_${c}`,type:"circle",attrs:{}})(o)}return!1}).registerEvent("mouseRightClickEvent",o=>{const s=a.getProgressOverlayInfo();if(s!==null){const l=s.overlay;if(l.isDrawing()){const u=l.points.length-1;return this._figureMouseRightClickEvent(l,"point",u,{key:`${Yh}point_${u}`,type:"circle",attrs:{}})(o)}}return!1}).registerEvent("mouseUpEvent",o=>{const{overlay:s,figure:l}=a.getPressedOverlayInfo();return s!==null&&Ga("onPressedMoveEnd",l)&&typeof s.getHasMoved=="function"&&s.getHasMoved()===!0&&s.onPressedMoveEnd?.({chart:i,overlay:s,figure:l??void 0,...o}),a.setPressedOverlayInfo({paneId:n,overlay:null,figureType:"none",figureIndex:-1,figure:null}),!1}).registerEvent("pressedMouseMoveEvent",o=>{const{overlay:s,figureType:l,figureIndex:u,figure:c}=a.getPressedOverlayInfo();if(s!==null&&(s.setHasMoved&&s.setHasMoved(!0),Ga("onPressedMoving",c))){if(!s.lock){const f=this._coordinateToPoint(s,o);l==="point"?s.eventPressedPointMove(f,u):s.eventPressedOtherMove(f,this.getWidget().getPane().getChart().getChartStore());let d=!1;s.onPressedMoving?.({chart:i,overlay:s,figure:c??void 0,...o,preventDefault:()=>{d=!0}}),d?this.getWidget().setForceCursor(null):this.getWidget().setForceCursor("pointer")}return!0}return this.getWidget().setForceCursor(null),!1})}_createFigureEvents(t,e,n,i){return t.isDrawing()?null:{mouseMoveEvent:this._figureMouseMoveEvent(t,e,n,i),mouseDownEvent:this._figureMouseDownEvent(t,e,n,i),mouseClickEvent:this._figureMouseClickEvent(t,e,n,i),mouseRightClickEvent:this._figureMouseRightClickEvent(t,e,n,i),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(t,e,n,i)}}_processOverlayMouseEnterEvent(t,e,n){return Jn(t.onMouseEnter)&&Ga("onMouseEnter",e)?(t.onMouseEnter({chart:this.getWidget().getPane().getChart(),overlay:t,figure:e??void 0,...n}),!0):!1}_processOverlayMouseLeaveEvent(t,e,n){return Jn(t.onMouseLeave)&&Ga("onMouseLeave",e)?(t.onMouseLeave({chart:this.getWidget().getPane().getChart(),overlay:t,figure:e??void 0,...n}),!0):!1}_processOverlaySelectedEvent(t,e,n){return Ga("onSelected",e)?(t.onSelected?.({chart:this.getWidget().getPane().getChart(),overlay:t,figure:e??void 0,...n}),!0):!1}_processOverlayDeselectedEvent(t,e,n){return Ga("onDeselected",e)?(t.onDeselected?.({chart:this.getWidget().getPane().getChart(),overlay:t,figure:e??void 0,...n}),!0):!1}_figureMouseMoveEvent(t,e,n,i){return a=>{const o=this.getWidget().getPane(),s=this.getWidget();if(s.getName()===et.SCRIPT){const u=s;if(u._isMouseInScriptButtons&&u._isMouseInScriptButtons(a))return!1}const l=!t.isDrawing()&&Ga("onMouseMove",i);if(l){let u=!1;t.onMouseMove?.({chart:o.getChart(),overlay:t,figure:i,...a,preventDefault:()=>{u=!0}}),u?this.getWidget().setForceCursor(null):this.getWidget().setForceCursor("pointer")}return o.getChart().getChartStore().setHoverOverlayInfo({paneId:o.getId(),overlay:t,figureType:e,figure:i,figureIndex:n},(u,c)=>this._processOverlayMouseEnterEvent(u,c,a),(u,c)=>this._processOverlayMouseLeaveEvent(u,c,a)),l}}_figureMouseDownEvent(t,e,n,i){return a=>{const o=this.getWidget().getPane(),s=o.getId(),l=this.getWidget();if(l.getName()===et.SCRIPT){const u=l;if(u._isMouseInScriptButtons&&u._isMouseInScriptButtons(a))return!1}return t.setHasMoved&&t.setHasMoved(!1),t.startPressedMove(this._coordinateToPoint(t,a)),Ga("onPressedMoveStart",i)?(t.onPressedMoveStart?.({chart:o.getChart(),overlay:t,figure:i,...a}),o.getChart().getChartStore().setPressedOverlayInfo({paneId:s,overlay:t,figureType:e,figureIndex:n,figure:i}),!t.isDrawing()):!1}}_figureMouseClickEvent(t,e,n,i){return a=>{const o=this.getWidget().getPane(),s=o.getId(),l=this.getWidget();if(l.getName()===et.SCRIPT){const c=l;if(c._isMouseInScriptButtons&&c._isMouseInScriptButtons(a))return!1}const u=!t.isDrawing()&&Ga("onClick",i);return u&&t.onClick?.({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i,...a}),o.getChart().getChartStore().setClickOverlayInfo({paneId:s,overlay:t,figureType:e,figureIndex:n,figure:i},(c,f)=>this._processOverlaySelectedEvent(c,f,a),(c,f)=>this._processOverlayDeselectedEvent(c,f,a)),u}}_figureMouseDoubleClickEvent(t,e,n,i){return a=>Ga("onDoubleClick",i)?(t.onDoubleClick?.({...a,chart:this.getWidget().getPane().getChart(),figure:i,overlay:t}),!t.isDrawing()):!1}_figureMouseRightClickEvent(t,e,n,i){return a=>{if(Ga("onRightClick",i)){let o=!1;return t.onRightClick?.({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i,...a,preventDefault:()=>{o=!0}}),o&&this.getWidget().getPane().getChart().getChartStore().removeOverlay(t),!t.isDrawing()}return!1}}_coordinateToPoint(t,e){const n={},i=this.getWidget().getPane(),a=i.getChart(),o=a.getChartStore();if(this.coordinateToPointTimestampDataIndexFlag()){const l=a.getXAxisPane().getAxisComponent().convertFromPixel(e.x),u=o.dataIndexToTimestamp(l)??void 0;n.timestamp=u,n.dataIndex=l}if(this.coordinateToPointValueFlag()){const l=i.getAxisComponent().convertFromPixel(e.y);n.value=l}return n}coordinateToPointValueFlag(){return!0}coordinateToPointTimestampDataIndexFlag(){return!0}dispatchEvent(t,e){const n=this.getWidget().getPane().getChart().getChartStore(),i=n.isOverlayDrawing();return n.getProgressOverlayInfo(),t==="mouseClickEvent"&&this._isMouseInButtonArea(e)?!1:i?this.onEvent(t,e):super.dispatchEvent(t,e)}drawImp(t){this.getCompleteOverlays().forEach(i=>{i.visible&&this._drawOverlay(t,i)});const n=this.getProgressOverlay();le(n)&&n.visible&&this._drawOverlay(t,n)}_drawOverlay(t,e){const{points:n}=e,i=this.getWidget().getPane(),a=i.getChart(),o=a.getChartStore(),s=i.getAxisComponent(),l=a.getXAxisPane().getAxisComponent(),u=n.map(c=>{let f=null;We(c.timestamp)&&(f=o.timestampToDataIndex(c.timestamp));const d={x:0,y:0};return We(f)&&(d.x=l.convertToPixel(f)),We(c.value)&&(d.y=s?.convertToPixel(c.value)??0),d});if(u.length>0){const c=[].concat(this.getFigures(e,u));this.drawFigures(t,e,c)}this.drawDefaultFigures(t,e,u)}drawFigures(t,e,n){const i=this.getWidget().getPane().getChart().getStyles().overlay;n.forEach((a,o)=>{const{type:s,styles:l,attrs:u}=a;[].concat(u).forEach(f=>{const d=this._createFigureEvents(e,"other",o,a),h={...i[s],...e.styles?.[s],...l};this.createFigure({name:s,attrs:f,styles:h},d??void 0)?.draw(t)})})}getCompleteOverlays(){const t=this.getWidget().getPane();return t.getChart().getChartStore().getOverlaysByPaneId(t.getId())}getProgressOverlay(){const t=this.getWidget().getPane(),e=t.getChart().getChartStore().getProgressOverlayInfo();return le(e)&&e.paneId===t.getId()?e.overlay:null}getFigures(t,e){const n=this.getWidget(),i=n.getPane(),a=i.getChart(),o=i.getAxisComponent(),s=a.getXAxisPane().getAxisComponent(),l=n.getBounding();return t.createPointFigures?.({chart:a,overlay:t,coordinates:e,bounding:l,xAxis:s,yAxis:o})??[]}drawDefaultFigures(t,e,n){if(e.needDefaultPointFigure){const i=this.getWidget().getPane().getChart().getChartStore(),a=i.getHoverOverlayInfo(),o=i.getClickOverlayInfo();if(a.overlay?.id===e.id&&a.figureType!=="none"||o.overlay?.id===e.id&&o.figureType!=="none"){const s=i.getStyles().overlay,l=e.styles,u={...s.point,...l?.point};n.forEach(({x:c,y:f},d)=>{let h=u.radius,v=u.color,g=u.borderColor,m=u.borderSize;a.overlay?.id===e.id&&a.figureType==="point"&&a.figure?.key===`${Yh}point_${d}`&&(h=u.activeRadius,v=u.activeColor,g=u.activeBorderColor,m=u.activeBorderSize),this.createFigure({name:"circle",attrs:{x:c,y:f,r:h+m},styles:{color:g}},this._createFigureEvents(e,"point",d,{key:`${Yh}point_${d}`,type:"circle",attrs:{x:c,y:f,r:h+m},styles:{color:g}})??void 0)?.draw(t),this.createFigure({name:"circle",attrs:{x:c,y:f,r:h},styles:{color:v}})?.draw(t)})}}}}class Wne extends mi{constructor(t){super(t),this._isRendering=!1,this._lastRenderHash=""}drawImp(t){if(!this._isRendering){this._isRendering=!0;try{const e=this.getWidget(),n=e.getPane(),i=n.getChart().getChartStore(),a=n.getId(),o=i.getScriptsByPaneId(a);if(o.length===0)return;const s=e.getBounding(),l=n.getChart().getXAxisPane().getAxisComponent(),u=n.getAxisComponent();o.forEach((c,f)=>{if(c.visible)try{const d=n.getChart()._ScriptManager,h=d.getScript(c.key);if(h&&h._compiledFunction){t.save(),t.setLineDash([]),t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.strokeStyle="#000000",t.fillStyle="#000000",t.font="12px Arial",t.textAlign="left",t.textBaseline="alphabetic";const v={ctx:t,bounding:s,yAxis:u,xAxis:l,chart:n.getChart(),indicator:c},g=d.createContext(n.getChart().getDataList(),c.key,c.msgCallback,v,h);h._compiledFunction(g),t.restore()}}catch(d){console.error(` ${c.key} :`,d),t.restore()}})}finally{this._isRendering=!1}}}}class Une extends WS{constructor(t,e){super(t,e),this._gridView=new zne(this),this._indicatorView=new b3e(this),this._crosshairLineView=new Hne(this),this._tooltipView=this.createTooltipView(),this._overlayView=new K3(this),this._scriptView=new Wne(this),this.addChild(this._tooltipView),this.addChild(this._overlayView)}getName(){return et.MAIN}updateMain(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t),this._scriptView.draw(t))}createTooltipView(){return new Gne(this)}updateMainContent(t){}updateOverlayContent(t){}updateOverlay(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t),this.updateOverlayContent(t)),this._tooltipView.draw(t)}}class S3e extends dy{constructor(){super(...arguments),this._ripplePoint=this.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),this._animationFrameTime=0,this._animation=new Mb({iterationCount:1/0}).doFrame(t=>{this._animationFrameTime=t;const e=this.getWidget().getPane();e.getChart().updatePane(pt.Main,e.getId())})}drawImp(t){const e=this.getWidget(),n=e.getPane(),i=n.getChart(),o=i.getDataList().length-1,s=e.getBounding(),l=n.getAxisComponent(),u=i.getStyles().candle.area,c=[];let f=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,h=null;if(this.eachChildren(g=>{const m=g.x,{current:x}=g.data,_=x?.[u.value];if(We(_)){const b=l.convertToPixel(_);d===Number.MIN_SAFE_INTEGER&&(d=m),c.push({x:m,y:b}),f=Math.min(f,b),g.dataIndex===o&&(h={x:m,y:b})}}),c.length>0){this.createFigure({name:"line",attrs:{coordinates:c},styles:{color:u.lineColor,size:u.lineSize,smooth:u.smooth}})?.draw(t);const g=u.backgroundColor;let m="";if(vi(g)){const x=t.createLinearGradient(0,s.height,0,f);try{g.forEach(({offset:_,color:b})=>{x.addColorStop(_,b)})}catch{}m=x}else m=g;t.fillStyle=m,t.beginPath(),t.moveTo(d,s.height),t.lineTo(c[0].x,c[0].y),Ane(t,c,u.smooth),t.lineTo(c[c.length-1].x,s.height),t.closePath(),t.fill()}const v=u.point;if(v.show&&le(h)){this.createFigure({name:"circle",attrs:{x:h.x,y:h.y,r:v.radius},styles:{style:"fill",color:v.color}})?.draw(t);let g=v.rippleRadius;v.animation&&(g=v.radius+this._animationFrameTime/v.animationDuration*(v.rippleRadius-v.radius),this._animation.setDuration(v.animationDuration).start()),this._ripplePoint?.setAttrs({x:h.x,y:h.y,r:g}).setStyles({style:"fill",color:v.rippleColor}).draw(t)}else this.stopAnimation()}stopAnimation(){this._animation.stop()}}class w3e extends dy{constructor(){super(...arguments),this._ripplePoint=this.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),this._animationFrameTime=0,this._animation=new Mb({iterationCount:1/0}).doFrame(t=>{this._animationFrameTime=t;const e=this.getWidget().getPane();e.getChart().updatePane(pt.Main,e.getId())})}drawImp(t){const n=this.getWidget().getPane(),i=n.getChart(),o=i.getDataList().length-1,s=n.getAxisComponent(),l=i.getStyles().candle.area,u=[];let c=null;this.eachChildren(d=>{const h=d.x,{current:v}=d.data,g=v?.[l.value];if(We(g)){const m=s.convertToPixel(g);u.push({x:h,y:m}),d.dataIndex===o&&(c={x:h,y:m})}}),u.length>0&&this.createFigure({name:"line",attrs:{coordinates:u},styles:{color:l.lineColor,size:l.lineSize,smooth:l.smooth}})?.draw(t);const f=l.point;if(f.show&&le(c)){this.createFigure({name:"circle",attrs:{x:c.x,y:c.y,r:f.radius},styles:{style:"fill",color:f.color}})?.draw(t);let d=f.rippleRadius;f.animation&&(d=f.radius+this._animationFrameTime/f.animationDuration*(f.rippleRadius-f.radius),this._animation.setDuration(f.animationDuration).start()),this._ripplePoint?.setAttrs({x:c.x,y:c.y,r:d}).setStyles({style:"fill",color:f.rippleColor}).draw(t)}else this.stopAnimation()}stopAnimation(){this._animation.stop()}}const C3e=.18,iX=36;function T3e(r,t){if(!r)return r;if(r.startsWith("#")){const e=r.slice(1),n=parseInt(e.length===3?e.split("").map(s=>s+s).join(""):e,16),i=n>>16&255,a=n>>8&255,o=n&255;return`rgba(${i}, ${a}, ${o}, ${t})`}return r.startsWith("rgb")?r.replace(/rgba?\(([^)]+)\)/,(e,n)=>{const i=n.split(",").map(l=>l.trim()),[a,o,s]=i;return`rgba(${a}, ${o}, ${s}, ${t})`}):r}function t0(r){if(!Number.isFinite(r))return"0";const t=Math.abs(r);return t>=1e6?`${(r/1e6).toFixed(1)}M`:t>=1e3?`${(r/1e3).toFixed(1)}K`:`${Math.round(r)}`}function A3e(r,t){const e=r.length;if(e<=t)return{rows:r.map((o,s)=>({buyVolume:Number(o.buyVolume??0),sellVolume:Number(o.sellVolume??0),totalVolume:Number(o.buyVolume??0)+Number(o.sellVolume??0),delta:Number(o.delta??(o.buyVolume??0)-(o.sellVolume??0)),startIndex:s,endIndex:s})),groupSize:1};const n=Math.max(1,Math.ceil(e/t)),i=[];for(let a=0;a<e;a+=n){const o=r.slice(a,a+n);let s=0,l=0;o.forEach(u=>{s+=Number(u.buyVolume??0),l+=Number(u.sellVolume??0)}),i.push({buyVolume:s,sellVolume:l,totalVolume:s+l,delta:s-l,startIndex:a,endIndex:a+o.length-1})}return{rows:i,groupSize:n}}class M3e extends dy{drawImp(t){const e=this.getWidget(),n=e.getPane(),a=n.getChart().getStyles().candle.footprint;if(!a||!a.buyColor&&!a.sellColor)return;const o=n.getAxisComponent(),s=a.padding,l=a.cell,u=a.border,c=a.delta,f=a.vol,d=s.body,h=s.textTop,v=s.textBottom,g=s.textHorizontal,m=l.height,x=l.size,_=u.dividerWidth,b=u.size,w=a.dividerColor,T=a.pocHighlightColor,A=a.buyColor,M=a.sellColor,D=c.show,P=c.size,I=f.show,R=f.color,k=f.size,O=f.family,V=f.weight;this.eachChildren((N,L)=>{const{current:G}=N.data;if(G===null)return;const W=G?.high,U=G?.low,Z=G?.open,F=G?.close;if(!We(W)||!We(U)||!We(Z)||!We(F))return;const q=G?.[a.dataKey];if(!vi(q)||q.length===0)return;const $=[...q].sort((ir,Lr)=>Lr.price-ir.price),K=$.reduce((ir,Lr)=>ir+Number(Lr.buyVolume??0),0),re=$.reduce((ir,Lr)=>ir+Number(Lr.sellVolume??0),0),ce=K+re,pe=K-re,de=G?.pocPrice,ge=$.findIndex(ir=>Number(ir.price)===Number(de)),Ce=o.convertToPixel(W),xe=o.convertToPixel(U);let we=Math.min(Ce,xe)+d,Pe=Math.max(Ce,xe)-d;if(Pe<=we){const ir=m*$.length;we=Math.min(Ce,xe),Pe=we+ir}const De=Math.max(m,Pe-we),Ae=Math.max(1,Math.floor(De/m)),{rows:Xe,groupSize:Ne}=A3e($,Ae),St=Xe.length,tt=Math.max(m,De/St);let wt;F>Z?wt=!0:F<Z?wt=!1:wt=pe>=0;const xt=Math.max(L.gapBar,iX),dt=Math.max(1,xt*C3e),Ee=Math.min(xt,Math.max(xt-dt,iX)),Lt=Math.max(1,_),pr=N.x-Ee/2,Yr=e.getBounding(),xr=Math.max(Yr.top,we),_r=Math.min(Yr.top+Yr.height,Pe),xi=T3e(wt?A:M,.1),ei=wt?A:M,ti=o.convertToPixel(Z),On=o.convertToPixel(F);let nr=Math.min(ti,On),Nt=Math.max(ti,On);nr=Math.max(xr,Math.min(_r,nr)),Nt=Math.min(_r,Math.max(xr,Nt));let Xr=Math.max(1,Nt-nr);Xr<=0&&(nr=xr,Nt=_r,Xr=Math.max(1,Nt-nr)),this.createFigure({name:"rect",attrs:{x:pr,y:nr,width:Ee,height:Xr},styles:{style:"stroke_fill",color:xi,borderColor:ei,size:b}})?.draw(t),this.createFigure({name:"line",attrs:{coordinates:[{x:N.x,y:Math.min(Ce,xe)},{x:N.x,y:Math.max(Ce,xe)}]},styles:{color:ei,size:1}})?.draw(t),this.createFigure({name:"line",attrs:{coordinates:[{x:N.x,y:xr},{x:N.x,y:_r}]},styles:{color:w,size:_}})?.draw(t);let kr=-1;ge!==-1&&(kr=Math.floor(ge/Ne));for(let ir=0;ir<St;ir++){const Lr=Xe[ir],ri=we+ir*tt,so=ri+tt,_i=Math.max(m,so-ri),Oa=ir===kr,Gn=Math.max(1,Ee-b*2),Ba=pr+b;if(Oa&&(this.createFigure({name:"rect",attrs:{x:Ba,y:ri,width:Gn,height:_i},styles:{style:"fill",color:T}})?.draw(t),this.createFigure({name:"rect",attrs:{x:Ba,y:ri,width:Gn,height:_i},styles:{style:"stroke",color:T,size:1}})?.draw(t)),_i>0&&x>0){const Yi=ri+_i/2,Zo=t0(Lr.buyVolume),Qt=t0(Lr.sellVolume),fr=Math.max(g,b+2),mn=N.x-Lt/2-fr,Ou=N.x+Lt/2+fr;if(Zo){const Wn=this.createFigure({name:"text",attrs:{x:mn,y:Yi,text:Zo,align:"right",baseline:"middle"},styles:{color:A,size:x}});Wn&&Wn.draw(t)}if(Qt){const Wn=this.createFigure({name:"text",attrs:{x:Ou,y:Yi,text:Qt,align:"left",baseline:"middle"},styles:{color:M,size:x}});Wn&&Wn.draw(t)}}}if(this.createFigure({name:"rect",attrs:{x:pr,y:nr,width:Ee,height:Xr},styles:{style:"stroke",color:ei,size:1}})?.draw(t),D){const ir=pe>0?`+${t0(pe)}`:`${t0(pe)}`,Lr=pe>=0?A:M,ri=we-h;this.createFigure({name:"text",attrs:{x:N.x,y:ri,text:ir,align:"center",baseline:"bottom"},styles:{color:Lr,size:P}})?.draw(t)}if(I){const ir=_r+v,Lr=t0(ce);this.createFigure({name:"text",attrs:{x:N.x,y:ir,text:Lr,align:"center",baseline:"top"},styles:{color:R,size:k,family:O,weight:V}})?.draw(t)}})}stopAnimation(){}}function aX(r,t){if(!r)return r;if(r.startsWith("#")){const e=r.slice(1),n=parseInt(e.length===3?e.split("").map(s=>s+s).join(""):e,16),i=n>>16&255,a=n>>8&255,o=n&255;return`rgba(${i}, ${a}, ${o}, ${t})`}return r.startsWith("rgb")?r.replace(/rgba?\(([^)]+)\)/,(e,n)=>{const i=n.split(",").map(l=>l.trim()),[a,o,s]=i;return`rgba(${a}, ${o}, ${s}, ${t})`}):r}function r0(r){if(!Number.isFinite(r))return"0";const t=Math.abs(r);return t>=1e6?`${(r/1e6).toFixed(1)}M`:t>=1e3?`${(r/1e3).toFixed(1)}K`:`${Math.round(r)}`}function D3e(r,t){const e=r.length;if(e<=t)return{rows:r.map((o,s)=>{const l=Number(o.price??0);return{buyVolume:Number(o.buyVolume??0),sellVolume:Number(o.sellVolume??0),totalVolume:Number(o.buyVolume??0)+Number(o.sellVolume??0),delta:Number(o.delta??(o.buyVolume??0)-(o.sellVolume??0)),startIndex:s,endIndex:s,startPrice:l,endPrice:l}}),groupSize:1};const n=Math.max(1,Math.ceil(e/t)),i=[];for(let a=0;a<e;a+=n){const o=r.slice(a,a+n);let s=0,l=0,u=-1/0,c=1/0;o.forEach(f=>{s+=Number(f.buyVolume??0),l+=Number(f.sellVolume??0);const d=Number(f.price??0);Number.isFinite(d)&&(d>u&&(u=d),d<c&&(c=d))}),i.push({buyVolume:s,sellVolume:l,totalVolume:s+l,delta:s-l,startIndex:a,endIndex:a+o.length-1,startPrice:Number.isFinite(u)?u:0,endPrice:Number.isFinite(c)?c:0})}return{rows:i,groupSize:n}}class E3e extends dy{drawImp(t){const e=this.getWidget(),n=e.getPane(),a=n.getChart().getStyles().candle.footprintPeriod;if(!a||!a.buyColor&&!a.sellColor)return;const o=n.getAxisComponent(),s=a.padding,l=a.cell,u=a.leftBar,c=a.histogram,f=a.textOffset,d=a.delta,h=a.vol,v=s.body,g=s.textTop,m=s.textBottom,x=l.height,_=l.text,b=u.width,w=u.gap,T=u.backgroundAlpha;u.borderAlpha;const A=c.minAlpha,M=c.maxAlpha,D=f.gap,P=f.centerOffset,I=f.rightPadding,R=a.buyColor,k=a.sellColor;a.neutralColor;const O=d.show,V=d.size,N=h.show,L=h.color,G=h.size,W=h.family,U=h.weight,Z=_.show,F=_.color,q=_.size,$=_.family,K=_.weight;this.eachChildren((re,ce)=>{const{current:pe}=re.data;if(pe===null)return;const de=pe?.high,ge=pe?.low,Ce=pe?.open,xe=pe?.close;if(!We(de)||!We(ge)||!We(Ce)||!We(xe))return;const we=pe?.[a.dataKey];if(!vi(we)||we.length===0)return;const Pe=[...we].sort((Qt,fr)=>fr.price-Qt.price),De=Pe.reduce((Qt,fr)=>Qt+Number(fr.buyVolume??0),0),Ae=Pe.reduce((Qt,fr)=>Qt+Number(fr.sellVolume??0),0),Xe=De+Ae,Ne=De-Ae,St=pe?.pocPrice;Pe.findIndex(Qt=>Number(Qt.price)===Number(St));const tt=o.convertToPixel(de),wt=o.convertToPixel(ge);let xt=Math.min(tt,wt)+v,dt=Math.max(tt,wt)-v;if(dt<=xt){const Qt=x*Pe.length;xt=Math.min(tt,wt),dt=xt+Qt}const Ee=Math.max(x,dt-xt),Lt=Math.max(1,Math.floor(Ee/x)),{rows:pr,groupSize:Yr}=D3e(Pe,Lt),xr=pr.length,_r=Math.max(x,Ee/xr),xi=e.getBounding();Math.max(xi.top,xt);const ei=Math.min(xi.top+xi.height,dt),On=xe>=Ce?R:k,nr=o.convertToPixel(Ce),Nt=o.convertToPixel(xe),Xr=Math.min(nr,Nt),kr=Math.max(nr,Nt),ir=Math.max(ce.gapBar,b+w+D+I+24),Lr=re.x-ir/2,ri=Lr,_i=ri+b+w,Oa=Math.max(12,ir-b-w-D-I),Gn=pr.reduce((Qt,fr)=>Math.max(Qt,fr.totalVolume),0),Ba=Number(pe?.pocVolume??Gn),Yi=Math.max(Ba,Gn,1),Zo=Math.max(1,kr-Xr);this.createFigure({name:"rect",attrs:{x:ri,y:Xr,width:Math.max(2,b),height:Zo},styles:{style:"fill",color:aX(On,T)}})?.draw(t);for(let Qt=0;Qt<xr;Qt++){const fr=pr[Qt],mn=xt+Qt*_r,Ou=mn+_r,Wn=Math.max(x,Ou-mn-1),an=fr.totalVolume/Yi,ni=Math.min(Math.max(an,0),1),Ko=Math.max(2,Oa*ni),Bu=A+(M-A)*ni;let xy=aX(On,Bu);if(Ko>0&&this.createFigure({name:"rect",attrs:{x:_i,y:mn,width:Ko,height:Wn},styles:{style:"fill",color:xy}})?.draw(t),Z&&Wn>0&&q>0&&x>=q){const _y=mn+Wn/2,lo=r0(fr.buyVolume),$r=r0(fr.sellVolume),Bn=`${lo}|${$r}`,cl=Lr+ir/2+P;this.createFigure({name:"text",attrs:{x:cl,y:_y,text:Bn,align:"center",baseline:"middle"},styles:{color:F,size:q,family:$,weight:K}})?.draw(t)}}if(O){const Qt=Ne>0?`+${r0(Ne)}`:`${r0(Ne)}`,fr=Ne>=0?R:k,mn=xt-g;this.createFigure({name:"text",attrs:{x:re.x,y:mn,text:Qt,align:"center",baseline:"bottom"},styles:{color:fr,size:V}})?.draw(t)}if(N){const Qt=ei+m,fr=r0(Xe);this.createFigure({name:"text",attrs:{x:re.x,y:Qt,text:fr,align:"center",baseline:"top"},styles:{color:L,size:G,family:W,weight:U}})?.draw(t)}})}stopAnimation(){}}class I3e extends mi{drawImp(t){const n=this.getWidget().getPane(),i=n.getChart().getChartStore(),a=i.getStyles().candle.priceMark,o=a.high,s=a.low;if(a.show&&(o.show||s.show)){const l=i.getVisibleRangeHighLowPrice(),u=i.getSymbol()?.pricePrecision??2,c=n.getAxisComponent(),{price:f,x:d}=l[0],{price:h,x:v}=l[1],g=c.convertToPixel(f),m=c.convertToPixel(h),x=i.getDecimalFold(),_=i.getThousandsSeparator();o.show&&f!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,x.format(_.format(Mn(f,u))),{x:d,y:g},g<m?[-2,-5]:[2,5],o),s.show&&h!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,x.format(_.format(Mn(h,u))),{x:v,y:m},g<m?[2,5]:[-2,-5],s)}}_drawMark(t,e,n,i,a){const o=n.x,s=n.y+i[0];this.createFigure({name:"line",attrs:{coordinates:[{x:o-2,y:s+i[0]},{x:o,y:s},{x:o+2,y:s+i[0]}]},styles:{color:a.color}})?.draw(t);let l=0,u=0,c="left";const{width:f}=this.getWidget().getBounding();o>f/2?(l=o-5,u=l-a.textOffset,c="right"):(l=o+5,c="left",u=l+a.textOffset);const d=s+i[1];this.createFigure({name:"line",attrs:{coordinates:[{x:o,y:s},{x:o,y:d},{x:l,y:d}]},styles:{color:a.color}})?.draw(t),this.createFigure({name:"text",attrs:{x:u,y:d,text:e,align:c,baseline:"middle"},styles:{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}})?.draw(t)}}class R3e extends mi{drawImp(t){const e=this.getWidget(),n=e.getPane(),i=e.getBounding(),a=n.getChart().getChartStore(),o=a.getStyles().candle.priceMark,s=o.last,l=s.line;if(o.show&&s.show&&l.show){const u=n.getAxisComponent(),c=a.getDataList(),f=c[c.length-1];if(le(f)){const{close:d,open:h}=f,v=s.compareRule==="current_open"?h:c[c.length-2]?.close??d,g=u.convertToNicePixel(d);let m="";d>v?m=s.upColor:d<v?m=s.downColor:m=s.noChangeColor,this.createFigure({name:"line",attrs:{coordinates:[{x:0,y:g},{x:i.width,y:g}]},styles:{style:l.style,color:m,size:l.size,dashedValue:l.dashedValue}})?.draw(t)}}}}const P3e={second:"HH:mm:ss",minute:"HH:mm",hour:"MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},qne={second:"HH:mm:ss",minute:"YYYY-MM-DD HH:mm",hour:"YYYY-MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},O3e={time:"",open:"",high:"",low:"",close:"",volume:"",turnover:"",change:"",second:"",minute:"",hour:"",day:"",week:"",month:"",year:""},B3e={time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: ",second:"S",minute:"m",hour:"H",day:"D",week:"W",month:"M",year:"Y"},k3e={"zh-CN":O3e,"en-US":B3e};function oX(r,t){return k3e[t][r]??r}class L3e extends Gne{constructor(){super(...arguments),this._isStatusBarCollapsed=!1,this._isCollapseBtnHovered=!1,this._buttonAreas=[]}getButtonAreas(){return this._buttonAreas}clearButtonAreas(){this._buttonAreas=[]}drawImp(t){this.clearButtonAreas();const e=this.getWidget(),n=e.getPane().getChart().getChartStore(),i=n.getCrosshair(),a=n.getStyles(),s=n.getIndicatorsByPaneId(e.getPane().getId()).length>0,l=e.getPane().getChart();e.getPane().getId();const f=(l.getScripts?.()||[]).filter(g=>g.position==="main").length>0,d=a.candle,h=d.tooltip,v=(s||f)&&h.showRule==="always"&&h.showType==="standard";if(le(i.kLineData)){const g=e.getBounding(),m=a.indicator;if(d.tooltip.showType==="rect"&&m.tooltip.showType==="rect"){const x=this.isDrawTooltip(i,d.tooltip),_=!this._isStatusBarCollapsed&&this.isDrawTooltip(i,m.tooltip);this._drawRectTooltip(t,x,_,d.tooltip.offsetTop)}else if(d.tooltip.showType==="standard"&&m.tooltip.showType==="standard"){const{offsetLeft:x,offsetTop:_,offsetRight:b}=d.tooltip,w=g.width-b,T=this._drawCandleStandardTooltip(t,x,_,w);let A=T;this._isStatusBarCollapsed||(A=this.drawIndicatorTooltip(t,x,T,w)),v&&this._drawCloseBtn(t,0,A,this.getWidget().getBounding().width)}else if(d.tooltip.showType==="rect"&&m.tooltip.showType==="standard"){const{offsetLeft:x,offsetTop:_,offsetRight:b}=d.tooltip,w=g.width-b,T=this._isStatusBarCollapsed?_:this.drawIndicatorTooltip(t,x,_,w),A=this.isDrawTooltip(i,d.tooltip);this._drawRectTooltip(t,A,!1,T)}else{const{offsetLeft:x,offsetTop:_,offsetRight:b}=d.tooltip,w=g.width-b,T=this._drawCandleStandardTooltip(t,x,_,w),A=!this._isStatusBarCollapsed&&this.isDrawTooltip(i,m.tooltip);this._drawRectTooltip(t,!1,A,T)}}if(v){const _=i.realX??-1,b=i.y??-1;!(_>=10&&_<=26&&b>=4&&b<=20)&&this._isCollapseBtnHovered&&(this._isCollapseBtnHovered=!1,this.getWidget().update&&this.getWidget().update())}if(this._buttonAreas.length>0){let g=1/0,m=1/0,x=-1/0,_=-1/0;for(const b of this._buttonAreas)g=Math.min(g,b.left),m=Math.min(m,b.top),x=Math.max(x,b.right),_=Math.max(_,b.bottom);this._buttonAreas=[{left:g,top:m,right:x,bottom:_,type:"all"}]}}_drawCandleStandardTooltip(t,e,n,i){const a=this.getWidget().getPane().getChart().getChartStore(),s=a.getStyles().candle.tooltip,l=s.legend;let u=0;const c={x:e,y:n},f=a.getCrosshair();if(this.isDrawTooltip(f,s)){const d=s.title;if(d.show){const{type:m="",span:x=""}=a.getPeriod()??{},_=HY(d.template,{...a.getSymbol(),period:`${x}${oX(m,a.getLocale())}`}),b=d.color,w=this.drawStandardTooltipLegends(t,[{title:{text:"",color:b},value:{text:_,color:b}}],{x:e,y:n},e,0,i,d);c.y=c.y+w}let h=!0;try{h=l.show!==!1}catch{}const v=this._getCandleTooltipLegends(),g=this.classifyTooltipFeatures(s.features);u=this.drawStandardTooltipFeatures(t,g[0],c,null,e,u,i),u=this.drawStandardTooltipFeatures(t,g[1],c,null,e,u,i),h&&v.length>0&&(u=this.drawStandardTooltipLegends(t,v,c,e,u,i,l)),u=this.drawStandardTooltipFeatures(t,g[2],c,null,e,u,i)}return c.y+u}_drawRectTooltip(t,e,n,i){const a=this.getWidget(),o=a.getPane(),s=o.getChart().getChartStore(),l=s.getStyles(),u=l.candle,c=l.indicator,f=u.tooltip,d=c.tooltip;if(e||n){const h=this._getCandleTooltipLegends(),{offsetLeft:v,offsetTop:g,offsetRight:m,offsetBottom:x}=f,{marginLeft:_,marginRight:b,marginTop:w,marginBottom:T,size:A,weight:M,family:D}=f.legend,{position:P,paddingLeft:I,paddingRight:R,paddingTop:k,paddingBottom:O,offsetLeft:V,offsetRight:N,offsetTop:L,offsetBottom:G,borderSize:W,borderRadius:U,borderColor:Z,color:F}=f.rect;let q=0,$=0,K=0;e&&(t.font=Ks(A,M,D),h.forEach(Pe=>{const De=Pe.title,Ae=Pe.value,Xe=`${De.text}${Ae.text}`,Ne=t.measureText(Xe).width+_+b;q=Math.max(q,Ne)}),K+=(T+w+A)*h.length);const{marginLeft:re,marginRight:ce,marginTop:pe,marginBottom:de,size:ge,weight:Ce,family:xe}=d.legend,we=[];if(n){const Pe=s.getIndicatorsByPaneId(o.getId());t.font=Ks(ge,Ce,xe),Pe.forEach(De=>{const Ae=this.getIndicatorTooltipData(De).legends;we.push(Ae),Ae.forEach(Xe=>{const Ne=Xe.title,St=Xe.value,tt=`${Ne.text}${St.text}`,wt=t.measureText(tt).width+re+ce;q=Math.max(q,wt),K+=pe+de+ge})})}if($+=q,$!==0&&K!==0){const Pe=s.getCrosshair(),De=a.getBounding(),Ae=o.getYAxisWidget().getBounding();$+=W*2+I+R,K+=W*2+k+O;const Xe=De.width/2,Ne=P==="pointer"&&Pe.paneId===ft.CANDLE,St=(Pe.realX??0)>Xe;let tt=0;if(Ne){const Ee=Pe.realX;St?tt=Ee-N-$:tt=Ee+V}else{const Ee=this.getWidget().getPane().getAxisComponent();St?(tt=V+v,Ee.inside&&Ee.position==="left"&&(tt+=Ae.width)):(tt=De.width-N-$-m,Ee.inside&&Ee.position==="right"&&(tt-=Ae.width))}let wt=i+L;Ne&&(wt=Pe.y-K/2,wt+K>De.height-G-x&&(wt=De.height-G-K-x),wt<i+L&&(wt=i+L+g)),this.createFigure({name:"rect",attrs:{x:tt,y:wt,width:$,height:K},styles:{style:"stroke_fill",color:F,borderColor:Z,borderSize:W,borderRadius:U}})?.draw(t);const xt=tt+W+I+_;let dt=wt+W+k;if(e&&h.forEach(Ee=>{dt+=w;const Lt=Ee.title;this.createFigure({name:"text",attrs:{x:xt,y:dt,text:Lt.text},styles:{color:Lt.color,size:A,family:D,weight:M}})?.draw(t);const pr=Ee.value;this.createFigure({name:"text",attrs:{x:tt+$-W-b-R,y:dt,text:pr.text,align:"right"},styles:{color:pr.color,size:A,family:D,weight:M}})?.draw(t),dt+=A+T}),n){const Ee=tt+W+I+re;we.forEach(Lt=>{Lt.forEach(pr=>{dt+=pe;const Yr=pr.title,xr=pr.value;this.createFigure({name:"text",attrs:{x:Ee,y:dt,text:Yr.text},styles:{color:Yr.color,size:ge,family:xe,weight:Ce}})?.draw(t),this.createFigure({name:"text",attrs:{x:tt+$-W-ce-R,y:dt,text:xr.text,align:"right"},styles:{color:xr.color,size:ge,family:xe,weight:Ce}})?.draw(t),dt+=ge+de})})}}}}_getCandleTooltipLegends(){const t=this.getWidget().getPane().getChart().getChartStore(),e=t.getStyles().candle,n=t.getDataList(),i=t.getInnerFormatter(),a=t.getDecimalFold(),o=t.getThousandsSeparator(),s=t.getLocale(),{pricePrecision:l=2,volumePrecision:u=0}=t.getSymbol()??{},c=t.getPeriod(),f=t.getCrosshair().dataIndex??0,d=e.tooltip,{color:h,defaultValue:v,template:g}=d.legend,m=n[f-1]??null,x=n[f];let _;e.bar?.compareRule==="current_open"?_=x.open:_=m?.close??x.close;const b=x.close-_,w={...x,time:i.formatDate(x.timestamp,qne[c?.type??"day"],"tooltip"),open:a.format(o.format(Mn(x.open,l))),high:a.format(o.format(Mn(x.high,l))),low:a.format(o.format(Mn(x.low,l))),close:a.format(o.format(Mn(x.close,l))),volume:a.format(o.format(i.formatBigNumber(Mn(x.volume??v,u)))),turnover:a.format(o.format(Mn(x.turnover??v,l))),change:_===0?v:`${o.format(Mn(b/_*100))}%`};return(Jn(g)?g({prev:m,current:x,next:n[f+1]??null},e):g).map(({title:A,value:M})=>{let D={text:"",color:h};Za(A)?D={...A}:D.text=A,D.text=oX(D.text,s);let P={text:v,color:h};return Za(M)?P={...M}:P.text=M,le(/{change}/.exec(P.text))?P.color=b===0?e.priceMark.last.noChangeColor:b>0?e.priceMark.last.upColor:e.priceMark.last.downColor:(le(/{close}/.exec(P.text))||le(/{open}/.exec(P.text))||le(/{high}/.exec(P.text))||le(/{low}/.exec(P.text)))&&(P.color=b===0?h:b>0?e.priceMark.last.upColor:e.priceMark.last.downColor),P.text=HY(P.text,w),{title:D,value:P}})}_drawCloseBtn(t,e,n,i){const s=e+10,l=n+4,u=4;return this._buttonAreas.push({left:s,top:l,right:s+24,bottom:l+14,type:"collapse"}),t.save(),t.translate(.5,.5),t.beginPath(),t.moveTo(s,l+u),t.arcTo(s,l,s+24,l,u),t.arcTo(s+24,l,s+24,l+14,u),t.arcTo(s+24,l+14,s,l+14,u),t.arcTo(s,l+14,s,l,u),t.closePath(),t.fillStyle=this._isCollapseBtnHovered?"rgba(57, 109, 253, 0.2)":"rgba(57, 109, 253,0.1)",t.fill(),t.restore(),t.save(),t.translate(.5,.5),t.beginPath(),t.moveTo(s,l+u),t.arcTo(s,l,s+24,l,u),t.arcTo(s+24,l,s+24,l+14,u),t.arcTo(s+24,l+14,s,l+14,u),t.arcTo(s,l+14,s,l,u),t.closePath(),t.setLineDash([]),t.lineWidth=1,t.strokeStyle="rgb(32, 159, 243)",t.stroke(),t.restore(),this.createFigure({name:"text",attrs:{x:s+24/2,y:l+14/2,text:this._isStatusBarCollapsed?"":"",align:"center",baseline:"middle"},styles:{color:this._isCollapseBtnHovered?"rgba(49, 129, 250, 0.7)":"rgba(49, 129, 250,1)",size:8,cursor:"pointer"}})?.draw(t),this.createFigure({name:"rect",attrs:{x:s,y:l,width:24,height:14},styles:{color:"rgba(0,0,0,0)",borderColor:"rgba(128,128,128,0)",borderSize:1}},{mouseMoveEvent:()=>(this._isCollapseBtnHovered||(this._isCollapseBtnHovered=!0,this.getWidget().update&&this.getWidget().update()),!0),mouseLeaveEvent:()=>(this._isCollapseBtnHovered&&(this._isCollapseBtnHovered=!1,this.getWidget().update&&this.getWidget().update()),!0),mouseClickEvent:()=>(this._isStatusBarCollapsed=!this._isStatusBarCollapsed,this.getWidget().update&&this.getWidget().update(),!0)})?.draw(t),22}drawStandardTooltipFeatures(t,e,n,i,a,o,s,l){const u=super.drawStandardTooltipFeatures(t,e,n,i,a,o,s,l);this.getWidget().getPane().getId();let f=1/0,d=1/0,h=-1/0,v=-1/0;return e.forEach((g,m)=>{const{marginLeft:x=0,marginTop:_=0,marginRight:b=0,marginBottom:w=0,paddingLeft:T=0,paddingTop:A=0,paddingRight:M=0,paddingBottom:D=0,size:P=0,type:I,content:R}=g;let k=0;if(I==="icon_font"){const G=R;t.font=Ks(P,"normal",G.family),k=t.measureText(G.code).width}else k=P;const O=n.x+x,V=n.y+_,N=x+T+k+M+b,L=_+A+P+D+w;f=Math.min(f,O),d=Math.min(d,V),h=Math.max(h,O+N),v=Math.max(v,V+L)}),e.length>0&&this._buttonAreas.push({left:f,top:d,right:h,bottom:v,type:i?"indicator":l?"script":"feature"}),u}}class N3e extends mi{constructor(t){super(t),this._activeFeatureInfo=null,this._featureClickEvent=e=>()=>(this.getWidget().getPane().getChart().getChartStore().executeAction("onCrosshairFeatureClick",e),!0),this._featureMouseMoveEvent=e=>()=>(this._activeFeatureInfo=e,this.getWidget().setForceCursor("pointer"),!0),this.registerEvent("mouseMoveEvent",e=>(this._activeFeatureInfo=null,this.getWidget().setForceCursor(null),!1))}drawImp(t){const e=this.getWidget(),n=e.getPane(),i=e.getPane().getChart().getChartStore(),a=i.getCrosshair(),o=this.getWidget(),s=o.getPane().getAxisComponent();if(Wt(a.paneId)&&a.paneId===n.getId()&&s.isInCandle()){const l=i.getStyles().crosshair,u=l.horizontal.features;if(l.show&&l.horizontal.show&&u.length>0){const c=s.position==="right",f=o.getBounding();let d=0;const h=l.horizontal.text;if(s.inside&&h.show){const m=s.convertFromPixel(a.y),x=s.getRange();let _=s.displayValueToText(s.realValueToDisplayValue(s.valueToRealValue(m,{range:x}),{range:x}),i.getSymbol()?.pricePrecision??2);_=i.getDecimalFold().format(i.getThousandsSeparator().format(_)),d=h.paddingLeft+xa(_,h.size,h.weight,h.family)+h.paddingRight}let v=d;c&&(v=f.width-d);const g=a.y;u.forEach(m=>{const{marginLeft:x=0,marginTop:_=0,marginRight:b=0,paddingLeft:w=0,paddingTop:T=0,paddingRight:A=0,paddingBottom:M=0,color:D,activeColor:P,backgroundColor:I,activeBackgroundColor:R,borderRadius:k,size:O=0,type:V,content:N}=m;let L=O;if(V==="icon_font"){const Z=N;L=w+xa(Z.code,O,"normal",Z.family)+A}c?v-=L+b:v+=x;let G=D,W=I;this._activeFeatureInfo?.feature.id===m.id&&(G=P??D,W=R??I);const U={mouseClickEvent:this._featureClickEvent({crosshair:a,feature:m}),mouseMoveEvent:this._featureMouseMoveEvent({crosshair:a,feature:m})};if(V==="icon_font"){const Z=N;this.createFigure({name:"text",attrs:{text:Z.code,x:v,y:g+_,baseline:"middle"},styles:{paddingLeft:w,paddingTop:T,paddingRight:A,paddingBottom:M,borderRadius:k,size:O,family:Z.family,color:G,backgroundColor:W}},U)?.draw(t)}else{this.createFigure({name:"rect",attrs:{x:v,y:g+_-O/2,width:O,height:O},styles:{paddingLeft:w,paddingTop:T,paddingRight:A,paddingBottom:M,color:W}},U)?.draw(t);const Z=N;this.createFigure({name:"path",attrs:{path:Z.path,x:v,y:g+_+T-O/2,width:O,height:O},styles:{style:Z.style,lineWidth:Z.lineWidth,color:G}})?.draw(t)}c?v-=x:v+=L+b})}}}}let X=class{static formatNumber(t,e=2,n=!1){if(isNaN(t))return"0";const i=t.toFixed(e);if(!n)return i;const a=i.split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a.join(".")}static formatPercent(t,e=2){return`${(t*100).toFixed(e)}%`}static formatPrice(t,e=2){return t.toFixed(e)}static toFloat(t,e=2){return parseFloat(t.toFixed(e))}static toNumber(t){const e=String(t),n=/^-?(\d)\.?(\d*)e-(\d+)$/i;if(!n.test(e))return Number(t);const i=e.match(n);if(!i)return Number(t);const[,a,o="",s]=i,l=a+o,u=parseInt(s),c=e.startsWith("-"),f="0."+"0".repeat(u-1)+l;return parseFloat((c?"-":"")+f)}static mod(t,e){return t%e}static average(t){return t.length===0?0:t.reduce((e,n)=>e+n,0)/t.length}static sum(t){return t.reduce((e,n)=>e+n,0)}static unique(t){return[...new Set(t)]}static sort(t,e=!0){return e?[...t].sort((n,i)=>n-i):[...t].sort((n,i)=>i-n)}static getValue(t,e,n=null){return t[e]!==void 0?t[e]:n}static isValidNumber(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}static isEmpty(t){return t==null||t===""}static isValid(t){return!(t==null||typeof t=="number"&&isNaN(t)||typeof t=="string"&&t.trim()===""||typeof t=="object"&&Object.keys(t).length===0)}static random(t=0,e=1){return Math.random()*(e-t)+t}static randomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}static clamp(t,e,n){return Math.min(Math.max(t,e),n)}static lerp(t,e,n){return t+(e-t)*n}static toRadians(t){return t*(Math.PI/180)}static toDegrees(t){return t*(180/Math.PI)}static distance(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}static formatDate(t,e="YYYY-MM-DD"){const n=new Date(t),i=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0"),s=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0"),u=String(n.getSeconds()).padStart(2,"0");return e.replace("YYYY",String(i)).replace("MM",a).replace("DD",o).replace("HH",s).replace("mm",l).replace("ss",u)}static now(){return Date.now()}static deepClone(t){if(t===null||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array)return t.map(e=>this.deepClone(e));if(typeof t=="object"){const e={};for(const n in t)t.hasOwnProperty(n)&&(e[n]=this.deepClone(t[n]));return e}return t}static merge(t,e){const n={...t};for(const i in e)e.hasOwnProperty(i)&&(typeof e[i]=="object"&&e[i]!==null&&!Array.isArray(e[i])?n[i]=this.merge(n[i]||{},e[i]):n[i]=e[i]);return n}static colorToRgb(t){if(!t||typeof t!="string")return null;const e=t.match(/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/);if(e){const i=e[1],a=i.length===3?parseInt(i[0]+i[0],16):parseInt(i.substring(0,2),16),o=i.length===3?parseInt(i[1]+i[1],16):parseInt(i.substring(2,4),16),s=i.length===3?parseInt(i[2]+i[2],16):parseInt(i.substring(4,6),16);return{r:a,g:o,b:s}}const n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)$/);if(n)return{r:parseInt(n[1]),g:parseInt(n[2]),b:parseInt(n[3])};try{const a=document.createElement("canvas").getContext("2d");if(!a)return null;a.fillStyle=t;const s=a.fillStyle.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)$/);if(s)return{r:parseInt(s[1]),g:parseInt(s[2]),b:parseInt(s[3])}}catch(i){console.warn("Failed to parse color:",t,i)}return null}static colorToRgba(t,e=1){if(!t||typeof t!="string")return"rgba(0,0,0,0)";const n=Math.max(0,Math.min(1,e)),i=this.colorToRgb(t);return i?`rgba(${i.r},${i.g},${i.b},${n})`:null}};function Yne(r,t,e){const{ctx:n,bounding:i,yAxis:a,xAxis:o,script:s}=r;if(!n||!t||!e)return;const l=f=>typeof e=="function"?e(f)||{}:e||{};let u=-1,c=null;t.forEach((f,d)=>{if(d>0){let h=t[d-1],g=l({value:f,index:d,prev:h,prevValid:c!==null?c:void 0});if(!g||g.show===!1)return;const m=g.continuous===!0;if(X.isValid(h)&&X.isValid(f)){const x=o.convertToPixel(d-1),_=a.convertToPixel(h),b=o.convertToPixel(d),w=a.convertToPixel(f);if(Array.isArray(g.color)){const T=g.color;if(T.length>=2){const A=n.createLinearGradient(x,_,b,w);T.forEach((M,D)=>{const P=D/(T.length-1);A.addColorStop(P,M)}),n.strokeStyle=A}else n.strokeStyle=T[0]||"#000"}else n.strokeStyle=g.color||"#000";n.lineWidth=g.size||1,n.setLineDash([]),g.style==="dashed"?n.setLineDash([5,5]):g.style==="dotted"&&n.setLineDash([2,2]),n.beginPath(),n.moveTo(x,_),n.lineTo(b,w),n.stroke(),u=d,c=f}else if(m&&X.isValid(f)&&u>=0){const x=o.convertToPixel(u),_=a.convertToPixel(c),b=o.convertToPixel(d),w=a.convertToPixel(f);if(Array.isArray(g.color)){const T=g.color;if(T.length>=2){const A=n.createLinearGradient(x,_,b,w);T.forEach((M,D)=>{const P=D/(T.length-1);A.addColorStop(P,M)}),n.strokeStyle=A}else n.strokeStyle=T[0]||"#000"}else n.strokeStyle=g.color||"#000";n.lineWidth=g.size||1,n.setLineDash([]),g.style==="dashed"?n.setLineDash([5,5]):g.style==="dotted"&&n.setLineDash([2,2]),n.beginPath(),n.moveTo(x,_),n.lineTo(b,w),n.stroke(),u=d,c=f}else X.isValid(f)&&(u=d,c=f)}})}function Xne(r,t,e,n){const{ctx:i,bounding:a,yAxis:o,xAxis:s,script:l}=r;if(!i||!t||!n)return;const u=v=>typeof n=="function"?n(v)||{}:n||{},c=i.imageSmoothingEnabled;if(i.imageSmoothingEnabled=!1,!Array.isArray(t)){console.warn("D.bar: ",t);return}const f=s?._range;if(!f)return;const d=Math.max(1,Math.floor(a.width/(f.to-f.from)*.8)),h=o?.getRange();if(h){for(let v=f.from;v<f.to&&v<t.length;v++){const g=t[v];if(!X.isValid(g))continue;let m;if(typeof e=="number")m=e;else if(Array.isArray(e))m=e[v%e.length]??0;else if(typeof e=="string")switch(e.toLowerCase()){case"top":m=h.max;break;case"bottom":m=h.min;break;case"center":m=(h.max+h.min)/2;break;default:console.warn("D.bar: : top/bottom/center",e),m=0}else m=0;const x={value:g,index:v,prev:v>0?t[v-1]:void 0},_=u(x);if(!_||_.show===!1)continue;const b=s.convertToPixel(v),w=o.convertToPixel(m),T=o.convertToPixel(g),A=Math.min(w,T),M=Math.max(w,T),D=Math.round(b),P=Math.round(A),I=Math.round(M),R=Math.max(1,Math.round(d)),k=Math.floor(D-R/2),O=k+R,V=Math.floor(P),N=Math.floor(I);let L="#000",G="fill",W=1,U="solid";if(_&&(_.color!==void 0&&(L=_.color),_.full!==void 0&&(G=_.full),_.size!==void 0&&(W=_.size),_.style!==void 0&&(U=_.style)),G==="fill"){if(Array.isArray(L)){const ce=L;if(ce.length>=2){const pe=i.createLinearGradient(0,V,0,N);ce.forEach((de,ge)=>{const Ce=ge/(ce.length-1);pe.addColorStop(Ce,de)}),i.fillStyle=pe}else i.fillStyle=ce[0]||"#000"}else i.fillStyle=L;const Z=Math.floor(k),F=Math.floor(V),q=Math.ceil(O),$=Math.ceil(N),K=q-Z,re=$-F;K>0&&re>0&&i.fillRect(Z,F,K,re)}else G==="stroke"&&(i.strokeStyle=L,i.lineWidth=W,U==="dashed"?i.setLineDash([5,5]):U==="dotted"?i.setLineDash([2,2]):i.setLineDash([]),i.strokeRect(k+.5,V+.5,O-k-1,N-V-1))}i.setLineDash([]),i.imageSmoothingEnabled=c}}function $ne(r,t,e,n){const{ctx:i,bounding:a,yAxis:o,xAxis:s,script:l}=r;if(!i||!t||!e)return;const u=d=>typeof e=="function"?e(d)||{}:e||{},c=d=>{if(n)return typeof n=="function"?n(d)||{}:n||{}},f=H3e(s);if(f)for(let d=f.from;d<f.to&&d<t.length;d++){const h=t[d];if(!X.isValid(h)||typeof h=="object"&&h!==null&&(h.val1!==void 0||h.val2!==void 0)&&h.val1===void 0&&h.val2===void 0)continue;const v={value:h,index:d,prev:d>0?t[d-1]:void 0};let g=u(v);if(g?.show===!1)continue;let m=c(v);const x=F3e(h,d,g,r);V3e(i,x,g,m,r,h)}}function V3e(r,t,e,n,i,a){const{bounding:o}=i;let s="";if(e.text&&String(e.text).length>0?s=String(e.text):typeof a=="object"&&a!==null&&a.text!==void 0&&a.text!==null&&String(a.text).length>0&&(s=String(a.text)),!s)return;const l=e.color||"#333333",u=e.size||12,c='Arial, "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji"',f=e.bold?"bold":"normal",d=e.italic?"italic":"normal",h=e.align||"left",v=e.angle||0;r.save(),v!==0&&(r.translate(t.x,t.y),r.rotate(v*Math.PI/180),r.translate(-t.x,-t.y)),r.font=`${d} ${f} ${u}px ${c}`,r.textAlign=h,r.textBaseline="middle";const m=r.measureText(s).width,x=u;if(n&&n.show!==!1&&z3e(r,t,m,x,n,e),Array.isArray(l)){const _=l;if(_.length>=2){const b=r.createLinearGradient(t.x-m/2,t.y-x/2,t.x+m/2,t.y+x/2);_.forEach((w,T)=>{const A=T/(_.length-1);b.addColorStop(A,w)}),r.fillStyle=b}else r.fillStyle=_[0]}else r.fillStyle=l;r.fillText(s,t.x,t.y),r.restore()}function z3e(r,t,e,n,i,a){const o=i.padding||6,s=e+o,l=n+o;let u,c=t.y-l/2-1;a.align==="center"?u=t.x-s/2:a.align==="right"?u=t.x-s:u=t.x;const f=i.color||"#FFFFFF",d=i.full||"fill",h=i.size||1,v=i.style||"solid",g=i.radius||0;if(v==="dashed"?r.setLineDash([5,5]):v==="dotted"?r.setLineDash([2,2]):r.setLineDash([]),d==="fill"){if(Array.isArray(f)){const m=f;if(m.length>=2){const x=r.createLinearGradient(u,c,u,c+l);m.forEach((_,b)=>{const w=b/(m.length-1);x.addColorStop(w,_)}),r.fillStyle=x}else r.fillStyle=m[0]}else r.fillStyle=f;g>0?(r.beginPath(),r.roundRect(u,c,s,l,g),r.fill()):r.fillRect(u,c,s,l)}else{if(Array.isArray(f)){const m=f;if(m.length>=2){const x=r.createLinearGradient(u,c,u,c+l);m.forEach((_,b)=>{const w=b/(m.length-1);x.addColorStop(w,_)}),r.strokeStyle=x}else r.strokeStyle=m[0]}else r.strokeStyle=f;r.lineWidth=h,g>0?(r.beginPath(),r.roundRect(u,c,s,l,g),r.stroke()):r.strokeRect(u,c,s,l)}}function F3e(r,t,e,n){const{yAxis:i,xAxis:a,bounding:o,script:s}=n;let l=a.convertToPixel(t),u=0;const c=e.size||12;let f=r;if(typeof r=="object"&&r!==null&&(r.val1!==void 0||r.val2!==void 0?f=r.val1!==void 0?r.val1:r.val2:r.value!==void 0&&(f=r.value)),typeof e.position=="number")e.position>=0?u=o.top+e.position:u=o.height+e.position-c*1.5;else switch(e.position){case"value":u=i.convertToPixel(f);break;case"high":case"low":case"open":case"close":const d=n.dataList;if(d&&t<d.length&&d[t]){const m=d[t][e.position];u=i.convertToPixel(m)}break;case"highUp":const h=n.dataList;if(h&&t<h.length&&h[t]){const m=h[t].high;u=i.convertToPixel(m)-c*1.5}break;case"lowDown":const v=n.dataList;if(v&&t<v.length&&v[t]){const m=v[t].low;u=i.convertToPixel(m)+c*1.5}break;case"top":u=o.top+c/2;break;case"bottom":u=o.height-c*1.5;break;case"center":u=(o.top+o.height)/2;break;default:u=i.convertToPixel(f)}return l+=e.x||0,u+=e.y||0,{x:l,y:u}}function H3e(r){return r&&r._range?{from:r._range.from,to:r._range.to}:null}function jne(r,t,e,n){const{ctx:i,xAxis:a,yAxis:o,bounding:s,dataList:l}=r;if(!i||!t||!e||!Array.isArray(t)||!Array.isArray(e))return;const u=f=>typeof n=="function"?n(f)||{}:n||{},c=W3e(a);if(c)try{i.save();for(let f=c.from;f<c.to-1&&f<t.length-1;f++){const d=t[f],h=t[f+1],v=e[f],g=e[f+1];if(d===null||h===null||v===null||g===null||!(X.isValid(d)&&X.isValid(h)&&X.isValid(v)&&X.isValid(g)))continue;const m={value:d,value2:v,index:f+1,prev:f>0?t[f-1]:void 0,prev2:f>0?e[f-1]:void 0},x=u(m);if(x.show===!1)continue;const _=a.convertToPixel(f),b=a.convertToPixel(f+1);let w,T,A,M;const D=P=>typeof P=="string"?G3e(P,s)/s.height:P;if(w=o.convertToPixel(D(d)),T=o.convertToPixel(D(h)),A=o.convertToPixel(D(v)),M=o.convertToPixel(D(g)),x.color)if(Array.isArray(x.color)){const P=x.color;if(P.length>=2){const I=i.createLinearGradient(0,w,0,A);P.forEach((R,k)=>{const O=k/(P.length-1);I.addColorStop(O,R)}),i.fillStyle=I}else i.fillStyle=P[0]}else i.fillStyle=x.color;else i.fillStyle="rgba(255, 150, 0, 0.3)";x.alpha&&(i.globalAlpha=x.alpha),!(_===null||b===null||w===null||T===null||A===null||M===null||isNaN(_)||isNaN(b)||isNaN(w)||isNaN(T)||isNaN(A)||isNaN(M))&&(i.beginPath(),i.moveTo(_,w),i.lineTo(b,T),i.lineTo(b,M),i.lineTo(_,A),i.closePath(),i.fill())}}catch(f){console.error("outputArea error:",f)}finally{i&&i.restore()}}function G3e(r,t){const e=String(r);if(e==="top")return 0;if(e==="center")return t.height/2;if(e==="bottom")return t.height;if(e.endsWith("px")){const n=parseFloat(e.slice(0,-2));return n>=0?n:t.height+n}if(e.endsWith("%")){const n=parseFloat(e.slice(0,-1))/100;return t.height*n}return 0}function W3e(r){return r&&r._range?{from:r._range.from,to:r._range.to}:null}function Zne(r,t,e){const{ctx:n,bounding:i,yAxis:a,xAxis:o,script:s}=r;if(!n||!t||!e)return;const l=c=>typeof e=="function"?e(c)||{}:e||{},u=q3e(o);if(u)for(let c=u.from;c<u.to&&c<t.length;c++){const f=t[c];if(!X.isValid(f))continue;if(typeof f=="object"&&f!==null){if(f.val1!==void 0||f.val2!==void 0){if(f.val1===void 0&&f.val2===void 0)continue}else if(Object.keys(f).length===0)continue}else if(typeof f=="number"&&!X.isValid(f))continue;const d={value:f,index:c,prev:c>0?t[c-1]:void 0};let h=l(d);if(h?.show===!1)continue;const v=U3e(f,c,h,r),g=h.icon||h.type||"circle",m=One[g];if(m){const x={...h};if(x.style||(x.style=h.full||"fill"),Array.isArray(x.color)){const _=x.color;if(_.length>=2){const b=n.createRadialGradient(v.x,v.y,0,v.x,v.y,x.size||10);_.forEach((w,T)=>{const A=T/(_.length-1);b.addColorStop(A,w)}),x.color=b}else x.color=_[0]||"#000"}x.style==="stroke"&&(x.borderColor=x.color),m(n,v,x)}}}function U3e(r,t,e,n){const{yAxis:i,xAxis:a,bounding:o,script:s}=n;let l=a.convertToPixel(t),u=0;const c=e.size||5;let f=r;switch(typeof r=="object"&&r!==null&&(r.val1!==void 0||r.val2!==void 0)&&(f=r.val1!==void 0?r.val1:r.val2),e.position){case"value":u=i.convertToPixel(f);break;case"high":case"low":case"open":case"close":const d=n.dataList;if(d&&t<d.length&&d[t]){const m=d[t][e.position];u=i.convertToPixel(m)}break;case"highUp":const h=n.dataList;if(h&&t<h.length&&h[t]){const m=h[t].high,x=e.size||12;u=i.convertToPixel(m)-x*1.5}break;case"lowDown":const v=n.dataList;if(v&&t<v.length&&v[t]){const m=v[t].low,x=e.size||12;u=i.convertToPixel(m)+x*1.5}break;case"top":u=o.top+c/2;break;case"bottom":u=o.height-c*1.5;break;case"center":u=(o.top+o.height)/2;break;default:u=i.convertToPixel(f)}return l+=e.x||0,u+=e.y||0,{x:l,y:u}}function q3e(r){return r&&r._range?{from:r._range.from,to:r._range.to}:null}function Y3e(r,t,e,n){if(!t||e===null||e===void 0||!r||n&&typeof n=="object"&&(n.show===!1||n.value&&n.value.show===!1||n.defaultValue&&n.defaultValue.show===!1))return;if(!Array.isArray(e)){let o;e==null||typeof e=="number"&&(isNaN(e)||!isFinite(e))?o="N/A":o=String(e);let s=null;try{if(r.precision!==void 0&&r.precision!==null){if(typeof r.precision=="number")s=r.precision;else if(r.precision==="price"){const u=r.chart;u&&u._chartStore&&u._chartStore._symbol?s=u._chartStore._symbol.pricePrecision??2:s=2}else if(r.precision==="volume"){const u=r.chart;u&&u._chartStore&&u._chartStore._symbol?s=u._chartStore._symbol.volumePrecision??2:s=2}}}catch{}const l={label:t,dataSource:o,style:n,precision:s};r.tooltipTools||(r.tooltipTools=[]),r.tooltipTools.push(l);return}let i=null;try{if(r.precision!==void 0&&r.precision!==null){if(typeof r.precision=="number")i=r.precision;else if(r.precision==="price"){const o=r.chart;o&&o._chartStore&&o._chartStore._symbol?i=o._chartStore._symbol.pricePrecision??2:i=2}else if(r.precision==="volume"){const o=r.chart;o&&o._chartStore&&o._chartStore._symbol?i=o._chartStore._symbol.volumePrecision??2:i=2}}}catch{}r.tooltipTools||(r.tooltipTools=[]);const a={label:t,dataSource:e,style:n,precision:i};r.tooltipTools.push(a)}function Kne(r,t,e){const{ctx:n,bounding:i,yAxis:a,xAxis:o}=r;if(!n||!t||t.length===0)return;const s=c=>typeof e=="function"?e(c)||{}:e||{},l=o?._range;if(!l){console.warn("outputCandle: xAxis._range ",o?._range);return}const u=Math.max(1,Math.floor(i.width/(l.to-l.from)*.8));for(let c=l.from;c<l.to&&c<t.length;c++){const f=t[c];if(!f||f.open===void 0||f.close===void 0)continue;const d={value:f,index:c,prev:c>0?t[c-1]:void 0},h=s(d);if(h.show===!1)continue;const v=h.color||"#00FF00",g=h.full||"fill",m=h.size||1,x=f.open,_=f.close,b=f.high,w=f.low,T=v,A=o.convertToPixel(c),M=a.convertToPixel(x),D=a.convertToPixel(_),P=b!==void 0?a.convertToPixel(b):null,I=w!==void 0?a.convertToPixel(w):null;if(A===null||M===null||D===null)continue;const R=Math.min(M,D),k=Math.max(M,D),O=k-R,V=Math.max(1,O),N=Math.round(A),L=Math.round(R),G=Math.round(R+V),W=Math.max(1,Math.round(u)),U=Math.floor(N-W/2),Z=U+W;if(n.setLineDash([]),g==="fill"){if(Array.isArray(T)){const $=T;if($.length>=2){const K=n.createLinearGradient(0,L,0,G);$.forEach((re,ce)=>{const pe=ce/($.length-1);K.addColorStop(pe,re)}),n.fillStyle=K}else n.fillStyle=$[0]||"#00FF00"}else n.fillStyle=T;const F=Math.max(1,Z-U+1),q=Math.max(1,G-L);n.fillRect(U,L,F,q)}else{if(Array.isArray(T)){const $=T;if($.length>=2){const K=n.createLinearGradient(0,L,0,G);$.forEach((re,ce)=>{const pe=ce/($.length-1);K.addColorStop(pe,re)}),n.strokeStyle=K}else n.strokeStyle=$[0]||"#00FF00"}else n.strokeStyle=T;n.lineWidth=m;const F=Math.max(1,Z-U+1),q=Math.max(1,G-L);n.strokeRect(U,L,F,q)}if(P!==null&&P<k){if(Array.isArray(T)){const F=T;if(F.length>=2){const q=n.createLinearGradient(0,G,0,Math.round(P));F.forEach(($,K)=>{const re=K/(F.length-1);q.addColorStop(re,$)}),n.strokeStyle=q}else n.strokeStyle=F[0]||"#00FF00"}else n.strokeStyle=T;n.lineWidth=m,n.setLineDash([]),n.beginPath(),g==="fill"?(n.moveTo(N,G),n.lineTo(N,Math.round(P))):(n.moveTo(N,L-m),n.lineTo(N,Math.round(P))),n.stroke()}if(I!==null&&I>R){if(Array.isArray(T)){const F=T;if(F.length>=2){const q=n.createLinearGradient(0,L,0,Math.round(I));F.forEach(($,K)=>{const re=K/(F.length-1);q.addColorStop(re,$)}),n.strokeStyle=q}else n.strokeStyle=F[0]||"#00FF00"}else n.strokeStyle=T;n.lineWidth=m,n.setLineDash([]),n.beginPath(),g==="fill"?(n.moveTo(N,L),n.lineTo(N,Math.round(I))):(n.moveTo(N,G+m),n.lineTo(N,Math.round(I))),n.stroke()}}}function Qne(r,t,e){const{ctx:n,bounding:i,yAxis:a,xAxis:o}=r;if(!n||!t||t.length===0)return;const s=o?._range;if(!s){console.warn("outputRect: xAxis._range ",o?._range);return}const l=u=>typeof e=="function"?e(u)||{}:e||{};for(let u=0;u<t.length;u++){const c=t[u];if(c){if(!Array.isArray(c)){if(!c||typeof c!="object"||!c.hasOwnProperty("start")||!c.hasOwnProperty("end")||!c.hasOwnProperty("startIndex")||!c.hasOwnProperty("endIndex")||c.endIndex<s.from||c.startIndex>s.to)continue;const f=u>0?t[u-1]:void 0,d=f&&!Array.isArray(f)?f:void 0;sX(n,c,u,o,a,l,d);continue}for(const f of c){if(!f||typeof f!="object"||!f.hasOwnProperty("start")||!f.hasOwnProperty("end")||!f.hasOwnProperty("startIndex")||!f.hasOwnProperty("endIndex")||f.endIndex<s.from||f.startIndex>s.to)continue;const d=u>0?t[u-1]:void 0,h=d&&!Array.isArray(d)?d:void 0;sX(n,f,u,o,a,l,h)}}}}function sX(r,t,e,n,i,a,o){const s=n.convertToPixel(t.startIndex),l=n.convertToPixel(t.endIndex),u=i.convertToPixel(t.start),c=i.convertToPixel(t.end);if(s===null||l===null||u===null||c===null)return;const d=a({value:t,index:e,prev:o});if(d.show===!1)return;const h=d.color||"#00FF00",v=d.full||"fill",g=d.size||1,m=d.style||"solid",x=Math.round(Math.min(s,l)),_=Math.round(Math.max(s,l)),b=Math.round(Math.min(u,c)),w=Math.round(Math.max(u,c)),T=_-x,A=w-b;if(!(T<=0||A<=0))if(m==="dashed"?r.setLineDash([5,5]):m==="dotted"?r.setLineDash([2,2]):r.setLineDash([]),v==="fill"){if(Array.isArray(h)){const M=h;if(M.length>=2){const D=r.createLinearGradient(0,b,0,w);M.forEach((P,I)=>{const R=I/(M.length-1);D.addColorStop(R,P)}),r.fillStyle=D}else r.fillStyle=M[0]||"#00FF00"}else r.fillStyle=h;r.fillRect(x,b,T,A)}else{if(Array.isArray(h)){const M=h;if(M.length>=2){const D=r.createLinearGradient(0,b,0,w);M.forEach((P,I)=>{const R=I/(M.length-1);D.addColorStop(R,P)}),r.strokeStyle=D}else r.strokeStyle=M[0]||"#00FF00"}else r.strokeStyle=h;r.lineWidth=g,r.strokeRect(x,b,T,A)}}class Ru{constructor(t,e,n,i,a){this.ctx=t,this.bounding=e,this.xAxis=n,this.yAxis=i,this.dataList=a}convertX(t){if(typeof t=="number")return t>=0?t:this.bounding.width+t;const e=String(t);if(e==="left")return 0;if(e==="center")return this.bounding.width/2;if(e==="right")return this.bounding.width;if(e.endsWith("px")){const n=parseFloat(e.slice(0,-2));return n>=0?n:this.bounding.width+n}if(e.endsWith("%")){const n=parseFloat(e.slice(0,-1))/100;return this.bounding.width*n}if(e.startsWith("index:")){const n=e.substring(6);if(n==="end"){const a=this.dataList.length-1;return a>=0?this.xAxis.convertToPixel(a):0}const i=parseInt(n);if(!isNaN(i)){const a=i<0?this.dataList.length+i:i;if(a>=0&&a<this.dataList.length)return this.xAxis.convertToPixel(a);{const o=this.dataList.length-1;if(o>=0)return this.xAxis.convertToPixel(o)}}}return 0}convertY(t){if(typeof t=="number")return this.yAxis.convertToPixel(t);const e=String(t);if(e==="top")return 0;if(e==="center")return this.bounding.height/2;if(e==="bottom")return this.bounding.height;if(e.endsWith("px")){const n=parseFloat(e.slice(0,-2));return n>=0?n:this.bounding.height+n}if(e.endsWith("%")){const n=parseFloat(e.slice(0,-1))/100;return this.bounding.height*n}if(["high","low","open","close","hl2","oc2","hlc3","ohl3","ohlc4"].includes(e)){const n=this.dataList[this.dataList.length-1];if(n&&typeof n[e]=="number")return this.yAxis.convertToPixel(n[e])}if(e.startsWith("index:")){const n=e.substring(6);if(n==="end"){const a=this.dataList.length-1;if(a>=0){const o=this.dataList[a];if(o&&typeof o.close=="number")return this.yAxis.convertToPixel(o.close)}return this.bounding.height}const i=parseInt(n);if(!isNaN(i)){const a=i<0?this.dataList.length+i:i;if(a>=0&&a<this.dataList.length){const o=this.dataList[a];if(o&&typeof o.close=="number")return this.yAxis.convertToPixel(o.close)}}}return 0}convertSize(t){if(typeof t=="number")return t;const e=String(t);if(e.endsWith("px"))return parseFloat(e.slice(0,-2));if(e.endsWith("%")){const n=parseFloat(e.slice(0,-1))/100;return this.bounding.width*n}return parseFloat(e)||0}}function X3e(r,t,e,n,i){const{ctx:a,bounding:o,xAxis:s,yAxis:l,dataList:u}=r;if(!a||!o||e.show===!1)return;const c=new Ru(a,o,s,l,u);(Array.isArray(t)?t:[t]).forEach(d=>{const h=c.convertY(d),v=n!==void 0?c.convertX(n):0,g=i!==void 0?c.convertX(i):o.width;if(e.color)if(Array.isArray(e.color)){const b=e.color;if(b.length>=2){const w=a.createLinearGradient(v,h,g,h);b.forEach((T,A)=>{const M=A/(b.length-1);w.addColorStop(M,T)}),a.strokeStyle=w}else a.strokeStyle=b[0]}else a.strokeStyle=e.color;let m=e.size||1,x=0,_=0;if(m%2===1&&(x=.5,_=.5),a.lineWidth=m,e.style)switch(e.style){case"dashed":a.setLineDash([5*m,5*m]);break;case"dotted":a.setLineDash([2*m,2*m]);break;default:a.setLineDash([])}a.beginPath(),a.moveTo(v+x,h+_),a.lineTo(g+x,h+_),a.stroke()})}function $3e(r,t,e,n,i){const{ctx:a,bounding:o,xAxis:s,yAxis:l,dataList:u}=r;if(!a||!o||e.show===!1)return;const c=new Ru(a,o,s,l,u);(Array.isArray(t)?t:[t]).forEach(d=>{const h=c.convertX(d),v=n!==void 0?c.convertY(n):0,g=i!==void 0?c.convertY(i):o.height;if(e.color)if(Array.isArray(e.color)){const b=e.color;if(b.length>=2){const w=a.createLinearGradient(h,v,h,g);b.forEach((T,A)=>{const M=A/(b.length-1);w.addColorStop(M,T)}),a.strokeStyle=w}else a.strokeStyle=b[0]}else a.strokeStyle=e.color;let m=e.size||1,x=0,_=0;if(m%2===1&&(x=.5,_=.5),a.lineWidth=m,e.style)switch(e.style){case"dashed":a.setLineDash([5*m,5*m]);break;case"dotted":a.setLineDash([2*m,2*m]);break;default:a.setLineDash([])}a.beginPath(),a.moveTo(h+x,v+_),a.lineTo(h+x,g+_),a.stroke()})}function j3e(r,t,e){const{ctx:n,bounding:i,xAxis:a,yAxis:o,dataList:s}=r;if(!n||!i||e.show===!1)return;const l=new Ru(n,i,a,o,s);(Array.isArray(t)?t:[t]).forEach(c=>{const f=l.convertX(c.x1),d=l.convertY(c.y1),h=l.convertX(c.x2),v=l.convertY(c.y2);if(e.color)if(Array.isArray(e.color)){const _=e.color;if(_.length>=2){const b=n.createLinearGradient(f,d,h,v);_.forEach((w,T)=>{const A=T/(_.length-1);b.addColorStop(A,w)}),n.strokeStyle=b}else n.strokeStyle=_[0]}else n.strokeStyle=e.color;let g=e.size||1,m=0,x=0;if(g%2===1&&(m=.5,x=.5),n.lineWidth=g,e.style)switch(e.style){case"dashed":n.setLineDash([5*g,5*g]);break;case"dotted":n.setLineDash([2*g,2*g]);break;default:n.setLineDash([])}n.beginPath(),n.moveTo(f+m,d+x),n.lineTo(h+m,v+x),n.stroke()})}function Z3e(r,t,e){const{ctx:n,bounding:i,xAxis:a,yAxis:o,dataList:s}=r;if(!n||!i||e.show===!1)return;const l=new Ru(n,i,a,o,s);(Array.isArray(t)&&t.length>0&&typeof t[0]=="object"&&"x"in t[0]?[t]:t).forEach(c=>{if(c.length<3){console.warn("sarea: 3");return}const f=c.map(d=>({x:l.convertX(d.x),y:l.convertY(d.y)}));n.beginPath(),n.moveTo(f[0].x,f[0].y);for(let d=1;d<f.length;d++)n.lineTo(f[d].x,f[d].y);if(n.closePath(),e.color&&e.color!=="transparent"){if(Array.isArray(e.color)){const d=e.color;if(d.length>=2){const h=Math.min(...f.map(m=>m.y)),v=Math.max(...f.map(m=>m.y)),g=n.createLinearGradient(0,h,0,v);d.forEach((m,x)=>{const _=x/(d.length-1);g.addColorStop(_,m)}),n.fillStyle=g}else n.fillStyle=d[0]}else n.fillStyle=e.color;n.fill()}if(e.border)if(n.strokeStyle=e.border,n.lineWidth=e.size||1,n.setLineDash([]),e.style==="dashed"?n.setLineDash([5,5]):e.style==="dotted"&&n.setLineDash([2,2]),(e.size||1)%2===1){n.save(),n.translate(.5,.5),n.beginPath(),n.moveTo(f[0].x,f[0].y);for(let h=1;h<f.length;h++)n.lineTo(f[h].x,f[h].y);n.closePath(),n.stroke(),n.restore()}else n.stroke()})}function K3e(r,t,e){const{ctx:n,bounding:i,xAxis:a,yAxis:o,dataList:s}=r;if(!n||!i)return;const l=f=>typeof e=="function"?e(f)||{}:e||{},u=new Ru(n,i,a,o,s),c=Array.isArray(t)?t:[t];c.forEach((f,d)=>{const h=u.convertX(f.x1),v=u.convertY(f.y1),g=u.convertX(f.x2),m=u.convertY(f.y2),x=Math.min(h,g),_=Math.max(h,g),b=Math.min(v,m),w=Math.max(v,m),T={value:f,index:d,prev:d>0?c[d-1]:void 0},A=l(T);if(A.show!==!1){if(A.color&&A.color!=="transparent"){if(Array.isArray(A.color)){const M=A.color;if(M.length>=2){const D=n.createLinearGradient(0,v,0,m);M.forEach((P,I)=>{const R=I/(M.length-1);D.addColorStop(R,P)}),n.fillStyle=D}else n.fillStyle=M[0]}else n.fillStyle=A.color;n.fillRect(x,b,_-x,w-b)}if(A.border){n.strokeStyle=A.border,n.lineWidth=A.size||1,n.setLineDash([]),A.style==="dashed"?n.setLineDash([5,5]):A.style==="dotted"&&n.setLineDash([2,2]);const M=A.size||1;let D=0,P=0;M%2===1&&(D=.5,P=.5),n.strokeRect(x+D,b+P,_-x,w-b)}}})}function Q3e(r,t,e){const{ctx:n,bounding:i,xAxis:a,yAxis:o,dataList:s}=r;if(!n||!i||e.show===!1)return;const l=new Ru(n,i,a,o,s);(Array.isArray(t)?t:[t]).forEach(c=>{if(!c||typeof c!="object")return;let f=l.convertX(c.x),d=l.convertY(c.y);e.x!==void 0&&(f+=Number(e.x)),e.y!==void 0&&(d+=Number(e.y));const h=e.icon??"circle",v=J3e(h),g=One[v];if(typeof g!="function")return;const m=eLe(e),x=m.size||5,_=String(c.x),b=String(c.y);_==="right"||_.endsWith("%")&&parseFloat(_)>=100?f-=x/2:(_==="left"||_==="0"||_==="0%")&&(f+=x/2),b==="bottom"||b.endsWith("%")&&parseFloat(b)>=100?d-=x/2:(b==="top"||b==="0"||b==="0%")&&(d+=x/2),g(n,{x:f,y:d},m)})}function J3e(r){if(!r)return"circle";const t=String(r).toLowerCase().replace(/[^a-z]/g,"");return{arrowup:"arrowUp",arrowdown:"arrowDown",arrowleft:"arrowLeft",arrowright:"arrowRight",arrow:"arrowUp",triangle:"triangle",triangleup:"triangleUp",triangledown:"triangleDown",triangleleft:"triangleLeft",triangleright:"triangleRight",circle:"circle",square:"square",diamond:"diamond",star:"star",cross:"cross",x:"x",flag:"flag",heart:"heart",check:"check"}[t]||"circle"}function eLe(r){const t={},e=r.full||"fill";if(t.size=r.size??5,t.show=r.show!==!1,Array.isArray(r.color)){const n=r.color;if(n.length>=2){const i=(a,o,s)=>{const l=a.createRadialGradient(o,s,0,o,s,t.size||5);return n.forEach((u,c)=>{const f=c/(n.length-1);l.addColorStop(f,u)}),l};e==="fill"?t.color=i:e==="stroke"?(t.borderColor=i,t.borderSize=1):t.color=i}else{const i=n[0]||"#000";e==="fill"?t.color=i:e==="stroke"?(t.borderColor=i,t.borderSize=1):t.color=i}}else e==="fill"?t.color=r.color:e==="stroke"?(t.borderColor=r.color,t.borderSize=1):t.color=r.color;return t}function tLe(r,t,e){const{ctx:n,bounding:i,xAxis:a,yAxis:o,dataList:s}=r;if(!n||!i||e.show===!1)return;const l=new Ru(n,i,a,o,s);(Array.isArray(t)?t:[t]).forEach(c=>{const f=l.convertX(c.x1),d=l.convertY(c.y1),h=l.convertX(c.x2),v=l.convertY(c.y2),g=(f+h)/2,m=(d+v)/2,_=Math.sqrt(Math.pow(h-f,2)+Math.pow(v-d,2))/2;if(n.beginPath(),n.arc(g,m,_,0,2*Math.PI),e.color&&e.color!=="transparent"){if(Array.isArray(e.color)){const b=e.color;if(b.length>=2){const w=n.createRadialGradient(g,m,0,g,m,_);b.forEach((T,A)=>{const M=A/(b.length-1);w.addColorStop(M,T)}),n.fillStyle=w}else n.fillStyle=b[0]}else n.fillStyle=e.color;n.fill()}e.border&&(n.strokeStyle=e.border,n.lineWidth=e.size||1,n.setLineDash([]),e.style==="dashed"?n.setLineDash([5,5]):e.style==="dotted"&&n.setLineDash([2,2]),(e.size||1)%2===1?(n.save(),n.translate(.5,.5),n.beginPath(),n.arc(g,m,_,0,2*Math.PI),n.stroke(),n.restore()):n.stroke())})}function rLe(r,t,e,n){const{ctx:i,bounding:a,xAxis:o,yAxis:s,dataList:l}=r;if(!i||!a||e.show===!1)return;const u=new Ru(i,a,o,s,l);(Array.isArray(t)?t:[t]).forEach(f=>{let d=u.convertX(f.x),h=u.convertY(f.y);e.x!==void 0&&(d+=Number(e.x)),e.y!==void 0&&(h+=Number(e.y));let v="";if(e.text&&String(e.text).length>0?v=String(e.text):f.text!==void 0&&f.text!==null&&String(f.text).length>0&&(v=String(f.text)),!v)return;const g=e.size||12,m="Arial, sans-serif",x=e.bold?"bold":"normal",_=e.italic?"italic":"normal";i.font=`${_} ${x} ${g}px ${m}`,i.textAlign=e.align||"left",i.textBaseline="middle";const w=i.measureText(v).width,T=g,A=n||{},M=A.padding||e.padding||4,D=String(f.x),P=String(f.y);D==="right"||D.endsWith("%")&&parseFloat(D)>=100?i.textAlign==="left"?d-=w+M*2:i.textAlign==="center"&&(d-=(w+M*2)/2):(D==="left"||D==="0"||D==="0%")&&(i.textAlign==="right"?d+=w+M*2:i.textAlign==="center"&&(d+=(w+M*2)/2)),P==="bottom"||P.endsWith("%")&&parseFloat(P)>=100?h-=T/2+M:(P==="top"||P==="0"||P==="0%")&&(h+=T/2+M);const I=d-(i.textAlign==="center"?w/2:i.textAlign==="right"?w:0),R=h-T/2,k=w+M*2,O=T+M*2,V=A.color||e.background,N=A.radius||0;if(A.show!==!1){if(V&&V!=="transparent"){if(Array.isArray(V)){const U=V;if(U.length>=2){const Z=i.createLinearGradient(I,R,I,R+O);U.forEach((F,q)=>{const $=q/(U.length-1);Z.addColorStop($,F)}),i.fillStyle=Z}else i.fillStyle=U[0]}else i.fillStyle=V;N>0?(i.beginPath(),i.roundRect(I,R,k,O,N),i.fill()):i.fillRect(I,R,k,O)}}if(e.color)if(Array.isArray(e.color)){const U=e.color;if(U.length>=2){const Z=i.createLinearGradient(I,R,I,R+O);U.forEach((F,q)=>{const $=q/(U.length-1);Z.addColorStop($,F)}),i.fillStyle=Z}else i.fillStyle=U[0]}else i.fillStyle=e.color;else i.fillStyle="#333333";const L=I+k/2,G=R+O/2,W=i.textAlign;i.textAlign="center",i.fillText(v,L,G),i.textAlign=W})}function lX(r){const{script:t,xAxis:e,dataList:n}=r;let i=1/0,a=-1/0,o=!1;const s=()=>{t.position==="vice"&&(o||(o=!0,Promise.resolve().then(()=>{o=!1,r.chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})})))};function l(){return e&&e._range?{from:e._range.from,to:e._range.to}:null}function u(h){if(t.position!=="vice")return;const v=l();Array.isArray(h)?h.forEach((x,_)=>{v&&(_<v.from||_>=v.to)||X.isValid(x)&&(i=Math.min(i,x),a=Math.max(a,x))}):X.isValid(h)?(i=Math.min(i,h),a=Math.max(a,h)):h&&typeof h=="object"&&Object.values(h).forEach(x=>{X.isValid(x)&&(i=Math.min(i,x),a=Math.max(a,x))});let g=null,m=null;t._default?.min!==void 0?g=t._default.min:i!==1/0&&(g=i),t._default?.max!==void 0?m=t._default.max:a!==-1/0&&(m=a),g!==null&&(t.minValue=g),m!==null&&(t.maxValue=m),s()}function c(h,v,g,m,x,_,b){if(t.position==="vice"){const w=r.chart.getDrawPaneById(t.paneId);if(w){w._mdDrawData||(w._mdDrawData=[]);const T={type:h,data:v,styles:g,dataList:r.dataList,scriptId:t.id};m&&(T.labelStyles=m),_&&(T.data2=_),b&&(T.baseline=b),w._mdDrawData.push(T)}}}let f=!1;function d(){t.position==="vice"&&r.chart.getDrawPaneById("candle_pane")&&(f||(f=!0,(window.requestAnimationFrame||(g=>setTimeout(g,16)))(()=>{f=!1,r.chart.requestOverlayUpdateOnce("candle_pane")})))}return{line:(h,v)=>{u(h),Yne(r,h,v)},maindraw:{line:(h,v)=>{t.position==="vice"&&(c("line",h,v),d())},shape:(h,v)=>{t.position==="vice"&&(c("shape",h,v),d())},label:(h,v,g)=>{t.position==="vice"&&(c("label",h,v,g),d())},rect:(h,v)=>{t.position==="vice"&&(c("rect",h,v),d())},area:(h,v,g)=>{t.position==="vice"&&(c("area",h,g,void 0,void 0,v),d())},bar:(h,v,g)=>{t.position==="vice"&&(c("bar",h,g,void 0,void 0,void 0,v),d())},candle:(h,v)=>{t.position==="vice"&&(c("candle",h,v),d())}},bar:(h,v,g)=>{u(h),Xne(r,h,v,g)},label:(h,v,g)=>{$ne(r,h,v,g)},area:(h,v,g)=>{u(h),u(v),jne(r,h,v,g)},shape:(h,v)=>{Zne(r,h,v)},candle:(h,v)=>{Kne(r,h,v)},rect:(h,v)=>{Qne(r,h,v)},hline:(h,v,g,m)=>{X3e(r,h,v||{},g,m)},vline:(h,v,g,m)=>{$3e(r,h,v||{},g,m)},sline:(h,v)=>{j3e(r,h,v||{})},sarea:(h,v)=>{function g(_){return{x:_[0],y:_[1]}}function m(_){return _&&typeof _=="object"&&"x"in _&&"y"in _}let x=[];if(Array.isArray(h)){const _=h;if(_.length===0)x=[];else if(Array.isArray(_[0]))_.length>0&&Array.isArray(_[0])&&_[0].length>0&&m(_[0][0])?x=_:x=[_.map(g)];else if(m(_[0]))x=[_];else{const b=[];for(let w=0;w<_.length;w+=2){const T=_[w],A=_[w+1];if(T===void 0||A===void 0)break;b.push({x:T,y:A})}x=b.length?[b]:[]}}else m(h)?x=[]:x=[];x=x.filter(_=>Array.isArray(_)&&_.length>=3),x.length>0&&Z3e(r,x,v||{})},srect:(h,v)=>{K3e(r,h,v||{})},sshape:(h,v,g)=>{let m,x;function _(b){if(Array.isArray(b)){const w=b;if(w.length===0)return[];if(typeof w[0]=="object"&&!Array.isArray(w[0])&&("x"in w[0]||"y"in w[0]))return w;if(Array.isArray(w[0]))return w.map(A=>({x:A[0],y:A[1]}));const T=[];for(let A=0;A<w.length;A+=2){const M=w[A],D=w[A+1];if(M===void 0||D===void 0)break;T.push({x:M,y:D})}return T}return b&&typeof b=="object"&&("x"in b||"y"in b)?[b]:[]}Array.isArray(h)?(m=_(h),x=v||{}):h&&typeof h=="object"&&("x"in h||"y"in h)?(m=_(h),x=v||{}):(m=[{x:h,y:v}],x=g||{}),Q3e(r,m,x)},scircle:(h,v)=>{tLe(r,h,v||{})},slabel:(h,v,g)=>{rLe(r,h,v||{},g)},MD:{line:(v,g)=>{t.position==="vice"&&(c("line",v,g),d())},shape:(v,g)=>{t.position==="vice"&&(c("shape",v,g),d())},label:(v,g,m)=>{t.position==="vice"&&(c("label",v,g,m),d())},candle:(v,g)=>{t.position==="vice"&&(c("candle",v,g),d())}}}}function nLe(r){const{msgCallback:t,scriptId:e,script:n}=r;function i(l){if(l===null||typeof l!="object")return String(l);const u=Object.keys(l).sort(),c={};for(const f of u)c[f]=i(l[f]);return JSON.stringify(c)}function a(l){return typeof l=="string"?l:l&&typeof l=="object"?l.type?String(l.type):l.name?String(l.name):l.action?String(l.action):l.reason?String(l.reason):i(l):String(l)}function o(){const l="__signalLastBarByTag__";return n[l]||(n[l]=new Map),n[l]}function s(l){if(l==null)return null;if(Array.isArray(l)){const u=l.length-1;if(u>=0){const c=l[u];return c??null}return null}return l}return{tools:(l,u,c)=>{Y3e(n,l,u,c);try{if(n){Array.isArray(n.tools)||(n.tools=[]);const f=n.precision??c?.precision,d=Array.isArray(u)?u[u.length-1]:u,h=Array.isArray(u)?u.length-1:null;n.tools.push({name:l,data:u,style:c,precision:f,latest:d,lastIndex:h})}}catch{}},print:l=>{t&&t(e,"print",l)},sys:l=>{t&&t(e,"sys",l)},error:l=>{t&&t(e,"error",l)},warn:l=>{t&&t(e,"warn",l)},signal:(l,u,c)=>{const f=s(l);if(f!=null){let d="";typeof u=="function"?d=u(f):typeof u=="string"&&typeof c=="function"?d=c(f):u!==void 0?d=u:d=f;const h=n.chart._chartStore._dataList[n.chart._chartStore._dataList.length-1].timestamp,v=`signal:${a(d)}`,g=o();if(g.get(v)===h)return;if(g.set(v,h),g.size>100){const _=g.keys().next().value;g.delete(_)}const x={name:n?.name,id:n.id,symbol:n.chart._chartStore._symbol.symbol,period:n.chart._chartStore._period.name,timestamp:h,msg:d};t&&t(e,"signal",x)}},orderOpen:(l,u)=>{let c=!1;if(Array.isArray(l)){const m=s(l);c=m!=null}else typeof l=="object"&&l!==null?c=!0:typeof l=="boolean"&&(c=l===!0);if(!c||!u||!u.type||!u.num||u.type!=="buy"&&u.type!=="sell"||typeof u.num!="number"||u.num<=0)return;const f=n.chart._chartStore._dataList[n.chart._chartStore._dataList.length-1].timestamp,d=`orderOpen:${a(u.msg||"")}`,h=o();if(h.get(d)===f)return;if(h.set(d,f),h.size>100){const m=h.keys().next().value;h.delete(m)}const g={name:n?.name,id:n.id,symbol:n.chart._chartStore._symbol.symbol,period:n.chart._chartStore._period.name,timestamp:f,type:u.type,num:u.num,price:u.price||(Array.isArray(l)?s(l):null),stoploss:u.stoploss,takeprofit:u.takeprofit,msg:u.msg};t&&t(e,"orderOpen",g)},orderClose:l=>{if(!l||!l.id)return;const u=Date.now(),c=`orderClose:${a(l.id)}_`,f=o();let d=null,h=null;for(const[v,g]of f.entries())if(v.startsWith(c)){d=v,h=g;break}if(d){if(h&&u-h>=1e3){f.delete(d);const v=`${c}${u}`;if(f.set(v,u),f.size>100){const m=f.keys().next().value;f.delete(m)}const g={name:n?.name,id:n.id,symbol:n.chart._chartStore._symbol.symbol,period:n.chart._chartStore._period.name,timestamp:u,orderId:l.id,num:l.num,price:l.price,msg:l.msg};t&&t(e,"orderClose",g)}}else{const v=`${c}${u}`;if(f.set(v,u),f.size>100){const m=f.keys().next().value;f.delete(m)}const g={name:n?.name,id:n.id,symbol:n.chart._chartStore._symbol.symbol,period:n.chart._chartStore._period.name,timestamp:u,orderId:l.id,num:l.num,price:l.price,msg:l.msg};t&&t(e,"orderClose",g)}},orderUpdate:l=>{if(!l||!l.id||l.price===void 0&&l.stoploss===void 0&&l.takeprofit===void 0)return;const u=`${l.id}_${l.price||""}_${l.stoploss||""}_${l.takeprofit||""}`,c=`orderUpdate:${a(u)}`,f=o(),d=f.get(c),h=n.chart._chartStore._dataList[n.chart._chartStore._dataList.length-1].timestamp;if(d!==h){if(f.set(c,h),f.size>100){const g=f.keys().next().value;f.delete(g)}const v={name:n?.name,id:n.id,symbol:n.chart._chartStore._symbol.symbol,period:n.chart._chartStore._period.name,timestamp:h,orderId:l.id,price:l.price,stoploss:l.stoploss,takeprofit:l.takeprofit,msg:l.msg};t&&t(e,"orderUpdate",v)}}}}class iLe extends Une{constructor(t,e){super(t,e),this._candleBarView=new Fne(this),this._candleAreaView=new S3e(this),this._candlePriceLineView=new w3e(this),this._candleFootprintView=new M3e(this),this._candleFootprintPeriodView=new E3e(this),this._candleHighLowPriceView=new I3e(this),this._candleLastPriceLineView=new R3e(this),this._crosshairFeatureView=new N3e(this),this.addChild(this._candleBarView),this.addChild(this._candleFootprintView),this.addChild(this._candleFootprintPeriodView),this.addChild(this._crosshairFeatureView)}updateMainContent(t){const n=this.getPane().getChart().getStyles().candle.type;n==="area"?(this._candleAreaView.draw(t),this._candlePriceLineView.stopAnimation(),this._candleFootprintView.stopAnimation(),this._candleFootprintPeriodView.stopAnimation()):n==="price_line"?(this._candleAreaView.stopAnimation(),this._candlePriceLineView.draw(t),this._candleFootprintView.stopAnimation(),this._candleFootprintPeriodView.stopAnimation()):n==="footprint"?(this._candleAreaView.stopAnimation(),this._candlePriceLineView.stopAnimation(),this._candleFootprintView.draw(t),this._candleFootprintPeriodView.stopAnimation()):n==="footprint_period"?(this._candleAreaView.stopAnimation(),this._candlePriceLineView.stopAnimation(),this._candleFootprintView.stopAnimation(),this._candleFootprintPeriodView.draw(t)):(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleAreaView.stopAnimation(),this._candlePriceLineView.stopAnimation(),this._candleFootprintView.stopAnimation(),this._candleFootprintPeriodView.stopAnimation()),this._candleLastPriceLineView.draw(t),(this.getPane().getChart().watermarkList||[]).forEach((o,s)=>{if(o.img&&o.img.complete){const{position:l=9,offsetX:u=0,offsetY:c=0,width:f,height:d,opacity:h=.15,grayscale:v=!1,rotate:g=0}=o,m=f||o.img.width,x=d||o.img.height,_=t.canvas.width,b=t.canvas.height,w=WNe(l,_,b,m,x),T=w.x+u,A=w.y+c;t.save(),t.globalAlpha=h;const M=g*Math.PI/180;if(t.translate(T+m/2,A+x/2),t.rotate(M),v){const D=document.createElement("canvas");D.width=m,D.height=x;const P=D.getContext("2d");P.drawImage(o.img,0,0,m,x);const I=P.getImageData(0,0,m,x);for(let R=0;R<I.data.length;R+=4){const k=.299*I.data[R]+.587*I.data[R+1]+.114*I.data[R+2];I.data[R]=I.data[R+1]=I.data[R+2]=k}P.putImageData(I,0,0),t.drawImage(D,-m/2,-x/2,m,x)}else t.drawImage(o.img,-m/2,-x/2,m,x);t.restore()}})}updateOverlayContent(t){this._crosshairFeatureView.draw(t);const e=this.getPane().getChart(),n=e.getDrawPanes(),i=[];if(n.forEach(a=>{if(a.getId()!=="candle_pane"){const o=a._mdDrawData;o&&o.length>0&&i.push(...o)}}),i&&i.length>0){const a={ctx:t,bounding:this.getBounding(),yAxis:this.getPane().getAxisComponent(),xAxis:e.getXAxisPane()?.getAxisComponent(),chart:e,script:{position:"main"}};i.forEach(o=>{const s={...a,dataList:o.dataList};switch(o.type){case"line":Yne(s,o.data,o.styles);break;case"shape":Zne(s,o.data,o.styles);break;case"label":$ne(s,o.data,o.labelStyles,o.backgroundStyles);break;case"rect":Qne(s,o.data,o.styles);break;case"area":jne(s,o.data,o.data2,o.styles);break;case"bar":Xne(s,o.data,o.baseline,o.styles);break;case"candle":Kne(s,o.data,o.styles);break}})}}createTooltipView(){return new L3e(this)}}class Jne extends mi{drawImp(t,e){const n=this.getWidget(),i=n.getPane(),a=n.getBounding(),o=i.getAxisComponent(),s=this.getAxisStyles(i.getChart().getStyles());if(s.show&&(s.axisLine.show&&this.createFigure({name:"line",attrs:this.createAxisLine(a,s),styles:s.axisLine})?.draw(t),!e[0])){const l=o.getTicks();if(s.tickLine.show&&this.createTickLines(l,a,s).forEach(c=>{this.createFigure({name:"line",attrs:c,styles:s.tickLine})?.draw(t)}),s.tickText.show){const u=this.createTickTexts(l,a,s);this.createFigure({name:"text",attrs:u,styles:s.tickText})?.draw(t)}}}}class aLe extends Jne{getAxisStyles(t){return t.yAxis}createAxisLine(t,e){const n=this.getWidget().getPane().getAxisComponent(),i=e.axisLine.size;let a=0;return n.isFromZero()?a=0:a=t.width-i,{coordinates:[{x:a,y:0},{x:a,y:t.height}]}}createTickLines(t,e,n){const i=this.getWidget().getPane().getAxisComponent(),a=n.axisLine,o=n.tickLine;let s=0,l=0;return i.isFromZero()?(s=0,a.show&&(s+=a.size),l=s+o.length):(s=e.width,a.show&&(s-=a.size),l=s-o.length),t.map(u=>({coordinates:[{x:s,y:u.coord},{x:l,y:u.coord}]}))}createTickTexts(t,e,n){const i=this.getWidget().getPane().getAxisComponent(),a=n.axisLine,o=n.tickLine,s=n.tickText;let l=0;i.isFromZero()?(l=s.marginStart,a.show&&(l+=a.size),o.show&&(l+=o.length)):(l=e.width-s.marginEnd,a.show&&(l-=a.size),o.show&&(l-=o.length));const u=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(c=>({x:l,y:c.coord,text:c.text,align:u,baseline:"middle"}))}}class oLe extends mi{constructor(){super(...arguments),this._countdownTimer=null}calculateRemainingTime(t,e){const a=this.getWidget().getPane().getChart().getChartStore(),{type:o,span:s}=e,l=Date.now();let u=0;switch(o){case"second":u=s*1e3;break;case"minute":u=s*60*1e3;break;case"hour":u=s*60*60*1e3;break;case"day":u=s*24*60*60*1e3;break;case"week":u=s*7*24*60*60*1e3;break;case"month":u=s*30*24*60*60*1e3;break;default:return""}let c;if(o==="day"||o==="week"||o==="month"){const m=new Date(t),x=new Date(m);switch(o){case"day":const _=a.getTimezone(),b=new Date(l),T=new Intl.DateTimeFormat("en-CA",{timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(b),A=parseInt(T.find(Ee=>Ee.type==="year")?.value||"0"),M=parseInt(T.find(Ee=>Ee.type==="month")?.value||"0")-1,D=parseInt(T.find(Ee=>Ee.type==="day")?.value||"0"),P=parseInt(T.find(Ee=>Ee.type==="hour")?.value||"0"),I=parseInt(T.find(Ee=>Ee.type==="minute")?.value||"0"),R=parseInt(T.find(Ee=>Ee.type==="second")?.value||"0"),k=new Date(A,M,D,P,I,R),V=new Date(A,M,D+1,0,0,0).getTime()-k.getTime();x.setTime(l+V);break;case"week":const N=a.getTimezone(),L=new Date(l),W=new Intl.DateTimeFormat("en-CA",{timeZone:N,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",hour12:!1}).formatToParts(L),U=parseInt(W.find(Ee=>Ee.type==="year")?.value||"0"),Z=parseInt(W.find(Ee=>Ee.type==="month")?.value||"0")-1,F=parseInt(W.find(Ee=>Ee.type==="day")?.value||"0"),q=parseInt(W.find(Ee=>Ee.type==="hour")?.value||"0"),$=parseInt(W.find(Ee=>Ee.type==="minute")?.value||"0"),K=parseInt(W.find(Ee=>Ee.type==="second")?.value||"0"),re=new Date(U,Z,F,q,$,K),ce=re.getDay(),pe=ce===0?1:8-ce,ge=new Date(U,Z,F+pe,0,0,0).getTime()-re.getTime();x.setTime(l+ge);break;case"month":const Ce=a.getTimezone(),xe=new Date(l),Pe=new Intl.DateTimeFormat("en-CA",{timeZone:Ce,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(xe),De=parseInt(Pe.find(Ee=>Ee.type==="year")?.value||"0"),Ae=parseInt(Pe.find(Ee=>Ee.type==="month")?.value||"0")-1,Xe=parseInt(Pe.find(Ee=>Ee.type==="day")?.value||"0"),Ne=parseInt(Pe.find(Ee=>Ee.type==="hour")?.value||"0"),St=parseInt(Pe.find(Ee=>Ee.type==="minute")?.value||"0"),tt=parseInt(Pe.find(Ee=>Ee.type==="second")?.value||"0"),wt=new Date(De,Ae,Xe,Ne,St,tt),dt=new Date(De,Ae+1,1,0,0,0).getTime()-wt.getTime();x.setTime(l+dt);break}c=x.getTime()}else c=t+u;const f=c-l;if(f<=0)return"0:00:00";const d=Math.floor(f/(3600*1e3)),h=Math.floor(f%(3600*1e3)/(60*1e3)),v=Math.floor(f%(60*1e3)/1e3),g=(m,x,_)=>{const b=(m>=10,m.toString()),w=x.toString().padStart(2,"0"),T=_.toString().padStart(2,"0");return`${b}:${w}:${T}`};if(o==="second"||o==="minute"||o==="hour"||o==="day")return g(d,h,v);{const m=Math.floor(f/864e5),x=Math.floor(f%(1440*60*1e3)/(3600*1e3)),_=Math.floor(f%(3600*1e3)/(60*1e3)),b=Math.floor(f%(60*1e3)/1e3);if(m>0){const w=x%24;return`${m}d ${g(w,_,b)}`}else return g(d,h,v)}}startCountdownTimer(){this._countdownTimer!==null&&clearInterval(this._countdownTimer),this._countdownTimer=window.setInterval(()=>{const e=this.getWidget().getPane(),n=e.getYAxisWidget();n?n.update(pt.Main):e.getChart().updatePane(pt.Main,e.getId())},1e3)}drawImp(t){const e=this.getWidget(),n=e.getPane(),i=e.getBounding(),a=n.getChart().getChartStore();a.getPeriod()&&this._countdownTimer===null&&this.startCountdownTimer();const s=a.getStyles().candle.priceMark,l=s.last,u=l.text;if(s.show&&l.show&&u.show){const c=a.getSymbol()?.pricePrecision??2,f=n.getAxisComponent(),d=a.getDataList(),h=d[d.length-1];if(le(h)){const{close:v,open:g}=h,m=l.compareRule==="current_open"?g:d[d.length-2]?.close??v,x=f.convertToNicePixel(v);let _="";v>m?_=l.upColor:v<m?_=l.downColor:_=l.noChangeColor;let b=0,w="left";f.isFromZero()?(b=0,w="left"):(b=i.width,w="right");const T=[],A=f.getRange();let M=f.displayValueToText(f.realValueToDisplayValue(f.valueToRealValue(v,{range:A}),{range:A}),c);M=a.getDecimalFold().format(a.getThousandsSeparator().format(M));const{paddingLeft:D,paddingRight:P,paddingTop:I,paddingBottom:R,size:k,family:O,weight:V}=u;let N=D+xa(M,k,V,O)+P;const L=I+k+R;T.push({name:"text",attrs:{x:b,y:x,width:N,height:L,text:M,align:w,baseline:"middle"},styles:{...u,backgroundColor:_}});const G=a.getInnerFormatter().formatExtendText,W=k/2;let U=x-W-I,Z=x+W+R;l.extendTexts.forEach((q,$)=>{const K=G({type:"last_price",data:h,index:$});if(K.length>0&&q.show){const re=q.size/2;let ce=0;q.position==="above_price"?(U-=q.paddingBottom+re,ce=U,U-=re+q.paddingTop):(Z+=q.paddingTop+re,ce=Z,Z+=re+q.paddingBottom),N=Math.max(N,q.paddingLeft+xa(K,q.size,q.weight,q.family)+q.paddingRight),T.push({name:"text",attrs:{x:b,y:ce,width:N,height:q.paddingTop+q.size+q.paddingBottom,text:K,align:w,baseline:"middle"},styles:{...q,backgroundColor:_}})}});const F=a.getPeriod();if(F){const q=this.calculateRemainingTime(h.timestamp,F);if(q){const $={size:Math.max(12,k),family:O,weight:"normal",color:"#ffffff",paddingLeft:D,paddingRight:P,paddingTop:3,paddingBottom:3,show:!0,style:"fill",borderStyle:"solid",borderDashedValue:[],borderSize:0,borderColor:"transparent",borderRadius:3,backgroundColor:"#409EFF"},K=q,re=$.size/2;Z+=$.paddingTop+re;const ce=Z;Z+=re+$.paddingBottom;const pe=$.paddingLeft+xa(K,$.size,$.weight,$.family)+$.paddingRight;N=Math.max(N,pe),T.push({name:"text",attrs:{x:b,y:ce,width:pe,height:$.paddingTop+$.size+$.paddingBottom,text:K,align:w,baseline:"middle"},styles:$})}}T.forEach(q=>{q.attrs.width=N,this.createFigure(q)?.draw(t)})}}}}class sLe extends mi{drawImp(t){const e=this.getWidget(),n=e.getPane(),i=e.getBounding(),a=n.getChart().getChartStore(),o=a.getStyles().indicator,s=o.lastValueMark,l=s.text;if(s.show){const u=n.getAxisComponent(),c=u.getRange(),d=a.getDataList().length-1,h=a.getIndicatorsByPaneId(n.getId()),v=a.getInnerFormatter(),g=a.getDecimalFold(),m=a.getThousandsSeparator();h.forEach(x=>{const _=x.result,b=_[d]??_[d-1]??{};if(le(b)&&x.visible){const w=x.precision;q3(x,d,o,(T,A)=>{const M=b[T.key];if(We(M)){const D=u.convertToNicePixel(M);let P=u.displayValueToText(u.realValueToDisplayValue(u.valueToRealValue(M,{range:c}),{range:c}),w);x.shouldFormatBigNumber&&(P=v.formatBigNumber(P)),P=g.format(m.format(P));let I=0,R="left";u.isFromZero()?(I=0,R="left"):(I=i.width,R="right"),this.createFigure({name:"text",attrs:{x:I,y:D,text:P,align:R,baseline:"middle"},styles:{...l,backgroundColor:A.color}})?.draw(t)}})}})}}}class eie extends K3{coordinateToPointTimestampDataIndexFlag(){return!1}drawDefaultFigures(t,e,n){this.drawFigures(t,e,this.getDefaultFigures(e,n))}getDefaultFigures(t,e){const n=this.getWidget(),i=n.getPane(),a=i.getChart().getChartStore(),o=a.getClickOverlayInfo(),s=[];if(t.needDefaultYAxisFigure&&t.id===o.overlay?.id&&o.paneId===i.getId()){const l=i.getAxisComponent(),u=n.getBounding();let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;const d=l.isFromZero();let h="left",v=0;d?(h="left",v=0):(h="right",v=u.width);const g=a.getDecimalFold(),m=a.getThousandsSeparator();e.forEach((x,_)=>{const b=t.points[_];if(We(b.value)){c=Math.min(c,x.y),f=Math.max(f,x.y);const w=g.format(m.format(Mn(b.value,a.getSymbol()?.pricePrecision??2)));s.push({type:"text",attrs:{x:v,y:x.y,text:w,align:h,baseline:"middle"},ignoreEvent:!0})}}),e.length>1&&s.unshift({type:"rect",attrs:{x:0,y:c,width:u.width,height:f-c},ignoreEvent:!0})}return s}getFigures(t,e){const n=this.getWidget(),i=n.getPane(),a=i.getChart(),o=i.getAxisComponent(),s=a.getXAxisPane().getAxisComponent(),l=n.getBounding();return t.createYAxisFigures?.({chart:a,overlay:t,coordinates:e,bounding:l,xAxis:s,yAxis:o})??[]}}class tie extends mi{drawImp(t){const e=this.getWidget(),n=e.getPane(),i=e.getPane().getChart().getChartStore(),a=i.getCrosshair();if(Wt(a.paneId)&&this.compare(a,n.getId())){const o=i.getStyles().crosshair;if(o.show){const s=this.getDirectionStyles(o),l=s.text;if(s.show&&l.show){const u=e.getBounding(),c=n.getAxisComponent(),f=this.getText(a,i,c);t.font=Ks(l.size,l.weight,l.family),this.createFigure({name:"text",attrs:this.getTextAttrs(f,t.measureText(f).width,a,u,c,l),styles:l})?.draw(t)}}}}compare(t,e){return t.paneId===e}getDirectionStyles(t){return t.horizontal}getText(t,e,n){const i=n;let a;typeof t.y=="number"?a=i.convertFromPixel(t.y):a=n.convertFromPixel(0);let o=0,s=!1;i.isInCandle()?o=e.getSymbol()?.pricePrecision??2:(e.getIndicatorsByPaneId(t.paneId).forEach(d=>{o=Math.max(d.precision,o),s||=d.shouldFormatBigNumber}),e.getScriptsByPaneId(t.paneId).forEach(d=>{if(d.precision!==null&&d.precision!==void 0){if(typeof d.precision=="number")o=Math.max(o,d.precision);else if(d.precision==="price"){const h=e.getSymbol()?.pricePrecision??2;o=Math.max(o,h)}else if(d.precision==="volume"){const h=e.getSymbol()?.volumePrecision??2;o=Math.max(o,h)}}}));const l=i.getRange();let u=i.displayValueToText(i.realValueToDisplayValue(i.valueToRealValue(a,{range:l}),{range:l}),o);return s&&(u=e.getInnerFormatter().formatBigNumber(u)),e.getDecimalFold().format(e.getThousandsSeparator().format(u))}getTextAttrs(t,e,n,i,a,o){const s=a;let l=0,u="left";return s.isFromZero()?(l=0,u="left"):(l=i.width,u="right"),{x:l,y:n.y,text:t,align:u,baseline:"middle"}}}class rie extends WS{constructor(t,e){super(t,e),this._yAxisView=new aLe(this),this._candleLastPriceLabelView=new oLe(this),this._indicatorLastValueView=new sLe(this),this._overlayYAxisView=new eie(this),this._crosshairHorizontalLabelView=new tie(this),this.setCursor("ns-resize"),this.addChild(this._overlayYAxisView)}getName(){return et.Y_AXIS}updateMain(t){const e=this.getPane().getOptions().state==="minimize";this._yAxisView.draw(t,e),e||(this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t))}updateOverlay(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t))}}function uX(){return{from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0}}class nie{constructor(t){this.scrollZoomEnabled=!0,this._range=uX(),this._prevRange=uX(),this._ticks=[],this._autoCalcTickFlag=!0,this._parent=t}getParent(){return this._parent}buildTicks(t){return this._autoCalcTickFlag&&(this._range=this.createRangeImp()),this._prevRange.from!==this._range.from||this._prevRange.to!==this._range.to||t?(this._prevRange=this._range,this._ticks=this.createTicksImp(),!0):!1}getTicks(){return this._ticks}setRange(t){this._autoCalcTickFlag=!1,this._range=t}getRange(){return this._range}setAutoCalcTickFlag(t){this._autoCalcTickFlag=t}getAutoCalcTickFlag(){return this._autoCalcTickFlag}}const K1=8;class Yc extends nie{constructor(t,e){super(t),this.reverse=!1,this.inside=!1,this.position="right",this.gap={top:.05,bottom:.03},this.createRange=n=>n.defaultRange,this.minSpan=n=>Nc(-n),this.valueToRealValue=n=>n,this.realValueToDisplayValue=n=>n,this.displayValueToRealValue=n=>n,this.realValueToValue=n=>n,this.displayValueToText=(n,i)=>Mn(n,i),this.override(e)}override(t){const{name:e,gap:n,...i}=t;Wt(this.name)||(this.name=e),vn(this.gap,n),vn(this,i)}createRangeImp(){const t=this.getParent(),e=t.getChart(),n=e.getChartStore(),i=t.getId();let a=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=!1,l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER;const f=n.getIndicatorsByPaneId(i);f.forEach(N=>{s||=N.shouldOhlc,c=Math.min(c,N.precision),We(N.minValue)&&(l=Math.min(l,N.minValue)),We(N.maxValue)&&(u=Math.max(u,N.maxValue))}),n.getScriptsByPaneId(i).forEach(N=>{if(N._default?.min!==void 0&&N._default?.min!==null?l=Math.min(l,N._default.min):We(N.minValue)&&(l=Math.min(l,N.minValue)),N._default?.max!==void 0&&N._default?.max!==null?u=Math.max(u,N._default.max):We(N.maxValue)&&(u=Math.max(u,N.maxValue)),N.precision!==null&&N.precision!==void 0){if(typeof N.precision=="number")c=Math.min(c,N.precision);else if(N.precision==="price"){const L=n.getSymbol()?.pricePrecision??2;c=Math.min(c,L)}else if(N.precision==="volume"){const L=n.getSymbol()?.volumePrecision??2;c=Math.min(c,L)}}});let h=4;const v=this.isInCandle();if(v){const N=n.getSymbol()?.pricePrecision??2;c!==Number.MAX_SAFE_INTEGER?h=Math.min(c,N):h=N}else c!==Number.MAX_SAFE_INTEGER&&(h=c);if(l!==Number.MAX_SAFE_INTEGER&&u!==Number.MIN_SAFE_INTEGER)a=l,o=u;else{const N=n.getVisibleRangeDataList(),L=e.getStyles().candle,G=L.type==="area"||L.type==="price_line",W=L.area.value,U=v&&!G||!v&&s;N.forEach(Z=>{const F=Z.dataIndex,q=Z.data.current;if(le(q)&&(U&&(a=Math.min(a,q.low),o=Math.max(o,q.high)),v&&G)){const $=q[W];We($)&&(a=Math.min(a,$),o=Math.max(o,$))}f.forEach(({result:$,figures:K})=>{const re=$[F]??{};K.forEach(ce=>{if(ce.affectAxis===!1)return;const pe=re[ce.key];We(pe)&&(a=Math.min(a,pe),o=Math.max(o,pe))})})})}const g=o-a,m={from:a,to:o,range:g,realFrom:a,realTo:o,realRange:g,displayFrom:a,displayTo:o,displayRange:g},x=this.createRange({chart:e,paneId:i,defaultRange:m});let _=x.realFrom,b=x.realTo,w=x.realRange;const T=this.minSpan(h);if(_===b||w<T){const N=l===_,L=u===b,G=K1/2;_=N?_:L?_-K1*T:_-G*T,b=L?b:N?b+K1*T:b+G*T}const A=this.getBounding().height,{top:M,bottom:D}=this.gap;let P=M;P>=1&&(P=P/A);let I=D;I>=1&&(I=I/A),w=b-_,_=_-w*I,b=b+w*P;const R=this.realValueToValue(_,{range:x}),k=this.realValueToValue(b,{range:x}),O=this.realValueToDisplayValue(_,{range:x}),V=this.realValueToDisplayValue(b,{range:x});return{from:R,to:k,range:k-R,realFrom:_,realTo:b,realRange:b-_,displayFrom:O,displayTo:V,displayRange:V-O}}isInCandle(){return this.getParent().getId()===ft.CANDLE}isFromZero(){return this.position==="left"&&this.inside||this.position==="right"&&!this.inside}createTicksImp(){const t=this.getRange(),{displayFrom:e,displayTo:n,displayRange:i}=t,a=[];if(i>=0){const w=mBe(i/K1),T=xBe(w),A=qY(Math.ceil(e/w)*w,T),M=qY(Math.floor(n/w)*w,T);let D=0,P=A;if(w!==0)for(;P<=M;){const I=P.toFixed(T);a[D]={text:I,coord:0,value:I},++D,P+=w}}const o=this.getParent(),s=o.getYAxisWidget()?.getBounding().height??0,l=o.getChart().getChartStore(),u=[],c=l.getIndicatorsByPaneId(o.getId()),f=l.getScriptsByPaneId(o.getId()),d=l.getStyles();let h=0,v=!1;this.isInCandle()?h=l.getSymbol()?.pricePrecision??2:(c.forEach(w=>{h=Math.max(h,w.precision),v||=w.shouldFormatBigNumber}),f.forEach(w=>{if(w.precision!==null&&w.precision!==void 0){if(typeof w.precision=="number")h=Math.max(h,w.precision);else if(w.precision==="price"){const T=l.getSymbol()?.pricePrecision??2;h=Math.max(h,T)}else if(w.precision==="volume"){const T=l.getSymbol()?.volumePrecision??2;h=Math.max(h,T)}}}));const g=l.getInnerFormatter(),m=l.getThousandsSeparator(),x=l.getDecimalFold(),_=d.xAxis.tickText.size;let b=NaN;return a.forEach(({value:w})=>{let T=this.displayValueToText(+w,h);const A=this.convertToPixel(this.realValueToValue(this.displayValueToRealValue(+w,{range:t}),{range:t}));v&&(T=g.formatBigNumber(w)),T=x.format(m.format(T));const M=We(b);A>_&&A<s-_&&(M&&Math.abs(b-A)>_*2||!M)&&(u.push({text:T,coord:A,value:w}),b=A)}),Jn(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:u}):u}getAutoSize(){const t=this.getParent(),n=t.getChart().getChartStore(),i=n.getStyles(),a=i.yAxis,o=a.size;if(o!=="auto")return o;let s=0;if(a.show&&(a.axisLine.show&&(s+=a.axisLine.size),a.tickLine.show&&(s+=a.tickLine.length),a.tickText.show)){let v=0;this.getTicks().forEach(g=>{v=Math.max(v,xa(g.text,a.tickText.size,a.tickText.weight,a.tickText.family))}),s+=a.tickText.marginStart+a.tickText.marginEnd+v}const l=i.candle.priceMark,u=l.show&&l.last.show&&l.last.text.show;let c=0;const f=i.crosshair,d=f.show&&f.horizontal.show&&f.horizontal.text.show;let h=0;if(u||d){const v=n.getSymbol()?.pricePrecision??2,g=this.getRange().displayTo;if(u){const m=n.getDataList(),x=m[m.length-1];if(le(x)){const{paddingLeft:_,paddingRight:b,size:w,family:T,weight:A}=l.last.text;c=_+xa(Mn(x.close,v),w,A,T)+b;const M=n.getInnerFormatter().formatExtendText;l.last.extendTexts.forEach((D,P)=>{const I=M({type:"last_price",data:x,index:P});I.length>0&&D.show&&(c=Math.max(c,D.paddingLeft+xa(I,D.size,D.weight,D.family)+D.paddingRight))})}}if(d){const m=n.getIndicatorsByPaneId(t.getId());let x=0,_=!1;m.forEach(T=>{x=Math.max(T.precision,x),_||=T.shouldFormatBigNumber});let b=2;if(this.isInCandle()){const T=i.indicator.lastValueMark;T.show&&T.text.show?b=Math.max(x,v):b=v}else b=x;let w=Mn(g,b);_&&(w=n.getInnerFormatter().formatBigNumber(w)),w=n.getDecimalFold().format(w),h+=f.horizontal.text.paddingLeft+f.horizontal.text.paddingRight+f.horizontal.text.borderSize*2+xa(w,f.horizontal.text.size,f.horizontal.text.weight,f.horizontal.text.family)}}return Math.max(s,c,h)}getBounding(){return this.getParent().getYAxisWidget().getBounding()}convertFromPixel(t){const e=this.getBounding().height,n=this.getRange(),{realFrom:i,realRange:a}=n,s=(this.reverse?t/e:1-t/e)*a+i;return this.realValueToValue(s,{range:n})}convertToPixel(t){const e=this.getRange(),n=this.valueToRealValue(t,{range:e}),i=this.getParent().getYAxisWidget()?.getBounding().height??0,{realFrom:a,realRange:o}=e,s=(n-a)/o;return this.reverse?Math.round(s*i):Math.round((1-s)*i)}convertToNicePixel(t){const e=this.getParent().getYAxisWidget()?.getBounding().height??0,n=this.convertToPixel(t);return Math.round(Math.max(e*.05,Math.min(n,e*.98)))}static extend(t){class e extends Yc{constructor(i){super(i,t)}}return e}}const lLe={name:"normal"},uLe={name:"percentage",minSpan:()=>Math.pow(10,-2),displayValueToText:r=>`${Mn(r,2)}%`,valueToRealValue:(r,{range:t})=>(r-t.from)/t.range*t.realRange+t.realFrom,realValueToValue:(r,{range:t})=>(r-t.realFrom)/t.realRange*t.range+t.from,createRange:({chart:r,defaultRange:t})=>{const e=r.getDataList(),n=r.getVisibleRange(),i=e[n.from];if(le(i)){const{from:a,to:o,range:s}=t,l=(t.from-i.close)/i.close*100,u=(t.to-i.close)/i.close*100,c=u-l;return{from:a,to:o,range:s,realFrom:l,realTo:u,realRange:c,displayFrom:l,displayTo:u,displayRange:c}}return t}},cLe={name:"logarithm",minSpan:r=>.05*Nc(-r),valueToRealValue:r=>r<0?-Bs(Math.abs(r)):Bs(r),realValueToDisplayValue:r=>r<0?-Nc(Math.abs(r)):Nc(r),displayValueToRealValue:r=>r<0?-Bs(Math.abs(r)):Bs(r),realValueToValue:r=>r<0?-Nc(Math.abs(r)):Nc(r),createRange:({defaultRange:r})=>{const{from:t,to:e,range:n}=r,i=t<0?-Bs(Math.abs(t)):Bs(t),a=e<0?-Bs(Math.abs(e)):Bs(e);return{from:t,to:e,range:n,realFrom:i,realTo:a,realRange:a-i,displayFrom:t,displayTo:e,displayRange:n}}},fLe={name:"script",gap:{top:0,bottom:0},createRange:({defaultRange:r})=>r},cX={normal:Yc.extend(lLe),percentage:Yc.extend(uLe),logarithm:Yc.extend(cLe),script:Yc.extend(fLe)};function iie(r){return cX[r]??cX.normal}class aie{constructor(t,e){this._bounding=Ab(),this._originalBounding=Ab(),this._visible=!0,this._chart=t,this._id=e,this._container=ol("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"})}getContainer(){return this._container}setVisible(t){this._visible!==t&&(this._container.style.display=t?"block":"none",this._visible=t)}getVisible(){return this._visible}getId(){return this._id}getChart(){return this._chart}getBounding(){return this._bounding}setOriginalBounding(t){vn(this._originalBounding,t)}getOriginalBounding(){return this._originalBounding}update(t){this._bounding.height!==this._container.clientHeight&&(this._container.style.height=`${this._bounding.height}px`),this.updateImp(t??pt.Drawer,this._container,this._bounding)}destroy(){this._container.parentNode&&this._container.parentNode.removeChild(this._container)}}class Q3 extends aie{constructor(t,e,n){super(t,e),this._yAxisWidget=null,this._options={id:"",minHeight:Ix,dragEnabled:!0,order:0,height:dO,state:"normal",axis:{name:"normal",scrollZoomEnabled:!0}};const i=this.getContainer();this._mainWidget=this.createMainWidget(i),this._yAxisWidget=this.createYAxisWidget(i),this.setOptions(n)}setOptions(t){const e=this.getId();if(e===ft.CANDLE||e===ft.X_AXIS){const o=t.axis?.name;(!le(this._axis)||le(o)&&this._options.axis.name!==o)&&(this._axis=this.createAxisComponent(o??"normal"))}else le(this._axis)||(this._axis=this.createAxisComponent("normal"));this._axis instanceof Yc&&this._axis.setAutoCalcTickFlag(!0),vn(this._options,t);const n={...this._options.axis};n.minSpan&&typeof n.minSpan=="function"&&(n.minSpan=n.minSpan),n.createRange&&typeof n.createRange=="function"&&(n.createRange=n.createRange),this._axis.override({...n,name:t.axis?.name??"normal"});let i=null,a="default";return this.getId()===ft.X_AXIS?(i=this.getMainWidget().getContainer(),a="ew-resize"):(i=this.getYAxisWidget().getContainer(),a="ns-resize"),t.axis?.scrollZoomEnabled??!0?i.style.cursor=a:i.style.cursor="default",this}getOptions(){return this._options}getAxisComponent(){return this._axis}setBounding(t,e,n,i){vn(this.getBounding(),t);const a={};le(t.height)&&(a.height=t.height),le(t.top)&&(a.top=t.top),this._mainWidget.setBounding(a);const o=le(e);return o&&this._mainWidget.setBounding(e),le(this._yAxisWidget)&&(this._yAxisWidget.setBounding(a),this._axis.position==="left"?le(n)&&this._yAxisWidget.setBounding({...n,left:0}):le(i)&&(this._yAxisWidget.setBounding(i),o&&this._yAxisWidget.setBounding({left:(e.left??0)+(e.width??0)+(e.right??0)-(i.width??0)}))),this}getMainWidget(){return this._mainWidget}getYAxisWidget(){return this._yAxisWidget}updateImp(t){this._mainWidget.update(t),this._yAxisWidget?.update(t)}destroy(){this._mainWidget.destroy(),this._yAxisWidget?.destroy(),super.destroy()}getImage(t){const{width:e,height:n}=this.getBounding(),i=ol("canvas",{width:`${e}px`,height:`${n}px`,boxSizing:"border-box"}),a=i.getContext("2d"),o=du(i);i.width=e*o,i.height=n*o,a.scale(o,o);const s=this._mainWidget.getBounding();if(a.drawImage(this._mainWidget.getImage(t),s.left,0,s.width,s.height),this._yAxisWidget!==null){const l=this._yAxisWidget.getBounding();a.drawImage(this._yAxisWidget.getImage(t),l.left,0,l.width,l.height)}return i}createYAxisWidget(t){return null}}class oie extends Q3{createAxisComponent(t){const e=iie(t??"default");return new e(this)}createMainWidget(t){return new Une(t,this)}createYAxisWidget(t){return new rie(t,this)}}class hLe extends oie{createMainWidget(t){return new iLe(t,this)}}class dLe extends mi{constructor(t){super(t),this._activeFeatureInfo=null,this._featureClickEvent=(e,n)=>()=>{const i=this.getWidget().getPane();return n.script?i.getChart().getChartStore().executeAction("onScriptTooltipFeatureClick",n):i.getChart().getChartStore().executeAction(e,n),!0},this._featureMouseMoveEvent=e=>()=>(this._activeFeatureInfo=e,!0),this.registerEvent("mouseMoveEvent",e=>(this._isMouseInScriptButtons(e)||(this._activeFeatureInfo=null),!1)),this.registerEvent("mouseClickEvent",e=>!!this._isMouseInScriptButtons(e))}getName(){return et.SCRIPT}_isMouseInScriptButtons(t){const e=this.getWidget(),n=e.getPane(),i=n.getChart().getChartStore(),a=i.getCrosshair();if(!le(a.kLineData))return!1;const o=e.getBounding(),s=i.getScriptsByPaneId(n.getId()),{offsetLeft:l,offsetTop:u,offsetRight:c}=i.getStyles().indicator.tooltip;let f=u;const d=l;o.width-c;for(const h of s){const v=this.getScriptTooltipData(h),{features:g}=v,m=v.name.length>0,x=v.legends.length>0,_=v.features.length>0;if(m||x||_){const b=this.classifyTooltipFeatures(v.features),w={x:d,y:f};if(b[0].length>0){const T={x:w.x,y:w.y};if(this._checkFeaturesInCoordinate(t,b[0],T,h,o))return!0;w.x=T.x}if(b[1].length>0){const T={x:w.x,y:w.y};if(this._checkFeaturesInCoordinate(t,b[1],T,h,o))return!0;w.x=T.x}if(b[2].length>0){const T={x:w.x,y:w.y};if(this._checkFeaturesInCoordinate(t,b[2],T,h,o))return!0;w.x=T.x}f+=20}}return!1}_checkFeaturesInCoordinate(t,e,n,i,a){for(const o of e){const{marginLeft:s=0,marginTop:l=0,marginRight:u=0,paddingLeft:c=0,paddingTop:f=0,paddingRight:d=0,paddingBottom:h=0,size:v=10}=o,g=a.left+n.x+s,m=a.top+n.y+l,x=v,_=v;if(t.x>=g&&t.x<=g+x&&t.y>=m&&t.y<=m+_)return this._activeFeatureInfo={paneId:this.getWidget().getPane().getId(),script:i,feature:o},!0;n.x+=s+c+v+d+u}return!1}checkEventOn(t){const a=this.getWidget().getPane().getChart().getChartStore().getCrosshair();return le(a.kLineData)?this._isMouseInScriptButtons(t):!1}drawImp(t){const e=this.getWidget(),i=e.getPane().getChart().getChartStore(),a=i.getCrosshair();if(le(a.kLineData)){const o=e.getBounding(),{offsetLeft:s,offsetTop:l,offsetRight:u}=i.getStyles().indicator.tooltip;this.drawScriptTooltip(t,s,l,o.width-u)}}drawScriptTooltip(t,e,n,i){const a=this.getWidget().getPane(),o=a.getChart().getChartStore(),l=o.getStyles().indicator.tooltip;if(this.isDrawTooltip(o.getCrosshair(),l)){const u=o.getScriptsByPaneId(a.getId()),c=l.title,f=l.legend;return u.forEach(d=>{let h=0;const v={x:e,y:n},g=this.getScriptTooltipData(d),m=g.name.length>0,x=g.legends.length>0,_=g.features.length>0;if(m||x||_){const b=this.classifyTooltipFeatures(g.features);if(h=this.drawStandardTooltipFeatures(t,b[0],v,d,e,h,i),m){const w=c.color;h=this.drawStandardTooltipLegends(t,[{title:{text:"",color:w},value:{text:g.name,color:w}}],v,e,h,i,c)}h=this.drawStandardTooltipFeatures(t,b[1],v,d,e,h,i),x&&d.visible&&(h=this.drawStandardTooltipLegends(t,g.legends,v,e,h,i,f)),h=this.drawStandardTooltipFeatures(t,b[2],v,d,e,h,i),n=v.y+h}}),n}return 0}drawStandardTooltipFeatures(t,e,n,i,a,o,s){if(e.length===0)return 0;const u=this.getWidget().getPane().getId();return e.forEach(c=>{const{marginLeft:f=0,marginTop:d=0,marginRight:h=0,paddingLeft:v=0,paddingTop:g=0,paddingRight:m=0,paddingBottom:x=0,backgroundColor:_,activeBackgroundColor:b,borderRadius:w,size:T=10,color:A,activeColor:M,type:D,content:P}=c;let I=A,R=_;this._activeFeatureInfo?.paneId===u&&this._activeFeatureInfo.script?.key===i?.key&&this._activeFeatureInfo.feature.id===c.id&&(I=M??A,R=b??_);const k={paneId:u,script:i||void 0,feature:c},O={mouseClickEvent:this._featureClickEvent("onScriptTooltipFeatureClick",k),mouseMoveEvent:this._featureMouseMoveEvent(k)};let V=0;if(D==="icon_font"){const N=P;this.createFigure({name:"rect",attrs:{x:n.x+f,y:n.y+d,width:T,height:T},styles:{paddingLeft:v,paddingTop:g,paddingRight:m,paddingBottom:x,borderRadius:w,backgroundColor:R}},O)?.draw(t),t.save(),t.font=`${T}px ${N.family}`,t.fillStyle=I,t.textAlign="center",t.textBaseline="middle",t.fillText(N.code,n.x+f+T/2,n.y+d+T/2),t.restore(),V=T}else this.createFigure({name:"rect",attrs:{x:n.x+f,y:n.y+d,width:T,height:T},styles:{paddingLeft:v,paddingTop:g,paddingRight:m,paddingBottom:x,borderRadius:w,color:I,backgroundColor:R}},O)?.draw(t),V=T;n.x+=f+v+V+m+h}),20}drawStandardTooltipFeature(t,e,n,i,a,o,s,l,u){const{x:c,y:f}=n,{content:d}=e,h=f-1;if(u&&this.createFigure({name:"rect",attrs:{x:c,y:h,width:a,height:o},styles:{backgroundColor:"transparent"}},u)?.draw(t),d&&"path"in d){t.save(),t.translate(c+l,h+l),t.scale(s/16,s/16);const v=new Path2D(d.path);t.fillStyle=e.color,t.fill(v),t.restore()}else d&&"code"in d&&(t.save(),t.translate(c+l,h+l),t.scale(s/16,s/16),t.fillStyle=e.color,t.font=`${s}px iconfont`,t.textAlign="center",t.textBaseline="middle",t.fillText(d.code,s/2,s/2),t.restore())}drawStandardTooltipLegends(t,e,n,i,a,o,s){if(e.length>0){const{marginLeft:l,marginTop:u,marginRight:c,marginBottom:f,size:d,family:h,weight:v}=s;t.font=Ks(d,v,h),e.forEach(g=>{const m=g.title,x=g.value,_=t.measureText(m.text).width,b=t.measureText(x.text).width,w=_+b,T=u+d+f;n.x+l+w+c>o?(n.x=i,n.y+=a,a=T):a=Math.max(a,T),m.text.length>0&&this.createFigure({name:"text",attrs:{x:n.x+l,y:n.y+u,text:m.text},styles:{color:m.color,size:d,family:h,weight:v}})?.draw(t),this.createFigure({name:"text",attrs:{x:n.x+l+_,y:n.y+u,text:x.text},styles:{color:x.color,size:d,family:h,weight:v}})?.draw(t),n.x+=l+w+c})}return a}isDrawTooltip(t,e){const n=e.showRule;return n==="always"||n==="follow_cross"&&Wt(t.paneId)}getScriptTooltipData(t){let e;if(t.createTooltipDataSource){const n=t.createTooltipDataSource({script:t});e={name:n.name||t.name||"Script",inputsText:n.inputsText||"",legends:n.legends||[],features:n.features||[]}}else e={name:t.name||"Script",inputsText:"",legends:[],features:[]};if(t.tooltipTools&&Array.isArray(t.tooltipTools)&&t.tooltipTools.length>0){const a=this.getWidget().getPane().getChart().getChartStore().getCrosshair().dataIndex,o=t.tooltipTools.map(s=>{let l="N/A",u=!1;if(Array.isArray(s.dataSource)&&s.dataSource.length>0){const h=s.dataSource[a??0]||s.dataSource[s.dataSource.length-1];h!=null&&!isNaN(h)&&(l=String(h),u=!0)}else if(!Array.isArray(s.dataSource)){const h=s.dataSource;if(h!=null)if(typeof h=="string"){const v=parseFloat(h);!isNaN(v)&&isFinite(v)?(l=String(v),u=!0):(l=h,u=!0)}else typeof h=="number"&&!isNaN(h)&&isFinite(h)&&(l=String(h),u=!0)}const c=s.style?.color||s.valueColor||"#333",f=s.precision;let d=l;return u&&f!==null&&f!==void 0?d=Number(l).toFixed(f):u&&(d=String(l)),{title:{text:s.label+":",color:c},value:{text:d,color:c}}});e.legends=[...e.legends,...o]}return e}classifyTooltipFeatures(t){const e=[],n=[],i=[];return t.forEach(a=>{const{position:o}=a;switch(o){case"left":{e.push(a);break}case"right":{i.push(a);break}default:{n.push(a);break}}}),[e,n,i]}}const Ob=class Ob extends WS{constructor(t,e){super(t,e),this._gridView=new zne(this),this._scriptView=new Wne(this),this._crosshairLineView=new Hne(this),this._tooltipView=this.createTooltipView(),this._overlayView=new K3(this),this.instanceId=++Ob.instanceCount,this.addChild(this._overlayView),this.addChild(this._tooltipView)}getName(){return et.SCRIPT}updateMain(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._scriptView.draw(t),this._gridView.draw(t))}createTooltipView(){return new dLe(this)}updateMainContent(t){this.getPane().getChart(),this.getPane().getId()}updateOverlayContent(t){}updateOverlay(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t),this.updateOverlayContent(t)),this._tooltipView.draw(t)}checkEventOn(t){return this._isMouseInScriptButtons(t)}dispatchEvent(t,e){const n=this._children||[];for(const i of n)if(i.dispatchEvent&&i.dispatchEvent(t,e))return!0;return!1}_isMouseInScriptButtons(t){const e=this.getPane(),n=e.getChart().getChartStore(),i=n.getCrosshair();if(!le(i.kLineData))return!1;const a=n.getScriptsByPaneId(e.getId());if(a.length===0)return!1;const o=this.getBounding();for(const s of a){const l=this._tooltipView.getScriptTooltipData(s),{features:u}=l;let c={x:0,y:0};for(const f of u){const{marginLeft:d=0,marginTop:h=0,marginRight:v=0,paddingLeft:g=0,paddingTop:m=0,paddingRight:x=0,paddingBottom:_=0,size:b=10}=f,w=o.left+c.x+d,T=o.top+c.y+h,A=b,M=b;if(t.x>=w&&t.x<=w+A&&t.y>=T&&t.y<=T+M)return!0;c.x+=d+g+b+x+v}}return!1}};Ob.instanceCount=0;let pO=Ob;class vLe extends Q3{createAxisComponent(t){const e=iie(t??"default");return new e(this)}createMainWidget(t){return new pO(t,this)}createYAxisWidget(t){return new rie(t,this)}}class pLe extends Jne{getAxisStyles(t){return t.xAxis}createAxisLine(t){return{coordinates:[{x:0,y:0},{x:t.width,y:0}]}}createTickLines(t,e,n){const i=n.tickLine,a=n.axisLine.size;return t.map(o=>({coordinates:[{x:o.coord,y:0},{x:o.coord,y:a+i.length}]}))}createTickTexts(t,e,n){const i=n.tickText,a=n.axisLine.size,o=n.tickLine.length;return t.map(s=>({x:s.coord,y:a+o+i.marginStart,text:s.text,align:"center",baseline:"top"}))}}class gLe extends eie{coordinateToPointTimestampDataIndexFlag(){return!0}coordinateToPointValueFlag(){return!1}getCompleteOverlays(){return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()}getProgressOverlay(){return this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo()?.overlay??null}getDefaultFigures(t,e){const n=[],i=this.getWidget(),o=i.getPane().getChart().getChartStore(),s=o.getClickOverlayInfo();if(t.needDefaultXAxisFigure&&t.id===s.overlay?.id){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;e.forEach((c,f)=>{l=Math.min(l,c.x),u=Math.max(u,c.x);const d=t.points[f];if(We(d.timestamp)){const h=o.getInnerFormatter().formatDate(d.timestamp,"YYYY-MM-DD HH:mm","crosshair");n.push({type:"text",attrs:{x:c.x,y:0,text:h,align:"center"},ignoreEvent:!0})}}),e.length>1&&n.unshift({type:"rect",attrs:{x:l,y:0,width:u-l,height:i.getBounding().height},ignoreEvent:!0})}return n}getFigures(t,e){const n=this.getWidget(),i=n.getPane(),a=i.getChart(),o=i.getAxisComponent(),s=a.getXAxisPane().getAxisComponent(),l=n.getBounding();return t.createXAxisFigures?.({chart:a,overlay:t,coordinates:e,bounding:l,xAxis:s,yAxis:o})??[]}}class yLe extends tie{compare(t){return le(t.timestamp)}getDirectionStyles(t){return t.vertical}getText(t,e){const n=t.timestamp;return e.getInnerFormatter().formatDate(n,qne[e.getPeriod()?.type??"day"],"crosshair")}getTextAttrs(t,e,n,i,a,o){const s=n.realX;let l=0,u="center";s-e/2-o.paddingLeft<0?(l=0,u="left"):s+e/2+o.paddingRight>i.width?(l=i.width,u="right"):l=s;const c=o.size+(o.paddingTop??0)+(o.paddingBottom??0),d=i.height-c-4;return{x:l,y:d,text:t,align:u,baseline:"top"}}}class mLe extends WS{constructor(t,e){super(t,e),this._xAxisView=new pLe(this),this._overlayXAxisView=new gLe(this),this._crosshairVerticalLabelView=new yLe(this),this.setCursor("ew-resize"),this.addChild(this._overlayXAxisView)}getName(){return et.X_AXIS}updateMain(t){this._xAxisView.draw(t)}updateOverlay(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)}}class J3 extends nie{constructor(t,e){super(t),this.override(e)}override(t){const{name:e,scrollZoomEnabled:n,createTicks:i}=t;Wt(this.name)||(this.name=e),this.scrollZoomEnabled=n??this.scrollZoomEnabled,this.createTicks=i??this.createTicks}createRangeImp(){const e=this.getParent().getChart().getChartStore().getVisibleRange(),{realFrom:n,realTo:i}=e,a=n,o=i,s=i-n+1;return{from:a,to:o,range:s,realFrom:a,realTo:o,realRange:s,displayFrom:a,displayTo:o,displayRange:s}}createTicksImp(){const{realFrom:t,realTo:e,from:n}=this.getRange(),i=this.getParent().getChart().getChartStore(),a=i.getInnerFormatter().formatDate,o=i.getPeriod(),s=[],l=i.getBarSpace().bar,u=i.getStyles().xAxis.tickText,c=Math.max(xa("YYYY-MM-DD HH:mm:ss",u.size,u.weight,u.family),this.getBounding().width/8);let f=Math.ceil(c/l);f%2!==0&&(f+=1);const d=Math.max(0,Math.floor(t/f)*f);for(let h=d;h<e;h+=f)if(h>=n){const v=i.dataIndexToTimestamp(h);We(v)&&s.push({coord:this.convertToPixel(h),value:v,text:a(v,P3e[o?.type??"day"],"xAxis")})}return Jn(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:s}):s}getAutoSize(){const t=this.getParent().getChart().getStyles(),e=t.xAxis,n=e.size;if(n!=="auto")return n;const i=t.crosshair;let a=0;e.show&&(e.axisLine.show&&(a+=e.axisLine.size),e.tickLine.show&&(a+=e.tickLine.length),e.tickText.show&&(a+=e.tickText.marginStart+e.tickText.marginEnd+e.tickText.size));let o=0;return i.show&&i.vertical.show&&i.vertical.text.show&&(o+=i.vertical.text.paddingTop+i.vertical.text.paddingBottom+i.vertical.text.borderSize*2+i.vertical.text.size),Math.max(a,o)}getBounding(){return this.getParent().getMainWidget().getBounding()}convertTimestampFromPixel(t){const e=this.getParent().getChart().getChartStore(),n=e.coordinateToDataIndex(t);return e.dataIndexToTimestamp(n)}convertTimestampToPixel(t){const e=this.getParent().getChart().getChartStore(),n=e.timestampToDataIndex(t);return e.dataIndexToCoordinate(n)}convertFromPixel(t){return this.getParent().getChart().getChartStore().coordinateToDataIndex(t)}convertToPixel(t){return this.getParent().getChart().getChartStore().dataIndexToCoordinate(t)}static extend(t){class e extends J3{constructor(i){super(i,t)}}return e}}const xLe={name:"normal"},fX={normal:J3.extend(xLe)};function _Le(r){return fX[r]??fX.normal}class bLe extends Q3{createAxisComponent(t){const e=_Le(t);return new e(this)}createMainWidget(t){return new mLe(t,this)}}function SLe(r,t){let e=0;return function(){const n=Date.now();n-e>t&&(r.apply(this,arguments),e=n)}}class wLe extends Ine{constructor(t,e){super(t,e),this._dragFlag=!1,this._dragStartY=0,this._topPaneHeight=0,this._bottomPaneHeight=0,this._topPane=null,this._bottomPane=null,this._pressedMouseMoveEvent=SLe(this._pressedTouchMouseMoveEvent,20),this.registerEvent("touchStartEvent",this._mouseDownEvent.bind(this)).registerEvent("touchMoveEvent",this._pressedMouseMoveEvent.bind(this)).registerEvent("touchEndEvent",this._mouseUpEvent.bind(this)).registerEvent("mouseDownEvent",this._mouseDownEvent.bind(this)).registerEvent("mouseUpEvent",this._mouseUpEvent.bind(this)).registerEvent("pressedMouseMoveEvent",this._pressedMouseMoveEvent.bind(this)).registerEvent("mouseEnterEvent",this._mouseEnterEvent.bind(this)).registerEvent("mouseLeaveEvent",this._mouseLeaveEvent.bind(this))}getName(){return et.SEPARATOR}_mouseDownEvent(t){this._dragFlag=!0,this._dragStartY=t.pageY;const e=this.getPane(),n=e.getChart();this._topPane=e.getTopPane(),this._bottomPane=e.getBottomPane();const i=n.getDrawPanes();if(this._topPane.getOptions().state==="minimize"){const a=i.findIndex(o=>o.getId()===this._topPane?.getId());for(let o=a-1;o>-1;o--){const s=i[o];if(s.getOptions().state!=="minimize"){this._topPane=s;break}}}if(this._bottomPane.getOptions().state==="minimize"){const a=i.findIndex(o=>o.getId()===this._bottomPane?.getId());for(let o=a+1;o<i.length;o++){const s=i[o];if(s.getOptions().state!=="minimize"){this._bottomPane=s;break}}}return this._topPaneHeight=this._topPane.getBounding().height,this._bottomPaneHeight=this._bottomPane.getBounding().height,!0}_mouseUpEvent(){return this._dragFlag=!1,this._topPane=null,this._bottomPane=null,this._topPaneHeight=0,this._bottomPaneHeight=0,this._mouseLeaveEvent()}_pressedTouchMouseMoveEvent(t){const e=t.pageY-this._dragStartY,n=e<0;if(le(this._topPane)&&le(this._bottomPane)){const i=this._bottomPane.getOptions();if(this._topPane.getOptions().state!=="minimize"&&i.state!=="minimize"&&i.dragEnabled){let a=null,o=null,s=0,l=0;n?(a=this._topPane,o=this._bottomPane,s=this._topPaneHeight,l=this._bottomPaneHeight):(a=this._bottomPane,o=this._topPane,s=this._bottomPaneHeight,l=this._topPaneHeight);const u=a.getOptions().minHeight;if(s>u){const c=Math.max(s-Math.abs(e),u),f=s-c;a.setBounding({height:c}),o.setBounding({height:l+f});const d=this.getPane(),h=d.getChart();h.getChartStore().executeAction("onPaneDrag",{paneId:d.getId()}),h.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}}}return!0}_mouseEnterEvent(){const t=this.getPane();if(t.getBottomPane().getOptions().dragEnabled){const i=t.getChart().getStyles().separator;return this.getContainer().style.background=i.activeBackgroundColor,!0}return!1}_mouseLeaveEvent(){return this._dragFlag?!1:(this.getContainer().style.background="transparent",!0)}createContainer(){return ol("div",{width:"100%",height:`${U0}px`,margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})}updateImp(t,e,n){if(n===pt.All||n===pt.Separator){const i=this.getPane().getChart().getStyles().separator;t.style.top=`${-Math.floor((U0-i.size)/2)}px`,t.style.height=`${U0}px`}}}class CLe extends aie{constructor(t,e,n,i){super(t,e),this.getContainer().style.overflow="",this._topPane=n,this._bottomPane=i,this._separatorWidget=new wLe(this.getContainer(),this)}setBounding(t){return vn(this.getBounding(),t),this}getTopPane(){return this._topPane}setTopPane(t){return this._topPane=t,this}getBottomPane(){return this._bottomPane}setBottomPane(t){return this._bottomPane=t,this}getWidget(){return this._separatorWidget}getImage(t){const{width:e,height:n}=this.getBounding(),i=this.getChart().getStyles().separator,a=ol("canvas",{width:`${e}px`,height:`${n}px`,boxSizing:"border-box"}),o=a.getContext("2d"),s=du(a);return a.width=e*s,a.height=n*s,o.scale(s,s),o.fillStyle=i.color,o.fillRect(0,0,e,n),a}updateImp(t,e,n){if(t===pt.All||t===pt.Separator){const i=this.getChart().getStyles().separator;e.style.backgroundColor=i.color,e.style.height=`${n.height}px`,e.style.marginLeft=`${n.left}px`,e.style.width=`${n.width}px`,this._separatorWidget.update(t)}}}function hX(){return typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("firefox")}function II(){return typeof window>"u"?!1:/iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)}const Q1={ResetClick:500,LongTap:500,PreventFiresTouchEvents:500},Xh={CancelClick:5,CancelTap:5,DoubleClick:5,DoubleTap:30},n0={Left:0,Middle:1,Right:2},TLe=10;class ALe{constructor(t,e,n){this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!II(),this._onFirefoxOutsideMouseUp=i=>{this._mouseUpHandler(i)},this._onMobileSafariDoubleClick=i=>{if(this._firesTouchEvents(i)){if(++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1){const{manhattanDistance:a}=this._mouseTouchMoveWithDownInfo(this._getCoordinate(i),this._tapCoordinate);a<Xh.DoubleTap&&!this._cancelTap&&this._processEvent(this._makeCompatEvent(i),this._handler.doubleTapEvent),this._resetTapTimeout()}}else if(++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1){const{manhattanDistance:a}=this._mouseTouchMoveWithDownInfo(this._getCoordinate(i),this._clickCoordinate);a<Xh.DoubleClick&&!this._cancelClick&&this._processEvent(this._makeCompatEvent(i),this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}},this._target=t,this._handler=e,this._options=n,this._init()}destroy(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()}_mouseEnterHandler(t){this._unsubscribeMousemove?.(),this._unsubscribeContextMenu?.();const e=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=()=>{this._target.removeEventListener("mousemove",e)},this._target.addEventListener("mousemove",e);const n=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=()=>{this._target.removeEventListener("contextmenu",n)},this._target.addEventListener("contextmenu",n,{passive:!1}),!this._firesTouchEvents(t)&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)}_resetClickTimeout(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}}_resetTapTimeout(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}}_mouseMoveHandler(t){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(t)||(this._processEvent(this._makeCompatEvent(t),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)}_mouseWheelHandler(t){const e=this._target.getBoundingClientRect(),n=t.clientX,i=t.clientY;if(n<e.left||n>e.right||i<e.top||i>e.bottom)return;const a=t.target,o=t.currentTarget,s=a&&this._target.contains(a),l=o===this._target;if(!(!s&&!l))if(t.stopImmediatePropagation(),this._preventDefault(t),Math.abs(t.deltaX)>Math.abs(t.deltaY)){if(!le(this._handler.mouseWheelHortEvent)||Math.abs(t.deltaX)===0)return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(t),-t.deltaX)}else{if(!le(this._handler.mouseWheelVertEvent))return;let u=-(t.deltaY/100);if(u===0)return;switch(t.deltaMode){case t.DOM_DELTA_PAGE:{u*=120;break}case t.DOM_DELTA_LINE:{u*=32;break}}if(u!==0){const c=Math.sign(u)*Math.min(1,Math.abs(u));this._handler.mouseWheelVertEvent(this._makeCompatEvent(t),c)}}}_contextMenuHandler(t){this._preventDefault(t)}_touchMoveHandler(t){const e=this._touchWithId(t.changedTouches,this._activeTouchId);if(e===null||(this._lastTouchEventTimeStamp=this._eventTimeStamp(t),this._startPinchMiddleCoordinate!==null)||this._preventTouchDragProcess)return;this._pinchPrevented=!0;const n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._touchMoveStartCoordinate),{xOffset:i,yOffset:a,manhattanDistance:o}=n;if(!(!this._touchMoveExceededManhattanDistance&&o<Xh.CancelTap)){if(!this._touchMoveExceededManhattanDistance){const s=i*.5,l=a>=s&&!this._options.treatVertDragAsPageScroll(),u=s>a&&!this._options.treatHorzDragAsPageScroll();!l&&!u&&(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(t,e),this._handler.touchMoveEvent)}}_mouseMoveWithDownHandler(t){if(t.button!==n0.Left)return;const e=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._mouseMoveStartCoordinate),{manhattanDistance:n}=e;n>=Xh.CancelClick&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(t),this._handler.pressedMouseMoveEvent)}_mouseTouchMoveWithDownInfo(t,e){const n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y),a=n+i;return{xOffset:n,yOffset:i,manhattanDistance:a}}_touchEndHandler(t){let e=this._touchWithId(t.changedTouches,this._activeTouchId);if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(t),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);const n=this._makeCompatEvent(t,e);if(this._processEvent(n,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1){const{manhattanDistance:i}=this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._tapCoordinate);i<Xh.DoubleTap&&!this._cancelTap&&this._processEvent(n,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processEvent(n,this._handler.tapEvent),le(this._handler.tapEvent)&&this._preventDefault(t));this._tapCount===0&&this._preventDefault(t),t.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(t))}_mouseUpHandler(t){if(t.button!==n0.Left)return;const e=this._makeCompatEvent(t);if(this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),hX()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),!this._firesTouchEvents(t))if(this._processEvent(e,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1){const{manhattanDistance:n}=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._clickCoordinate);n<Xh.DoubleClick&&!this._cancelClick&&this._processEvent(e,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processEvent(e,this._handler.mouseClickEvent)}_clearLongTapTimeout(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)}_touchStartHandler(t){if(this._activeTouchId!==null)return;const e=t.changedTouches[0];this._activeTouchId=e.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(t);const n=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(e),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);{const i=this._touchMoveHandler.bind(this),a=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=()=>{n.removeEventListener("touchmove",i),n.removeEventListener("touchend",a)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",a,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,t),Q1.LongTap)}this._processEvent(this._makeCompatEvent(t,e),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),Q1.ResetClick),this._tapCoordinate=this._getCoordinate(e))}_mouseDownHandler(t){if(t.button===n0.Right){this._preventDefault(t),this._processEvent(this._makeCompatEvent(t),this._handler.mouseRightClickEvent);return}if(t.button!==n0.Left)return;const e=this._target.ownerDocument.documentElement;hX()&&e.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);{const n=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=()=>{e.removeEventListener("mousemove",n),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",n),e.addEventListener("mouseup",i)}this._mousePressed=!0,!this._firesTouchEvents(t)&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),Q1.ResetClick),this._clickCoordinate=this._getCoordinate(t)))}_init(){this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this));const t=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=()=>{this._target.removeEventListener("wheel",t,{passive:!1})},this._target.addEventListener("wheel",t,{passive:!1}),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));{const e=this._target.ownerDocument,n=i=>{this._handler.mouseDownOutsideEvent!=null&&(i.composed&&this._target.contains(i.composedPath()[0])||i.target!==null&&this._target.contains(i.target)||this._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=()=>{e.removeEventListener("touchstart",n)},this._unsubscribeOutsideMouseEvents=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}II()&&(this._unsubscribeMobileSafariEvents=()=>{this._target.removeEventListener("dblclick",this._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",e=>{if(e.button===n0.Middle)return e.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",()=>{},{passive:!1})}_initPinch(){!le(this._handler.pinchStartEvent)&&!le(this._handler.pinchEvent)&&!le(this._handler.pinchEndEvent)||(this._target.addEventListener("touchstart",t=>{this._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",t=>{if(!(t.touches.length!==2||this._startPinchMiddleCoordinate===null)&&le(this._handler.pinchEvent)){const n=this._getTouchDistance(t.touches[0],t.touches[1])/this._startPinchDistance;this._handler.pinchEvent({...this._startPinchMiddleCoordinate,pageX:0,pageY:0},n),this._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",t=>{this._checkPinchState(t.touches)}))}_checkPinchState(t){t.length===1&&(this._pinchPrevented=!1),t.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(t)}_startPinch(t){const e=this._target.getBoundingClientRect();this._startPinchMiddleCoordinate={x:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,y:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this._startPinchDistance=this._getTouchDistance(t[0],t[1]),le(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()}_stopPinch(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,le(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))}_mouseLeaveHandler(t){this._unsubscribeMousemove?.(),this._unsubscribeContextMenu?.(),!this._firesTouchEvents(t)&&this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(t),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!II())}_longTapHandler(t){const e=this._touchWithId(t.touches,this._activeTouchId);e!==null&&(this._processEvent(this._makeCompatEvent(t,e),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)}_firesTouchEvents(t){return le(t.sourceCapabilities?.firesTouchEvents)?t.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(t)<this._lastTouchEventTimeStamp+Q1.PreventFiresTouchEvents}_processEvent(t,e){e?.call(this._handler,t)}_makeCompatEvent(t,e){const n=e??t,i=this._target.getBoundingClientRect();return{x:n.clientX-i.left,y:n.clientY-i.top,pageX:n.pageX,pageY:n.pageY,isTouch:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click"&&t.type!=="wheel",preventDefault:()=>{t.type!=="touchstart"&&this._preventDefault(t)}}}_getTouchDistance(t,e){const n=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(n*n+i*i)}_preventDefault(t){t.cancelable&&t.preventDefault()}_getCoordinate(t){return{x:t.pageX,y:t.pageY}}_eventTimeStamp(t){return t.timeStamp??performance.now()}_touchWithId(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}}class MLe{constructor(t,e){this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=n=>{if(n.shiftKey)switch(n.code){case"Equal":{this._chart.getChartStore().zoom(.5);break}case"Minus":{this._chart.getChartStore().zoom(-.5);break}case"ArrowLeft":{const i=this._chart.getChartStore();i.startScroll(),i.scroll(-3*i.getBarSpace().bar);break}case"ArrowRight":{const i=this._chart.getChartStore();i.startScroll(),i.scroll(3*i.getBarSpace().bar);break}}},this._container=t,this._chart=e,this._event=new ALe(t,this,{treatVertDragAsPageScroll:()=>!1,treatHorzDragAsPageScroll:()=>!1}),t.addEventListener("keydown",this._boundKeyBoardDownEvent)}pinchStartEvent(){return this._touchZoomed=!0,this._pinchScale=1,!0}pinchEvent(t,e){const{pane:n,widget:i}=this._findWidgetByEvent(t);if(n?.getId()!==ft.X_AXIS&&i?.getName()===et.MAIN){const a=this._makeWidgetEvent(t,i),o=(e-this._pinchScale)*5;return this._pinchScale=e,this._chart.getChartStore().zoom(o,{x:a.x,y:a.y}),!0}return!1}mouseWheelHortEvent(t,e){const n=this._chart.getChartStore();return n.startScroll(),n.scroll(e),!0}mouseWheelVertEvent(t,e){const{widget:n}=this._findWidgetByEvent(t),i=this._makeWidgetEvent(t,n),a=n?.getName();return a===et.MAIN||a===et.SCRIPT?(this._chart.getChartStore().zoom(e,{x:i.x,y:i.y}),!0):!1}mouseDownEvent(t){const{pane:e,widget:n}=this._findWidgetByEvent(t);if(this._mouseDownWidget=n,n!==null){const i=this._makeWidgetEvent(t,n);switch(n.getName()){case et.SEPARATOR:return n.dispatchEvent("mouseDownEvent",i);case et.MAIN:case et.SCRIPT:{const o=e.getAxisComponent();if(!o.getAutoCalcTickFlag()){const s=o.getRange();this._prevYAxisRange={...s}}return this._startScrollCoordinate={x:i.x,y:i.y},this._chart.getChartStore().startScroll(),n.dispatchEvent("mouseDownEvent",i)}case et.X_AXIS:return this._processXAxisScrollStartEvent(n,i);case et.Y_AXIS:return this._processYAxisScaleStartEvent(n,i)}}return!1}mouseMoveEvent(t){const{pane:e,widget:n}=this._findWidgetByEvent(t),i=this._makeWidgetEvent(t,n);if((this._mouseMoveTriggerWidgetInfo.pane?.getId()!==e?.getId()||this._mouseMoveTriggerWidgetInfo.widget?.getName()!==n?.getName())&&(n?.dispatchEvent("mouseEnterEvent",i),this._mouseMoveTriggerWidgetInfo.widget?.dispatchEvent("mouseLeaveEvent",i),this._mouseMoveTriggerWidgetInfo={pane:e,widget:n}),n!==null)switch(n.getName()){case et.MAIN:case et.SCRIPT:{const o=n.dispatchEvent("mouseMoveEvent",i);let s={x:i.x,y:i.y,paneId:e?.getId()};return o?(n.getForceCursor()!=="pointer"&&(s=void 0),n.setCursor("pointer")):n.setCursor("crosshair"),this._chart.getChartStore().setCrosshair(s),o}case et.SEPARATOR:case et.X_AXIS:case et.Y_AXIS:{const o=n.dispatchEvent("mouseMoveEvent",i);return this._chart.getChartStore().setCrosshair(),o}}return!1}pressedMouseMoveEvent(t){if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===et.SEPARATOR)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",t);const{pane:e,widget:n}=this._findWidgetByEvent(t);if(n!==null&&this._mouseDownWidget?.getPane().getId()===e?.getId()&&this._mouseDownWidget?.getName()===n.getName()){const i=this._makeWidgetEvent(t,n);switch(n.getName()){case et.MAIN:case et.SCRIPT:{let o;const s=n.dispatchEvent("pressedMouseMoveEvent",i);return s||this._processMainScrollingEvent(n,i),(!s||n.getForceCursor()==="pointer")&&(o={x:i.x,y:i.y,paneId:e?.getId()}),this._chart.getChartStore().setCrosshair(o,{forceInvalidate:!0}),s}case et.X_AXIS:return this._processXAxisScrollingEvent(n,i);case et.Y_AXIS:return this._processYAxisScalingEvent(n,i)}}return!1}mouseUpEvent(t){const{widget:e}=this._findWidgetByEvent(t);let n=!1;if(e!==null){const i=this._makeWidgetEvent(t,e);switch(e.getName()){case et.MAIN:case et.SCRIPT:case et.SEPARATOR:case et.X_AXIS:case et.Y_AXIS:{n=e.dispatchEvent("mouseUpEvent",i);break}}n&&this._chart.updatePane(pt.Overlay)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,n}mouseClickEvent(t){const{widget:e}=this._findWidgetByEvent(t);if(le(e)){const n=this._makeWidgetEvent(t,e);switch(e.getName()){case et.SCRIPT:return e.dispatchEvent("mouseClickEvent",n);case et.MAIN:case et.SEPARATOR:case et.X_AXIS:case et.Y_AXIS:return e.dispatchEvent("mouseClickEvent",n)}}return!1}mouseRightClickEvent(t){const{widget:e}=this._findWidgetByEvent(t);let n=!1;if(e!==null){const i=this._makeWidgetEvent(t,e);switch(e.getName()){case et.MAIN:case et.X_AXIS:case et.Y_AXIS:{n=e.dispatchEvent("mouseRightClickEvent",i);break}}n&&this._chart.updatePane(pt.Overlay)}return!1}mouseDoubleClickEvent(t){const{pane:e,widget:n}=this._findWidgetByEvent(t);if(n!==null)switch(n.getName()){case et.MAIN:{const a=this._makeWidgetEvent(t,n);return n.dispatchEvent("mouseDoubleClickEvent",a)}case et.Y_AXIS:{const a=e.getAxisComponent();if(!a.getAutoCalcTickFlag())return a.setAutoCalcTickFlag(!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),!0;break}}return!1}mouseLeaveEvent(){return this._chart.getChartStore().setCrosshair(),!0}touchStartEvent(t){const{pane:e,widget:n}=this._findWidgetByEvent(t);if(n!==null){const i=this._makeWidgetEvent(t,n);switch(i.preventDefault?.(),n.getName()){case et.MAIN:{const o=this._chart.getChartStore();if(n.dispatchEvent("mouseDownEvent",i))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,o.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(pt.Overlay),!0;this._flingScrollRequestId!==null&&(GY(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime();const s=e.getAxisComponent();if(!s.getAutoCalcTickFlag()){const l=s.getRange();this._prevYAxisRange={...l}}if(this._startScrollCoordinate={x:i.x,y:i.y},o.startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){const l=i.x-this._touchCoordinate.x,u=i.y-this._touchCoordinate.y;Math.sqrt(l*l+u*u)<TLe?(this._touchCoordinate={x:i.x,y:i.y},o.setCrosshair({x:i.x,y:i.y,paneId:e?.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,o.setCrosshair())}return!0}case et.X_AXIS:return this._processXAxisScrollStartEvent(n,i);case et.Y_AXIS:return this._processYAxisScaleStartEvent(n,i)}}return!1}touchMoveEvent(t){const{pane:e,widget:n}=this._findWidgetByEvent(t);if(n!==null){const i=this._makeWidgetEvent(t,n);i.preventDefault?.();const a=n.getName(),o=this._chart.getChartStore();switch(a){case et.MAIN:return n.dispatchEvent("pressedMouseMoveEvent",i)?(o.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(pt.Overlay),!0):(this._touchCoordinate!==null?o.setCrosshair({x:i.x,y:i.y,paneId:e?.getId()}):this._processMainScrollingEvent(n,i),!0);case et.X_AXIS:return this._processXAxisScrollingEvent(n,i);case et.Y_AXIS:return this._processYAxisScalingEvent(n,i)}}return!1}touchEndEvent(t){const{widget:e}=this._findWidgetByEvent(t);if(e!==null){const n=this._makeWidgetEvent(t,e);switch(e.getName()){case et.MAIN:{if(e.dispatchEvent("mouseUpEvent",n),this._startScrollCoordinate!==null){const a=new Date().getTime()-this._flingStartTime;let s=(n.x-this._startScrollCoordinate.x)/(a>0?a:1)*20;if(a<200&&Math.abs(s)>0){const l=this._chart.getChartStore(),u=()=>{this._flingScrollRequestId=Do(()=>{l.startScroll(),l.scroll(s),s=s*(1-.025),Math.abs(s)<1?this._flingScrollRequestId!==null&&(GY(this._flingScrollRequestId),this._flingScrollRequestId=null):u()})};u()}}return!0}case et.X_AXIS:case et.Y_AXIS:e.dispatchEvent("mouseUpEvent",n)&&this._chart.updatePane(pt.Overlay)}this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0}return!1}tapEvent(t){const{pane:e,widget:n}=this._findWidgetByEvent(t);let i=!1;if(n!==null){const a=this._makeWidgetEvent(t,n),o=n.dispatchEvent("mouseClickEvent",a);if(n.getName()===et.MAIN){const s=this._makeWidgetEvent(t,n),l=this._chart.getChartStore();o?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,l.setCrosshair(void 0,{notInvalidate:!0}),i=!0):(!this._touchCancelCrosshair&&!this._touchZoomed&&(this._touchCoordinate={x:s.x,y:s.y},l.setCrosshair({x:s.x,y:s.y,paneId:e?.getId()},{notInvalidate:!0}),i=!0),this._touchCancelCrosshair=!1)}(i||o)&&this._chart.updatePane(pt.Overlay)}return i}doubleTapEvent(t){return this.mouseDoubleClickEvent(t)}longTapEvent(t){const{pane:e,widget:n}=this._findWidgetByEvent(t);if(n!==null&&n.getName()===et.MAIN){const i=this._makeWidgetEvent(t,n);return this._touchCoordinate={x:i.x,y:i.y},this._chart.getChartStore().setCrosshair({x:i.x,y:i.y,paneId:e?.getId()}),!0}return!1}_processMainScrollingEvent(t,e){if(this._startScrollCoordinate!==null){const n=t.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&!n.getAutoCalcTickFlag()&&n.scrollZoomEnabled){const{from:a,to:o,range:s}=this._prevYAxisRange;let l=0;n.reverse?l=this._startScrollCoordinate.y-e.y:l=e.y-this._startScrollCoordinate.y;const u=t.getBounding(),c=l/u.height,f=s*c,d=a+f,h=o+f,v=n.valueToRealValue(d,{range:this._prevYAxisRange}),g=n.valueToRealValue(h,{range:this._prevYAxisRange}),m=n.realValueToDisplayValue(v,{range:this._prevYAxisRange}),x=n.realValueToDisplayValue(g,{range:this._prevYAxisRange});n.setRange({from:d,to:h,range:h-d,realFrom:v,realTo:g,realRange:g-v,displayFrom:m,displayTo:x,displayRange:x-m})}const i=e.x-this._startScrollCoordinate.x;this._chart.getChartStore().scroll(i)}}_processXAxisScrollStartEvent(t,e){const n=t.dispatchEvent("mouseDownEvent",e);return n&&this._chart.updatePane(pt.Overlay),this._xAxisStartScaleCoordinate={x:e.x,y:e.y},this._xAxisStartScaleDistance=e.pageX,n}_processXAxisScrollingEvent(t,e){const n=t.dispatchEvent("pressedMouseMoveEvent",e);if(n)this._chart.updatePane(pt.Overlay);else if(t.getPane().getAxisComponent().scrollZoomEnabled&&this._xAxisStartScaleDistance!==0){const a=this._xAxisStartScaleDistance/e.pageX;if(Number.isFinite(a)){const o=(a-this._xAxisScale)*10;this._xAxisScale=a,this._chart.getChartStore().zoom(o,this._xAxisStartScaleCoordinate??void 0)}}return n}_processYAxisScaleStartEvent(t,e){const n=t.dispatchEvent("mouseDownEvent",e);n&&this._chart.updatePane(pt.Overlay);const i=t.getPane().getAxisComponent().getRange();return this._prevYAxisRange={...i},this._yAxisStartScaleDistance=e.pageY,n}_processYAxisScalingEvent(t,e){const n=t.dispatchEvent("pressedMouseMoveEvent",e);if(n)this._chart.updatePane(pt.Overlay);else{const i=t.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&i.scrollZoomEnabled&&this._yAxisStartScaleDistance!==0){const{from:a,to:o,range:s}=this._prevYAxisRange,l=e.pageY/this._yAxisStartScaleDistance,u=s*l,c=(u-s)/2,f=a-c,d=o+c,h=i.valueToRealValue(f,{range:this._prevYAxisRange}),v=i.valueToRealValue(d,{range:this._prevYAxisRange}),g=i.realValueToDisplayValue(h,{range:this._prevYAxisRange}),m=i.realValueToDisplayValue(v,{range:this._prevYAxisRange});i.setRange({from:f,to:d,range:u,realFrom:h,realTo:v,realRange:v-h,displayFrom:g,displayTo:m,displayRange:m-g}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}}return n}_findWidgetByEvent(t){const{x:e,y:n}=t,i=this._chart.getSeparatorPanes(),a=this._chart.getStyles().separator.size;for(const u of i){const c=u[1],f=c.getBounding(),d=f.top-Math.round((U0-a)/2);if(e>=f.left&&e<=f.left+f.width&&n>=d&&n<=d+U0)return{pane:c,widget:c.getWidget()}}const o=this._chart.getDrawPanes();let s=null;for(const u of o){const c=u.getBounding();if(e>=c.left&&e<=c.left+c.width&&n>=c.top&&n<=c.top+c.height){s=u;break}}let l=null;if(s!==null){const u=s.getMainWidget(),c=u.getBounding();if(e>=c.left&&e<=c.left+c.width&&n>=c.top&&n<=c.top+c.height&&(l=u),!le(l)){const f=s.getYAxisWidget();if(f!==null){const d=f.getBounding();e>=d.left&&e<=d.left+d.width&&n>=d.top&&n<=d.top+d.height&&(l=f)}}}return{pane:s,widget:l}}_makeWidgetEvent(t,e){const n=e?.getBounding()??null;return{...t,x:t.x-(n?.left??0),y:t.y-(n?.top??0)}}destroy(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()}}var Rx={exports:{}};function DLe(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Px={exports:{}};const ELe={},ILe=Object.freeze(Object.defineProperty({__proto__:null,default:ELe},Symbol.toStringTag,{value:"Module"})),RLe=kb(ILe);var PLe=Px.exports,dX;function kt(){return dX||(dX=1,(function(r,t){(function(e,n){r.exports=n()})(PLe,function(){var e=e||(function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Vc<"u"&&Vc.crypto&&(a=Vc.crypto),!a&&typeof DLe=="function")try{a=RLe}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||(function(){function _(){}return function(b){var w;return _.prototype=b,w=new _,_.prototype=null,w}})(),l={},u=l.lib={},c=u.Base=(function(){return{extend:function(_){var b=s(this);return _&&b.mixIn(_),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var b in _)_.hasOwnProperty(b)&&(this[b]=_[b]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),f=u.WordArray=c.extend({init:function(_,b){_=this.words=_||[],b!=i?this.sigBytes=b:this.sigBytes=_.length*4},toString:function(_){return(_||h).stringify(this)},concat:function(_){var b=this.words,w=_.words,T=this.sigBytes,A=_.sigBytes;if(this.clamp(),T%4)for(var M=0;M<A;M++){var D=w[M>>>2]>>>24-M%4*8&255;b[T+M>>>2]|=D<<24-(T+M)%4*8}else for(var P=0;P<A;P+=4)b[T+P>>>2]=w[P>>>2];return this.sigBytes+=A,this},clamp:function(){var _=this.words,b=this.sigBytes;_[b>>>2]&=4294967295<<32-b%4*8,_.length=n.ceil(b/4)},clone:function(){var _=c.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var b=[],w=0;w<_;w+=4)b.push(o());return new f.init(b,_)}}),d=l.enc={},h=d.Hex={stringify:function(_){for(var b=_.words,w=_.sigBytes,T=[],A=0;A<w;A++){var M=b[A>>>2]>>>24-A%4*8&255;T.push((M>>>4).toString(16)),T.push((M&15).toString(16))}return T.join("")},parse:function(_){for(var b=_.length,w=[],T=0;T<b;T+=2)w[T>>>3]|=parseInt(_.substr(T,2),16)<<24-T%8*4;return new f.init(w,b/2)}},v=d.Latin1={stringify:function(_){for(var b=_.words,w=_.sigBytes,T=[],A=0;A<w;A++){var M=b[A>>>2]>>>24-A%4*8&255;T.push(String.fromCharCode(M))}return T.join("")},parse:function(_){for(var b=_.length,w=[],T=0;T<b;T++)w[T>>>2]|=(_.charCodeAt(T)&255)<<24-T%4*8;return new f.init(w,b)}},g=d.Utf8={stringify:function(_){try{return decodeURIComponent(escape(v.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return v.parse(unescape(encodeURIComponent(_)))}},m=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var b,w=this._data,T=w.words,A=w.sigBytes,M=this.blockSize,D=M*4,P=A/D;_?P=n.ceil(P):P=n.max((P|0)-this._minBufferSize,0);var I=P*M,R=n.min(I*4,A);if(I){for(var k=0;k<I;k+=M)this._doProcessBlock(T,k);b=T.splice(0,I),w.sigBytes-=R}return new f.init(b,R)},clone:function(){var _=c.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});u.Hasher=m.extend({cfg:c.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(_){return function(b,w){return new _.init(w).finalize(b)}},_createHmacHelper:function(_){return function(b,w){return new x.HMAC.init(_,w).finalize(b)}}});var x=l.algo={};return l})(Math);return e})})(Px)),Px.exports}var Ox={exports:{}},OLe=Ox.exports,vX;function US(){return vX||(vX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(OLe,function(e){return(function(n){var i=e,a=i.lib,o=a.Base,s=a.WordArray,l=i.x64={};l.Word=o.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=o.extend({init:function(u,c){u=this.words=u||[],c!=n?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,f=[],d=0;d<c;d++){var h=u[d];f.push(h.high),f.push(h.low)}return s.create(f,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),c=u.words=this.words.slice(0),f=c.length,d=0;d<f;d++)c[d]=c[d].clone();return u}})})(),e})})(Ox)),Ox.exports}var Bx={exports:{}},BLe=Bx.exports,pX;function kLe(){return pX||(pX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(BLe,function(e){return(function(){if(typeof ArrayBuffer=="function"){var n=e,i=n.lib,a=i.WordArray,o=a.init,s=a.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],f=0;f<u;f++)c[f>>>2]|=l[f]<<24-f%4*8;o.call(this,c,u)}else o.apply(this,arguments)};s.prototype=a}})(),e.lib.WordArray})})(Bx)),Bx.exports}var kx={exports:{}},LLe=kx.exports,gX;function NLe(){return gX||(gX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(LLe,function(e){return(function(){var n=e,i=n.lib,a=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,f=[],d=0;d<c;d+=2){var h=u[d>>>2]>>>16-d%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},parse:function(l){for(var u=l.length,c=[],f=0;f<u;f++)c[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return a.create(c,u*2)}},o.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,f=[],d=0;d<c;d+=2){var h=s(u[d>>>2]>>>16-d%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},parse:function(l){for(var u=l.length,c=[],f=0;f<u;f++)c[f>>>1]|=s(l.charCodeAt(f)<<16-f%2*16);return a.create(c,u*2)}};function s(l){return l<<8&4278255360|l>>>8&16711935}})(),e.enc.Utf16})})(kx)),kx.exports}var Lx={exports:{}},VLe=Lx.exports,yX;function Pf(){return yX||(yX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(VLe,function(e){return(function(){var n=e,i=n.lib,a=i.WordArray,o=n.enc;o.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,f=this._map;l.clamp();for(var d=[],h=0;h<c;h+=3)for(var v=u[h>>>2]>>>24-h%4*8&255,g=u[h+1>>>2]>>>24-(h+1)%4*8&255,m=u[h+2>>>2]>>>24-(h+2)%4*8&255,x=v<<16|g<<8|m,_=0;_<4&&h+_*.75<c;_++)d.push(f.charAt(x>>>6*(3-_)&63));var b=f.charAt(64);if(b)for(;d.length%4;)d.push(b);return d.join("")},parse:function(l){var u=l.length,c=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<c.length;d++)f[c.charCodeAt(d)]=d}var h=c.charAt(64);if(h){var v=l.indexOf(h);v!==-1&&(u=v)}return s(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(l,u,c){for(var f=[],d=0,h=0;h<u;h++)if(h%4){var v=c[l.charCodeAt(h-1)]<<h%4*2,g=c[l.charCodeAt(h)]>>>6-h%4*2,m=v|g;f[d>>>2]|=m<<24-d%4*8,d++}return a.create(f,d)}})(),e.enc.Base64})})(Lx)),Lx.exports}var Nx={exports:{}},zLe=Nx.exports,mX;function FLe(){return mX||(mX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(zLe,function(e){return(function(){var n=e,i=n.lib,a=i.WordArray,o=n.enc;o.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,f=l.sigBytes,d=u?this._safe_map:this._map;l.clamp();for(var h=[],v=0;v<f;v+=3)for(var g=c[v>>>2]>>>24-v%4*8&255,m=c[v+1>>>2]>>>24-(v+1)%4*8&255,x=c[v+2>>>2]>>>24-(v+2)%4*8&255,_=g<<16|m<<8|x,b=0;b<4&&v+b*.75<f;b++)h.push(d.charAt(_>>>6*(3-b)&63));var w=d.charAt(64);if(w)for(;h.length%4;)h.push(w);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,f=u?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<f.length;h++)d[f.charCodeAt(h)]=h}var v=f.charAt(64);if(v){var g=l.indexOf(v);g!==-1&&(c=g)}return s(l,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(l,u,c){for(var f=[],d=0,h=0;h<u;h++)if(h%4){var v=c[l.charCodeAt(h-1)]<<h%4*2,g=c[l.charCodeAt(h)]>>>6-h%4*2,m=v|g;f[d>>>2]|=m<<24-d%4*8,d++}return a.create(f,d)}})(),e.enc.Base64url})})(Nx)),Nx.exports}var Vx={exports:{}},HLe=Vx.exports,xX;function Of(){return xX||(xX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(HLe,function(e){return(function(n){var i=e,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,u=[];(function(){for(var g=0;g<64;g++)u[g]=n.abs(n.sin(g+1))*4294967296|0})();var c=l.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,m){for(var x=0;x<16;x++){var _=m+x,b=g[_];g[_]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var w=this._hash.words,T=g[m+0],A=g[m+1],M=g[m+2],D=g[m+3],P=g[m+4],I=g[m+5],R=g[m+6],k=g[m+7],O=g[m+8],V=g[m+9],N=g[m+10],L=g[m+11],G=g[m+12],W=g[m+13],U=g[m+14],Z=g[m+15],F=w[0],q=w[1],$=w[2],K=w[3];F=f(F,q,$,K,T,7,u[0]),K=f(K,F,q,$,A,12,u[1]),$=f($,K,F,q,M,17,u[2]),q=f(q,$,K,F,D,22,u[3]),F=f(F,q,$,K,P,7,u[4]),K=f(K,F,q,$,I,12,u[5]),$=f($,K,F,q,R,17,u[6]),q=f(q,$,K,F,k,22,u[7]),F=f(F,q,$,K,O,7,u[8]),K=f(K,F,q,$,V,12,u[9]),$=f($,K,F,q,N,17,u[10]),q=f(q,$,K,F,L,22,u[11]),F=f(F,q,$,K,G,7,u[12]),K=f(K,F,q,$,W,12,u[13]),$=f($,K,F,q,U,17,u[14]),q=f(q,$,K,F,Z,22,u[15]),F=d(F,q,$,K,A,5,u[16]),K=d(K,F,q,$,R,9,u[17]),$=d($,K,F,q,L,14,u[18]),q=d(q,$,K,F,T,20,u[19]),F=d(F,q,$,K,I,5,u[20]),K=d(K,F,q,$,N,9,u[21]),$=d($,K,F,q,Z,14,u[22]),q=d(q,$,K,F,P,20,u[23]),F=d(F,q,$,K,V,5,u[24]),K=d(K,F,q,$,U,9,u[25]),$=d($,K,F,q,D,14,u[26]),q=d(q,$,K,F,O,20,u[27]),F=d(F,q,$,K,W,5,u[28]),K=d(K,F,q,$,M,9,u[29]),$=d($,K,F,q,k,14,u[30]),q=d(q,$,K,F,G,20,u[31]),F=h(F,q,$,K,I,4,u[32]),K=h(K,F,q,$,O,11,u[33]),$=h($,K,F,q,L,16,u[34]),q=h(q,$,K,F,U,23,u[35]),F=h(F,q,$,K,A,4,u[36]),K=h(K,F,q,$,P,11,u[37]),$=h($,K,F,q,k,16,u[38]),q=h(q,$,K,F,N,23,u[39]),F=h(F,q,$,K,W,4,u[40]),K=h(K,F,q,$,T,11,u[41]),$=h($,K,F,q,D,16,u[42]),q=h(q,$,K,F,R,23,u[43]),F=h(F,q,$,K,V,4,u[44]),K=h(K,F,q,$,G,11,u[45]),$=h($,K,F,q,Z,16,u[46]),q=h(q,$,K,F,M,23,u[47]),F=v(F,q,$,K,T,6,u[48]),K=v(K,F,q,$,k,10,u[49]),$=v($,K,F,q,U,15,u[50]),q=v(q,$,K,F,I,21,u[51]),F=v(F,q,$,K,G,6,u[52]),K=v(K,F,q,$,D,10,u[53]),$=v($,K,F,q,N,15,u[54]),q=v(q,$,K,F,A,21,u[55]),F=v(F,q,$,K,O,6,u[56]),K=v(K,F,q,$,Z,10,u[57]),$=v($,K,F,q,R,15,u[58]),q=v(q,$,K,F,W,21,u[59]),F=v(F,q,$,K,P,6,u[60]),K=v(K,F,q,$,L,10,u[61]),$=v($,K,F,q,M,15,u[62]),q=v(q,$,K,F,V,21,u[63]),w[0]=w[0]+F|0,w[1]=w[1]+q|0,w[2]=w[2]+$|0,w[3]=w[3]+K|0},_doFinalize:function(){var g=this._data,m=g.words,x=this._nDataBytes*8,_=g.sigBytes*8;m[_>>>5]|=128<<24-_%32;var b=n.floor(x/4294967296),w=x;m[(_+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,m[(_+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,g.sigBytes=(m.length+1)*4,this._process();for(var T=this._hash,A=T.words,M=0;M<4;M++){var D=A[M];A[M]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return T},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g}});function f(g,m,x,_,b,w,T){var A=g+(m&x|~m&_)+b+T;return(A<<w|A>>>32-w)+m}function d(g,m,x,_,b,w,T){var A=g+(m&_|x&~_)+b+T;return(A<<w|A>>>32-w)+m}function h(g,m,x,_,b,w,T){var A=g+(m^x^_)+b+T;return(A<<w|A>>>32-w)+m}function v(g,m,x,_,b,w,T){var A=g+(x^(m|~_))+b+T;return(A<<w|A>>>32-w)+m}i.MD5=s._createHelper(c),i.HmacMD5=s._createHmacHelper(c)})(Math),e.MD5})})(Vx)),Vx.exports}var zx={exports:{}},GLe=zx.exports,_X;function sie(){return _X||(_X=1,(function(r,t){(function(e,n){r.exports=n(kt())})(GLe,function(e){return(function(){var n=e,i=n.lib,a=i.WordArray,o=i.Hasher,s=n.algo,l=[],u=s.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,f){for(var d=this._hash.words,h=d[0],v=d[1],g=d[2],m=d[3],x=d[4],_=0;_<80;_++){if(_<16)l[_]=c[f+_]|0;else{var b=l[_-3]^l[_-8]^l[_-14]^l[_-16];l[_]=b<<1|b>>>31}var w=(h<<5|h>>>27)+x+l[_];_<20?w+=(v&g|~v&m)+1518500249:_<40?w+=(v^g^m)+1859775393:_<60?w+=(v&g|v&m|g&m)-1894007588:w+=(v^g^m)-899497514,x=m,m=g,g=v<<30|v>>>2,v=h,h=w}d[0]=d[0]+h|0,d[1]=d[1]+v|0,d[2]=d[2]+g|0,d[3]=d[3]+m|0,d[4]=d[4]+x|0},_doFinalize:function(){var c=this._data,f=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return f[h>>>5]|=128<<24-h%32,f[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(h+64>>>9<<4)+15]=d,c.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var c=o.clone.call(this);return c._hash=this._hash.clone(),c}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)})(),e.SHA1})})(zx)),zx.exports}var Fx={exports:{}},WLe=Fx.exports,bX;function eL(){return bX||(bX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(WLe,function(e){return(function(n){var i=e,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,u=[],c=[];(function(){function h(x){for(var _=n.sqrt(x),b=2;b<=_;b++)if(!(x%b))return!1;return!0}function v(x){return(x-(x|0))*4294967296|0}for(var g=2,m=0;m<64;)h(g)&&(m<8&&(u[m]=v(n.pow(g,1/2))),c[m]=v(n.pow(g,1/3)),m++),g++})();var f=[],d=l.SHA256=s.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,v){for(var g=this._hash.words,m=g[0],x=g[1],_=g[2],b=g[3],w=g[4],T=g[5],A=g[6],M=g[7],D=0;D<64;D++){if(D<16)f[D]=h[v+D]|0;else{var P=f[D-15],I=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,R=f[D-2],k=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;f[D]=I+f[D-7]+k+f[D-16]}var O=w&T^~w&A,V=m&x^m&_^x&_,N=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),L=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),G=M+L+O+c[D]+f[D],W=N+V;M=A,A=T,T=w,w=b+G|0,b=_,_=x,x=m,m=G+W|0}g[0]=g[0]+m|0,g[1]=g[1]+x|0,g[2]=g[2]+_|0,g[3]=g[3]+b|0,g[4]=g[4]+w|0,g[5]=g[5]+T|0,g[6]=g[6]+A|0,g[7]=g[7]+M|0},_doFinalize:function(){var h=this._data,v=h.words,g=this._nDataBytes*8,m=h.sigBytes*8;return v[m>>>5]|=128<<24-m%32,v[(m+64>>>9<<4)+14]=n.floor(g/4294967296),v[(m+64>>>9<<4)+15]=g,h.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var h=s.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=s._createHelper(d),i.HmacSHA256=s._createHmacHelper(d)})(Math),e.SHA256})})(Fx)),Fx.exports}var Hx={exports:{}},ULe=Hx.exports,SX;function qLe(){return SX||(SX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),eL())})(ULe,function(e){return(function(){var n=e,i=n.lib,a=i.WordArray,o=n.algo,s=o.SHA256,l=o.SHA224=s.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=s._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=s._createHelper(l),n.HmacSHA224=s._createHmacHelper(l)})(),e.SHA224})})(Hx)),Hx.exports}var Gx={exports:{}},YLe=Gx.exports,wX;function lie(){return wX||(wX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),US())})(YLe,function(e){return(function(){var n=e,i=n.lib,a=i.Hasher,o=n.x64,s=o.Word,l=o.WordArray,u=n.algo;function c(){return s.create.apply(s,arguments)}var f=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var v=0;v<80;v++)d[v]=c()})();var h=u.SHA512=a.extend({_doReset:function(){this._hash=new l.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(v,g){for(var m=this._hash.words,x=m[0],_=m[1],b=m[2],w=m[3],T=m[4],A=m[5],M=m[6],D=m[7],P=x.high,I=x.low,R=_.high,k=_.low,O=b.high,V=b.low,N=w.high,L=w.low,G=T.high,W=T.low,U=A.high,Z=A.low,F=M.high,q=M.low,$=D.high,K=D.low,re=P,ce=I,pe=R,de=k,ge=O,Ce=V,xe=N,we=L,Pe=G,De=W,Ae=U,Xe=Z,Ne=F,St=q,tt=$,wt=K,xt=0;xt<80;xt++){var dt,Ee,Lt=d[xt];if(xt<16)Ee=Lt.high=v[g+xt*2]|0,dt=Lt.low=v[g+xt*2+1]|0;else{var pr=d[xt-15],Yr=pr.high,xr=pr.low,_r=(Yr>>>1|xr<<31)^(Yr>>>8|xr<<24)^Yr>>>7,xi=(xr>>>1|Yr<<31)^(xr>>>8|Yr<<24)^(xr>>>7|Yr<<25),ei=d[xt-2],ti=ei.high,On=ei.low,nr=(ti>>>19|On<<13)^(ti<<3|On>>>29)^ti>>>6,Nt=(On>>>19|ti<<13)^(On<<3|ti>>>29)^(On>>>6|ti<<26),Xr=d[xt-7],kr=Xr.high,ir=Xr.low,Lr=d[xt-16],ri=Lr.high,so=Lr.low;dt=xi+ir,Ee=_r+kr+(dt>>>0<xi>>>0?1:0),dt=dt+Nt,Ee=Ee+nr+(dt>>>0<Nt>>>0?1:0),dt=dt+so,Ee=Ee+ri+(dt>>>0<so>>>0?1:0),Lt.high=Ee,Lt.low=dt}var _i=Pe&Ae^~Pe&Ne,Oa=De&Xe^~De&St,Gn=re&pe^re&ge^pe&ge,Ba=ce&de^ce&Ce^de&Ce,Yi=(re>>>28|ce<<4)^(re<<30|ce>>>2)^(re<<25|ce>>>7),Zo=(ce>>>28|re<<4)^(ce<<30|re>>>2)^(ce<<25|re>>>7),Qt=(Pe>>>14|De<<18)^(Pe>>>18|De<<14)^(Pe<<23|De>>>9),fr=(De>>>14|Pe<<18)^(De>>>18|Pe<<14)^(De<<23|Pe>>>9),mn=f[xt],Ou=mn.high,Wn=mn.low,an=wt+fr,ni=tt+Qt+(an>>>0<wt>>>0?1:0),an=an+Oa,ni=ni+_i+(an>>>0<Oa>>>0?1:0),an=an+Wn,ni=ni+Ou+(an>>>0<Wn>>>0?1:0),an=an+dt,ni=ni+Ee+(an>>>0<dt>>>0?1:0),Ko=Zo+Ba,Bu=Yi+Gn+(Ko>>>0<Zo>>>0?1:0);tt=Ne,wt=St,Ne=Ae,St=Xe,Ae=Pe,Xe=De,De=we+an|0,Pe=xe+ni+(De>>>0<we>>>0?1:0)|0,xe=ge,we=Ce,ge=pe,Ce=de,pe=re,de=ce,ce=an+Ko|0,re=ni+Bu+(ce>>>0<an>>>0?1:0)|0}I=x.low=I+ce,x.high=P+re+(I>>>0<ce>>>0?1:0),k=_.low=k+de,_.high=R+pe+(k>>>0<de>>>0?1:0),V=b.low=V+Ce,b.high=O+ge+(V>>>0<Ce>>>0?1:0),L=w.low=L+we,w.high=N+xe+(L>>>0<we>>>0?1:0),W=T.low=W+De,T.high=G+Pe+(W>>>0<De>>>0?1:0),Z=A.low=Z+Xe,A.high=U+Ae+(Z>>>0<Xe>>>0?1:0),q=M.low=q+St,M.high=F+Ne+(q>>>0<St>>>0?1:0),K=D.low=K+wt,D.high=$+tt+(K>>>0<wt>>>0?1:0)},_doFinalize:function(){var v=this._data,g=v.words,m=this._nDataBytes*8,x=v.sigBytes*8;g[x>>>5]|=128<<24-x%32,g[(x+128>>>10<<5)+30]=Math.floor(m/4294967296),g[(x+128>>>10<<5)+31]=m,v.sigBytes=g.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});n.SHA512=a._createHelper(h),n.HmacSHA512=a._createHmacHelper(h)})(),e.SHA512})})(Gx)),Gx.exports}var Wx={exports:{}},XLe=Wx.exports,CX;function $Le(){return CX||(CX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),US(),lie())})(XLe,function(e){return(function(){var n=e,i=n.x64,a=i.Word,o=i.WordArray,s=n.algo,l=s.SHA512,u=s.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});n.SHA384=l._createHelper(u),n.HmacSHA384=l._createHmacHelper(u)})(),e.SHA384})})(Wx)),Wx.exports}var Ux={exports:{}},jLe=Ux.exports,TX;function ZLe(){return TX||(TX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),US())})(jLe,function(e){return(function(n){var i=e,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.x64,u=l.Word,c=i.algo,f=[],d=[],h=[];(function(){for(var m=1,x=0,_=0;_<24;_++){f[m+5*x]=(_+1)*(_+2)/2%64;var b=x%5,w=(2*m+3*x)%5;m=b,x=w}for(var m=0;m<5;m++)for(var x=0;x<5;x++)d[m+5*x]=x+(2*m+3*x)%5*5;for(var T=1,A=0;A<24;A++){for(var M=0,D=0,P=0;P<7;P++){if(T&1){var I=(1<<P)-1;I<32?D^=1<<I:M^=1<<I-32}T&128?T=T<<1^113:T<<=1}h[A]=u.create(M,D)}})();var v=[];(function(){for(var m=0;m<25;m++)v[m]=u.create()})();var g=c.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],x=0;x<25;x++)m[x]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,x){for(var _=this._state,b=this.blockSize/2,w=0;w<b;w++){var T=m[x+2*w],A=m[x+2*w+1];T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var M=_[w];M.high^=A,M.low^=T}for(var D=0;D<24;D++){for(var P=0;P<5;P++){for(var I=0,R=0,k=0;k<5;k++){var M=_[P+5*k];I^=M.high,R^=M.low}var O=v[P];O.high=I,O.low=R}for(var P=0;P<5;P++)for(var V=v[(P+4)%5],N=v[(P+1)%5],L=N.high,G=N.low,I=V.high^(L<<1|G>>>31),R=V.low^(G<<1|L>>>31),k=0;k<5;k++){var M=_[P+5*k];M.high^=I,M.low^=R}for(var W=1;W<25;W++){var I,R,M=_[W],U=M.high,Z=M.low,F=f[W];F<32?(I=U<<F|Z>>>32-F,R=Z<<F|U>>>32-F):(I=Z<<F-32|U>>>64-F,R=U<<F-32|Z>>>64-F);var q=v[d[W]];q.high=I,q.low=R}var $=v[0],K=_[0];$.high=K.high,$.low=K.low;for(var P=0;P<5;P++)for(var k=0;k<5;k++){var W=P+5*k,M=_[W],re=v[W],ce=v[(P+1)%5+5*k],pe=v[(P+2)%5+5*k];M.high=re.high^~ce.high&pe.high,M.low=re.low^~ce.low&pe.low}var M=_[0],de=h[D];M.high^=de.high,M.low^=de.low}},_doFinalize:function(){var m=this._data,x=m.words;this._nDataBytes*8;var _=m.sigBytes*8,b=this.blockSize*32;x[_>>>5]|=1<<24-_%32,x[(n.ceil((_+1)/b)*b>>>5)-1]|=128,m.sigBytes=x.length*4,this._process();for(var w=this._state,T=this.cfg.outputLength/8,A=T/8,M=[],D=0;D<A;D++){var P=w[D],I=P.high,R=P.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,M.push(R),M.push(I)}return new o.init(M,T)},clone:function(){for(var m=s.clone.call(this),x=m._state=this._state.slice(0),_=0;_<25;_++)x[_]=x[_].clone();return m}});i.SHA3=s._createHelper(g),i.HmacSHA3=s._createHmacHelper(g)})(Math),e.SHA3})})(Ux)),Ux.exports}var qx={exports:{}},KLe=qx.exports,AX;function QLe(){return AX||(AX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(KLe,function(e){return(function(n){var i=e,a=i.lib,o=a.WordArray,s=a.Hasher,l=i.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),v=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=l.RIPEMD160=s.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,M){for(var D=0;D<16;D++){var P=M+D,I=A[P];A[P]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var R=this._hash.words,k=h.words,O=v.words,V=u.words,N=c.words,L=f.words,G=d.words,W,U,Z,F,q,$,K,re,ce,pe;$=W=R[0],K=U=R[1],re=Z=R[2],ce=F=R[3],pe=q=R[4];for(var de,D=0;D<80;D+=1)de=W+A[M+V[D]]|0,D<16?de+=m(U,Z,F)+k[0]:D<32?de+=x(U,Z,F)+k[1]:D<48?de+=_(U,Z,F)+k[2]:D<64?de+=b(U,Z,F)+k[3]:de+=w(U,Z,F)+k[4],de=de|0,de=T(de,L[D]),de=de+q|0,W=q,q=F,F=T(Z,10),Z=U,U=de,de=$+A[M+N[D]]|0,D<16?de+=w(K,re,ce)+O[0]:D<32?de+=b(K,re,ce)+O[1]:D<48?de+=_(K,re,ce)+O[2]:D<64?de+=x(K,re,ce)+O[3]:de+=m(K,re,ce)+O[4],de=de|0,de=T(de,G[D]),de=de+pe|0,$=pe,pe=ce,ce=T(re,10),re=K,K=de;de=R[1]+Z+ce|0,R[1]=R[2]+F+pe|0,R[2]=R[3]+q+$|0,R[3]=R[4]+W+K|0,R[4]=R[0]+U+re|0,R[0]=de},_doFinalize:function(){var A=this._data,M=A.words,D=this._nDataBytes*8,P=A.sigBytes*8;M[P>>>5]|=128<<24-P%32,M[(P+64>>>9<<4)+14]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,A.sigBytes=(M.length+1)*4,this._process();for(var I=this._hash,R=I.words,k=0;k<5;k++){var O=R[k];R[k]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return I},clone:function(){var A=s.clone.call(this);return A._hash=this._hash.clone(),A}});function m(A,M,D){return A^M^D}function x(A,M,D){return A&M|~A&D}function _(A,M,D){return(A|~M)^D}function b(A,M,D){return A&D|M&~D}function w(A,M,D){return A^(M|~D)}function T(A,M){return A<<M|A>>>32-M}i.RIPEMD160=s._createHelper(g),i.HmacRIPEMD160=s._createHmacHelper(g)})(),e.RIPEMD160})})(qx)),qx.exports}var Yx={exports:{}},JLe=Yx.exports,MX;function tL(){return MX||(MX=1,(function(r,t){(function(e,n){r.exports=n(kt())})(JLe,function(e){(function(){var n=e,i=n.lib,a=i.Base,o=n.enc,s=o.Utf8,l=n.algo;l.HMAC=a.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=s.parse(c));var f=u.blockSize,d=f*4;c.sigBytes>d&&(c=u.finalize(c)),c.clamp();for(var h=this._oKey=c.clone(),v=this._iKey=c.clone(),g=h.words,m=v.words,x=0;x<f;x++)g[x]^=1549556828,m[x]^=909522486;h.sigBytes=v.sigBytes=d,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,f=c.finalize(u);c.reset();var d=c.finalize(this._oKey.clone().concat(f));return d}})})()})})(Yx)),Yx.exports}var Xx={exports:{}},e5e=Xx.exports,DX;function t5e(){return DX||(DX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),eL(),tL())})(e5e,function(e){return(function(){var n=e,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,l=s.SHA256,u=s.HMAC,c=s.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var h=this.cfg,v=u.create(h.hasher,f),g=o.create(),m=o.create([1]),x=g.words,_=m.words,b=h.keySize,w=h.iterations;x.length<b;){var T=v.update(d).finalize(m);v.reset();for(var A=T.words,M=A.length,D=T,P=1;P<w;P++){D=v.finalize(D),v.reset();for(var I=D.words,R=0;R<M;R++)A[R]^=I[R]}g.concat(T),_[0]++}return g.sigBytes=b*4,g}});n.PBKDF2=function(f,d,h){return c.create(h).compute(f,d)}})(),e.PBKDF2})})(Xx)),Xx.exports}var $x={exports:{}},r5e=$x.exports,EX;function Pu(){return EX||(EX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),sie(),tL())})(r5e,function(e){return(function(){var n=e,i=n.lib,a=i.Base,o=i.WordArray,s=n.algo,l=s.MD5,u=s.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,f){for(var d,h=this.cfg,v=h.hasher.create(),g=o.create(),m=g.words,x=h.keySize,_=h.iterations;m.length<x;){d&&v.update(d),d=v.update(c).finalize(f),v.reset();for(var b=1;b<_;b++)d=v.finalize(d),v.reset();g.concat(d)}return g.sigBytes=x*4,g}});n.EvpKDF=function(c,f,d){return u.create(d).compute(c,f)}})(),e.EvpKDF})})($x)),$x.exports}var jx={exports:{}},n5e=jx.exports,IX;function yn(){return IX||(IX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),Pu())})(n5e,function(e){e.lib.Cipher||(function(n){var i=e,a=i.lib,o=a.Base,s=a.WordArray,l=a.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,f=i.algo,d=f.EvpKDF,h=a.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(I,R){return this.create(this._ENC_XFORM_MODE,I,R)},createDecryptor:function(I,R){return this.create(this._DEC_XFORM_MODE,I,R)},init:function(I,R,k){this.cfg=this.cfg.extend(k),this._xformMode=I,this._key=R,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(I){return this._append(I),this._process()},finalize:function(I){I&&this._append(I);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function I(R){return typeof R=="string"?P:A}return function(R){return{encrypt:function(k,O,V){return I(O).encrypt(R,k,O,V)},decrypt:function(k,O,V){return I(O).decrypt(R,k,O,V)}}}})()});a.StreamCipher=h.extend({_doFinalize:function(){var I=this._process(!0);return I},blockSize:1});var v=i.mode={},g=a.BlockCipherMode=o.extend({createEncryptor:function(I,R){return this.Encryptor.create(I,R)},createDecryptor:function(I,R){return this.Decryptor.create(I,R)},init:function(I,R){this._cipher=I,this._iv=R}}),m=v.CBC=(function(){var I=g.extend();I.Encryptor=I.extend({processBlock:function(k,O){var V=this._cipher,N=V.blockSize;R.call(this,k,O,N),V.encryptBlock(k,O),this._prevBlock=k.slice(O,O+N)}}),I.Decryptor=I.extend({processBlock:function(k,O){var V=this._cipher,N=V.blockSize,L=k.slice(O,O+N);V.decryptBlock(k,O),R.call(this,k,O,N),this._prevBlock=L}});function R(k,O,V){var N,L=this._iv;L?(N=L,this._iv=n):N=this._prevBlock;for(var G=0;G<V;G++)k[O+G]^=N[G]}return I})(),x=i.pad={},_=x.Pkcs7={pad:function(I,R){for(var k=R*4,O=k-I.sigBytes%k,V=O<<24|O<<16|O<<8|O,N=[],L=0;L<O;L+=4)N.push(V);var G=s.create(N,O);I.concat(G)},unpad:function(I){var R=I.words[I.sigBytes-1>>>2]&255;I.sigBytes-=R}};a.BlockCipher=h.extend({cfg:h.cfg.extend({mode:m,padding:_}),reset:function(){var I;h.reset.call(this);var R=this.cfg,k=R.iv,O=R.mode;this._xformMode==this._ENC_XFORM_MODE?I=O.createEncryptor:(I=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==I?this._mode.init(this,k&&k.words):(this._mode=I.call(O,this,k&&k.words),this._mode.__creator=I)},_doProcessBlock:function(I,R){this._mode.processBlock(I,R)},_doFinalize:function(){var I,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),I=this._process(!0)):(I=this._process(!0),R.unpad(I)),I},blockSize:128/32});var b=a.CipherParams=o.extend({init:function(I){this.mixIn(I)},toString:function(I){return(I||this.formatter).stringify(this)}}),w=i.format={},T=w.OpenSSL={stringify:function(I){var R,k=I.ciphertext,O=I.salt;return O?R=s.create([1398893684,1701076831]).concat(O).concat(k):R=k,R.toString(c)},parse:function(I){var R,k=c.parse(I),O=k.words;return O[0]==1398893684&&O[1]==1701076831&&(R=s.create(O.slice(2,4)),O.splice(0,4),k.sigBytes-=16),b.create({ciphertext:k,salt:R})}},A=a.SerializableCipher=o.extend({cfg:o.extend({format:T}),encrypt:function(I,R,k,O){O=this.cfg.extend(O);var V=I.createEncryptor(k,O),N=V.finalize(R),L=V.cfg;return b.create({ciphertext:N,key:k,iv:L.iv,algorithm:I,mode:L.mode,padding:L.padding,blockSize:I.blockSize,formatter:O.format})},decrypt:function(I,R,k,O){O=this.cfg.extend(O),R=this._parse(R,O.format);var V=I.createDecryptor(k,O).finalize(R.ciphertext);return V},_parse:function(I,R){return typeof I=="string"?R.parse(I,this):I}}),M=i.kdf={},D=M.OpenSSL={execute:function(I,R,k,O,V){if(O||(O=s.random(64/8)),V)var N=d.create({keySize:R+k,hasher:V}).compute(I,O);else var N=d.create({keySize:R+k}).compute(I,O);var L=s.create(N.words.slice(R),k*4);return N.sigBytes=R*4,b.create({key:N,iv:L,salt:O})}},P=a.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:D}),encrypt:function(I,R,k,O){O=this.cfg.extend(O);var V=O.kdf.execute(k,I.keySize,I.ivSize,O.salt,O.hasher);O.iv=V.iv;var N=A.encrypt.call(this,I,R,V.key,O);return N.mixIn(V),N},decrypt:function(I,R,k,O){O=this.cfg.extend(O),R=this._parse(R,O.format);var V=O.kdf.execute(k,I.keySize,I.ivSize,R.salt,O.hasher);O.iv=V.iv;var N=A.decrypt.call(this,I,R,V.key,O);return N}})})()})})(jx)),jx.exports}var Zx={exports:{}},i5e=Zx.exports,RX;function a5e(){return RX||(RX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(i5e,function(e){return e.mode.CFB=(function(){var n=e.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize;i.call(this,a,o,l,s),this._prevBlock=a.slice(o,o+l)}}),n.Decryptor=n.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,u=a.slice(o,o+l);i.call(this,a,o,l,s),this._prevBlock=u}});function i(a,o,s,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var f=0;f<s;f++)a[o+f]^=u[f]}return n})(),e.mode.CFB})})(Zx)),Zx.exports}var Kx={exports:{}},o5e=Kx.exports,PX;function s5e(){return PX||(PX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(o5e,function(e){return e.mode.CTR=(function(){var n=e.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var f=c.slice(0);s.encryptBlock(f,0),c[l-1]=c[l-1]+1|0;for(var d=0;d<l;d++)a[o+d]^=f[d]}});return n.Decryptor=i,n})(),e.mode.CTR})})(Kx)),Kx.exports}var Qx={exports:{}},l5e=Qx.exports,OX;function u5e(){return OX||(OX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(l5e,function(e){return e.mode.CTRGladman=(function(){var n=e.lib.BlockCipherMode.extend();function i(s){if((s>>24&255)===255){var l=s>>16&255,u=s>>8&255,c=s&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,s=0,s+=l<<16,s+=u<<8,s+=c}else s+=1<<24;return s}function a(s){return(s[0]=i(s[0]))===0&&(s[1]=i(s[1])),s}var o=n.Encryptor=n.extend({processBlock:function(s,l){var u=this._cipher,c=u.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),a(d);var h=d.slice(0);u.encryptBlock(h,0);for(var v=0;v<c;v++)s[l+v]^=h[v]}});return n.Decryptor=o,n})(),e.mode.CTRGladman})})(Qx)),Qx.exports}var Jx={exports:{}},c5e=Jx.exports,BX;function f5e(){return BX||(BX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(c5e,function(e){return e.mode.OFB=(function(){var n=e.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,o){var s=this._cipher,l=s.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),s.encryptBlock(c,0);for(var f=0;f<l;f++)a[o+f]^=c[f]}});return n.Decryptor=i,n})(),e.mode.OFB})})(Jx)),Jx.exports}var e_={exports:{}},h5e=e_.exports,kX;function d5e(){return kX||(kX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(h5e,function(e){return e.mode.ECB=(function(){var n=e.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n})(),e.mode.ECB})})(e_)),e_.exports}var t_={exports:{}},v5e=t_.exports,LX;function p5e(){return LX||(LX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(v5e,function(e){return e.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,o=i*4,s=o-a%o,l=a+s-1;n.clamp(),n.words[l>>>2]|=s<<24-l%4*8,n.sigBytes+=s},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},e.pad.Ansix923})})(t_)),t_.exports}var r_={exports:{}},g5e=r_.exports,NX;function y5e(){return NX||(NX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(g5e,function(e){return e.pad.Iso10126={pad:function(n,i){var a=i*4,o=a-n.sigBytes%a;n.concat(e.lib.WordArray.random(o-1)).concat(e.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},e.pad.Iso10126})})(r_)),r_.exports}var n_={exports:{}},m5e=n_.exports,VX;function x5e(){return VX||(VX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(m5e,function(e){return e.pad.Iso97971={pad:function(n,i){n.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(n,i)},unpad:function(n){e.pad.ZeroPadding.unpad(n),n.sigBytes--}},e.pad.Iso97971})})(n_)),n_.exports}var i_={exports:{}},_5e=i_.exports,zX;function b5e(){return zX||(zX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(_5e,function(e){return e.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},e.pad.ZeroPadding})})(i_)),i_.exports}var a_={exports:{}},S5e=a_.exports,FX;function w5e(){return FX||(FX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(S5e,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})})(a_)),a_.exports}var o_={exports:{}},C5e=o_.exports,HX;function T5e(){return HX||(HX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),yn())})(C5e,function(e){return(function(n){var i=e,a=i.lib,o=a.CipherParams,s=i.enc,l=s.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var f=l.parse(c);return o.create({ciphertext:f})}}})(),e.format.Hex})})(o_)),o_.exports}var s_={exports:{}},A5e=s_.exports,GX;function M5e(){return GX||(GX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),Pf(),Of(),Pu(),yn())})(A5e,function(e){return(function(){var n=e,i=n.lib,a=i.BlockCipher,o=n.algo,s=[],l=[],u=[],c=[],f=[],d=[],h=[],v=[],g=[],m=[];(function(){for(var b=[],w=0;w<256;w++)w<128?b[w]=w<<1:b[w]=w<<1^283;for(var T=0,A=0,w=0;w<256;w++){var M=A^A<<1^A<<2^A<<3^A<<4;M=M>>>8^M&255^99,s[T]=M,l[M]=T;var D=b[T],P=b[D],I=b[P],R=b[M]*257^M*16843008;u[T]=R<<24|R>>>8,c[T]=R<<16|R>>>16,f[T]=R<<8|R>>>24,d[T]=R;var R=I*16843009^P*65537^D*257^T*16843008;h[M]=R<<24|R>>>8,v[M]=R<<16|R>>>16,g[M]=R<<8|R>>>24,m[M]=R,T?(T=D^b[b[b[I^D]]],A^=b[b[A]]):T=A=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=a.extend({_doReset:function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,T=w.words,A=w.sigBytes/4,M=this._nRounds=A+6,D=(M+1)*4,P=this._keySchedule=[],I=0;I<D;I++)I<A?P[I]=T[I]:(b=P[I-1],I%A?A>6&&I%A==4&&(b=s[b>>>24]<<24|s[b>>>16&255]<<16|s[b>>>8&255]<<8|s[b&255]):(b=b<<8|b>>>24,b=s[b>>>24]<<24|s[b>>>16&255]<<16|s[b>>>8&255]<<8|s[b&255],b^=x[I/A|0]<<24),P[I]=P[I-A]^b);for(var R=this._invKeySchedule=[],k=0;k<D;k++){var I=D-k;if(k%4)var b=P[I];else var b=P[I-4];k<4||I<=4?R[k]=b:R[k]=h[s[b>>>24]]^v[s[b>>>16&255]]^g[s[b>>>8&255]]^m[s[b&255]]}}},encryptBlock:function(b,w){this._doCryptBlock(b,w,this._keySchedule,u,c,f,d,s)},decryptBlock:function(b,w){var T=b[w+1];b[w+1]=b[w+3],b[w+3]=T,this._doCryptBlock(b,w,this._invKeySchedule,h,v,g,m,l);var T=b[w+1];b[w+1]=b[w+3],b[w+3]=T},_doCryptBlock:function(b,w,T,A,M,D,P,I){for(var R=this._nRounds,k=b[w]^T[0],O=b[w+1]^T[1],V=b[w+2]^T[2],N=b[w+3]^T[3],L=4,G=1;G<R;G++){var W=A[k>>>24]^M[O>>>16&255]^D[V>>>8&255]^P[N&255]^T[L++],U=A[O>>>24]^M[V>>>16&255]^D[N>>>8&255]^P[k&255]^T[L++],Z=A[V>>>24]^M[N>>>16&255]^D[k>>>8&255]^P[O&255]^T[L++],F=A[N>>>24]^M[k>>>16&255]^D[O>>>8&255]^P[V&255]^T[L++];k=W,O=U,V=Z,N=F}var W=(I[k>>>24]<<24|I[O>>>16&255]<<16|I[V>>>8&255]<<8|I[N&255])^T[L++],U=(I[O>>>24]<<24|I[V>>>16&255]<<16|I[N>>>8&255]<<8|I[k&255])^T[L++],Z=(I[V>>>24]<<24|I[N>>>16&255]<<16|I[k>>>8&255]<<8|I[O&255])^T[L++],F=(I[N>>>24]<<24|I[k>>>16&255]<<16|I[O>>>8&255]<<8|I[V&255])^T[L++];b[w]=W,b[w+1]=U,b[w+2]=Z,b[w+3]=F},keySize:256/32});n.AES=a._createHelper(_)})(),e.AES})})(s_)),s_.exports}var l_={exports:{}},D5e=l_.exports,WX;function E5e(){return WX||(WX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),Pf(),Of(),Pu(),yn())})(D5e,function(e){return(function(){var n=e,i=n.lib,a=i.WordArray,o=i.BlockCipher,s=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=o.extend({_doReset:function(){for(var x=this._key,_=x.words,b=[],w=0;w<56;w++){var T=l[w]-1;b[w]=_[T>>>5]>>>31-T%32&1}for(var A=this._subKeys=[],M=0;M<16;M++){for(var D=A[M]=[],P=c[M],w=0;w<24;w++)D[w/6|0]|=b[(u[w]-1+P)%28]<<31-w%6,D[4+(w/6|0)]|=b[28+(u[w+24]-1+P)%28]<<31-w%6;D[0]=D[0]<<1|D[0]>>>31;for(var w=1;w<7;w++)D[w]=D[w]>>>(w-1)*4+3;D[7]=D[7]<<5|D[7]>>>27}for(var I=this._invSubKeys=[],w=0;w<16;w++)I[w]=A[15-w]},encryptBlock:function(x,_){this._doCryptBlock(x,_,this._subKeys)},decryptBlock:function(x,_){this._doCryptBlock(x,_,this._invSubKeys)},_doCryptBlock:function(x,_,b){this._lBlock=x[_],this._rBlock=x[_+1],v.call(this,4,252645135),v.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),v.call(this,1,1431655765);for(var w=0;w<16;w++){for(var T=b[w],A=this._lBlock,M=this._rBlock,D=0,P=0;P<8;P++)D|=f[P][((M^T[P])&d[P])>>>0];this._lBlock=M,this._rBlock=A^D}var I=this._lBlock;this._lBlock=this._rBlock,this._rBlock=I,v.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),x[_]=this._lBlock,x[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(x,_){var b=(this._lBlock>>>x^this._rBlock)&_;this._rBlock^=b,this._lBlock^=b<<x}function g(x,_){var b=(this._rBlock>>>x^this._lBlock)&_;this._lBlock^=b,this._rBlock^=b<<x}n.DES=o._createHelper(h);var m=s.TripleDES=o.extend({_doReset:function(){var x=this._key,_=x.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=_.slice(0,2),w=_.length<4?_.slice(0,2):_.slice(2,4),T=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=h.createEncryptor(a.create(b)),this._des2=h.createEncryptor(a.create(w)),this._des3=h.createEncryptor(a.create(T))},encryptBlock:function(x,_){this._des1.encryptBlock(x,_),this._des2.decryptBlock(x,_),this._des3.encryptBlock(x,_)},decryptBlock:function(x,_){this._des3.decryptBlock(x,_),this._des2.encryptBlock(x,_),this._des1.decryptBlock(x,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)})(),e.TripleDES})})(l_)),l_.exports}var u_={exports:{}},I5e=u_.exports,UX;function R5e(){return UX||(UX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),Pf(),Of(),Pu(),yn())})(I5e,function(e){return(function(){var n=e,i=n.lib,a=i.StreamCipher,o=n.algo,s=o.RC4=a.extend({_doReset:function(){for(var c=this._key,f=c.words,d=c.sigBytes,h=this._S=[],v=0;v<256;v++)h[v]=v;for(var v=0,g=0;v<256;v++){var m=v%d,x=f[m>>>2]>>>24-m%4*8&255;g=(g+h[v]+x)%256;var _=h[v];h[v]=h[g],h[g]=_}this._i=this._j=0},_doProcessBlock:function(c,f){c[f]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,f=this._i,d=this._j,h=0,v=0;v<4;v++){f=(f+1)%256,d=(d+c[f])%256;var g=c[f];c[f]=c[d],c[d]=g,h|=c[(c[f]+c[d])%256]<<24-v*8}return this._i=f,this._j=d,h}n.RC4=a._createHelper(s);var u=o.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});n.RC4Drop=a._createHelper(u)})(),e.RC4})})(u_)),u_.exports}var c_={exports:{}},P5e=c_.exports,qX;function O5e(){return qX||(qX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),Pf(),Of(),Pu(),yn())})(P5e,function(e){return(function(){var n=e,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],l=[],u=[],c=o.Rabbit=a.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,v=0;v<4;v++)d[v]=(d[v]<<8|d[v]>>>24)&16711935|(d[v]<<24|d[v]>>>8)&4278255360;var g=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)f.call(this);for(var v=0;v<8;v++)m[v]^=g[v+4&7];if(h){var x=h.words,_=x[0],b=x[1],w=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,T=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,A=w>>>16|T&4294901760,M=T<<16|w&65535;m[0]^=w,m[1]^=A,m[2]^=T,m[3]^=M,m[4]^=w,m[5]^=A,m[6]^=T,m[7]^=M;for(var v=0;v<4;v++)f.call(this)}},_doProcessBlock:function(d,h){var v=this._X;f.call(this),s[0]=v[0]^v[5]>>>16^v[3]<<16,s[1]=v[2]^v[7]>>>16^v[5]<<16,s[2]=v[4]^v[1]>>>16^v[7]<<16,s[3]=v[6]^v[3]>>>16^v[1]<<16;for(var g=0;g<4;g++)s[g]=(s[g]<<8|s[g]>>>24)&16711935|(s[g]<<24|s[g]>>>8)&4278255360,d[h+g]^=s[g]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,v=0;v<8;v++)l[v]=h[v];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var v=0;v<8;v++){var g=d[v]+h[v],m=g&65535,x=g>>>16,_=((m*m>>>17)+m*x>>>15)+x*x,b=((g&4294901760)*g|0)+((g&65535)*g|0);u[v]=_^b}d[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,d[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,d[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,d[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,d[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,d[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,d[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,d[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=a._createHelper(c)})(),e.Rabbit})})(c_)),c_.exports}var f_={exports:{}},B5e=f_.exports,YX;function k5e(){return YX||(YX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),Pf(),Of(),Pu(),yn())})(B5e,function(e){return(function(){var n=e,i=n.lib,a=i.StreamCipher,o=n.algo,s=[],l=[],u=[],c=o.RabbitLegacy=a.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,v=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],g=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var m=0;m<4;m++)f.call(this);for(var m=0;m<8;m++)g[m]^=v[m+4&7];if(h){var x=h.words,_=x[0],b=x[1],w=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,T=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,A=w>>>16|T&4294901760,M=T<<16|w&65535;g[0]^=w,g[1]^=A,g[2]^=T,g[3]^=M,g[4]^=w,g[5]^=A,g[6]^=T,g[7]^=M;for(var m=0;m<4;m++)f.call(this)}},_doProcessBlock:function(d,h){var v=this._X;f.call(this),s[0]=v[0]^v[5]>>>16^v[3]<<16,s[1]=v[2]^v[7]>>>16^v[5]<<16,s[2]=v[4]^v[1]>>>16^v[7]<<16,s[3]=v[6]^v[3]>>>16^v[1]<<16;for(var g=0;g<4;g++)s[g]=(s[g]<<8|s[g]>>>24)&16711935|(s[g]<<24|s[g]>>>8)&4278255360,d[h+g]^=s[g]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,v=0;v<8;v++)l[v]=h[v];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<l[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<l[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<l[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<l[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<l[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<l[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<l[6]>>>0?1:0)|0,this._b=h[7]>>>0<l[7]>>>0?1:0;for(var v=0;v<8;v++){var g=d[v]+h[v],m=g&65535,x=g>>>16,_=((m*m>>>17)+m*x>>>15)+x*x,b=((g&4294901760)*g|0)+((g&65535)*g|0);u[v]=_^b}d[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,d[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,d[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,d[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,d[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,d[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,d[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,d[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=a._createHelper(c)})(),e.RabbitLegacy})})(f_)),f_.exports}var h_={exports:{}},L5e=h_.exports,XX;function N5e(){return XX||(XX=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),Pf(),Of(),Pu(),yn())})(L5e,function(e){return(function(){var n=e,i=n.lib,a=i.BlockCipher,o=n.algo;const s=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function f(m,x){let _=x>>24&255,b=x>>16&255,w=x>>8&255,T=x&255,A=m.sbox[0][_]+m.sbox[1][b];return A=A^m.sbox[2][w],A=A+m.sbox[3][T],A}function d(m,x,_){let b=x,w=_,T;for(let A=0;A<s;++A)b=b^m.pbox[A],w=f(m,b)^w,T=b,b=w,w=T;return T=b,b=w,w=T,w=w^m.pbox[s],b=b^m.pbox[s+1],{left:b,right:w}}function h(m,x,_){let b=x,w=_,T;for(let A=s+1;A>1;--A)b=b^m.pbox[A],w=f(m,b)^w,T=b,b=w,w=T;return T=b,b=w,w=T,w=w^m.pbox[1],b=b^m.pbox[0],{left:b,right:w}}function v(m,x,_){for(let M=0;M<4;M++){m.sbox[M]=[];for(let D=0;D<256;D++)m.sbox[M][D]=u[M][D]}let b=0;for(let M=0;M<s+2;M++)m.pbox[M]=l[M]^x[b],b++,b>=_&&(b=0);let w=0,T=0,A=0;for(let M=0;M<s+2;M+=2)A=d(m,w,T),w=A.left,T=A.right,m.pbox[M]=w,m.pbox[M+1]=T;for(let M=0;M<4;M++)for(let D=0;D<256;D+=2)A=d(m,w,T),w=A.left,T=A.right,m.sbox[M][D]=w,m.sbox[M][D+1]=T;return!0}var g=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,x=m.words,_=m.sigBytes/4;v(c,x,_)}},encryptBlock:function(m,x){var _=d(c,m[x],m[x+1]);m[x]=_.left,m[x+1]=_.right},decryptBlock:function(m,x){var _=h(c,m[x],m[x+1]);m[x]=_.left,m[x+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(g)})(),e.Blowfish})})(h_)),h_.exports}var V5e=Rx.exports,$X;function z5e(){return $X||($X=1,(function(r,t){(function(e,n,i){r.exports=n(kt(),US(),kLe(),NLe(),Pf(),FLe(),Of(),sie(),eL(),qLe(),lie(),$Le(),ZLe(),QLe(),tL(),t5e(),Pu(),yn(),a5e(),s5e(),u5e(),f5e(),d5e(),p5e(),y5e(),x5e(),b5e(),w5e(),T5e(),M5e(),E5e(),R5e(),O5e(),k5e(),N5e())})(V5e,function(e){return e})})(Rx)),Rx.exports}var F5e=z5e();const jX=MO(F5e);const H5e=4,ZX=0,KX=1,G5e=2;function nv(r){let t=r.length;for(;--t>=0;)r[t]=0}const W5e=0,uie=1,U5e=2,q5e=3,Y5e=258,rL=29,vy=256,Dg=vy+1+rL,pd=30,nL=19,cie=2*Dg+1,Xc=15,RI=16,X5e=7,iL=256,fie=16,hie=17,die=18,gO=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),d_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$5e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),vie=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j5e=512,Ns=new Array((Dg+2)*2);nv(Ns);const q0=new Array(pd*2);nv(q0);const Eg=new Array(j5e);nv(Eg);const Ig=new Array(Y5e-q5e+1);nv(Ig);const aL=new Array(rL);nv(aL);const Db=new Array(pd);nv(Db);function PI(r,t,e,n,i){this.static_tree=r,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=i,this.has_stree=r&&r.length}let pie,gie,yie;function OI(r,t){this.dyn_tree=r,this.max_code=0,this.stat_desc=t}const mie=r=>r<256?Eg[r]:Eg[256+(r>>>7)],Rg=(r,t)=>{r.pending_buf[r.pending++]=t&255,r.pending_buf[r.pending++]=t>>>8&255},pi=(r,t,e)=>{r.bi_valid>RI-e?(r.bi_buf|=t<<r.bi_valid&65535,Rg(r,r.bi_buf),r.bi_buf=t>>RI-r.bi_valid,r.bi_valid+=e-RI):(r.bi_buf|=t<<r.bi_valid&65535,r.bi_valid+=e)},Eo=(r,t,e)=>{pi(r,e[t*2],e[t*2+1])},xie=(r,t)=>{let e=0;do e|=r&1,r>>>=1,e<<=1;while(--t>0);return e>>>1},Z5e=r=>{r.bi_valid===16?(Rg(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},K5e=(r,t)=>{const e=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,c,f,d,h,v,g=0;for(d=0;d<=Xc;d++)r.bl_count[d]=0;for(e[r.heap[r.heap_max]*2+1]=0,u=r.heap_max+1;u<cie;u++)c=r.heap[u],d=e[e[c*2+1]*2+1]+1,d>l&&(d=l,g++),e[c*2+1]=d,!(c>n)&&(r.bl_count[d]++,h=0,c>=s&&(h=o[c-s]),v=e[c*2],r.opt_len+=v*(d+h),a&&(r.static_len+=v*(i[c*2+1]+h)));if(g!==0){do{for(d=l-1;r.bl_count[d]===0;)d--;r.bl_count[d]--,r.bl_count[d+1]+=2,r.bl_count[l]--,g-=2}while(g>0);for(d=l;d!==0;d--)for(c=r.bl_count[d];c!==0;)f=r.heap[--u],!(f>n)&&(e[f*2+1]!==d&&(r.opt_len+=(d-e[f*2+1])*e[f*2],e[f*2+1]=d),c--)}},_ie=(r,t,e)=>{const n=new Array(Xc+1);let i=0,a,o;for(a=1;a<=Xc;a++)i=i+e[a-1]<<1,n[a]=i;for(o=0;o<=t;o++){let s=r[o*2+1];s!==0&&(r[o*2]=xie(n[s]++,s))}},Q5e=()=>{let r,t,e,n,i;const a=new Array(Xc+1);for(e=0,n=0;n<rL-1;n++)for(aL[n]=e,r=0;r<1<<gO[n];r++)Ig[e++]=n;for(Ig[e-1]=n,i=0,n=0;n<16;n++)for(Db[n]=i,r=0;r<1<<d_[n];r++)Eg[i++]=n;for(i>>=7;n<pd;n++)for(Db[n]=i<<7,r=0;r<1<<d_[n]-7;r++)Eg[256+i++]=n;for(t=0;t<=Xc;t++)a[t]=0;for(r=0;r<=143;)Ns[r*2+1]=8,r++,a[8]++;for(;r<=255;)Ns[r*2+1]=9,r++,a[9]++;for(;r<=279;)Ns[r*2+1]=7,r++,a[7]++;for(;r<=287;)Ns[r*2+1]=8,r++,a[8]++;for(_ie(Ns,Dg+1,a),r=0;r<pd;r++)q0[r*2+1]=5,q0[r*2]=xie(r,5);pie=new PI(Ns,gO,vy+1,Dg,Xc),gie=new PI(q0,d_,0,pd,Xc),yie=new PI(new Array(0),$5e,0,nL,X5e)},bie=r=>{let t;for(t=0;t<Dg;t++)r.dyn_ltree[t*2]=0;for(t=0;t<pd;t++)r.dyn_dtree[t*2]=0;for(t=0;t<nL;t++)r.bl_tree[t*2]=0;r.dyn_ltree[iL*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},Sie=r=>{r.bi_valid>8?Rg(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},QX=(r,t,e,n)=>{const i=t*2,a=e*2;return r[i]<r[a]||r[i]===r[a]&&n[t]<=n[e]},BI=(r,t,e)=>{const n=r.heap[e];let i=e<<1;for(;i<=r.heap_len&&(i<r.heap_len&&QX(t,r.heap[i+1],r.heap[i],r.depth)&&i++,!QX(t,n,r.heap[i],r.depth));)r.heap[e]=r.heap[i],e=i,i<<=1;r.heap[e]=n},JX=(r,t,e)=>{let n,i,a=0,o,s;if(r.sym_next!==0)do n=r.pending_buf[r.sym_buf+a++]&255,n+=(r.pending_buf[r.sym_buf+a++]&255)<<8,i=r.pending_buf[r.sym_buf+a++],n===0?Eo(r,i,t):(o=Ig[i],Eo(r,o+vy+1,t),s=gO[o],s!==0&&(i-=aL[o],pi(r,i,s)),n--,o=mie(n),Eo(r,o,e),s=d_[o],s!==0&&(n-=Db[o],pi(r,n,s)));while(a<r.sym_next);Eo(r,iL,t)},yO=(r,t)=>{const e=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,s,l=-1,u;for(r.heap_len=0,r.heap_max=cie,o=0;o<a;o++)e[o*2]!==0?(r.heap[++r.heap_len]=l=o,r.depth[o]=0):e[o*2+1]=0;for(;r.heap_len<2;)u=r.heap[++r.heap_len]=l<2?++l:0,e[u*2]=1,r.depth[u]=0,r.opt_len--,i&&(r.static_len-=n[u*2+1]);for(t.max_code=l,o=r.heap_len>>1;o>=1;o--)BI(r,e,o);u=a;do o=r.heap[1],r.heap[1]=r.heap[r.heap_len--],BI(r,e,1),s=r.heap[1],r.heap[--r.heap_max]=o,r.heap[--r.heap_max]=s,e[u*2]=e[o*2]+e[s*2],r.depth[u]=(r.depth[o]>=r.depth[s]?r.depth[o]:r.depth[s])+1,e[o*2+1]=e[s*2+1]=u,r.heap[1]=u++,BI(r,e,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],K5e(r,t),_ie(e,l,r.bl_count)},e$=(r,t,e)=>{let n,i=-1,a,o=t[1],s=0,l=7,u=4;for(o===0&&(l=138,u=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)a=o,o=t[(n+1)*2+1],!(++s<l&&a===o)&&(s<u?r.bl_tree[a*2]+=s:a!==0?(a!==i&&r.bl_tree[a*2]++,r.bl_tree[fie*2]++):s<=10?r.bl_tree[hie*2]++:r.bl_tree[die*2]++,s=0,i=a,o===0?(l=138,u=3):a===o?(l=6,u=3):(l=7,u=4))},t$=(r,t,e)=>{let n,i=-1,a,o=t[1],s=0,l=7,u=4;for(o===0&&(l=138,u=3),n=0;n<=e;n++)if(a=o,o=t[(n+1)*2+1],!(++s<l&&a===o)){if(s<u)do Eo(r,a,r.bl_tree);while(--s!==0);else a!==0?(a!==i&&(Eo(r,a,r.bl_tree),s--),Eo(r,fie,r.bl_tree),pi(r,s-3,2)):s<=10?(Eo(r,hie,r.bl_tree),pi(r,s-3,3)):(Eo(r,die,r.bl_tree),pi(r,s-11,7));s=0,i=a,o===0?(l=138,u=3):a===o?(l=6,u=3):(l=7,u=4)}},J5e=r=>{let t;for(e$(r,r.dyn_ltree,r.l_desc.max_code),e$(r,r.dyn_dtree,r.d_desc.max_code),yO(r,r.bl_desc),t=nL-1;t>=3&&r.bl_tree[vie[t]*2+1]===0;t--);return r.opt_len+=3*(t+1)+5+5+4,t},e4e=(r,t,e,n)=>{let i;for(pi(r,t-257,5),pi(r,e-1,5),pi(r,n-4,4),i=0;i<n;i++)pi(r,r.bl_tree[vie[i]*2+1],3);t$(r,r.dyn_ltree,t-1),t$(r,r.dyn_dtree,e-1)},t4e=r=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&r.dyn_ltree[e*2]!==0)return ZX;if(r.dyn_ltree[18]!==0||r.dyn_ltree[20]!==0||r.dyn_ltree[26]!==0)return KX;for(e=32;e<vy;e++)if(r.dyn_ltree[e*2]!==0)return KX;return ZX};let r$=!1;const r4e=r=>{r$||(Q5e(),r$=!0),r.l_desc=new OI(r.dyn_ltree,pie),r.d_desc=new OI(r.dyn_dtree,gie),r.bl_desc=new OI(r.bl_tree,yie),r.bi_buf=0,r.bi_valid=0,bie(r)},wie=(r,t,e,n)=>{pi(r,(W5e<<1)+(n?1:0),3),Sie(r),Rg(r,e),Rg(r,~e),e&&r.pending_buf.set(r.window.subarray(t,t+e),r.pending),r.pending+=e},n4e=r=>{pi(r,uie<<1,3),Eo(r,iL,Ns),Z5e(r)},i4e=(r,t,e,n)=>{let i,a,o=0;r.level>0?(r.strm.data_type===G5e&&(r.strm.data_type=t4e(r)),yO(r,r.l_desc),yO(r,r.d_desc),o=J5e(r),i=r.opt_len+3+7>>>3,a=r.static_len+3+7>>>3,a<=i&&(i=a)):i=a=e+5,e+4<=i&&t!==-1?wie(r,t,e,n):r.strategy===H5e||a===i?(pi(r,(uie<<1)+(n?1:0),3),JX(r,Ns,q0)):(pi(r,(U5e<<1)+(n?1:0),3),e4e(r,r.l_desc.max_code+1,r.d_desc.max_code+1,o+1),JX(r,r.dyn_ltree,r.dyn_dtree)),bie(r),n&&Sie(r)},a4e=(r,t,e)=>(r.pending_buf[r.sym_buf+r.sym_next++]=t,r.pending_buf[r.sym_buf+r.sym_next++]=t>>8,r.pending_buf[r.sym_buf+r.sym_next++]=e,t===0?r.dyn_ltree[e*2]++:(r.matches++,t--,r.dyn_ltree[(Ig[e]+vy+1)*2]++,r.dyn_dtree[mie(t)*2]++),r.sym_next===r.sym_end);var o4e=r4e,s4e=wie,l4e=i4e,u4e=a4e,c4e=n4e,f4e={_tr_init:o4e,_tr_stored_block:s4e,_tr_flush_block:l4e,_tr_tally:u4e,_tr_align:c4e};const h4e=(r,t,e,n)=>{let i=r&65535|0,a=r>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var Pg=h4e;const d4e=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},v4e=new Uint32Array(d4e()),p4e=(r,t,e,n)=>{const i=v4e,a=n+e;r^=-1;for(let o=n;o<a;o++)r=r>>>8^i[(r^t[o])&255];return r^-1};var cn=p4e,gf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},py={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:g4e,_tr_stored_block:mO,_tr_flush_block:y4e,_tr_tally:pu,_tr_align:m4e}=f4e,{Z_NO_FLUSH:gu,Z_PARTIAL_FLUSH:x4e,Z_FULL_FLUSH:_4e,Z_FINISH:ya,Z_BLOCK:n$,Z_OK:Cn,Z_STREAM_END:i$,Z_STREAM_ERROR:Vo,Z_DATA_ERROR:b4e,Z_BUF_ERROR:kI,Z_DEFAULT_COMPRESSION:S4e,Z_FILTERED:w4e,Z_HUFFMAN_ONLY:J1,Z_RLE:C4e,Z_FIXED:T4e,Z_DEFAULT_STRATEGY:A4e,Z_UNKNOWN:M4e,Z_DEFLATED:qS}=py,D4e=9,E4e=15,I4e=8,R4e=29,P4e=256,xO=P4e+1+R4e,O4e=30,B4e=19,k4e=2*xO+1,L4e=15,Ot=3,nu=258,zo=nu+Ot+1,N4e=32,Od=42,oL=57,_O=69,bO=73,SO=91,wO=103,$c=113,w0=666,jn=1,iv=2,yf=3,av=4,V4e=3,jc=(r,t)=>(r.msg=gf[t],t),a$=r=>r*2-(r>4?9:0),jl=r=>{let t=r.length;for(;--t>=0;)r[t]=0},z4e=r=>{let t,e,n,i=r.w_size;t=r.hash_size,n=t;do e=r.head[--n],r.head[n]=e>=i?e-i:0;while(--t);t=i,n=t;do e=r.prev[--n],r.prev[n]=e>=i?e-i:0;while(--t)};let F4e=(r,t,e)=>(t<<r.hash_shift^e)&r.hash_mask,yu=F4e;const Oi=r=>{const t=r.state;let e=t.pending;e>r.avail_out&&(e=r.avail_out),e!==0&&(r.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),r.next_out),r.next_out+=e,t.pending_out+=e,r.total_out+=e,r.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Gi=(r,t)=>{y4e(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,t),r.block_start=r.strstart,Oi(r.strm)},Gt=(r,t)=>{r.pending_buf[r.pending++]=t},i0=(r,t)=>{r.pending_buf[r.pending++]=t>>>8&255,r.pending_buf[r.pending++]=t&255},CO=(r,t,e,n)=>{let i=r.avail_in;return i>n&&(i=n),i===0?0:(r.avail_in-=i,t.set(r.input.subarray(r.next_in,r.next_in+i),e),r.state.wrap===1?r.adler=Pg(r.adler,t,i,e):r.state.wrap===2&&(r.adler=cn(r.adler,t,i,e)),r.next_in+=i,r.total_in+=i,i)},Cie=(r,t)=>{let e=r.max_chain_length,n=r.strstart,i,a,o=r.prev_length,s=r.nice_match;const l=r.strstart>r.w_size-zo?r.strstart-(r.w_size-zo):0,u=r.window,c=r.w_mask,f=r.prev,d=r.strstart+nu;let h=u[n+o-1],v=u[n+o];r.prev_length>=r.good_match&&(e>>=2),s>r.lookahead&&(s=r.lookahead);do if(i=t,!(u[i+o]!==v||u[i+o-1]!==h||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<d);if(a=nu-(d-n),n=d-nu,a>o){if(r.match_start=t,o=a,a>=s)break;h=u[n+o-1],v=u[n+o]}}while((t=f[t&c])>l&&--e!==0);return o<=r.lookahead?o:r.lookahead},Bd=r=>{const t=r.w_size;let e,n,i;do{if(n=r.window_size-r.lookahead-r.strstart,r.strstart>=t+(t-zo)&&(r.window.set(r.window.subarray(t,t+t-n),0),r.match_start-=t,r.strstart-=t,r.block_start-=t,r.insert>r.strstart&&(r.insert=r.strstart),z4e(r),n+=t),r.strm.avail_in===0)break;if(e=CO(r.strm,r.window,r.strstart+r.lookahead,n),r.lookahead+=e,r.lookahead+r.insert>=Ot)for(i=r.strstart-r.insert,r.ins_h=r.window[i],r.ins_h=yu(r,r.ins_h,r.window[i+1]);r.insert&&(r.ins_h=yu(r,r.ins_h,r.window[i+Ot-1]),r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,r.insert--,!(r.lookahead+r.insert<Ot)););}while(r.lookahead<zo&&r.strm.avail_in!==0)},Tie=(r,t)=>{let e=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,n,i,a,o=0,s=r.strm.avail_in;do{if(n=65535,a=r.bi_valid+42>>3,r.strm.avail_out<a||(a=r.strm.avail_out-a,i=r.strstart-r.block_start,n>i+r.strm.avail_in&&(n=i+r.strm.avail_in),n>a&&(n=a),n<e&&(n===0&&t!==ya||t===gu||n!==i+r.strm.avail_in)))break;o=t===ya&&n===i+r.strm.avail_in?1:0,mO(r,0,0,o),r.pending_buf[r.pending-4]=n,r.pending_buf[r.pending-3]=n>>8,r.pending_buf[r.pending-2]=~n,r.pending_buf[r.pending-1]=~n>>8,Oi(r.strm),i&&(i>n&&(i=n),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+i),r.strm.next_out),r.strm.next_out+=i,r.strm.avail_out-=i,r.strm.total_out+=i,r.block_start+=i,n-=i),n&&(CO(r.strm,r.strm.output,r.strm.next_out,n),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n)}while(o===0);return s-=r.strm.avail_in,s&&(s>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=s&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-s,r.strm.next_in),r.strstart),r.strstart+=s,r.insert+=s>r.w_size-r.insert?r.w_size-r.insert:s),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),o?av:t!==gu&&t!==ya&&r.strm.avail_in===0&&r.strstart===r.block_start?iv:(a=r.window_size-r.strstart,r.strm.avail_in>a&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,a+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),a>r.strm.avail_in&&(a=r.strm.avail_in),a&&(CO(r.strm,r.window,r.strstart,a),r.strstart+=a,r.insert+=a>r.w_size-r.insert?r.w_size-r.insert:a),r.high_water<r.strstart&&(r.high_water=r.strstart),a=r.bi_valid+42>>3,a=r.pending_buf_size-a>65535?65535:r.pending_buf_size-a,e=a>r.w_size?r.w_size:a,i=r.strstart-r.block_start,(i>=e||(i||t===ya)&&t!==gu&&r.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,o=t===ya&&r.strm.avail_in===0&&n===i?1:0,mO(r,r.block_start,n,o),r.block_start+=n,Oi(r.strm)),o?yf:jn)},LI=(r,t)=>{let e,n;for(;;){if(r.lookahead<zo){if(Bd(r),r.lookahead<zo&&t===gu)return jn;if(r.lookahead===0)break}if(e=0,r.lookahead>=Ot&&(r.ins_h=yu(r,r.ins_h,r.window[r.strstart+Ot-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),e!==0&&r.strstart-e<=r.w_size-zo&&(r.match_length=Cie(r,e)),r.match_length>=Ot)if(n=pu(r,r.strstart-r.match_start,r.match_length-Ot),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=Ot){r.match_length--;do r.strstart++,r.ins_h=yu(r,r.ins_h,r.window[r.strstart+Ot-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=yu(r,r.ins_h,r.window[r.strstart+1]);else n=pu(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(n&&(Gi(r,!1),r.strm.avail_out===0))return jn}return r.insert=r.strstart<Ot-1?r.strstart:Ot-1,t===ya?(Gi(r,!0),r.strm.avail_out===0?yf:av):r.sym_next&&(Gi(r,!1),r.strm.avail_out===0)?jn:iv},$h=(r,t)=>{let e,n,i;for(;;){if(r.lookahead<zo){if(Bd(r),r.lookahead<zo&&t===gu)return jn;if(r.lookahead===0)break}if(e=0,r.lookahead>=Ot&&(r.ins_h=yu(r,r.ins_h,r.window[r.strstart+Ot-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=Ot-1,e!==0&&r.prev_length<r.max_lazy_match&&r.strstart-e<=r.w_size-zo&&(r.match_length=Cie(r,e),r.match_length<=5&&(r.strategy===w4e||r.match_length===Ot&&r.strstart-r.match_start>4096)&&(r.match_length=Ot-1)),r.prev_length>=Ot&&r.match_length<=r.prev_length){i=r.strstart+r.lookahead-Ot,n=pu(r,r.strstart-1-r.prev_match,r.prev_length-Ot),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=i&&(r.ins_h=yu(r,r.ins_h,r.window[r.strstart+Ot-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=Ot-1,r.strstart++,n&&(Gi(r,!1),r.strm.avail_out===0))return jn}else if(r.match_available){if(n=pu(r,0,r.window[r.strstart-1]),n&&Gi(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return jn}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(n=pu(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<Ot-1?r.strstart:Ot-1,t===ya?(Gi(r,!0),r.strm.avail_out===0?yf:av):r.sym_next&&(Gi(r,!1),r.strm.avail_out===0)?jn:iv},H4e=(r,t)=>{let e,n,i,a;const o=r.window;for(;;){if(r.lookahead<=nu){if(Bd(r),r.lookahead<=nu&&t===gu)return jn;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=Ot&&r.strstart>0&&(i=r.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=r.strstart+nu;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);r.match_length=nu-(a-i),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=Ot?(e=pu(r,1,r.match_length-Ot),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(e=pu(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),e&&(Gi(r,!1),r.strm.avail_out===0))return jn}return r.insert=0,t===ya?(Gi(r,!0),r.strm.avail_out===0?yf:av):r.sym_next&&(Gi(r,!1),r.strm.avail_out===0)?jn:iv},G4e=(r,t)=>{let e;for(;;){if(r.lookahead===0&&(Bd(r),r.lookahead===0)){if(t===gu)return jn;break}if(r.match_length=0,e=pu(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,e&&(Gi(r,!1),r.strm.avail_out===0))return jn}return r.insert=0,t===ya?(Gi(r,!0),r.strm.avail_out===0?yf:av):r.sym_next&&(Gi(r,!1),r.strm.avail_out===0)?jn:iv};function bo(r,t,e,n,i){this.good_length=r,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=i}const C0=[new bo(0,0,0,0,Tie),new bo(4,4,8,4,LI),new bo(4,5,16,8,LI),new bo(4,6,32,32,LI),new bo(4,4,16,16,$h),new bo(8,16,32,32,$h),new bo(8,16,128,128,$h),new bo(8,32,128,256,$h),new bo(32,128,258,1024,$h),new bo(32,258,258,4096,$h)],W4e=r=>{r.window_size=2*r.w_size,jl(r.head),r.max_lazy_match=C0[r.level].max_lazy,r.good_match=C0[r.level].good_length,r.nice_match=C0[r.level].nice_length,r.max_chain_length=C0[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=Ot-1,r.match_available=0,r.ins_h=0};function U4e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=qS,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(k4e*2),this.dyn_dtree=new Uint16Array((2*O4e+1)*2),this.bl_tree=new Uint16Array((2*B4e+1)*2),jl(this.dyn_ltree),jl(this.dyn_dtree),jl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(L4e+1),this.heap=new Uint16Array(2*xO+1),jl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*xO+1),jl(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const gy=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.status!==Od&&t.status!==oL&&t.status!==_O&&t.status!==bO&&t.status!==SO&&t.status!==wO&&t.status!==$c&&t.status!==w0?1:0},Aie=r=>{if(gy(r))return jc(r,Vo);r.total_in=r.total_out=0,r.data_type=M4e;const t=r.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?oL:t.wrap?Od:$c,r.adler=t.wrap===2?0:1,t.last_flush=-2,g4e(t),Cn},Mie=r=>{const t=Aie(r);return t===Cn&&W4e(r.state),t},q4e=(r,t)=>gy(r)||r.state.wrap!==2?Vo:(r.state.gzhead=t,Cn),Die=(r,t,e,n,i,a)=>{if(!r)return Vo;let o=1;if(t===S4e&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>D4e||e!==qS||n<8||n>15||t<0||t>9||a<0||a>T4e||n===8&&o!==1)return jc(r,Vo);n===8&&(n=9);const s=new U4e;return r.state=s,s.strm=r,s.status=Od,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Ot-1)/Ot),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=a,s.method=e,Mie(r)},Y4e=(r,t)=>Die(r,t,qS,E4e,I4e,A4e),X4e=(r,t)=>{if(gy(r)||t>n$||t<0)return r?jc(r,Vo):Vo;const e=r.state;if(!r.output||r.avail_in!==0&&!r.input||e.status===w0&&t!==ya)return jc(r,r.avail_out===0?kI:Vo);const n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(Oi(r),r.avail_out===0)return e.last_flush=-1,Cn}else if(r.avail_in===0&&a$(t)<=a$(n)&&t!==ya)return jc(r,kI);if(e.status===w0&&r.avail_in!==0)return jc(r,kI);if(e.status===Od&&e.wrap===0&&(e.status=$c),e.status===Od){let i=qS+(e.w_bits-8<<4)<<8,a=-1;if(e.strategy>=J1||e.level<2?a=0:e.level<6?a=1:e.level===6?a=2:a=3,i|=a<<6,e.strstart!==0&&(i|=N4e),i+=31-i%31,i0(e,i),e.strstart!==0&&(i0(e,r.adler>>>16),i0(e,r.adler&65535)),r.adler=1,e.status=$c,Oi(r),e.pending!==0)return e.last_flush=-1,Cn}if(e.status===oL){if(r.adler=0,Gt(e,31),Gt(e,139),Gt(e,8),e.gzhead)Gt(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Gt(e,e.gzhead.time&255),Gt(e,e.gzhead.time>>8&255),Gt(e,e.gzhead.time>>16&255),Gt(e,e.gzhead.time>>24&255),Gt(e,e.level===9?2:e.strategy>=J1||e.level<2?4:0),Gt(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(Gt(e,e.gzhead.extra.length&255),Gt(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(r.adler=cn(r.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=_O;else if(Gt(e,0),Gt(e,0),Gt(e,0),Gt(e,0),Gt(e,0),Gt(e,e.level===9?2:e.strategy>=J1||e.level<2?4:0),Gt(e,V4e),e.status=$c,Oi(r),e.pending!==0)return e.last_flush=-1,Cn}if(e.status===_O){if(e.gzhead.extra){let i=e.pending,a=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+a>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>i&&(r.adler=cn(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex+=s,Oi(r),e.pending!==0)return e.last_flush=-1,Cn;i=0,a-=s}let o=new Uint8Array(e.gzhead.extra);e.pending_buf.set(o.subarray(e.gzindex,e.gzindex+a),e.pending),e.pending+=a,e.gzhead.hcrc&&e.pending>i&&(r.adler=cn(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=bO}if(e.status===bO){if(e.gzhead.name){let i=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=cn(r.adler,e.pending_buf,e.pending-i,i)),Oi(r),e.pending!==0)return e.last_flush=-1,Cn;i=0}e.gzindex<e.gzhead.name.length?a=e.gzhead.name.charCodeAt(e.gzindex++)&255:a=0,Gt(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=cn(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=SO}if(e.status===SO){if(e.gzhead.comment){let i=e.pending,a;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=cn(r.adler,e.pending_buf,e.pending-i,i)),Oi(r),e.pending!==0)return e.last_flush=-1,Cn;i=0}e.gzindex<e.gzhead.comment.length?a=e.gzhead.comment.charCodeAt(e.gzindex++)&255:a=0,Gt(e,a)}while(a!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=cn(r.adler,e.pending_buf,e.pending-i,i))}e.status=wO}if(e.status===wO){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(Oi(r),e.pending!==0))return e.last_flush=-1,Cn;Gt(e,r.adler&255),Gt(e,r.adler>>8&255),r.adler=0}if(e.status=$c,Oi(r),e.pending!==0)return e.last_flush=-1,Cn}if(r.avail_in!==0||e.lookahead!==0||t!==gu&&e.status!==w0){let i=e.level===0?Tie(e,t):e.strategy===J1?G4e(e,t):e.strategy===C4e?H4e(e,t):C0[e.level].func(e,t);if((i===yf||i===av)&&(e.status=w0),i===jn||i===yf)return r.avail_out===0&&(e.last_flush=-1),Cn;if(i===iv&&(t===x4e?m4e(e):t!==n$&&(mO(e,0,0,!1),t===_4e&&(jl(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),Oi(r),r.avail_out===0))return e.last_flush=-1,Cn}return t!==ya?Cn:e.wrap<=0?i$:(e.wrap===2?(Gt(e,r.adler&255),Gt(e,r.adler>>8&255),Gt(e,r.adler>>16&255),Gt(e,r.adler>>24&255),Gt(e,r.total_in&255),Gt(e,r.total_in>>8&255),Gt(e,r.total_in>>16&255),Gt(e,r.total_in>>24&255)):(i0(e,r.adler>>>16),i0(e,r.adler&65535)),Oi(r),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Cn:i$)},$4e=r=>{if(gy(r))return Vo;const t=r.state.status;return r.state=null,t===$c?jc(r,b4e):Cn},j4e=(r,t)=>{let e=t.length;if(gy(r))return Vo;const n=r.state,i=n.wrap;if(i===2||i===1&&n.status!==Od||n.lookahead)return Vo;if(i===1&&(r.adler=Pg(r.adler,t,e,0)),n.wrap=0,e>=n.w_size){i===0&&(jl(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(e-n.w_size,e),0),t=l,e=n.w_size}const a=r.avail_in,o=r.next_in,s=r.input;for(r.avail_in=e,r.next_in=0,r.input=t,Bd(n);n.lookahead>=Ot;){let l=n.strstart,u=n.lookahead-(Ot-1);do n.ins_h=yu(n,n.ins_h,n.window[l+Ot-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--u);n.strstart=l,n.lookahead=Ot-1,Bd(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ot-1,n.match_available=0,r.next_in=o,r.input=s,r.avail_in=a,n.wrap=i,Cn};var Z4e=Y4e,K4e=Die,Q4e=Mie,J4e=Aie,e8e=q4e,t8e=X4e,r8e=$4e,n8e=j4e,i8e="pako deflate (from Nodeca project)",Y0={deflateInit:Z4e,deflateInit2:K4e,deflateReset:Q4e,deflateResetKeep:J4e,deflateSetHeader:e8e,deflate:t8e,deflateEnd:r8e,deflateSetDictionary:n8e,deflateInfo:i8e};const a8e=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var o8e=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)a8e(e,n)&&(r[n]=e[n])}}return r},s8e=r=>{let t=0;for(let n=0,i=r.length;n<i;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,i=0,a=r.length;n<a;n++){let o=r[n];e.set(o,i),i+=o.length}return e},YS={assign:o8e,flattenChunks:s8e};let Eie=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Eie=!1}const Og=new Uint8Array(256);for(let r=0;r<256;r++)Og[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Og[254]=Og[254]=1;var l8e=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,i,a,o=r.length,s=0;for(i=0;i<o;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<o&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<o&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?t[a++]=e:e<2048?(t[a++]=192|e>>>6,t[a++]=128|e&63):e<65536?(t[a++]=224|e>>>12,t[a++]=128|e>>>6&63,t[a++]=128|e&63):(t[a++]=240|e>>>18,t[a++]=128|e>>>12&63,t[a++]=128|e>>>6&63,t[a++]=128|e&63);return t};const u8e=(r,t)=>{if(t<65534&&r.subarray&&Eie)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e};var c8e=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,i;const a=new Array(e*2);for(i=0,n=0;n<e;){let o=r[n++];if(o<128){a[i++]=o;continue}let s=Og[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<e;)o=o<<6|r[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return u8e(a,i)},f8e=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+Og[r[e]]>t?e:t},Bg={string2buf:l8e,buf2string:c8e,utf8border:f8e};function h8e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Iie=h8e;const Rie=Object.prototype.toString,{Z_NO_FLUSH:d8e,Z_SYNC_FLUSH:v8e,Z_FULL_FLUSH:p8e,Z_FINISH:g8e,Z_OK:Eb,Z_STREAM_END:y8e,Z_DEFAULT_COMPRESSION:m8e,Z_DEFAULT_STRATEGY:x8e,Z_DEFLATED:_8e}=py;function yy(r){this.options=YS.assign({level:m8e,method:_8e,chunkSize:16384,windowBits:15,memLevel:8,strategy:x8e},r||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Iie,this.strm.avail_out=0;let e=Y0.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==Eb)throw new Error(gf[e]);if(t.header&&Y0.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Bg.string2buf(t.dictionary):Rie.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=Y0.deflateSetDictionary(this.strm,n),e!==Eb)throw new Error(gf[e]);this._dict_set=!0}}yy.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?g8e:d8e,typeof r=="string"?e.input=Bg.string2buf(r):Rie.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(a===v8e||a===p8e)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(i=Y0.deflate(e,a),i===y8e)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=Y0.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Eb;if(e.avail_out===0){this.onData(e.output);continue}if(a>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};yy.prototype.onData=function(r){this.chunks.push(r)};yy.prototype.onEnd=function(r){r===Eb&&(this.result=YS.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function sL(r,t){const e=new yy(t);if(e.push(r,!0),e.err)throw e.msg||gf[e.err];return e.result}function b8e(r,t){return t=t||{},t.raw=!0,sL(r,t)}function S8e(r,t){return t=t||{},t.gzip=!0,sL(r,t)}var w8e=yy,C8e=sL,T8e=b8e,A8e=S8e,M8e={Deflate:w8e,deflate:C8e,deflateRaw:T8e,gzip:A8e};const ex=16209,D8e=16191;var E8e=function(t,e){let n,i,a,o,s,l,u,c,f,d,h,v,g,m,x,_,b,w,T,A,M,D,P,I;const R=t.state;n=t.next_in,P=t.input,i=n+(t.avail_in-5),a=t.next_out,I=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),l=R.dmax,u=R.wsize,c=R.whave,f=R.wnext,d=R.window,h=R.hold,v=R.bits,g=R.lencode,m=R.distcode,x=(1<<R.lenbits)-1,_=(1<<R.distbits)-1;e:do{v<15&&(h+=P[n++]<<v,v+=8,h+=P[n++]<<v,v+=8),b=g[h&x];t:for(;;){if(w=b>>>24,h>>>=w,v-=w,w=b>>>16&255,w===0)I[a++]=b&65535;else if(w&16){T=b&65535,w&=15,w&&(v<w&&(h+=P[n++]<<v,v+=8),T+=h&(1<<w)-1,h>>>=w,v-=w),v<15&&(h+=P[n++]<<v,v+=8,h+=P[n++]<<v,v+=8),b=m[h&_];r:for(;;){if(w=b>>>24,h>>>=w,v-=w,w=b>>>16&255,w&16){if(A=b&65535,w&=15,v<w&&(h+=P[n++]<<v,v+=8,v<w&&(h+=P[n++]<<v,v+=8)),A+=h&(1<<w)-1,A>l){t.msg="invalid distance too far back",R.mode=ex;break e}if(h>>>=w,v-=w,w=a-o,A>w){if(w=A-w,w>c&&R.sane){t.msg="invalid distance too far back",R.mode=ex;break e}if(M=0,D=d,f===0){if(M+=u-w,w<T){T-=w;do I[a++]=d[M++];while(--w);M=a-A,D=I}}else if(f<w){if(M+=u+f-w,w-=f,w<T){T-=w;do I[a++]=d[M++];while(--w);if(M=0,f<T){w=f,T-=w;do I[a++]=d[M++];while(--w);M=a-A,D=I}}}else if(M+=f-w,w<T){T-=w;do I[a++]=d[M++];while(--w);M=a-A,D=I}for(;T>2;)I[a++]=D[M++],I[a++]=D[M++],I[a++]=D[M++],T-=3;T&&(I[a++]=D[M++],T>1&&(I[a++]=D[M++]))}else{M=a-A;do I[a++]=I[M++],I[a++]=I[M++],I[a++]=I[M++],T-=3;while(T>2);T&&(I[a++]=I[M++],T>1&&(I[a++]=I[M++]))}}else if((w&64)===0){b=m[(b&65535)+(h&(1<<w)-1)];continue r}else{t.msg="invalid distance code",R.mode=ex;break e}break}}else if((w&64)===0){b=g[(b&65535)+(h&(1<<w)-1)];continue t}else if(w&32){R.mode=D8e;break e}else{t.msg="invalid literal/length code",R.mode=ex;break e}break}}while(n<i&&a<s);T=v>>3,n-=T,v-=T<<3,h&=(1<<v)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<s?257+(s-a):257-(a-s),R.hold=h,R.bits=v};const jh=15,o$=852,s$=592,l$=0,NI=1,u$=2,I8e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),R8e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),P8e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),O8e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),B8e=(r,t,e,n,i,a,o,s)=>{const l=s.bits;let u=0,c=0,f=0,d=0,h=0,v=0,g=0,m=0,x=0,_=0,b,w,T,A,M,D=null,P;const I=new Uint16Array(jh+1),R=new Uint16Array(jh+1);let k=null,O,V,N;for(u=0;u<=jh;u++)I[u]=0;for(c=0;c<n;c++)I[t[e+c]]++;for(h=l,d=jh;d>=1&&I[d]===0;d--);if(h>d&&(h=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<d&&I[f]===0;f++);for(h<f&&(h=f),m=1,u=1;u<=jh;u++)if(m<<=1,m-=I[u],m<0)return-1;if(m>0&&(r===l$||d!==1))return-1;for(R[1]=0,u=1;u<jh;u++)R[u+1]=R[u]+I[u];for(c=0;c<n;c++)t[e+c]!==0&&(o[R[t[e+c]]++]=c);if(r===l$?(D=k=o,P=20):r===NI?(D=I8e,k=R8e,P=257):(D=P8e,k=O8e,P=0),_=0,c=0,u=f,M=a,v=h,g=0,T=-1,x=1<<h,A=x-1,r===NI&&x>o$||r===u$&&x>s$)return 1;for(;;){O=u-g,o[c]+1<P?(V=0,N=o[c]):o[c]>=P?(V=k[o[c]-P],N=D[o[c]-P]):(V=96,N=0),b=1<<u-g,w=1<<v,f=w;do w-=b,i[M+(_>>g)+w]=O<<24|V<<16|N|0;while(w!==0);for(b=1<<u-1;_&b;)b>>=1;if(b!==0?(_&=b-1,_+=b):_=0,c++,--I[u]===0){if(u===d)break;u=t[e+o[c]]}if(u>h&&(_&A)!==T){for(g===0&&(g=h),M+=f,v=u-g,m=1<<v;v+g<d&&(m-=I[v+g],!(m<=0));)v++,m<<=1;if(x+=1<<v,r===NI&&x>o$||r===u$&&x>s$)return 1;T=_&A,i[T]=h<<24|v<<16|M-a|0}}return _!==0&&(i[M+_]=u-g<<24|64<<16|0),s.bits=h,0};var X0=B8e;const k8e=0,Pie=1,Oie=2,{Z_FINISH:c$,Z_BLOCK:L8e,Z_TREES:tx,Z_OK:mf,Z_STREAM_END:N8e,Z_NEED_DICT:V8e,Z_STREAM_ERROR:Aa,Z_DATA_ERROR:Bie,Z_MEM_ERROR:kie,Z_BUF_ERROR:z8e,Z_DEFLATED:f$}=py,XS=16180,h$=16181,d$=16182,v$=16183,p$=16184,g$=16185,y$=16186,m$=16187,x$=16188,_$=16189,Ib=16190,Ps=16191,VI=16192,b$=16193,zI=16194,S$=16195,w$=16196,C$=16197,T$=16198,rx=16199,nx=16200,A$=16201,M$=16202,D$=16203,E$=16204,I$=16205,FI=16206,R$=16207,P$=16208,dr=16209,Lie=16210,Nie=16211,F8e=852,H8e=592,G8e=15,W8e=G8e,O$=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function U8e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bf=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<XS||t.mode>Nie?1:0},Vie=r=>{if(Bf(r))return Aa;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=XS,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(F8e),t.distcode=t.distdyn=new Int32Array(H8e),t.sane=1,t.back=-1,mf},zie=r=>{if(Bf(r))return Aa;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,Vie(r)},Fie=(r,t)=>{let e;if(Bf(r))return Aa;const n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Aa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,zie(r))},Hie=(r,t)=>{if(!r)return Aa;const e=new U8e;r.state=e,e.strm=r,e.window=null,e.mode=XS;const n=Fie(r,t);return n!==mf&&(r.state=null),n},q8e=r=>Hie(r,W8e);let B$=!0,HI,GI;const Y8e=r=>{if(B$){HI=new Int32Array(512),GI=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(X0(Pie,r.lens,0,288,HI,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;X0(Oie,r.lens,0,32,GI,0,r.work,{bits:5}),B$=!1}r.lencode=HI,r.lenbits=9,r.distcode=GI,r.distbits=5},Gie=(r,t,e,n)=>{let i;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(e-n,e-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(e-n,e),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},X8e=(r,t)=>{let e,n,i,a,o,s,l,u,c,f,d,h,v,g,m=0,x,_,b,w,T,A,M,D;const P=new Uint8Array(4);let I,R;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bf(r)||!r.output||!r.input&&r.avail_in!==0)return Aa;e=r.state,e.mode===Ps&&(e.mode=VI),o=r.next_out,i=r.output,l=r.avail_out,a=r.next_in,n=r.input,s=r.avail_in,u=e.hold,c=e.bits,f=s,d=l,D=mf;e:for(;;)switch(e.mode){case XS:if(e.wrap===0){e.mode=VI;break}for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(e.wrap&2&&u===35615){e.wbits===0&&(e.wbits=15),e.check=0,P[0]=u&255,P[1]=u>>>8&255,e.check=cn(e.check,P,2,0),u=0,c=0,e.mode=h$;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",e.mode=dr;break}if((u&15)!==f$){r.msg="unknown compression method",e.mode=dr;break}if(u>>>=4,c-=4,M=(u&15)+8,e.wbits===0&&(e.wbits=M),M>15||M>e.wbits){r.msg="invalid window size",e.mode=dr;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=u&512?_$:Ps,u=0,c=0;break;case h$:for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(e.flags=u,(e.flags&255)!==f$){r.msg="unknown compression method",e.mode=dr;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=dr;break}e.head&&(e.head.text=u>>8&1),e.flags&512&&e.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,e.check=cn(e.check,P,2,0)),u=0,c=0,e.mode=d$;case d$:for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}e.head&&(e.head.time=u),e.flags&512&&e.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,e.check=cn(e.check,P,4,0)),u=0,c=0,e.mode=v$;case v$:for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}e.head&&(e.head.xflags=u&255,e.head.os=u>>8),e.flags&512&&e.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,e.check=cn(e.check,P,2,0)),u=0,c=0,e.mode=p$;case p$:if(e.flags&1024){for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}e.length=u,e.head&&(e.head.extra_len=u),e.flags&512&&e.wrap&4&&(P[0]=u&255,P[1]=u>>>8&255,e.check=cn(e.check,P,2,0)),u=0,c=0}else e.head&&(e.head.extra=null);e.mode=g$;case g$:if(e.flags&1024&&(h=e.length,h>s&&(h=s),h&&(e.head&&(M=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(a,a+h),M)),e.flags&512&&e.wrap&4&&(e.check=cn(e.check,n,h,a)),s-=h,a+=h,e.length-=h),e.length))break e;e.length=0,e.mode=y$;case y$:if(e.flags&2048){if(s===0)break e;h=0;do M=n[a+h++],e.head&&M&&e.length<65536&&(e.head.name+=String.fromCharCode(M));while(M&&h<s);if(e.flags&512&&e.wrap&4&&(e.check=cn(e.check,n,h,a)),s-=h,a+=h,M)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=m$;case m$:if(e.flags&4096){if(s===0)break e;h=0;do M=n[a+h++],e.head&&M&&e.length<65536&&(e.head.comment+=String.fromCharCode(M));while(M&&h<s);if(e.flags&512&&e.wrap&4&&(e.check=cn(e.check,n,h,a)),s-=h,a+=h,M)break e}else e.head&&(e.head.comment=null);e.mode=x$;case x$:if(e.flags&512){for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(e.wrap&4&&u!==(e.check&65535)){r.msg="header crc mismatch",e.mode=dr;break}u=0,c=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=Ps;break;case _$:for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.adler=e.check=O$(u),u=0,c=0,e.mode=Ib;case Ib:if(e.havedict===0)return r.next_out=o,r.avail_out=l,r.next_in=a,r.avail_in=s,e.hold=u,e.bits=c,V8e;r.adler=e.check=1,e.mode=Ps;case Ps:if(t===L8e||t===tx)break e;case VI:if(e.last){u>>>=c&7,c-=c&7,e.mode=FI;break}for(;c<3;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}switch(e.last=u&1,u>>>=1,c-=1,u&3){case 0:e.mode=b$;break;case 1:if(Y8e(e),e.mode=rx,t===tx){u>>>=2,c-=2;break e}break;case 2:e.mode=w$;break;case 3:r.msg="invalid block type",e.mode=dr}u>>>=2,c-=2;break;case b$:for(u>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",e.mode=dr;break}if(e.length=u&65535,u=0,c=0,e.mode=zI,t===tx)break e;case zI:e.mode=S$;case S$:if(h=e.length,h){if(h>s&&(h=s),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),o),s-=h,a+=h,l-=h,o+=h,e.length-=h;break}e.mode=Ps;break;case w$:for(;c<14;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(e.nlen=(u&31)+257,u>>>=5,c-=5,e.ndist=(u&31)+1,u>>>=5,c-=5,e.ncode=(u&15)+4,u>>>=4,c-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=dr;break}e.have=0,e.mode=C$;case C$:for(;e.have<e.ncode;){for(;c<3;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}e.lens[k[e.have++]]=u&7,u>>>=3,c-=3}for(;e.have<19;)e.lens[k[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,I={bits:e.lenbits},D=X0(k8e,e.lens,0,19,e.lencode,0,e.work,I),e.lenbits=I.bits,D){r.msg="invalid code lengths set",e.mode=dr;break}e.have=0,e.mode=T$;case T$:for(;e.have<e.nlen+e.ndist;){for(;m=e.lencode[u&(1<<e.lenbits)-1],x=m>>>24,_=m>>>16&255,b=m&65535,!(x<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(b<16)u>>>=x,c-=x,e.lens[e.have++]=b;else{if(b===16){for(R=x+2;c<R;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(u>>>=x,c-=x,e.have===0){r.msg="invalid bit length repeat",e.mode=dr;break}M=e.lens[e.have-1],h=3+(u&3),u>>>=2,c-=2}else if(b===17){for(R=x+3;c<R;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=x,c-=x,M=0,h=3+(u&7),u>>>=3,c-=3}else{for(R=x+7;c<R;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=x,c-=x,M=0,h=11+(u&127),u>>>=7,c-=7}if(e.have+h>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=dr;break}for(;h--;)e.lens[e.have++]=M}}if(e.mode===dr)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=dr;break}if(e.lenbits=9,I={bits:e.lenbits},D=X0(Pie,e.lens,0,e.nlen,e.lencode,0,e.work,I),e.lenbits=I.bits,D){r.msg="invalid literal/lengths set",e.mode=dr;break}if(e.distbits=6,e.distcode=e.distdyn,I={bits:e.distbits},D=X0(Oie,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,I),e.distbits=I.bits,D){r.msg="invalid distances set",e.mode=dr;break}if(e.mode=rx,t===tx)break e;case rx:e.mode=nx;case nx:if(s>=6&&l>=258){r.next_out=o,r.avail_out=l,r.next_in=a,r.avail_in=s,e.hold=u,e.bits=c,E8e(r,d),o=r.next_out,i=r.output,l=r.avail_out,a=r.next_in,n=r.input,s=r.avail_in,u=e.hold,c=e.bits,e.mode===Ps&&(e.back=-1);break}for(e.back=0;m=e.lencode[u&(1<<e.lenbits)-1],x=m>>>24,_=m>>>16&255,b=m&65535,!(x<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(_&&(_&240)===0){for(w=x,T=_,A=b;m=e.lencode[A+((u&(1<<w+T)-1)>>w)],x=m>>>24,_=m>>>16&255,b=m&65535,!(w+x<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=w,c-=w,e.back+=w}if(u>>>=x,c-=x,e.back+=x,e.length=b,_===0){e.mode=I$;break}if(_&32){e.back=-1,e.mode=Ps;break}if(_&64){r.msg="invalid literal/length code",e.mode=dr;break}e.extra=_&15,e.mode=A$;case A$:if(e.extra){for(R=e.extra;c<R;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,c-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=M$;case M$:for(;m=e.distcode[u&(1<<e.distbits)-1],x=m>>>24,_=m>>>16&255,b=m&65535,!(x<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if((_&240)===0){for(w=x,T=_,A=b;m=e.distcode[A+((u&(1<<w+T)-1)>>w)],x=m>>>24,_=m>>>16&255,b=m&65535,!(w+x<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=w,c-=w,e.back+=w}if(u>>>=x,c-=x,e.back+=x,_&64){r.msg="invalid distance code",e.mode=dr;break}e.offset=b,e.extra=_&15,e.mode=D$;case D$:if(e.extra){for(R=e.extra;c<R;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,c-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=dr;break}e.mode=E$;case E$:if(l===0)break e;if(h=d-l,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=dr;break}h>e.wnext?(h-=e.wnext,v=e.wsize-h):v=e.wnext-h,h>e.length&&(h=e.length),g=e.window}else g=i,v=o-e.offset,h=e.length;h>l&&(h=l),l-=h,e.length-=h;do i[o++]=g[v++];while(--h);e.length===0&&(e.mode=nx);break;case I$:if(l===0)break e;i[o++]=e.length,l--,e.mode=nx;break;case FI:if(e.wrap){for(;c<32;){if(s===0)break e;s--,u|=n[a++]<<c,c+=8}if(d-=l,r.total_out+=d,e.total+=d,e.wrap&4&&d&&(r.adler=e.check=e.flags?cn(e.check,i,d,o-d):Pg(e.check,i,d,o-d)),d=l,e.wrap&4&&(e.flags?u:O$(u))!==e.check){r.msg="incorrect data check",e.mode=dr;break}u=0,c=0}e.mode=R$;case R$:if(e.wrap&&e.flags){for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(e.wrap&4&&u!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=dr;break}u=0,c=0}e.mode=P$;case P$:D=N8e;break e;case dr:D=Bie;break e;case Lie:return kie;case Nie:default:return Aa}return r.next_out=o,r.avail_out=l,r.next_in=a,r.avail_in=s,e.hold=u,e.bits=c,(e.wsize||d!==r.avail_out&&e.mode<dr&&(e.mode<FI||t!==c$))&&Gie(r,r.output,r.next_out,d-r.avail_out),f-=r.avail_in,d-=r.avail_out,r.total_in+=f,r.total_out+=d,e.total+=d,e.wrap&4&&d&&(r.adler=e.check=e.flags?cn(e.check,i,d,r.next_out-d):Pg(e.check,i,d,r.next_out-d)),r.data_type=e.bits+(e.last?64:0)+(e.mode===Ps?128:0)+(e.mode===rx||e.mode===zI?256:0),(f===0&&d===0||t===c$)&&D===mf&&(D=z8e),D},$8e=r=>{if(Bf(r))return Aa;let t=r.state;return t.window&&(t.window=null),r.state=null,mf},j8e=(r,t)=>{if(Bf(r))return Aa;const e=r.state;return(e.wrap&2)===0?Aa:(e.head=t,t.done=!1,mf)},Z8e=(r,t)=>{const e=t.length;let n,i,a;return Bf(r)||(n=r.state,n.wrap!==0&&n.mode!==Ib)?Aa:n.mode===Ib&&(i=1,i=Pg(i,t,e,0),i!==n.check)?Bie:(a=Gie(r,t,e,e),a?(n.mode=Lie,kie):(n.havedict=1,mf))};var K8e=zie,Q8e=Fie,J8e=Vie,eNe=q8e,tNe=Hie,rNe=X8e,nNe=$8e,iNe=j8e,aNe=Z8e,oNe="pako inflate (from Nodeca project)",Vs={inflateReset:K8e,inflateReset2:Q8e,inflateResetKeep:J8e,inflateInit:eNe,inflateInit2:tNe,inflate:rNe,inflateEnd:nNe,inflateGetHeader:iNe,inflateSetDictionary:aNe,inflateInfo:oNe};function sNe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lNe=sNe;const Wie=Object.prototype.toString,{Z_NO_FLUSH:uNe,Z_FINISH:cNe,Z_OK:kg,Z_STREAM_END:WI,Z_NEED_DICT:UI,Z_STREAM_ERROR:fNe,Z_DATA_ERROR:k$,Z_MEM_ERROR:hNe}=py;function my(r){this.options=YS.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Iie,this.strm.avail_out=0;let e=Vs.inflateInit2(this.strm,t.windowBits);if(e!==kg)throw new Error(gf[e]);if(this.header=new lNe,Vs.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Bg.string2buf(t.dictionary):Wie.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Vs.inflateSetDictionary(this.strm,t.dictionary),e!==kg)))throw new Error(gf[e])}my.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?cNe:uNe,Wie.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),a=Vs.inflate(e,o),a===UI&&i&&(a=Vs.inflateSetDictionary(e,i),a===kg?a=Vs.inflate(e,o):a===k$&&(a=UI));e.avail_in>0&&a===WI&&e.state.wrap>0&&r[e.next_in]!==0;)Vs.inflateReset(e),a=Vs.inflate(e,o);switch(a){case fNe:case k$:case UI:case hNe:return this.onEnd(a),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||a===WI))if(this.options.to==="string"){let l=Bg.utf8border(e.output,e.next_out),u=e.next_out-l,c=Bg.buf2string(e.output,l);e.next_out=u,e.avail_out=n-u,u&&e.output.set(e.output.subarray(l,l+u),0),this.onData(c)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(a===kg&&s===0)){if(a===WI)return a=Vs.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};my.prototype.onData=function(r){this.chunks.push(r)};my.prototype.onEnd=function(r){r===kg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=YS.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function lL(r,t){const e=new my(t);if(e.push(r),e.err)throw e.msg||gf[e.err];return e.result}function dNe(r,t){return t=t||{},t.raw=!0,lL(r,t)}var vNe=my,pNe=lL,gNe=dNe,yNe=lL,mNe={Inflate:vNe,inflate:pNe,inflateRaw:gNe,ungzip:yNe};const{Deflate:xNe,deflate:_Ne,deflateRaw:bNe,gzip:SNe}=M8e,{Inflate:wNe,inflate:CNe,inflateRaw:TNe,ungzip:ANe}=mNe;var MNe=xNe,DNe=_Ne,ENe=bNe,INe=SNe,RNe=wNe,PNe=CNe,ONe=TNe,BNe=ANe,kNe=py,LNe={Deflate:MNe,deflate:DNe,deflateRaw:ENe,gzip:INe,Inflate:RNe,inflate:PNe,inflateRaw:ONe,ungzip:BNe,constants:kNe};const Uie={open:"open",high:"high",low:"low",close:"close",volume:"volume",hl2:"hl2",oc2:"oc2",hlc3:"hlc3",ohl3:"ohl3",ohlc4:"ohlc4"},NNe={"1m":"1m","5m":"5m","15m":"15m","30m":"30m","1h":"1h","4h":"4h","1d":"1d","1w":"1w","1M":"1M"},uL=new Set(["var","let","const","function","class","if","else","for","while","do","switch","case","default","break","continue","return","try","catch","finally","throw","new","delete","typeof","instanceof","this","super","extends","import","export","from","as","default","with","arguments","eval","implements","interface","package","private","protected","public","static","yield","async","await","true","false","null","undefined","window","global","globalThis","self"]),cL=new Set(["F","Formula","I","S","O","input","style","output","SOURCE","POSITION","LINESTYLE","SHAPE","CHART_TYPE","SIGNAL_TYPE","TIMEFRAME","MATH","COLORS","dataList","params","styles","console","i","SMA","EMA","RSI","MA","MACD","BOLL","KDJ","plot","name","desc","version","author","position"]),qie=new Set(["number","string","boolean","object","array","date","regexp","Math","Number","String","Boolean","Array","Object","Date","RegExp","Error","TypeError","ReferenceError","SyntaxError","RangeError","JSON","Promise","Symbol","Proxy","Reflect","data","result","value","index","length","size","count","item","element","node","event","target","source"]),fL=new Set(["open","high","low","close","volume","price","sma","ema","rsi","macd","boll","kdj","stoch","williams","cci","momentum","roc","atr","adx","obv","sar","buy","sell","long","short","signal","trend","support","resistance","breakout","crossover","crossunder","chart","candle","bar","line","area","histogram"]),TO=new Set([...uL,...cL,...qie,...fL]);class AO{static isKeyword(t){return TO.has(t.toLowerCase())}static isJSKeyword(t){return uL.has(t.toLowerCase())}static isScriptKeyword(t){return cL.has(t)}static isTechnicalKeyword(t){return fL.has(t.toLowerCase())}static validateVariableName(t){return!t||t.trim()===""?{isValid:!1,error:""}:(t=t.trim(),/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(t)?this.isJSKeyword(t)?{isValid:!1,error:`"${t}"  JavaScript `,suggestion:`: ${t}Value, my${t.charAt(0).toUpperCase()+t.slice(1)}, ${t}_`}:this.isScriptKeyword(t)?{isValid:!1,error:`"${t}" `,suggestion:`: ${t}Value, user${t.charAt(0).toUpperCase()+t.slice(1)}, ${t}_`}:this.isTechnicalKeyword(t)?{isValid:!0,error:`: "${t}" `,suggestion:`: ${t}Period, ${t}Value, custom${t.charAt(0).toUpperCase()+t.slice(1)}`}:{isValid:!0}:{isValid:!1,error:""})}static getAllKeywords(){return Array.from(TO)}static getSuggestions(t){const e=[];if(t){const n=t.trim(),i=n.charAt(0).toUpperCase()+n.slice(1);e.push(`${n}Value`,`${n}Param`,`${n}_`,`my${i}`,`user${i}`,`custom${i}`,`${n}Setting`,`${n}Config`)}return e.filter(n=>this.validateVariableName(n).isValid)}}Array.from(uL),Array.from(cL),Array.from(qie),Array.from(fL),Array.from(TO);class Lg{static parse(t,e,n){const i={info:{name:"",position:"main"},inputs:[],styles:[],httpCalls:[],script:t,main:"",errors:[]};try{i.info=this.parseMetadata(t),i.inputs=this.parseInputs(t,i.errors),i.styles=this.parseStyles(t,i.errors),e&&this.applyPresetValues(i.inputs,e),n&&this.applyPresetValues(i.styles,n),i.httpCalls=this.parseHttpCalls(t),i.main=this.generateExecutableCode(t,i,i.httpCalls)}catch(a){i.errors.push(`: ${a.message}`)}return i}static parseMetadata(t){const e={name:"",position:"vice",version:1},n=t.match(/\/\/\s*@name\s*=\s*(.+?)(?:\r?\n|$)/);n&&(e.name=n[1].trim());const i=t.match(/\/\/\s*@title\s*=\s*(.+?)(?:\r?\n|$)/);if(i&&(e.title=i[1].trim()),!e.name&&e.title?e.name=e.title:!e.title&&e.name&&(e.title=e.name),!e.name&&!e.title)throw new Error(" @name  @title ");const a=t.split(`
`);let o="",s=!1,l=!1;for(let d=0;d<a.length;d++){const h=a[d].trim(),v=h.match(/^\/\/\s*@desc\s*=\s*(.*)$/);if(v){s=!0,l=!0;const g=v[1];g&&(o=g+`
`);continue}if(s)if(h.startsWith("//")){if(h.match(/^\/\/\s*@\w+/)){s=!1;break}const g=h.replace(/^\/\/\s*/,"");o+=g+`
`}else{s=!1;break}}l&&o&&(e.desc=o.trim()),e.desc=(e.desc||"").trim(),e.desc&&(e.desc=e.desc.replace(/\n+/g,`
`));const u=t.match(/\/\/\s*@position\s*=\s*(.+)$/m);if(u){const d=u[1].trim();e.position=d==="main"||d==="vice"?d:"vice"}e.position!=="main"&&e.position!=="vice"&&(e.position="vice");const c=t.match(/\/\/\s*@version\s*=\s*(\d+)/);c&&(e.version=parseInt(c[1].trim()));const f=t.match(/\/\/\s*@author\s*=\s*(.+)$/m);return f&&(e.author=f[1].trim()),e.author=(e.author||"").trim(),e}static parseInputs(t,e){const n=[],i=/(\w+)\s*=\s*(input|I)\.(\w+)\s*\(\s*([^)]+)\s*\)/g;let a;for(;(a=i.exec(t))!==null;){const[,o,,s,l]=a,u=AO.validateVariableName(o);if(!u.isValid){e.push(`Input : ${u.error}`);continue}const c=this.parseDocumentInputParams(o,s,l);c&&n.push(c)}return n}static parseDocumentInputParams(t,e,n){try{const i=this.splitParams(n);if(i.length===0)return null;const a=e==="str"?"string":e,o=this.parseInputValueByType(i[0],a),s={key:t,type:a,defaultValue:o,value:o,title:t};for(let l=1;l<i.length;l++){const u=i[l].trim(),c=u.indexOf("=");if(c>0){const f=u.substring(0,c).trim(),d=u.substring(c+1).trim();f==="options"?s[f]=this.parseOptionsValue(d):s[f]=this.parseStringValue(d)}}return s}catch{return null}}static parseInputValueByType(t,e){switch(t=t.trim(),e){case"int":return parseInt(t)||0;case"float":return parseFloat(t)||0;case"string":return this.parseStringValue(t);case"bool":return t.toLowerCase()==="true";case"select":return this.parseStringValue(t);default:return t}}static parseOptionsValue(t){return t=t.trim(),t==="SOURCE"?Object.values(Uie):t.startsWith("[")&&t.endsWith("]")?t.slice(1,-1).split(",").map(n=>this.parseStringValue(n.trim())):t?[this.parseStringValue(t)]:[]}static parseHttpCalls(t){const e=[],n=/(?:const|var|let)?\s*(\w+)?\s*=\s*(H|http)\.(loadHistory|get|post)\s*\(\s*([^)]*)\s*\)/g;let i;for(;(i=n.exec(t))!==null;){const[,a,o,s,l]=i,u={key:a,type:s,value:{data:[],count:0},args:l?l.split(",").map(c=>this.parseParamValue(c.trim())):[]};e.push(u)}return e}static convertToReferenceForm(t,e,n,i){let a=t;return e.forEach(o=>{const s=new RegExp(`(\\b${o.key}\\s*=\\s*)I\\.\\w+\\([^)]*\\)`,"g");a=a.replace(s,`$1ctx.inputVal.${o.key}`)}),n.forEach(o=>{const s=new RegExp(`(\\b${o.key}\\s*=\\s*)(S|style)\\.\\w+\\([^)]*\\)`,"g");a=a.replace(s,`$1ctx.styleVal.${o.key}`)}),i.forEach(o=>{const s=new RegExp(`(\\b${o.key}\\s*=\\s*)(H|http)\\.\\w+\\([^)]*\\)`,"g");a=a.replace(s,`$1ctx.httpVal.${o.key}`)}),a}static parseStyles(t,e){const n=[],i=/(\w+)\s*=\s*(style|S)\.(\w+)\s*\(/g;let a;for(;(a=i.exec(t))!==null;){const[,o,,s]=a,l=AO.validateVariableName(o);if(!l.isValid){e.push(`Style : ${l.error}`);continue}const u=a.index+a[0].length,c=this.findClosingParenthesis(t,u),f=t.substring(u,c),d=this.splitParams(f),h={key:o,title:o,type:s,defaultValue:{},value:{},show:!0};for(const v of d)if(v.includes("=")){const[g,m]=v.split("=",2),x=g.trim(),_=m.trim();if(x==="title")h.title=this.parseStringValue(_);else if(x==="tip")h.tip=this.parseStringValue(_);else if(x==="show"){const b=_==="true";typeof h.defaultValue=="object"&&h.defaultValue!==null?h.defaultValue.show=b:h.defaultValue={show:b},typeof h.value=="object"&&h.value!==null?h.value.show=b:h.value={show:b}}else if(x==="min")h.min=parseFloat(_);else if(x==="max")h.max=parseFloat(_);else{const b=this.parseStyleValueByType(f,s);if(typeof b=="object"&&b!==null){const w=b.show!==void 0?b.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...b,show:w},h.value={...b,show:w}}else{const w=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:b,show:w},h.value={value:b,show:w}}}}else switch(s){case"line":const g=this.parseStyleValueByType(f,s);if(typeof g=="object"&&g!==null){const U=g.show!==void 0?g.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...g,show:U},h.value={...g,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:g,show:U},h.value={value:g,show:U}}break;case"color":const m=this.parseStyleValueByType(f,s);h.defaultValue=m,h.value=m;break;case"width":const x=this.parseStyleValueByType(f,s);h.defaultValue=x,h.value=x;break;case"size":const _=this.parseStyleValueByType(f,s);h.defaultValue=_,h.value=_;break;case"style":const b=this.parseStyleValueByType(f,s);h.defaultValue=b,h.value=b;break;case"full":const w=this.parseStyleValueByType(f,s);h.defaultValue=w,h.value=w;break;case"icon":const T=this.parseStyleValueByType(f,s);h.defaultValue=T,h.value=T;break;case"candle":const A=this.parseStyleValueByType(f,s);if(typeof A=="object"&&A!==null){const U=A.show!==void 0?A.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...A,show:U},h.value={...A,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:A,show:U},h.value={value:A,show:U}}break;case"label":{const U=this.parseStyleValueByType(f,s);if(typeof U=="object"&&U!==null){const Z=U.show!==void 0?U.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...U,show:Z},h.value={...U,show:Z}}else{const Z=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:U,show:Z},h.value={value:U,show:Z}}break}case"labelbg":const M=this.parseStyleValueByType(f,s);if(typeof M=="object"&&M!==null){const U=M.show!==void 0?M.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...M,show:U},h.value={...M,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:M,show:U},h.value={value:M,show:U}}break;case"shape":const D=this.parseStyleValueByType(f,s);if(typeof D=="object"&&D!==null){const U=D.show!==void 0?D.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...D,show:U},h.value={...D,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:D,show:U},h.value={value:D,show:U}}break;case"bar":const P=this.parseStyleValueByType(f,s);if(typeof P=="object"&&P!==null){const U=P.show!==void 0?P.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...P,show:U},h.value={...P,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:P,show:U},h.value={value:P,show:U}}break;case"area":const I=this.parseStyleValueByType(f,s);if(typeof I=="object"&&I!==null){const U=I.show!==void 0?I.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...I,show:U},h.value={...I,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:I,show:U},h.value={value:I,show:U}}break;case"circle":const R=this.parseStyleValueByType(f,s);if(typeof R=="object"&&R!==null){const U=R.show!==void 0?R.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...R,show:U},h.value={...R,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:R,show:U},h.value={value:R,show:U}}break;case"rect":const k=this.parseStyleValueByType(f,s);if(typeof k=="object"&&k!==null){const U=k.show!==void 0?k.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...k,show:U},h.value={...k,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:k,show:U},h.value={value:k,show:U}}break;case"srect":const O=this.parseStyleValueByType(f,s);if(typeof O=="object"&&O!==null){const U=O.show!==void 0?O.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...O,show:U},h.value={...O,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:O,show:U},h.value={value:O,show:U}}break;case"sarea":const V=this.parseStyleValueByType(f,s);if(typeof V=="object"&&V!==null){const U=V.show!==void 0?V.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...V,show:U},h.value={...V,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:V,show:U},h.value={value:V,show:U}}break;case"scircle":const N=this.parseStyleValueByType(f,s);if(typeof N=="object"&&N!==null){const U=N.show!==void 0?N.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...N,show:U},h.value={...N,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:N,show:U},h.value={value:N,show:U}}break;case"sshape":const L=this.parseStyleValueByType(f,s);if(typeof L=="object"&&L!==null){const U=L.show!==void 0?L.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...L,show:U},h.value={...L,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:L,show:U},h.value={value:L,show:U}}break;case"slabel":const G=this.parseStyleValueByType(f,s);if(typeof G=="object"&&G!==null){const U=G.show!==void 0?G.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...G,show:U},h.value={...G,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:G,show:U},h.value={value:G,show:U}}break;default:const W=this.parseStyleValueByType(v.trim(),s);if(typeof W=="object"&&W!==null){const U=W.show!==void 0?W.show:h.value?.show!==void 0?h.value.show:!0;h.defaultValue={...W,show:U},h.value={value:W,show:U}}else{const U=h.value?.show!==void 0?h.value.show:!0;h.defaultValue={value:W,show:U},h.value={value:W,show:U}}}n.push(h)}if(e.length>0)throw new Error(`:
${e.join(`
`)}`);return n}static parseStyleValueByType(t,e){switch(t=t.trim(),e){case"color":const n=this.splitParams(t);return n.length>=1?n[0].replace(/['"]/g,""):t.replace(/['"]/g,"");case"width":const i=this.splitParams(t);if(i.length>=1){const O=parseInt(i[0])||1;return Math.max(1,Math.min(O,10))}const a=parseInt(t)||1;return Math.max(1,Math.min(a,10));case"size":const o=this.splitParams(t);if(o.length>=1){const O=parseInt(o[0])||5;return Math.max(1,Math.min(O,20))}const s=parseInt(t)||5;return Math.max(1,Math.min(s,20));case"style":const l=this.splitParams(t);if(l.length>=1){const O=l[0].replace(/['"]/g,"").toLowerCase();return["solid","dashed","dotted"].includes(O)?O:"solid"}const u=t.replace(/['"]/g,"").toLowerCase();return["solid","dashed","dotted"].includes(u)?u:"solid";case"full":const c=this.splitParams(t);if(c.length>=1){const O=c[0].replace(/['"]/g,"").toLowerCase();return["fill","stroke"].includes(O)?O:"fill"}const f=t.replace(/['"]/g,"").toLowerCase();return["fill","stroke"].includes(f)?f:"fill";case"sarea":case"srect":case"scircle":const d=this.splitParams(t);if(d.length>=1){const O={color:null,border:null,size:1,style:"solid"},V=[];for(const N of d){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(this.isColor(G)&&!O.colorSet)O.color=G,O.colorSet=!0;else if(this.isNumber(L)&&!O.sizeSet){const W=parseInt(L),U=this.validateNumberRange(W,1,50,"");U.valid?(O.size=W,O.sizeSet=!0):V.push(U.error)}else if(N.startsWith("border=")){const W=N.substring(7).replace(/['"]/g,"");this.isColor(W)?O.border=W:V.push(`: ${W}`)}else if(N.startsWith("borcolor=")){const W=N.substring(9).replace(/['"]/g,"");this.isColor(W)?O.border=W:V.push(`: ${W}`)}else if(N.startsWith("horcolor=")){const W=N.substring(9).replace(/['"]/g,"");this.isColor(W)?O.border=W:V.push(`: ${W}`)}else if(["solid","dashed","dotted"].includes(L))O.style=L;else if(N==="true"||N==="false")O.show=N==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` ${e} : ${N}`)}}if(V.length>0)throw new Error(`${e} :
${V.join(`
`)}`);return delete O.colorSet,delete O.sizeSet,O}return{color:null,border:null,size:1,style:"solid",show:!0};case"sshape":const h=this.splitParams(t);if(h.length>=1){const O={icon:"circle",color:"",size:5,full:"fill"},V=[];for(const N of h){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(["circle","square","triangle","diamond","star","cross","x","check","flag","heart","arrowup","arrowdown","arrowleft","arrowright","triangleup","triangledown","triangleleft","triangleright","drawarrowup","drawarrowdown","drawarrowleft","drawarrowright"].includes(L)){const W={arrowup:"arrowUp",arrowdown:"arrowDown",arrowleft:"arrowLeft",arrowright:"arrowRight",triangleup:"triangleUp",triangledown:"triangleDown",triangleleft:"triangleLeft",triangleright:"triangleRight",drawarrowup:"drawArrowUp",drawarrowdown:"drawArrowDown",drawarrowleft:"drawArrowLeft",drawarrowright:"drawArrowRight"};O.icon=W[L]||L}else if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,1,20,"");U.valid?O.size=W:V.push(U.error)}else if(["fill","stroke"].includes(L))O.full=L;else if(N==="true"||N==="false")O.show=N==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` sshape : ${N}`)}}if(V.length>0)throw new Error(`sshape :
${V.join(`
`)}`);return O}return{icon:"circle",color:"",size:5,full:"fill",show:!0};case"shape":const v=this.splitParams(t);if(v.length>=1){const O={icon:"circle",color:"",size:5,full:"fill",position:"value",show:!0},V=[];for(let N=0;N<v.length;N++){const L=v[N],G=L.replace(/['"]/g,"").toLowerCase(),W=L.replace(/['"]/g,"");if(["circle","square","triangle","diamond","star","cross","x","check","flag","heart","arrowup","arrowdown","arrowleft","arrowright","triangleup","triangledown","triangleleft","triangleright","drawarrowup","drawarrowdown","drawarrowleft","drawarrowright"].includes(G)){const U={arrowup:"arrowUp",arrowdown:"arrowDown",arrowleft:"arrowLeft",arrowright:"arrowRight",triangleup:"triangleUp",triangledown:"triangleDown",triangleleft:"triangleLeft",triangleright:"triangleRight",drawarrowup:"drawArrowUp",drawarrowdown:"drawArrowDown",drawarrowleft:"drawArrowLeft",drawarrowright:"drawArrowRight"};O.icon=U[G]||G}else if(W==="")O.color="";else if(this.isColor(this.parseStringValue(W)))O.color=this.parseStringValue(W);else if(this.isNumber(G)){const U=parseInt(G),Z=this.validateNumberRange(U,1,20,"");Z.valid?O.size=U:V.push(Z.error)}else if(["fill","stroke","stroke_fill"].includes(G))O.full=G;else if(["value","high","low","open","close","top","bottom","center","highup","lowdown"].includes(G)){const U={highup:"highUp",lowdown:"lowDown"};O.position=U[G]||G}else if(L==="true"||L==="false")O.show=L==="true";else{if(L.startsWith("title=")||L.startsWith("tip=")||L.startsWith("options=")||L.startsWith("min=")||L.startsWith("max=")||L.startsWith("border="))continue;V.push(` shape : ${L}`)}}if(V.length>0)throw new Error(`shape :
${V.join(`
`)}`);return O}return{icon:"circle",color:"",size:5,full:"fill",position:"value",show:!0};case"icon":const g=this.splitParams(t);let m;return g.length>=1?m=g[0].replace(/['"]/g,"").toLowerCase():m=t.replace(/['"]/g,"").toLowerCase(),["arrowup","arrowdown","arrowleft","arrowright","triangleup","triangledown","triangleleft","triangleright","square","diamond","star","cross","circle","x","check","flag","heart"].includes(m)?{arrowup:"arrowUp",arrowdown:"arrowDown",arrowleft:"arrowLeft",arrowright:"arrowRight",triangleup:"triangleUp",triangledown:"triangleDown",triangleleft:"triangleLeft",triangleright:"triangleRight"}[m]||m:"circle";case"line":const _=this.splitParams(t);if(_.length>=1){const O={color:"",size:1,style:"solid"},V=[];for(const N of _){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,1,10,"");U.valid?O.size=W:V.push(U.error)}else if(["solid","dashed","dotted"].includes(L))O.style=L;else if(L==="true"||L==="false")O.show=L==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` line : ${N}`)}}if(V.length>0)throw new Error(`line :
${V.join(`
`)}`);return O}return{color:"",size:1,style:"solid",show:!0};case"area":const b=this.splitParams(t);let w="",T=!0;for(let O=0;O<b.length;O++){const V=b[O],N=V.replace(/['"]/g,"");if(N==="")w="";else if(this.isColor(this.parseStringValue(N)))w=this.parseStringValue(N);else if(V.startsWith("show="))T=V.substring(5).replace(/['"]/g,"").toLowerCase()==="true";else if(V==="true"||V==="false")T=V==="true";else if(V.startsWith("title=")||V.startsWith("tip="))continue}return{color:w,show:T};case"circle":const A=this.splitParams(t);if(A.length>=1){const O={color:"",size:5,style:"solid",full:"fill"},V=[];for(const N of A){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,1,20,"");U.valid?O.size=W:V.push(U.error)}else if(["solid","dashed","dotted"].includes(L))O.style=L;else if(["fill","stroke"].includes(L))O.full=L;else if(N==="true"||N==="false")O.show=N==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` circle : ${N}`)}}if(V.length>0)throw new Error(`circle :
${V.join(`
`)}`);return O}return{color:"",size:5,style:"solid",full:"fill",show:!0};case"bar":const M=this.splitParams(t);if(M.length>=1){const O={color:"",size:1,style:"solid",full:"fill",show:!0},V=[];for(const N of M){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,1,10,"");U.valid?O.size=W:V.push(U.error)}else if(["solid","dashed","dotted"].includes(L))O.style=L;else if(["fill","stroke"].includes(L))O.full=L;else if(N==="true"||N==="false")O.show=N==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` bar : ${N}`)}}if(V.length>0)throw new Error(`bar :
${V.join(`
`)}`);return O}return{color:"",size:1,style:"solid",full:"fill",show:!0};case"candle":const D=this.splitParams(t);if(D.length>=1){const O={color:"",size:1,style:"solid",full:"fill"},V=[];for(const N of D){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,1,10,"");U.valid?O.size=W:V.push(U.error)}else if(["solid","dashed","dotted"].includes(L))O.style=L;else if(["fill","stroke"].includes(L))O.full=L;else if(N==="true"||N==="false")O.show=N==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` candle : ${N}`)}}if(V.length>0)throw new Error(`candle :
${V.join(`
`)}`);return O}return{color:"",size:1,style:"solid",full:"fill",show:!0};case"label":const P=this.splitParams(t);if(P.length>=1){const O={color:"",size:12,align:"left",bold:!1,italic:!1,position:"value"},V=[];for(const N of P){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(N.startsWith("text="))O.text=this.parseStringValue(N.substring(5));else if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,8,32,"");U.valid?O.size=W:V.push(U.error)}else if(["left","center","right"].includes(L))O.align=L;else if(["value","high","low","open","close","top","bottom","center","highup","lowdown"].includes(L)){const W={highup:"highUp",lowdown:"lowDown"};O.position=W[L]||L}else if(!["arial","helvetica","sans-serif","times","serif","monospace"].includes(L))if(L==="bold")O.bold=!0;else if(L==="italic")O.italic=!0;else if(L==="true"||L==="false")O.show=L==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` label : ${N}`)}}if(V.length>0)throw new Error(`label :
${V.join(`
`)}`);return O}return{color:"",size:12,align:"left",bold:!1,italic:!1,position:"value",show:!0};case"slabel":const I=this.splitParams(t);if(I.length>=1){const O={color:"",size:12,align:"left",bold:!1,italic:!1},V=[];for(const N of I){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(N.startsWith("text="))O.text=this.parseStringValue(N.substring(5));else if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,8,32,"");U.valid?O.size=W:V.push(U.error)}else if(["left","center","right"].includes(L))O.align=L;else if(L==="bold")O.bold=!0;else if(L==="italic")O.italic=!0;else if(L==="true"||L==="false")O.show=L==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` slabel : ${N}`)}}if(V.length>0)throw new Error(`slabel :
${V.join(`
`)}`);return O}return{color:"",size:12,align:"left",bold:!1,italic:!1,show:!0};case"labelbg":const R=this.splitParams(t);if(R.length>=1){const O={color:"",full:"fill",size:1,style:"solid",padding:4,radius:0},V=[];for(const N of R){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,1,10,"");U.valid?O.size=W:V.push(U.error)}else if(["fill","stroke"].includes(L))O.full=L;else if(["solid","dashed","dotted"].includes(L))O.style=L;else if(L.startsWith("padding=")){const W=L.split("=")[1];if(this.isNumber(W)){const U=parseInt(W),Z=this.validateNumberRange(U,0,20,"");Z.valid?O.padding=U:V.push(Z.error)}}else if(L.startsWith("radius=")){const W=L.split("=")[1];if(this.isNumber(W)){const U=parseInt(W),Z=this.validateNumberRange(U,0,20,"");Z.valid?O.radius=U:V.push(Z.error)}}else if(L==="true"||L==="false")O.show=L==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` labelbg : ${N}`)}}if(V.length>0)throw new Error(`labelbg :
${V.join(`
`)}`);return O}return{color:"",full:"fill",size:1,style:"solid",padding:4,radius:0,show:!0};case"rect":const k=this.splitParams(t);if(k.length>=1){const O={color:"",size:1,style:"solid",full:"fill"},V=[];for(const N of k){const L=N.replace(/['"]/g,"").toLowerCase(),G=N.replace(/['"]/g,"");if(G==="")O.color="";else if(this.isColor(this.parseStringValue(G)))O.color=this.parseStringValue(G);else if(this.isNumber(L)){const W=parseInt(L),U=this.validateNumberRange(W,1,10,"");U.valid?O.size=W:V.push(U.error)}else if(["solid","dashed","dotted"].includes(L))O.style=L;else if(["fill","stroke"].includes(L))O.full=L;else if(N==="true"||N==="false")O.show=N==="true";else{if(N.startsWith("title=")||N.startsWith("tip=")||N.startsWith("show=")||N.startsWith("min=")||N.startsWith("max="))continue;V.push(` rect : ${N}`)}}if(V.length>0)throw new Error(`rect :
${V.join(`
`)}`);return O}return{color:"",size:1,style:"solid",full:"fill",show:!0};default:return t.replace(/['"]/g,"")}}static generateExecutableCode(t,e,n){let i=t;i=i.replace(/\/\/[^\n\r]*/g,""),i=i.replace(/setMin\s*\(\s*[^)]+\s*\)/g,""),i=i.replace(/setMax\s*\(\s*[^)]+\s*\)/g,""),i=i.replace(/setPrecision\s*\(\s*[^)]+\s*\)/g,""),n.forEach(s=>{const l=new RegExp(`(?:const|var|let)?\\s*(\\w+)?\\s*=\\s*(H|http)\\.${s.type}\\s*\\(\\s*[^)]*\\s*\\)[^\\n]*`,"g");i=i.replace(l,"")});const a=i.split(`
`),o=[];for(const s of a){const l=s.trim();if(!l){o.push(s);continue}l.match(/(\w+)\s*=\s*(I|S|input|style)\.\w+\(/)||l.match(/(I|S|input|style)\.\w+\(/)||o.push(s)}return i=o.join(`
`),i=i.replace(/options\s*=\s*SOURCE/g,"options=['open','high','low','close','volume','hl2','hlc3','ohlc4']"),i.trim()}static splitParams(t){let e=t.replace(/[']/g,"'").replace(/["]/g,'"');const n=[];let i=0,a=0;for(;a<e.length;){const h=e[a];if(h==="("||h==="["){const v=h,g=h==="("?")":"]";let m=1,x=a;for(a++;a<e.length&&m>0;)e[a]===v?m++:e[a]===g&&m--,a++;if(m===0){const _=e.substring(x,a),b=`__BRACKET${i}__`;n[i]=_,e=e.substring(0,x)+b+e.substring(a),a=x+b.length,i++}}else a++}const o=[];let s=e,l=0;const u=/(['"])((?:(?!\1).)*)\1/g;let c;for(;(c=u.exec(e))!==null;){const h=c[0],v=`__STR${l}__`;o[l]=h,s=s.replace(h,v),l++}return s.split(",").map(h=>h.trim()).map(h=>{let v=h;for(let g=0;g<o.length;g++){const m=`__STR${g}__`;v.includes(m)&&(v=v.replace(m,o[g]))}for(let g=0;g<n.length;g++){const m=`__BRACKET${g}__`;v.includes(m)&&(v=v.replace(m,n[g]))}return v.trim()}).filter(h=>h!=="")}static parseValue(t,e){switch(t=t.trim(),e){case"int":return parseInt(t);case"float":return parseFloat(t);case"bool":return t==="true";case"string":case"select":return this.parseStringValue(t);case"color":case"style":return this.parseStringValue(t);case"width":return parseInt(t);default:return t}}static parseParamValue(t){return t=t.trim(),t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'")?t.slice(1,-1):t}static parseStringValue(t){return t=t.trim(),t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'")?t.slice(1,-1):t}static parseArrayValue(t){return t=t.trim(),t.startsWith("[")&&t.endsWith("]")?t.slice(1,-1).split(",").map(n=>this.parseStringValue(n.trim())):[]}static isColor(t){const e=["transparent","currentcolor","inherit","initial","unset","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],n=t.toLowerCase();return e.includes(n)?!0:/^#[0-9a-f]{3,6}$/i.test(t)||/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/i.test(t)||/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*[\d.]+\s*\)$/i.test(t)||/^hsl\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*\)$/i.test(t)||/^hsla\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*,\s*[\d.]+\s*\)$/i.test(t)||/^hwb\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*\)$/i.test(t)||/^hwba\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*,\s*[\d.]+\s*\)$/i.test(t)||/^lab\(\s*[\d.]+\s*,\s*[\d.-]+\s*,\s*[\d.-]+\s*\)$/i.test(t)||/^lch\(\s*[\d.]+\s*,\s*[\d.]+\s*,\s*[\d.]+\s*\)$/i.test(t)||/^oklab\(\s*[\d.]+\s*,\s*[\d.-]+\s*,\s*[\d.-]+\s*\)$/i.test(t)||/^oklch\(\s*[\d.]+\s*,\s*[\d.]+\s*,\s*[\d.]+\s*\)$/i.test(t)}static isNumber(t){return!isNaN(Number(t))&&t.trim()!==""}static validateShape(t){const e=["arrowUp","arrowDown","arrowLeft","arrowRight","triangleUp","triangleDown","triangleLeft","triangleRight","square","diamond","star","cross","circle","x","check","flag","heart"];return e.includes(t)?{valid:!0}:{valid:!1,error:`: ${t}: ${e.join(", ")}`}}static validateColor(t){return this.isColor(t)?{valid:!0}:{valid:!1,error:`: ${t}: #RGB, #RRGGBB, rgb(r,g,b), rgba(r,g,b,a)`}}static validateNumberRange(t,e,n,i){return t<e||t>n?{valid:!1,error:`${i}  ${t}  [${e}, ${n}]`}:{valid:!0}}static findClosingParenthesis(t,e){let n=1,i=!1,a="";for(let o=e;o<t.length;o++){const s=t[o];if(!i&&(s==='"'||s==="'"))i=!0,a=s;else if(i&&s===a)i=!1;else if(!i&&s==="(")n++;else if(!i&&s===")"&&(n--,n===0))return o}throw new Error(` ${e} `)}static applyPresetValues(t,e){const n=new Map;e.forEach(i=>{n.set(i.key,i.value)}),t.forEach(i=>{n.has(i.key)?i.value=n.get(i.key):i.value=i.defaultValue})}}const Bb=class Bb{static registerEngine(t){this.engines.set(t.version,t)}static getEngine(t){return this.engines.get(t)||null}static getDefaultEngine(){return this.engines.get(this.defaultVersion)||this.engines.get(1)}static getAvailableVersions(){const t=[];for(const[e,n]of this.engines)t.push({version:n.version,name:n.name,description:n.description,features:n.features||[]});return t.sort((e,n)=>e.version-n.version)}static detectVersion(t){const e=t.match(/\/\/\s*@version\s*=\s*(\d+)/);if(e){const i=parseInt(e[1]);if(this.engines.has(i))return i}return Array.from(this.engines.keys()).sort((i,a)=>a-i)[0]||this.defaultVersion}static validateVersion(t){const e=this.detectVersion(t);return this.getEngine(e)?{valid:!0,version:e}:{valid:!1,version:e,error:`: ${e}`}}};Bb.engines=new Map,Bb.defaultVersion=1;let Ng=Bb;class VNe{constructor(t){this.inputs=t}int(t,e={}){const n=e.name||e.title||e.label||"param";return this.inputs&&this.inputs[n]!==void 0?this.inputs[n]:t}float(t,e={}){const n=e.name||e.title||e.label||"param";return this.inputs&&this.inputs[n]!==void 0?this.inputs[n]:t}bool(t,e={}){const n=e.name||e.title||e.label||"param";return this.inputs&&this.inputs[n]!==void 0?this.inputs[n]:t}str(t,e={}){const n=e.name||e.title||e.label||"param";return this.inputs&&this.inputs[n]!==void 0?this.inputs[n]:t}string(t,e={}){return this.str(t,e)}select(t,e){const n=e.name||e.title||e.label||"param";return this.inputs&&this.inputs[n]!==void 0?this.inputs[n]:t}param(t,e={}){const n=e.name||e.title||e.label||"param";return this.inputs&&this.inputs[n]!==void 0?this.inputs[n]:t}}class zNe{constructor(t){this.styles=t}color(t,e={}){const n=e.name||e.title||e.label||"style";return this.styles&&this.styles[n]!==void 0?this.styles[n]:t}lineWidth(t,e={}){const n=e.name||e.title||e.label||"style";return this.styles&&this.styles[n]!==void 0?this.styles[n]:t}lineStyle(t,e={}){const n=e.name||e.title||e.label||"style";return this.styles&&this.styles[n]!==void 0?this.styles[n]:t}shape(t,e={}){const n=e.name||e.title||e.label||"style";return this.styles&&this.styles[n]!==void 0?this.styles[n]:t}size(t,e={}){const n=e.name||e.title||e.label||"style";return this.styles&&this.styles[n]!==void 0?this.styles[n]:t}full(t,e={}){const n=e.name||e.title||e.label||"style";return this.styles&&this.styles[n]!==void 0?this.styles[n]:t}line(t,e={}){const n=e.name||e.title||e.label||"style";return this.styles&&this.styles[n]!==void 0?this.styles[n]:typeof e=="string"?{color:t,lineStyle:e,lineWidth:1}:typeof e=="object"&&e!==null?{color:t,lineStyle:e.lineStyle||"solid",lineWidth:e.lineWidth||1}:{color:t,lineStyle:"solid",lineWidth:1}}style(t,e={}){const n=e.name||e.title||e.label||"style";return this.styles&&this.styles[n]!==void 0?this.styles[n]:t}}class Y{static getNumVal(t,e){if(e==null)return NaN;if(typeof e=="number")return e;if(typeof e=="string"){const n=parseFloat(e);return X.isValid(n)?n:NaN}if(typeof e=="object"){if(!t||t==="")return NaN;if(t){if(t&&e[t]!==void 0){const n=e[t];return X.isValid(n)?n:NaN}switch(t){case"hl2":return(e.high+e.low)/2;case"oc2":return(e.open+e.close)/2;case"hlc3":return(e.high+e.low+e.close)/3;case"ohl3":return(e.high+e.low+e.open)/3;case"ohlc4":return(e.high+e.low+e.close+e.open)/4;case"percentage":return X.isValid(e.close)&&X.isValid(e.open)&&e.open!==0?parseFloat(((e.close-e.open)/e.open*100).toFixed(2)):NaN;default:return NaN}}else return NaN}return NaN}static attr(t,e){return t.length===0?[]:typeof e=="string"&&e!==""?t.map(n=>n?Y.getNumVal(e,n):null):t.map(n=>n)}static ma(t,e,n){const i=Math.max(1,parseInt(String(e)));let a=0,o=0;return t.map((s,l)=>{const u=Y.getNumVal(n,s);if(!X.isValid(u))return null;if(a+=u,o++,l>=i){const f=Y.getNumVal(n,t[l-i]);X.isValid(f)?a-=f:o--}if(o<i)return null;const c=a/i;return isFinite(c)?c:null})}static ema(t,e,n){const i=Math.max(1,parseInt(String(e))),a=2/(i+1);let o=null;return t.map((s,l)=>{const u=Y.getNumVal(n,s);if(!X.isValid(u)||l<i-1)return null;if(o===null){let f=0,d=0;for(let h=0;h<i;h++){const v=Y.getNumVal(n,t[l-h]);X.isValid(v)&&(f+=v,d++)}return d===i?(o=f/i,o):null}const c=u*a+o*(1-a);return o=c,c})}static wma(t,e=10,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const i=[];for(let o=1;o<=e;o++)i.push(o);const a=[];for(let o=0;o<t.length;o++){if(o<e-1){a.push(null);continue}let s=0,l=0;for(let u=0;u<e;u++){const c=o-e+1+u,f=Y.getNumVal(n,t[c]);X.isValid(f)&&(s+=f*i[u],l+=i[u])}if(l>0){const u=s/l;a.push(isFinite(u)?u:null)}else a.push(null)}return a}static fwma(t,e=10,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const i=Y.generateFibonacciWeights(e),a=[];for(let o=0;o<t.length;o++){if(o<e-1){a.push(null);continue}let s=0,l=0;for(let u=0;u<e;u++){const c=o-e+1+u,f=Y.getNumVal(n,t[c]);X.isValid(f)&&(s+=f*i[u],l+=i[u])}a.push(l>0?s/l:null)}return a}static sma(t,e=10,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e-1){i.push(null);continue}let o=0,s=0;for(let l=0;l<e;l++){const u=a-e+1+l,c=Y.getNumVal(n,t[u]);X.isValid(c)&&(o+=c,s++)}i.push(s>0?o/s:null)}return i}static rma(t,e=10,n=null){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||10;const i=1/e;if(t.length<e)return[];const a=[];let o=0;for(let l=0;l<e;l++){const u=Y.getNumVal(n,t[l]);X.isValid(u)&&(o+=u)}let s=o/e;a.push(s);for(let l=e;l<t.length;l++){const u=Y.getNumVal(n,t[l]);X.isValid(u)?(s=i*u+(1-i)*s,a.push(s)):a.push(null)}for(let l=0;l<e-1;l++)a.unshift(null);return a}static rmaWithAlpha(t,e,n,i=null){const a=Math.max(1,parseInt(String(e))),o=n!==void 0?n:1/a;let s=0,l=0,u=!1;return t.map((c,f)=>{const d=Y.getNumVal(i,c);return X.isValid(d)?u?(s=s*(1-o)+d*o,s):(l+=d,f===a-1?(s=l/a,u=!0,s):null):null})}static trima(t,e=10,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const i=Math.round(.5*(e+1)),a=[];for(let l=0;l<t.length;l++){const u=Y.getNumVal(n,t[l]);a.push(X.isValid(u)?u:null)}const o=Y.ma(a,i);return Y.ma(o,i)}static kama(t,e=10,n=2,i=30,a=1,o=null){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||10,n=Math.max(1,Math.floor(n))||2,i=Math.max(1,Math.floor(i))||30,a=Math.max(1,Math.floor(a))||1;const s=Math.max(n,i,e);if(t.length<s)return[];const l=x=>2/(x+1),u=l(n),c=l(i),f=[];for(let x=0;x<t.length;x++){const _=Y.getNumVal(o,t[x]);f.push(X.isValid(_)?_:null)}const d=[];for(let x=0;x<t.length;x++){if(x<e){d.push(null);continue}const _=f[x],b=f[x-e];_!==null&&b!==null?d.push(Math.abs(_-b)):d.push(null)}const h=[];for(let x=0;x<t.length;x++){if(x<a){h.push(null);continue}const _=f[x],b=f[x-a];_!==null&&b!==null?h.push(Math.abs(_-b)):h.push(null)}const v=[];for(let x=0;x<t.length;x++){if(x<e-1){v.push(null);continue}let _=0,b=0;for(let w=0;w<e;w++){const T=x-w;T>=0&&h[T]!==null&&(_+=h[T],b++)}b===e?v.push(_):v.push(null)}const g=[];for(let x=0;x<t.length;x++){const _=d[x],b=v[x];if(_!==null&&b!==null&&b!==0){const T=_/b*(u-c)+c;g.push(T*T)}else g.push(null)}const m=[];for(let x=0;x<e-1;x++)m.push(null);m.push(0);for(let x=e;x<t.length;x++){const _=f[x],b=g[x],w=m[x-1];if(_!==null&&b!==null&&w!==null){const T=b*_+(1-b)*w;m.push(T)}else m.push(null)}return m}static t3(t,e=10,n=.7,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=Math.max(.1,Math.min(.9,parseFloat(n.toString())))||.7,t.length<e)return[];const a=-n*Math.pow(n,2),o=3*Math.pow(n,2)+3*Math.pow(n,3),s=-6*Math.pow(n,2)-3*n-3*Math.pow(n,3),l=Math.pow(n,3)+3*Math.pow(n,2)+3*n+1,u=Y.ema(t,e,i),c=Y.ema(u,e),f=Y.ema(c,e),d=Y.ema(f,e),h=Y.ema(d,e),v=Y.ema(h,e),g=[];for(let m=0;m<t.length;m++){if(m<e*6-1){g.push(null);continue}const x=v[m],_=h[m],b=d[m],w=f[m];if(x!==null&&_!==null&&b!==null&&w!==null){const T=a*x+o*_+s*b+l*w;g.push(isFinite(T)?T:null)}else g.push(null)}return g}static dema(t,e=10,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const i=Y.ema(t,e,n),a=Y.ema(i,e),o=[];for(let s=0;s<t.length;s++){const l=i[s],u=a[s];if(l!==null&&u!==null){const c=2*l-u;o.push(c)}else o.push(null)}return o}static tema(t,e=10,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const i=Y.ema(t,e,n),a=Y.ema(i,e),o=Y.ema(a,e),s=[];for(let l=0;l<t.length;l++){if(l<e*3-3){s.push(null);continue}const u=i[l],c=a[l],f=o[l];if(u!==null&&c!==null&&f!==null){const d=3*(u-c)+f;s.push(isFinite(d)?d:null)}else s.push(null)}return s}static vidya(t,e=14,n=1,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,n=Math.max(1,Math.floor(n))||1,t.length<e)return[];const a=[];for(let u=0;u<t.length;u++){const c=Y.getNumVal(i,t[u]);a.push(X.isValid(c)?c:null)}const o=[];for(let u=0;u<t.length;u++){if(u<n){o.push(null);continue}let c=0,f=0;for(let d=0;d<e;d++)if(u-d-n>=0&&a[u-d]!==null&&a[u-d-n]!==null){const h=a[u-d]-a[u-d-n];h>0?c+=h:f+=Math.abs(h)}c+f===0?o.push(0):o.push((c-f)/(c+f))}const s=2/(e+1),l=[];for(let u=0;u<t.length;u++){if(u<e){l.push(null);continue}const c=a[u],f=o[u],d=l[u-1];if(c!==null&&f!==null&&d!==null){const h=Math.abs(f),v=s*h*c+d*(1-s*h);l.push(isFinite(v)?v:null)}else l.push(null)}return l}static vwap(t,e="D"){if(!Array.isArray(t)||t.length===0)return[];if(e=e&&typeof e=="string"&&e.length>=1?e.toUpperCase():"D",t.length<1)return[];const n=[];let i=0,a=0;for(let o=0;o<t.length;o++){const s=t[o];if(!s||typeof s.high!="number"||typeof s.low!="number"||typeof s.close!="number"||typeof s.volume!="number"){n.push(null);continue}const u=(s.high+s.low+s.close)/3*s.volume;if(this.shouldResetAnchor(o,e)&&(i=0,a=0,this.getCurrentAnchor(o,e)),i+=u,a+=s.volume,a>0){const f=i/a;n.push(isFinite(f)?f:null)}else n.push(null)}return n}static wcp(t){if(!Array.isArray(t)||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];if(i&&X.isValid(i.high)&&X.isValid(i.low)&&X.isValid(i.close)){const a=(i.high+i.low+2*i.close)/4;e.push(isFinite(a)?a:null)}else e.push(null)}return e}static vwma(t,e=10){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const n=[];for(let i=0;i<t.length;i++){if(i<e-1){n.push(null);continue}let a=0,o=0,s=0;for(let l=0;l<e;l++){const u=i-l;if(u>=0){const c=t[u];c&&X.isValid(c.close)&&X.isValid(c.volume)&&(a+=c.close*c.volume,o+=c.volume,s++)}}if(s===e&&o>0){const l=a/o;n.push(isFinite(l)?l:null)}else n.push(null)}return n}static zlma(t,e=10,n="ema",i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=String(n).toLowerCase()||"ema",t.length<e)return[];const a=Math.floor(.5*(e-1));for(let s=0;s<t.length;s++){const l=t[s].close;if(X.isValid(l)&&s>=a){const u=t[s-a].close;X.isValid(u)}}let o=[];switch(n){case"dema":o=Y.dema(t,e,i);break;case"hma":o=Y.hma(t,e,i);break;case"linreg":o=Y.linreg(t,e,!1,!1,!1,!1,!1,!1,i);break;case"rma":o=Y.rma(t,e,i);break;case"sma":o=Y.sma(t,e,i);break;case"swma":o=Y.swma(t,e,!0,i);break;case"t3":o=Y.t3(t,e,0,i);break;case"tema":o=Y.tema(t,e,i);break;case"trima":o=Y.trima(t,e,i);break;case"vidya":o=Y.vidya(t,e,1,i);break;case"wma":o=Y.wma(t,e,i);break;default:o=Y.ema(t,e,i);break}return o}static drawdown(t){if(!Array.isArray(t)||t.length===0)return{dd:[],dd_pct:[],dd_log:[]};const e=[];let n=-1/0;for(let s=0;s<t.length;s++){const l=t[s].close;X.isValid(l)?(l>n&&(n=l),e.push(n)):e.push(null)}const i=[],a=[],o=[];for(let s=0;s<t.length;s++){const l=t[s].close,u=e[s];if(X.isValid(l)&&X.isValid(u)&&u>0){const c=u-l;i.push(isFinite(c)?c:null);const f=1-l/u;a.push(isFinite(f)?f:null);const d=Math.log(u/l);o.push(isFinite(d)?d:null)}else i.push(null),a.push(null),o.push(null)}return{dd:i,dd_pct:a,dd_log:o}}static log_return(t,e=1,n=!1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,n=!!n,t.length<e)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e){i.push(null);continue}const o=t[a].close,s=t[a-e].close;if(X.isValid(o)&&X.isValid(s)&&s>0){const l=Math.log(o/s);i.push(isFinite(l)?l:null)}else i.push(null)}if(n){let a=0;for(let o=0;o<i.length;o++)i[o]!==null&&(a+=i[o],i[o]=a)}return i}static percent_return(t,e=1,n=!1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,n=!!n,t.length<e)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e){i.push(null);continue}const o=t[a].close,s=t[a-e].close;if(X.isValid(o)&&X.isValid(s)&&s>0){const l=(o-s)/s;i.push(isFinite(l)?l:null)}else i.push(null)}if(n){let a=0;for(let o=0;o<i.length;o++)i[o]!==null&&(a+=i[o],i[o]=a)}return i}static trend_return(t,e,n=!0,i=!1,a=0,o=-1){if(!Array.isArray(t)||t.length===0||!Array.isArray(e)||e.length===0)return{active_returns:[],cumulative_returns:[],trends:[],trades:[],entries:[],exits:[]};if(n=!!n,i=!!i,a=Math.floor(a)||0,o=o!==0?Math.floor(o)||-1:0,t.length!==e.length)return{active_returns:[],cumulative_returns:[],trends:[],trades:[],entries:[],exits:[]};const s=n?Y.log_return(t,1,!1):Y.percent_return(t,1,!1),l=e.map(g=>i?!!g:Number(g)),u=[];for(let g=0;g<t.length;g++){const m=l[g],x=s[g];if(X.isValid(x)&&m){const _=typeof m=="boolean"?m?1:0:Number(m);u.push(_*x)}else u.push(0)}const c=[];let f=0;for(let g=0;g<t.length;g++){const m=l[g],x=u[g];X.isValid(x)?(typeof m=="boolean"?m?f+=x:f=0:Number(m)===a?f=0:f+=x,c.push(f)):c.push(null)}const d=[];for(let g=0;g<t.length;g++){if(g===0){d.push(0);continue}const m=l[g],x=l[g-1];if(X.isValid(m)&&X.isValid(x)){const _=typeof m=="boolean"?m?1:0:Number(m),b=typeof x=="boolean"?x?1:0:Number(x),w=_-b;d.push(w)}else d.push(null)}if(o!==0)if(o>0){for(let g=0;g<o;g++)d.unshift(null);d.splice(-o)}else{for(let g=0;g<Math.abs(o);g++)d.push(null);d.splice(0,Math.abs(o))}const h=d.map(g=>g===null?i?!1:0:i?g>0:g>0?1:0),v=d.map(g=>g===null?i?!1:0:i?g<0:Math.abs(g<0?g:0));return{active_returns:u,cumulative_returns:c,trends:l,trades:d,entries:h,exits:v}}static entropy(t,e=10,n=2){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=Math.max(.1,n)||2,t.length<e)return[];const i=[];for(let o=0;o<t.length;o++){const s=t[o].close;i.push(X.isValid(s)?s:null)}const a=[];for(let o=0;o<t.length;o++){if(o<e-1){a.push(null);continue}let s=0;const l=[];for(let u=0;u<e;u++){const c=o-e+1+u,f=i[c];X.isValid(f)&&(s+=f,l.push(f))}if(s>0&&l.length>0){const u=l.map(f=>f/s);let c=0;for(const f of u)if(f>0){const d=Math.log(f),h=Math.log(n);c+=-f*d/h}a.push(isFinite(c)?c:null)}else a.push(null)}return a}static kurtosis(t,e=30,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||30,n=n!==null?Math.max(1,Math.floor(n)):e,t.length<Math.max(e,n))return[];const i=[];for(let o=0;o<t.length;o++){const s=t[o].close;i.push(X.isValid(s)?s:null)}const a=[];for(let o=0;o<t.length;o++){if(o<Math.max(e,n)-1){a.push(null);continue}const s=[];for(let l=0;l<e;l++){const u=o-e+1+l;u>=0&&X.isValid(i[u])&&s.push(i[u])}if(s.length>=n){const l=s.reduce((c,f)=>c+f,0)/s.length,u=s.reduce((c,f)=>c+Math.pow(f-l,2),0)/s.length;if(u>0){const f=s.reduce((d,h)=>d+Math.pow(h-l,4),0)/s.length/Math.pow(u,2)-3;a.push(isFinite(f)?f:null)}else a.push(null)}else a.push(null)}return a}static mad(t,e=30,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||30,n=n!==null?Math.max(1,Math.floor(n)):e,t.length<Math.max(e,n))return[];const i=[];for(let o=0;o<t.length;o++){const s=t[o].close;i.push(X.isValid(s)?s:null)}const a=[];for(let o=0;o<t.length;o++){if(o<Math.max(e,n)-1){a.push(null);continue}const s=[];for(let l=0;l<e;l++){const u=o-e+1+l;u>=0&&X.isValid(i[u])&&s.push(i[u])}if(s.length>=n){const l=s.reduce((f,d)=>f+d,0)/s.length,u=s.map(f=>Math.abs(f-l)),c=u.reduce((f,d)=>f+d,0)/u.length;a.push(isFinite(c)?c:null)}else a.push(null)}return a}static median(t,e=30,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||30,n=n!==null?Math.max(1,Math.floor(n)):e,t.length<Math.max(e,n))return[];const i=[];for(let o=0;o<t.length;o++){const s=t[o].close;i.push(X.isValid(s)?s:null)}const a=[];for(let o=0;o<t.length;o++){if(o<Math.max(e,n)-1){a.push(null);continue}const s=[];for(let l=0;l<e;l++){const u=o-e+1+l;u>=0&&X.isValid(i[u])&&s.push(i[u])}if(s.length>=n){const l=s.slice().sort((f,d)=>f-d),u=Math.floor(l.length/2);let c;l.length%2===0?c=(l[u-1]+l[u])/2:c=l[u],a.push(isFinite(c)?c:null)}else a.push(null)}return a}static quantile(t,e=30,n=.5,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||30,n=Math.max(.001,Math.min(.999,n))||.5,i=i!==null?Math.max(1,Math.floor(i)):e,t.length<Math.max(e,i))return[];const a=[];for(let s=0;s<t.length;s++){const l=t[s].close;a.push(X.isValid(l)?l:null)}const o=[];for(let s=0;s<t.length;s++){if(s<Math.max(e,i)-1){o.push(null);continue}const l=[];for(let u=0;u<e;u++){const c=s-e+1+u;c>=0&&X.isValid(a[c])&&l.push(a[c])}if(l.length>=i){const u=l.slice().sort((g,m)=>g-m),c=u.length;if(c===0){o.push(null);continue}const f=n*(c-1),d=Math.floor(f),h=Math.ceil(f);let v;if(d===h)v=u[d];else{const g=u[d],m=u[h],x=f-d;v=g+x*(m-g)}o.push(isFinite(v)?v:null)}else o.push(null)}return o}static skew(t,e=30,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||30,n=n!==null?Math.max(1,Math.floor(n)):e,t.length<Math.max(e,n))return[];const i=[];for(let a=0;a<t.length;a++){if(a<Math.max(e,n)-1){i.push(null);continue}const o=[];for(let s=0;s<e;s++){const l=a-e+1+s;l>=0&&o.push(t[l].close)}if(o.length>=n){const s=o.length;if(s<3){i.push(null);continue}const l=o.reduce((c,f)=>c+f,0)/s,u=o.reduce((c,f)=>c+Math.pow(f-l,2),0)/s;if(u>0){const f=o.reduce((d,h)=>d+Math.pow(h-l,3),0)/s/Math.pow(u,1.5);i.push(isFinite(f)?f:null)}else i.push(null)}else i.push(null)}return i}static hma(t,e=10,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const i=Math.floor(e/2),a=Math.floor(Math.sqrt(e)),o=Y.wma(t,i,n),s=Y.wma(t,e,n),l=t.map((c,f)=>o[f]===null||s[f]===null?null:2*o[f]-s[f]);return Y.wma(l,a,null)}static lsma(t,e,n=null){const i=Math.max(1,parseInt(String(e)));return t.map((a,o)=>{if(o<i-1)return null;const s=t.slice(o-i+1,o+1);let l=0,u=0,c=0,f=0,d=0;if(s.forEach((x,_)=>{const b=_,w=Y.getNumVal(n,x);X.isValid(w)&&(l+=b,u+=w,c+=b*w,f+=b*b,d++)}),d<i)return null;const h=i*f-l*l;if(h===0)return null;const v=(i*c-l*u)/h,g=(u-v*l)/i,m=v*(i-1)+g;return isFinite(m)?m:null})}static jma(t,e,n=0,i=null){const a=Math.max(1,e),o=n<-100?.5:n>100?2.5:n/100+1.5,s=.45*(a-1)/(.45*(a-1)+2),l=Math.pow(s,o);let u=null,c=null,f=null,d=null,h=null,v=null,g=null,m=null;return t.map((x,_)=>{const b=Y.getNumVal(i,x);return X.isValid(b)?u===null?(u=c=f=d=v=m=b,b):(u=(1-l)*b+l*u,c=(b-u)*(1-s)+s*c,f=(u+o*c-m)*l*l+m,d=f,h=(d-v)*(.5*(a-1)+1)/a,v=d,g=h,m=d+g,isFinite(m)?m:null):null})}static mcginley(t,e,n=null){const i=Math.max(1,e);let a=0;return t.map((o,s)=>{const l=Y.getNumVal(n,o);return s===0?a=l:a=a+(l-a)/(i*Math.pow(l/a,4))})}static mcgd(t,e=10,n=1,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=Math.max(.1,Math.min(1,n))||1,t.length<e)return[];const a=[];for(let s=0;s<t.length;s++){const l=Y.getNumVal(i,t[s]);a.push(X.isValid(l)?l:null)}const o=[];o.push(a[0]);for(let s=1;s<t.length;s++){const l=a[s],u=a[s-1],c=o[s-1];if(l!==null&&u!==null&&c!==null&&u!==0){const f=l/u,d=n*e*Math.pow(f,4);if(Math.abs(d)>1e-10){const h=c+(l-c)/d;o.push(isFinite(h)?h:l)}else o.push(l)}else o.push(null)}return o}static edsma(t,e,n=null){const i=Math.max(2,e);let a=0;return t.map((o,s)=>{const l=Y.getNumVal(n,o);if(s===0)return a=l;const u=2/(i+1);return a=u*l+(1-u)*a})}static vama(t,e){return t.map((n,i)=>{if(i<e-1)return null;const a=t.slice(i-e+1,i+1);let o=0,s=0;return a.forEach(l=>{const u=l.close??0,c=l.volume??0;o+=u*c,s+=c}),s===0?null:o/s})}static stdev(t,e=30,n=1,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||30,n=Math.max(0,Math.min(n,e-1))||1,t.length<e)return[];const a=[];for(let o=0;o<t.length;o++){if(o<e-1){a.push(null);continue}const s=[];for(let l=0;l<e;l++){const u=o-e+1+l;let c=Y.getNumVal(i,t[u]);u>=0&&X.isValid(c)&&s.push(c)}if(s.length>=e-n){const l=s.reduce((c,f)=>c+f,0)/s.length,u=s.reduce((c,f)=>c+Math.pow(f-l,2),0)/(s.length-n);if(u>0){const c=Math.sqrt(u);a.push(isFinite(c)?c:null)}else a.push(null)}else a.push(null)}return a}static variance(t,e=30,n=0,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(2,Math.floor(e))||30,n=Math.max(0,Math.min(n,e-1))||0,i=i!==null?Math.max(1,Math.floor(i)):e,t.length<Math.max(e,i))return[];const a=[];for(let s=0;s<t.length;s++){const l=t[s].close;a.push(X.isValid(l)?l:null)}const o=[];for(let s=0;s<t.length;s++){if(s<Math.max(e,i)-1){o.push(null);continue}const l=[];for(let u=0;u<e;u++){const c=s-e+1+u;c>=0&&X.isValid(a[c])&&l.push(a[c])}if(l.length>=i){const u=l.reduce((f,d)=>f+d,0)/l.length,c=l.reduce((f,d)=>f+Math.pow(d-u,2),0)/(l.length-n);isFinite(c)?o.push(c):o.push(null)}else o.push(null)}return o}static zscore(t,e=30,n=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(2,Math.floor(e))||30,n=Math.max(.1,parseFloat(String(n)))||1,t.length<e)return[];const i=[];for(let o=0;o<t.length;o++){const s=t[o].close;i.push(X.isValid(s)?s:null)}const a=[];for(let o=0;o<t.length;o++){if(o<e-1){a.push(null);continue}const s=[];for(let l=0;l<e;l++){const u=o-e+1+l;u>=0&&X.isValid(i[u])&&s.push(i[u])}if(s.length>=e){const l=s.reduce((f,d)=>f+d,0)/s.length,u=s.reduce((f,d)=>f+Math.pow(d-l,2),0)/s.length,c=Math.sqrt(u);if(c>0){const f=i[o];if(X.isValid(f)){const d=(f-l)/(n*c);a.push(isFinite(d)?d:null)}else a.push(null)}else a.push(null)}else a.push(null)}return a}static adx(t,e=14,n=100,i="rma",a=1){if(!Array.isArray(t)||t.length===0)return{adx:[],dmp:[],dmn:[]};if(e=Math.max(1,Math.floor(e))||14,n=Math.max(.1,parseFloat(String(n)))||100,i=i||"rma",a=Math.max(1,Math.floor(a))||1,t.length<e+a)return{adx:[],dmp:[],dmn:[]};const o=[],s=[],l=[];for(let _=0;_<t.length;_++){const b=t[_].high,w=t[_].low,T=t[_].close;o.push(X.isValid(b)?b:null),s.push(X.isValid(w)?w:null),l.push(X.isValid(T)?T:null)}const u=Y.atr(t,e),c=[],f=[];for(let _=0;_<t.length;_++){if(_<a){c.push(null),f.push(null);continue}const b=o[_],w=o[_-a],T=s[_],A=s[_-a];if(X.isValid(b)&&X.isValid(w)&&X.isValid(T)&&X.isValid(A)){const M=b-w,D=A-T;c.push(M),f.push(D)}else c.push(null),f.push(null)}const d=[],h=[];for(let _=0;_<t.length;_++){if(_<a){d.push(null),h.push(null);continue}const b=c[_],w=f[_];X.isValid(b)&&X.isValid(w)?(b>w&&b>0?d.push(b):d.push(0),w>b&&w>0?h.push(w):h.push(0)):(d.push(null),h.push(null))}const v=[],g=[];for(let _=0;_<t.length;_++){if(_<e-1){v.push(null),g.push(null);continue}let b=0,w=0;for(let M=0;M<e;M++){const D=_-M;D>=0&&X.isValid(d[D])&&(b+=d[D],w++)}let T=0,A=0;for(let M=0;M<e;M++){const D=_-M;D>=0&&X.isValid(h[D])&&(T+=h[D],A++)}if(w>0&&A>0&&X.isValid(u[_])){const M=u[_];if(M>0){const D=n/M;v.push(D*(b/w)),g.push(D*(T/A))}else v.push(null),g.push(null)}else v.push(null),g.push(null)}const m=[],x=[];for(let _=0;_<t.length;_++){if(_<e-1){m.push(null),x.push(null);continue}const b=v[_],w=g[_];if(X.isValid(b)&&X.isValid(w)){const T=b+w;if(T>0){const A=n*Math.abs(b-w)/T;m.push(A)}else m.push(null)}else m.push(null)}for(let _=0;_<t.length;_++){if(_<e-1){x.push(null);continue}let b=0,w=0;for(let T=0;T<e;T++){const A=_-T;A>=0&&X.isValid(m[A])&&(b+=m[A],w++)}w>0?x.push(b/w):x.push(null)}return{adx:x,dmp:v,dmn:g}}static amat(t,e=8,n=21,i="ema",a=2){if(!Array.isArray(t)||t.length===0)return{mas_long:[],mas_short:[]};e=Math.max(1,Math.floor(e))||8,n=Math.max(1,Math.floor(n))||21,a=Math.max(1,Math.floor(a))||2,i=i||"ema";const o=Math.max(e,n,a);if(t.length<o)return{mas_long:[],mas_short:[]};const s=[];for(let d=0;d<t.length;d++){const h=t[d].close;s.push(X.isValid(h)?h:null)}let l=[],u=[];switch(i.toLowerCase()){case"sma":l=Y.sma(t,e,"close"),u=Y.sma(t,n,"close");break;case"ema":l=Y.ema(t,e,"close"),u=Y.ema(t,n,"close");break;case"rma":l=Y.rma(t,e,"close"),u=Y.rma(t,n,"close");break;case"hma":l=Y.hma(t,e,"close"),u=Y.hma(t,n,"close");break;case"wma":l=Y.wma(t,e,"close"),u=Y.wma(t,n,"close");break;default:l=Y.ema(t,e,"close"),u=Y.ema(t,n,"close");break}const c=[];for(let d=0;d<t.length;d++){if(d<a-1){c.push(null);continue}let h=0;for(let v=0;v<a;v++){const g=d-v;g>=0&&X.isValid(l[g])&&X.isValid(u[g])&&l[g]>u[g]&&h++}c.push(h>a/2?1:0)}const f=[];for(let d=0;d<t.length;d++){if(d<a-1){f.push(null);continue}let h=0;for(let v=0;v<a;v++){const g=d-v;g>=0&&X.isValid(l[g])&&X.isValid(u[g])&&l[g]<u[g]&&h++}f.push(h>a/2?1:0)}return{mas_long:c,mas_short:f}}static aroon(t,e=14,n=100){if(!Array.isArray(t)||t.length===0)return{aroon_up:[],aroon_down:[],aroon_osc:[]};if(e=Math.max(1,Math.floor(e))||14,n=Math.max(.1,parseFloat(String(n)))||100,t.length<e+1)return{aroon_up:[],aroon_down:[],aroon_osc:[]};const i=[],a=[];for(let u=0;u<t.length;u++){const c=t[u].high,f=t[u].low;i.push(X.isValid(c)?c:null),a.push(X.isValid(f)?f:null)}const o=[],s=[];for(let u=0;u<t.length;u++){if(u<e){o.push(null),s.push(null);continue}let c=0,f=-1/0,d=u;for(let _=0;_<=e;_++){const b=u-_;b>=0&&X.isValid(i[b])&&i[b]>f&&(f=i[b],d=b)}c=u-d;let h=0,v=1/0,g=u;for(let _=0;_<=e;_++){const b=u-_;b>=0&&X.isValid(a[b])&&a[b]<v&&(v=a[b],g=b)}h=u-g;const m=n*(1-c/e),x=n*(1-h/e);o.push(isFinite(m)?m:null),s.push(isFinite(x)?x:null)}const l=[];for(let u=0;u<t.length;u++){if(u<e){l.push(null);continue}const c=o[u],f=s[u];if(X.isValid(c)&&X.isValid(f)){const d=c-f;l.push(isFinite(d)?d:null)}else l.push(null)}return{aroon_up:o,aroon_down:s,aroon_osc:l}}static chop(t,e=14,n=1,i=100,a=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,n=Math.max(1,Math.floor(n))||1,i=Math.max(.1,parseFloat(String(i)))||100,a=Math.floor(a)||1,t.length<Math.max(e,n))return[];const o=[],s=[],l=[];for(let c=0;c<t.length;c++){const f=t[c].high,d=t[c].low,h=t[c].close;o.push(X.isValid(f)?f:null),s.push(X.isValid(d)?d:null),l.push(X.isValid(h)?h:null)}const u=[];for(let c=0;c<t.length;c++){if(c<e-1){u.push(null);continue}let f=-1/0,d=1/0;for(let m=0;m<e;m++){const x=c-m;x>=0&&X.isValid(o[x])&&X.isValid(s[x])&&(f=Math.max(f,o[x]),d=Math.min(d,s[x]))}const h=f-d;let v=0,g=0;for(let m=0;m<e;m++){const x=c-m;if(x>=0){let _=0;if(x>0&&X.isValid(o[x])&&X.isValid(s[x])&&X.isValid(l[x-1])){const b=o[x]-s[x],w=Math.abs(o[x]-l[x-1]),T=Math.abs(s[x]-l[x-1]);_=Math.max(b,w,T)}else X.isValid(o[x])&&X.isValid(s[x])&&(_=o[x]-s[x]);_>0&&(v+=_,g++)}}if(g>0&&h>0&&v>0){const m=Math.log10(v),x=Math.log10(h),_=Math.log10(e),b=i*(m-x)/_;u.push(isFinite(b)?b:null)}else u.push(null)}return u}static cksp(t,e=10,n=1,i=9,a=!0){if(!Array.isArray(t)||t.length===0)return{long_stop:[],short_stop:[]};e=Math.max(1,Math.floor(e))||10,n=Math.max(.1,parseFloat(String(n)))||(a?1:3),i=Math.max(1,Math.floor(i))||(a?9:20),a=!!a;const o=Math.max(e,i,n);if(t.length<o)return{long_stop:[],short_stop:[]};const s=[],l=[],u=[];for(let h=0;h<t.length;h++){const v=t[h].high,g=t[h].low,m=t[h].close;s.push(X.isValid(v)?v:null),l.push(X.isValid(g)?g:null),u.push(X.isValid(m)?m:null)}const c=[];for(let h=0;h<t.length;h++){if(h<e-1){c.push(null);continue}let v=0,g=0;for(let m=0;m<e;m++){const x=h-m;if(x>=0){let _=0;if(x>0&&X.isValid(s[x])&&X.isValid(l[x])&&X.isValid(u[x-1])){const b=s[x]-l[x],w=Math.abs(s[x]-u[x-1]),T=Math.abs(l[x]-u[x-1]);_=Math.max(b,w,T)}else X.isValid(s[x])&&X.isValid(l[x])&&(_=s[x]-l[x]);_>0&&(v+=_,g++)}}if(g>0){const m=v/g;c.push(isFinite(m)?m:null)}else c.push(null)}const f=[],d=[];for(let h=0;h<t.length;h++){if(h<o-1){f.push(null),d.push(null);continue}let v=-1/0,g=1/0;for(let _=0;_<e;_++){const b=h-_;if(b>=0&&X.isValid(s[b])&&X.isValid(l[b])&&X.isValid(c[b])){const w=s[b]-n*c[b],T=l[b]+n*c[b];v=Math.max(v,w),g=Math.min(g,T)}}let m=-1/0,x=1/0;for(let _=0;_<i;_++){const b=h-_;if(b>=0&&b<f.length&&f[b]!==null){const w=f[b];w!==null&&(m=Math.max(m,w))}if(b>=0&&b<d.length&&d[b]!==null){const w=d[b];w!==null&&(x=Math.min(x,w))}}m===-1/0&&(m=v),x===1/0&&(x=g),f.push(isFinite(m)?m:null),d.push(isFinite(x)?x:null)}return{long_stop:f,short_stop:d}}static decay(t,e=5,n="linear"){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||5,n=(n||"linear").toLowerCase(),t.length<e)return[];const i=[];for(let a=0;a<t.length;a++){const o=t[a].close;if(a===0){i.push(o);continue}if(a<e){i.push(o);continue}const s=t[a-1].close;if(!X.isValid(o)||!X.isValid(s)){i.push(null);continue}let l;n==="exp"?l=s-Math.exp(-e):l=s-1/e;const u=Math.max(o,l,0);i.push(isFinite(u)?u:null)}return i}static decreasing(t,e=1,n=!1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,n=!!n,t.length<e)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e){i.push(null);continue}let o;if(n){let s=!0;for(let l=0;l<e;l++){const u=a-l,c=a-l-1;if(u>=0&&c>=0){if(t[u].close>=t[c].close){s=!1;break}}else{s=!1;break}}o=s}else{const s=t[a].close,l=t[a-e].close;X.isValid(s)&&X.isValid(l)?o=s-l<0:o=!1}i.push(o?1:0)}return i}static dpo(t,e=20,n=!0){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||20,n=!!n,t.length<e)return[];const i=[],a=Math.floor(.5*e)+1;for(let o=0;o<t.length;o++){if(o<e-1){i.push(null);continue}let s=0,l=0;for(let f=0;f<e;f++){const d=o-f;d>=0&&(s+=t[d].close,l++)}if(l===0){i.push(null);continue}const u=s/l;let c;if(n){const f=o+a<t.length?t[o+a].close:null;f!==null&&X.isValid(f)?c=f-u:c=0}else{const f=o-a>=0?u:0;c=t[o].close-f}i.push(isFinite(c)?c:null)}return i}static increasing(t,e=1,n=!1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,n=!!n,t.length<e)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e){i.push(null);continue}let o;if(n){let s=!0;for(let l=0;l<e;l++){const u=a-l,c=a-l-1;if(u>=0&&c>=0){if(t[u].close<=t[c].close){s=!1;break}}else{s=!1;break}}o=s}else{const s=t[a].close,l=t[a-e].close;X.isValid(s)&&X.isValid(l)?o=s-l>0:o=!1}i.push(o?1:0)}return i}static longRun(t,e,n=2){if(!Array.isArray(t)||!Array.isArray(e)||t.length===0||e.length===0)return[];n=Math.max(1,Math.floor(n))||2;const i=Math.max(n,2);if(t.length<i||e.length<i)return[];const a=[];for(let o=0;o<Math.min(t.length,e.length);o++){if(o<i-1){a.push(null);continue}let s=!1,l=!1,u=!1,c=!1;o>=n&&X.isValid(t[o])&&X.isValid(t[o-n])&&(s=t[o]>t[o-n]),o>=n&&X.isValid(e[o])&&X.isValid(e[o-n])&&(l=e[o]<e[o-n]),o>=n&&X.isValid(t[o])&&X.isValid(t[o-n])&&(u=t[o]>t[o-n]),o>=n&&X.isValid(e[o])&&X.isValid(e[o-n])&&(c=e[o]>e[o-n]);const h=s&&l||u&&c;a.push(h?1:0)}return a}static psar(t,e=.02,n=.2){if(!Array.isArray(t)||t.length===0)return{long:[],short:[],af:[],reversal:[]};if(e=Math.max(.001,Math.min(e,1))||.02,n=Math.max(.001,Math.min(n,1))||.2,t.length<3)return{long:[],short:[],af:[],reversal:[]};const i=t.length,a=e;let o=!0,s=t[0].high,l=t[0].low;const u=[],c=[],f=[],d=[];for(let h=0;h<2;h++)u.push(null),c.push(null),f.push(0),d.push(a);for(let h=2;h<i;h++){let v=!1;if(d.push(e),o){let g=(u[h-1]||t[h-1].low||0)+e*(s-(u[h-1]||t[h-1].low||0));t[h].low&&g&&t[h].low<g&&(o=!1,v=!0,e=a,g=s,l=t[h].low),u.push(g),c.push(null)}else{let g=(c[h-1]||t[h-1].high||0)+e*(l-(c[h-1]||t[h-1].high||0));t[h].high&&g&&t[h].high>g&&(o=!0,v=!0,e=a,g=l,s=t[h].high),u.push(null),c.push(g)}f.push(v?1:0),v||(o?(t[h].high&&t[h].high>s&&(s=t[h].high,e=Math.min(e+a,n)),u[h]!==null&&(t[h-1].low&&t[h-1].low<u[h]&&(u[h]=t[h-1].low),t[h-2].low&&t[h-2].low<u[h]&&(u[h]=t[h-2].low))):(t[h].low&&t[h].low<l&&(l=t[h].low,e=Math.min(e+a,n)),c[h]!==null&&(t[h-1].high&&t[h-1].high>c[h]&&(c[h]=t[h-1].high),t[h-2].high&&t[h-2].high>c[h]&&(c[h]=t[h-2].high))))}return{long:u,short:c,af:d,reversal:f}}static qstick(t,e=10,n="sma"){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=n.toLowerCase()||"sma",t.length<e)return[];const i=[];for(let s=0;s<t.length;s++){const l=t[s].open,u=t[s].close;X.isValid(l)&&X.isValid(u)?i.push(u-l):i.push(null)}let a=[];const o=i.map((s,l)=>({timestamp:t[l]?.timestamp||0,open:s||0,high:s||0,low:s||0,close:s||0,volume:0}));switch(n){case"dema":a=Y.dema(o,e);break;case"ema":a=Y.ema(i,e);break;case"hma":a=Y.hma(i,e);break;case"rma":a=Y.rma(i,e);break;default:a=Y.sma(i,e);break}return a}static short_run(t,e,n=2){if(!Array.isArray(t)||!Array.isArray(e)||t.length===0||e.length===0)return[];n=Math.max(1,Math.floor(n))||2;const i=Math.max(n,2);if(t.length<i||e.length<i)return[];const a=[];for(let o=0;o<Math.min(t.length,e.length);o++){if(o<i-1){a.push(null);continue}let s=!1,l=!1,u=!1,c=!1;o>=n&&X.isValid(t[o])&&X.isValid(t[o-n])&&(s=t[o]<t[o-n]),o>=n&&X.isValid(e[o])&&X.isValid(e[o-n])&&(l=e[o]>e[o-n]),o>=n&&X.isValid(t[o])&&X.isValid(t[o-n])&&(u=t[o]<t[o-n]),o>=n&&X.isValid(e[o])&&X.isValid(e[o-n])&&(c=e[o]<e[o-n]);const h=s&&l||u&&c;a.push(h?1:0)}return a}static ttm_trend(t,e=6){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||6,t.length<e)return[];const n=[];for(let i=0;i<t.length;i++){if(i<e-1){n.push(null);continue}let a=0,o=0;for(let s=0;s<e;s++){const l=i-s;if(l>=0){const u=t[l].high,c=t[l].low;if(X.isValid(u)&&X.isValid(c)){const f=(u+c)/2;a+=f,o++}}}if(o>=e){a=a/e;const s=t[i].close;if(X.isValid(s)){const l=s>a?1:-1;n.push(l)}else n.push(null)}else n.push(null)}return n}static vortex(t,e=14,n=1){if(!Array.isArray(t)||t.length===0)return{vip:[],vim:[]};e=Math.max(1,Math.floor(e))||14,n=Math.max(1,Math.floor(n))||1;const i=Math.max(e,n);if(t.length<i)return{vip:[],vim:[]};const a=[],o=[];for(let s=0;s<t.length;s++){if(s<i-1){a.push(null),o.push(null);continue}if(s>0){const l=t[s].high,u=t[s].low,c=t[s-1].close;X.isValid(l)&&X.isValid(u)&&X.isValid(c)}if(s>=n){const l=t[s].high,u=t[s].low,c=t[s-n].high,f=t[s-n].low;X.isValid(l)&&X.isValid(u)&&X.isValid(c)&&X.isValid(f)}if(s>=e-1){let l=0,u=0,c=0,f=0;for(let d=0;d<e;d++){const h=s-d;if(h>=0){if(h>0){const v=t[h].high,g=t[h].low,m=t[h-1].close;if(X.isValid(v)&&X.isValid(g)&&X.isValid(m)){const x=Math.abs(v-g),_=Math.abs(v-m),b=Math.abs(g-m),w=Math.max(x,_,b);l+=w}}if(h>=n){const v=t[h].high,g=t[h].low,m=t[h-n].high,x=t[h-n].low;X.isValid(v)&&X.isValid(g)&&X.isValid(m)&&X.isValid(x)&&(u+=Math.abs(v-x),c+=Math.abs(g-m))}f++}}if(f>=e&&l>0){const d=u/l,h=c/l;a.push(d),o.push(h)}else a.push(null),o.push(null)}else a.push(null),o.push(null)}return{vip:a,vim:o}}static aberration(t,e=5,n=15){if(!Array.isArray(t)||t.length===0)return{zg:[],sg:[],xg:[],atr:[]};e=Math.max(1,Math.floor(e))||5,n=Math.max(1,Math.floor(n))||15;const i=Math.max(n,e);if(t.length<i)return{zg:[],sg:[],xg:[],atr:[]};const a=[],o=[],s=[],l=[];for(let u=0;u<t.length;u++){if(u<i-1){a.push(null),o.push(null),s.push(null),l.push(null);continue}const c=t[u].high,f=t[u].low,d=t[u].close;if(!X.isValid(c)||!X.isValid(f)||!X.isValid(d)){a.push(null),o.push(null),s.push(null),l.push(null);continue}let h=0;if(u>=n-1){let x=0,_=0;for(let b=0;b<n;b++){const w=u-b;if(w>0){const T=t[w].high,A=t[w].low,M=t[w-1].close;if(X.isValid(T)&&X.isValid(A)&&X.isValid(M)){const D=Math.abs(T-A),P=Math.abs(T-M),I=Math.abs(A-M),R=Math.max(D,P,I);x+=R,_++}}}_>0&&(h=x/_)}let v=0;if(u>=e-1){let x=0,_=0;for(let b=0;b<e;b++){const w=u-b;if(w>=0){const T=t[w].high,A=t[w].low,M=t[w].close;if(X.isValid(T)&&X.isValid(A)&&X.isValid(M)){const D=(T+A+M)/3;x+=D,_++}}}_>0&&(v=x/_)}const g=v+h,m=v-h;a.push(v>0?v:null),o.push(g>0?g:null),s.push(m>0?m:null),l.push(h>0?h:null)}return{zg:a,sg:o,xg:s,atr:l}}static accbands(t,e=20,n=4,i=1,a="sma"){if(!Array.isArray(t)||t.length===0)return{lower:[],mid:[],upper:[]};e=Math.max(1,Math.floor(e))||20,n=Math.max(.1,n)||4,i=Math.max(1,Math.floor(i))||1,a=a?.toLowerCase()||"sma";const o=Math.max(e,i);if(t.length<o)return{lower:[],mid:[],upper:[]};const s=[],l=[],u=[];for(let c=0;c<t.length;c++){if(c<o-1){s.push(null),l.push(null),u.push(null);continue}const f=t[c].high,d=t[c].low,h=t[c].close;if(!X.isValid(f)||!X.isValid(d)||!X.isValid(h)){s.push(null),l.push(null),u.push(null);continue}const v=f-d,g=f+d;if(g===0){s.push(null),l.push(null),u.push(null);continue}const m=n*v/g,x=d*(1-m),_=f*(1+m);let b=0,w=0,T=0;if(c>=e-1){let A=0,M=0,D=0,P=0;for(let I=0;I<e;I++){const R=c-I;if(R>=0){const k=t[R].high,O=t[R].low,V=t[R].close;if(X.isValid(k)&&X.isValid(O)&&X.isValid(V)){const N=k-O,L=k+O;if(L!==0){const G=n*N/L,W=O*(1-G),U=k*(1+G);A+=W,M+=V,D+=U,P++}}}}if(P>0)if(a==="ema"){const I=2/(e+1);if(c===e-1)b=A/P,w=M/P,T=D/P;else{const R=s[c-1],k=l[c-1],O=u[c-1];R!==null&&k!==null&&O!==null?(b=I*x+(1-I)*R,w=I*h+(1-I)*k,T=I*_+(1-I)*O):(b=A/P,w=M/P,T=D/P)}}else b=A/P,w=M/P,T=D/P}s.push(b>0?b:null),l.push(w>0?w:null),u.push(T>0?T:null)}return{lower:s,mid:l,upper:u}}static slope(t,e=1,n=!1,i=!1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,n=!!n,i=!!i,t.length<e)return[];const a=[];for(let o=0;o<t.length;o++){if(o<e-1){a.push(null);continue}const s=t[o].close,l=t[o-e].close;if(!X.isValid(s)||!X.isValid(l)){a.push(null);continue}let u=(s-l)/e;n&&(u=Math.atan(u),i&&(u*=180/Math.PI)),a.push(u)}return a}static linreg(t,e=14,n=!1,i=!1,a=!1,o=!1,s=!1,l=!1,u=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,t.length<e)return[];const c=Array.from({length:e},(m,x)=>x+1),f=.5*e*(e+1),d=f*(2*e+1)/3,h=e*d-f*f,v=m=>{if(m.length!==e)return 0;let x=0,_=0;for(let T=0;T<e;T++)x+=m[T],_+=c[T]*m[T];const b=(e*_-f*x)/h;if(s)return b;const w=(x*d-f*_)/h;if(i)return w;if(n){let T=Math.atan(b);return a&&(T*=180/Math.PI),T}if(o){let T=0;for(let D=0;D<e;D++)T+=m[D]*m[D];const A=e*_-f*x,M=Math.sqrt(h*(e*T-x*x));return Math.abs(M)<1e-10?0:A/M}return l?b*e+w:b*(e-1)+w},g=[];for(let m=0;m<t.length;m++){if(m<e-1){g.push(null);continue}try{const x=[];for(let _=0;_<e;_++){const b=m-e+1+_;if(b>=0&&b<t.length){const w=Y.getNumVal(u,t[b]);X.isValid(w)?x.push(w):x.push(0)}}if(x.length===e){const _=v(x);g.push(isFinite(_)?_:null)}else g.push(null)}catch{g.push(null)}}return g}static midpoint(t,e=2,n=null,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||2,n=n!==null?Math.max(1,Math.floor(n)):e,t.length<Math.max(e,n))return[];const a=[];for(let o=0;o<t.length;o++){if(o<n-1){a.push(null);continue}let s=-1/0,l=1/0,u=0;for(let c=0;c<e;c++){const f=o-c;if(f>=0){const d=Y.getNumVal(i,t[f]);X.isValid(d)&&(s=Math.max(s,d),l=Math.min(l,d),u++)}}if(u>=n){const c=.5*(l+s);a.push(isFinite(c)?c:null)}else a.push(null)}return a}static midprice(t,e=2,n=null){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||2,n=n!==null?Math.max(1,Math.floor(n)):e;const i=Math.max(e,n);if(t.length<i)return[];const a=[];for(let o=0;o<t.length;o++){if(o<n-1){a.push(null);continue}let s=-1/0,l=1/0,u=0;for(let c=0;c<e;c++){const f=o-c;if(f>=0){const d=t[f].high,h=t[f].low;X.isValid(d)&&X.isValid(h)&&(s=Math.max(s,d),l=Math.min(l,h),u++)}}if(u>=n){const c=.5*(l+s);a.push(isFinite(c)?c:null)}else a.push(null)}return a}static pwma(t,e=10,n=!0,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=!!n,t.length<e)return[];const a=Y.generatePascalsTriangle(e-1,n),o=[];for(let s=0;s<t.length;s++){if(s<e-1){o.push(null);continue}let l=0,u=0;for(let c=0;c<e;c++){const f=s-e+1+c,d=Y.getNumVal(i,t[f]);X.isValid(d)&&(l+=d*a[c],u+=a[c])}o.push(u>0?l/u:null)}return o}static generatePascalsTriangle(t,e=!0){const n=[];for(let i=0;i<=t;i++)if(i===0||i===t)n.push(1);else{let a=1,o=1;for(let s=0;s<i;s++)a*=t-s,o*=s+1;n.push(a/o)}return e?n:n.reverse()}static sinwma(t,e=14,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,t.length<e)return[];const i=Y.generateSineWeights(e),a=i.map(s=>s/i.reduce((l,u)=>l+u,0)),o=[];for(let s=0;s<t.length;s++){if(s<e-1){o.push(null);continue}let l=0,u=0;for(let c=0;c<Math.min(e,t.length-(s-e+1));c++){const f=s-e+1+c;if(f>=0&&f<t.length){const d=Y.getNumVal(n,t[f]);X.isValid(d)&&(l+=d*a[c],u+=a[c])}}o.push(u>0?l/u:null)}return o}static generateSineWeights(t){const e=[];for(let n=0;n<t;n++){const i=Math.sin((n+1)*Math.PI/(t+1));e.push(i)}return e}static ssf(t,e=10,n=2,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=n===3?3:2,t.length<e)return[];const a=[],o=t.length;for(let s=0;s<Math.min(n,o);s++){const l=Y.getNumVal(i,t[s]);a.push(X.isValid(l)?l:null)}if(n===3){const s=Math.PI/e,l=Math.exp(-s),u=2*l*Math.cos(Math.sqrt(3)*s),c=l*l,f=c*c,d=-c*(1+u),h=c+u,v=1-h-d-f;for(let g=n;g<o;g++){const m=Y.getNumVal(i,t[g]);if(!X.isValid(m)){a.push(null);continue}let x=v*m;g-1>=0&&a[g-1]!==null&&(x+=h*(a[g-1]||0)),g-2>=0&&a[g-2]!==null&&(x+=d*(a[g-2]||0)),g-3>=0&&a[g-3]!==null&&(x+=f*(a[g-3]||0)),a.push(x)}}else{const s=Math.PI*Math.sqrt(2)/e,l=Math.exp(-s),u=-l*l,c=2*l*Math.cos(s),f=1-u-c;for(let d=n;d<o;d++){const h=Y.getNumVal(i,t[d]);if(!X.isValid(h)){a.push(null);continue}let v=f*h;d-1>=0&&a[d-1]!==null&&(v+=c*(a[d-1]||0)),d-2>=0&&a[d-2]!==null&&(v+=u*(a[d-2]||0)),a.push(v)}}return a}static supertrend(t,e=7,n=3){if(!Array.isArray(t)||t.length===0)return{trend:[],direction:[],long:[],short:[]};if(e=Math.max(1,Math.floor(e))||7,n=Math.max(.1,parseFloat(n.toString()))||3,t.length<e)return{trend:[],direction:[],long:[],short:[]};const i=t.length,a=new Array(i).fill(1),o=new Array(i).fill(null),s=new Array(i).fill(null),l=new Array(i).fill(null),u=[];for(let h=0;h<i;h++){const v=t[h].high,g=t[h].low;X.isValid(v)&&X.isValid(g)?u.push((v+g)/2):u.push(null)}const c=Y.atr(t,e),f=[],d=[];for(let h=0;h<i;h++)if(u[h]!==null&&c[h]!==null){const v=n*c[h];f.push(u[h]+v),d.push(u[h]-v)}else f.push(null),d.push(null);for(let h=1;h<i;h++){const v=t[h].close,g=f[h-1],m=d[h-1];!X.isValid(v)||g===null||m===null||(v>g?a[h]=1:v<m?a[h]=-1:(a[h]=a[h-1],a[h]===1&&d[h]!==null&&m!==null&&d[h]<m&&(d[h]=m),a[h]===-1&&f[h]!==null&&g!==null&&f[h]>g&&(f[h]=g)),a[h]===1?(o[h]=s[h]=d[h],l[h]=null):(o[h]=l[h]=f[h],s[h]=null))}return{trend:o,direction:a,long:s,short:l}}static swma(t,e=10,n=!0,i=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=n!==!1,t.length<e)return[];const a=Y.generateSymmetricTriangleWeights(e),o=[];for(let s=0;s<t.length;s++){if(s<e-1){o.push(null);continue}let l=0,u=0;for(let c=0;c<e;c++){const f=s-e+1+c,d=Y.getNumVal(i,t[f]);if(X.isValid(d)){const h=n?a[c]:a[e-1-c];l+=d*h,u+=h}}o.push(u>0?l/u:null)}return o}static generateSymmetricTriangleWeights(t){const e=[],n=Math.floor(t/2);for(let i=0;i<t;i++)t%2===0?i<n?e.push(i+1):e.push(t-i):i<=n?e.push(i+1):e.push(t-i);return e}static calcVolatility(t,e=20){return t.map((n,i)=>{if(i<e)return null;const a=[];for(let l=i-e+1;l<=i;l++){const u=t[l].close,c=t[l-1]?.close||u;c!==0&&a.push(Math.log(u/c))}if(a.length===0)return null;const o=a.reduce((l,u)=>l+u,0)/a.length,s=a.reduce((l,u)=>l+Math.pow(u-o,2),0)/a.length;return Math.sqrt(s*252)*100})}static avg(t,e=null,n=4){let i=0,a=0;return t.forEach(o=>{const s=Y.getNumVal(e,o);X.isValid(s)&&(i+=s,a++)}),a>0?Number((i/a).toFixed(n)):0}static hhv(t,e,n=null){const i=Math.max(1,parseInt(String(e)));return t.map((a,o)=>{if(o<i-1)return null;let s=null;for(let l=o-i+1;l<=o;l++){const u=Y.getNumVal(n,t[l]);X.isValid(u)&&(s=s===null?u:Math.max(s,u))}return s})}static llv(t,e,n=null){const i=Math.max(1,parseInt(String(e)));return t.map((a,o)=>{if(o<i-1)return null;let s=null;for(let l=o-i+1;l<=o;l++){const u=Y.getNumVal(n,t[l]);X.isValid(u)&&(s=s===null?u:Math.min(s,u))}return s})}static cross(t,e,n=null){let i=null,a=null,o=null;if(Array.isArray(t))if(Array.isArray(e))i=t.length<=e.length?t:e,a=t.length<=e.length?e:t;else{const u=Number(e);X.isValid(u)&&(i=t,o=u)}else if(Array.isArray(e)){const u=Number(t);X.isValid(u)&&(i=e,o=u)}if(!i)return[];let s,l;return i.map((u,c)=>{if(o===null&&a===null)return null;const f=Y.getNumVal(n,u);let d;o===null&&a?d=Y.getNumVal(n,a[c]):d=o;let h=null;return c>0&&X.isValid(s)&&X.isValid(l)&&X.isValid(f)&&X.isValid(d)&&(s>l&&f<=d?h={val1:f,val2:d,type:"down"}:s<l&&f>=d&&(h={val1:f,val2:d,type:"up"})),s=f,l=d,h})}static throughUp(t,e,n=null){let i,a;return t.map((o,s)=>{const l=Y.getNumVal(n,o);let u;Array.isArray(e)?u=Y.getNumVal(n,e[s]):u=Y.getNumVal(n,e);let c=null;return s>0&&X.isValid(i)&&X.isValid(a)&&X.isValid(l)&&X.isValid(u)&&i<a&&l>=u&&(c={val1:l,val2:u}),i=l,a=u,c})}static throughDown(t,e,n=null){let i,a;return t.map((o,s)=>{const l=Y.getNumVal(n,o);let u;Array.isArray(e)?u=Y.getNumVal(n,e[s]):u=Y.getNumVal(n,e);let c=null;return s>0&&X.isValid(i)&&X.isValid(a)&&X.isValid(l)&&X.isValid(u)&&i>a&&l<=u&&(c={val1:l,val2:u}),i=l,a=u,c})}static kdj(t,e=9,n=3){if(!Array.isArray(t)||t.length===0)return{k:[],d:[],j:[]};e=Math.max(1,Math.floor(e))||9,n=Math.max(1,Math.floor(n))||3;const i=Math.max(e,n);if(t.length<i)return{k:[],d:[],j:[]};const a=[],o=[],s=[];for(let f=0;f<t.length;f++){if(f<e-1){o.push(null),s.push(null);continue}let d=-1/0,h=1/0,v=0;for(let g=0;g<e;g++){const m=f-g;if(m>=0&&t[m]){const x=t[m];X.isValid(x.high)&&X.isValid(x.low)&&(d=Math.max(d,x.high),h=Math.min(h,x.low),v++)}}if(v===0){o.push(null),s.push(null);continue}o.push(d),s.push(h)}const l=[];for(let f=0;f<t.length;f++){const d=t[f],h=o[f],v=s[f];if(!d||h===null||v===null||!X.isValid(d.close)||!X.isValid(d.high)||!X.isValid(d.low)){l.push(null);continue}const g=h-v;if(g===0){l.push(0);continue}const m=100*(d.close-v)/g;l.push(m)}const u=Y.rma(l,n),c=Y.rma(u,n);for(let f=0;f<t.length;f++){const d=u[f],h=c[f];if(d===null||h===null){a.push(null);continue}a.push(3*d-2*h)}return{k:u,d:c,j:a}}static boll(t,e=20,n=2,i=null){const a=e;let o=0;return t.map((s,l)=>{const u=Y.getNumVal(i,s),c={};if(l<a-1)return o+=u,c;if(l===a-1)o+=u;else{const h=Y.getNumVal(i,t[l-a]);o=o-h+u}c.mid=o/a;let f=0;for(let h=l-a+1;h<=l;h++){const v=Y.getNumVal(i,t[h]);f+=Math.pow(v-c.mid,2)}const d=Math.sqrt(f/a);return c.ub=c.mid+n*d,c.lb=c.mid-n*d,c})}static macd(t,e=12,n=26,i=9){if(!Array.isArray(t)||t.length===0)return{macd:[],histogram:[],signal:[]};e=Math.max(1,Math.floor(e))||12,n=Math.max(1,Math.floor(n))||26,i=Math.max(1,Math.floor(i))||9,n<e&&([e,n]=[n,e]);const a=Math.max(e,n,i);if(t.length<a)return{macd:[],histogram:[],signal:[]};const o=Y.ema(t,e,"close"),s=Y.ema(t,n,"close"),l=[];for(let f=0;f<t.length;f++){const d=o[f],h=s[f];if(d===null||h===null){l.push(null);continue}l.push(d-h)}const u=Y.ema(l,i),c=[];for(let f=0;f<t.length;f++){const d=l[f],h=u[f];if(d===null||h===null){c.push(null);continue}c.push(d-h)}return{macd:l,histogram:c,signal:u}}static tr(t,e=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,t.length<e)return[];const n=[];for(let i=0;i<t.length;i++){if(i<e){n.push(null);continue}const a=t[i],o=t[i-e],s=a.high-a.low,l=Math.abs(a.high-o.close),u=Math.abs(a.low-o.close);n.push(Math.max(s,l,u))}return n}static atr(t,e=14,n="rma",i=1,a=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,i=Math.max(1,Math.floor(i))||1,n=n.toLowerCase(),t.length<Math.max(e,i))return[];const o=Y.tr(t,i);let s;switch(n){case"sma":s=Y.sma(o,e,a);break;case"ema":s=Y.ema(o,e,a);break;case"wma":s=Y.wma(o,e,a);break;default:s=Y.rma(o,e,a);break}return s}static atrWithRMA(t,e=14){const n=t.map((i,a)=>{if(a===0)return{tr:i.high-i.low};const o=t[a-1];return{tr:Math.max(i.high-i.low,Math.abs(i.high-o.close),Math.abs(i.low-o.close))}});return Y.rma(n,e,"tr")}static adxWithRMA(t,e=14){const n=t.map((f,d)=>{if(d===0)return{tr:0,dmPlus:0,dmMinus:0};const h=t[d-1],v=f.high,g=f.low,m=h.high,x=h.low,_=h.close,b=Math.max(v-g,Math.abs(v-_),Math.abs(g-_)),w=v-m,T=x-g;let A=0,M=0;return w>T&&w>0&&(A=w),T>w&&T>0&&(M=T),{tr:b,dmPlus:A,dmMinus:M}}),i=Y.rma(n,e,"tr"),a=Y.rma(n,e,"dmPlus"),o=Y.rma(n,e,"dmMinus"),s=t.map((f,d)=>i[d]===null||i[d]===0||a[d]===null?null:a[d]/i[d]*100),l=t.map((f,d)=>i[d]===null||i[d]===0||o[d]===null?null:o[d]/i[d]*100),c=t.map((f,d)=>{if(s[d]===null||l[d]===null)return null;const h=s[d],v=l[d],g=h+v;return g===0?null:Math.abs(h-v)/g*100}).map((f,d)=>({dx:f||0}));return Y.rma(c,e,"dx")}static rsi(t,e=14,n=100,i=1,a=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,n=Math.max(.1,n)||100,i=Math.max(1,Math.floor(i))||1,t.length<Math.max(e,i))return[];const o=[];for(let d=0;d<t.length;d++){if(d<i){o.push(null);continue}const h=Y.getNumVal(a,t[d]),v=Y.getNumVal(a,t[d-i]);if(!X.isValid(h)||!X.isValid(v)){o.push(null);continue}o.push(h-v)}const s=[],l=[];for(let d=0;d<t.length;d++){const h=o[d];if(h===null){s.push(null),l.push(null);continue}s.push(h>0?h:0),l.push(h<0?Math.abs(h):0)}const u=Y.rma(s,e),c=Y.rma(l,e),f=[];for(let d=0;d<t.length;d++){const h=u[d],v=c[d];if(h===null||v===null){f.push(null);continue}const g=h+v;if(g===0){f.push(0);continue}f.push(n*h/g)}return f}static cci(t,e=20){const n=e;let i=0;return t.map((a,o)=>{const s=(a.high+a.low+a.close)/3;if(o<n-1)return i+=s,null;if(o===n-1)i+=s;else{const f=(t[o-n].high+t[o-n].low+t[o-n].close)/3;i=i-f+s}const l=i/n;let u=0;for(let f=o-n+1;f<=o;f++){const d=(t[f].high+t[f].low+t[f].close)/3;u+=Math.abs(d-l)}const c=u/n;return c!==0?(s-l)/c/.015:0})}static mom(t,e=1,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,t.length<e)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e){i.push(null);continue}const o=Y.getNumVal(n,t[a]),s=Y.getNumVal(n,t[a-e]);if(!X.isValid(o)||!X.isValid(s)){i.push(null);continue}i.push(o-s)}return i}static pgo(t,e=14,n=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,t.length<e)return[];const i=Y.atr(t,e),a=Y.sma(t,e),o=Y.ema(i,e),s=[];for(let l=0;l<t.length;l++){const u=Y.getNumVal(n,t[l]),c=a[l],f=o[l];if(!X.isValid(u)||c===null||f===null||f===0){s.push(null);continue}const d=(u-c)/f;s.push(d)}return s}static ppo(t,e=12,n=26,i=9,a=100){if(!Array.isArray(t)||t.length===0)return{ppo:[],histogram:[],signal:[]};e=Math.max(1,Math.floor(e))||12,n=Math.max(1,Math.floor(n))||26,i=Math.max(1,Math.floor(i))||9,a=Math.max(.1,a)||100,n<e&&([e,n]=[n,e]);const o=Math.max(e,n,i);if(t.length<o)return{ppo:[],histogram:[],signal:[]};const s=Y.sma(t,e),l=Y.sma(t,n),u=[];for(let d=0;d<t.length;d++){const h=s[d],v=l[d];if(h===null||v===null||v===0){u.push(null);continue}const g=a*(h-v)/v;u.push(g)}const c=Y.ema(u,i),f=[];for(let d=0;d<t.length;d++){const h=u[d],v=c[d];if(h===null||v===null){f.push(null);continue}f.push(h-v)}return{ppo:u,histogram:f,signal:c}}static sign(t){return t>0?1:t<0?-1:0}static psl(t,e=12,n=100,i=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||12,n=Math.max(.1,n)||100,i=Math.max(1,Math.floor(i))||1,t.length<Math.max(e,i))return[];const a=[];for(let s=0;s<t.length;s++){if(s<i){a.push(0);continue}const l=t[s].close,u=t[s-i].close;if(!X.isValid(l)||!X.isValid(u)){a.push(0);continue}const c=l-u,f=Y.sign(c);a.push(f>0?1:0)}const o=[];for(let s=0;s<t.length;s++){if(s<e-1){o.push(null);continue}let l=0,u=0;for(let f=0;f<e;f++){const d=s-f;d>=0&&a[d]!==void 0&&(l+=a[d],u++)}if(u===0){o.push(null);continue}const c=n*l/e;o.push(c)}return o}static pvo(t,e=12,n=26,i=9,a=100){if(!Array.isArray(t)||t.length===0)return{pvo:[],histogram:[],signal:[]};e=Math.max(1,Math.floor(e))||12,n=Math.max(1,Math.floor(n))||26,i=Math.max(1,Math.floor(i))||9,a=Math.max(.1,a)||100,n<e&&([e,n]=[n,e]);const o=Math.max(e,n,i);if(t.length<o)return{pvo:[],histogram:[],signal:[]};const s=t.map(h=>h.volume||0),l=Y.ema(s,e),u=Y.ema(s,n),c=[];for(let h=0;h<t.length;h++){if(h<n-1){c.push(null);continue}const v=l[h],g=u[h];if(v===null||g===null||g===0){c.push(null);continue}const m=a*(v-g)/g;c.push(m)}const f=Y.ema(c,i),d=[];for(let h=0;h<t.length;h++){const v=c[h],g=f[h];if(v===null||g===null){d.push(null);continue}d.push(v-g)}return{pvo:c,histogram:d,signal:f}}static qqe(t,e=14,n=5,i=4.236,a="ema",o=1){if(!Array.isArray(t)||t.length===0)return{qqe:[],rsi_ma:[],qqe_long:[],qqe_short:[]};e=Math.max(1,Math.floor(e))||14,n=Math.max(1,Math.floor(n))||5,i=Math.max(.1,i)||4.236,o=Math.max(1,Math.floor(o))||1;const s=2*e-1,l=Math.max(e,n,s);if(t.length<l)return{qqe:[],rsi_ma:[],qqe_long:[],qqe_short:[]};const u=Y.rsi(t,e);let c;switch(a.toLowerCase()){case"sma":c=Y.sma(u,n);break;case"ema":c=Y.ema(u,n);break;case"hma":c=Y.hma(u,n);break;case"rma":c=Y.rma(u,n);break;case"wma":c=Y.wma(u,n);break;default:c=Y.ema(u,n)}const f=[];for(let A=0;A<t.length;A++){if(A<o){f.push(null);continue}const M=c[A],D=c[A-o];if(M===null||D===null){f.push(null);continue}f.push(Math.abs(M-D))}const d=Y.ema(f,s),h=Y.ema(d,s).map(A=>A!==null?i*A:null),v=[],g=[];for(let A=0;A<t.length;A++){const M=c[A],D=h[A];if(M===null||D===null){v.push(null),g.push(null);continue}v.push(M+D),g.push(M-D)}const m=new Array(t.length).fill(null),x=new Array(t.length).fill(null),_=new Array(t.length).fill(1),b=new Array(t.length).fill(null),w=new Array(t.length).fill(null),T=new Array(t.length).fill(null);b[0]=c[0],w[0]=c[0],T[0]=c[0];for(let A=1;A<t.length;A++){const M=c[A],D=c[A-1],P=m[A-1],I=A>1?m[A-2]:P,R=x[A-1],k=A>1?x[A-2]:R;M===null||D===null||(D>(P||0)&&M>(P||0)?m[A]=Math.max(P||0,g[A]||0):m[A]=g[A],D<(R||100)&&M<(R||100)?x[A]=Math.min(R||100,v[A]||100):x[A]=v[A],M>(R||0)&&D<=(k||0)||M<=(R||0)&&D>=(k||0)?(_[A]=1,b[A]=w[A]=m[A]):M>(P||0)&&D<=(I||0)||M<=(P||0)&&D>=(I||0)?(_[A]=-1,b[A]=T[A]=x[A]):(_[A]=_[A-1],_[A]===1?b[A]=w[A]=m[A]:b[A]=T[A]=x[A]))}return{qqe:b,rsi_ma:c,qqe_long:w,qqe_short:T}}static rsx(t,e=14,n=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,n=Math.max(1,Math.floor(n))||1,t.length<Math.max(e,n))return[];let i=0,a=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,h=0,v=0,g=0,m=0,x=0,_=0,b=0,w=0,T=0,A=0,M=0,D=0,P=0,I=0,R=0,k=0,O=0,V=0;const N=[];for(let L=0;L<e-1;L++)N.push(null);N.push(0);for(let L=e;L<t.length;L++)V===0?(V=1,d=0,e-1>=5?O=e-1:O=5,h=100*t[L].close,g=3/(e+2),m=1-g):(O<=V?V=O+1:V=V+1,v=h,h=100*t[L].close,s=h-v,x=m*x+g*s,_=g*x+m*_,i=1.5*x-.5*_,b=m*b+g*i,w=g*b+m*w,l=1.5*b-.5*w,T=m*T+g*l,A=g*T+m*A,u=1.5*T-.5*A,M=m*M+g*Math.abs(s),D=g*M+m*D,c=1.5*M-.5*D,P=m*P+g*c,I=g*P+m*I,a=1.5*P-.5*I,R=m*R+g*a,k=g*R+m*k,f=1.5*R-.5*k,O>=V&&h!==v&&(d=1),O===V&&d===0&&(V=0)),O<V&&f>1e-10?(o=(u/f+1)*50,o>100&&(o=100),o<0&&(o=0)):o=50,N.push(o);return N}static rvgi(t,e=14,n=4){if(!Array.isArray(t)||t.length===0)return{rvgi:[],signal:[]};e=Math.max(1,Math.floor(e))||14,n=Math.max(1,Math.floor(n))||4;const i=Math.max(e,n);if(t.length<i)return{rvgi:[],signal:[]};const a=[],o=[];for(let f=0;f<t.length;f++){const d=t[f];if(!X.isValid(d.close)||!X.isValid(d.open)||!X.isValid(d.high)||!X.isValid(d.low)){a.push(null),o.push(null);continue}a.push(d.close-d.open),o.push(d.high-d.low)}const s=Y.swmaLegacy(a,n),l=Y.swmaLegacy(o,n),u=[];for(let f=0;f<t.length;f++){if(f<i-1){u.push(null);continue}let d=0,h=0;for(let x=0;x<e;x++){const _=f-x,b=s[_];b!==null&&(d+=b,h++)}let v=0,g=0;for(let x=0;x<e;x++){const _=f-x,b=l[_];b!==null&&(v+=b,g++)}if(h===0||g===0||v===0){u.push(null);continue}const m=d/v;u.push(m)}const c=Y.swma(u,n);return{rvgi:u,signal:c}}static smi(t,e=5,n=20,i=5,a=1){if(!Array.isArray(t)||t.length===0)return{smi:[],signal:[],osc:[]};e=Math.max(1,Math.floor(e))||5,n=Math.max(1,Math.floor(n))||20,i=Math.max(1,Math.floor(i))||5,a=Number(a)||1,n<e&&([e,n]=[n,e]);const o=Math.max(e,n,i);if(t.length<o+1)return{smi:[],signal:[],osc:[]};const s=Y.tsi(t,e,n,a),l=Y.ema(s,i),u=[];for(let c=0;c<t.length;c++){const f=s[c],d=l[c];if(f===null||d===null){u.push(null);continue}u.push(f-d)}return{smi:s,signal:l,osc:u}}static squeeze(t,e=20,n=2,i=20,a=1.5,o=12,s=6,l="sma"){if(!Array.isArray(t)||t.length===0)return{sqz:[],sqz_on:[],sqz_off:[],no_sqz:[]};e=Math.max(1,Math.floor(e))||20,n=Number(n)||2,i=Math.max(1,Math.floor(i))||20,a=Number(a)||1.5,o=Math.max(1,Math.floor(o))||12,s=Math.max(1,Math.floor(s))||6,l=String(l).toLowerCase();const u=Math.max(e,i,o,s);if(t.length<u+1)return{sqz:[],sqz_on:[],sqz_off:[],no_sqz:[]};const c={upper:[],lower:[]},f=Y.kc(t,i,a,"ema"),d=Y.mom(t,o);let h;l==="ema"?h=Y.ema(d,s):h=Y.sma(d,s);const v=[],g=[],m=[];for(let x=0;x<t.length;x++){const _=c.lower[x],b=c.upper[x],w=f.lower[x],T=f.upper[x];if(_===null||b===null||w===null||T===null){v.push(null),g.push(null),m.push(null);continue}const A=_>w&&b<T,M=_<w&&b>T,D=!A&&!M;v.push(A?1:0),g.push(M?1:0),m.push(D?1:0)}return{sqz:h,sqz_on:v,sqz_off:g,no_sqz:m}}static stochrsi(t,e=14,n=14,i=3,a=3){if(!Array.isArray(t)||t.length===0)return{k:[],d:[]};e=Math.max(1,Math.floor(e))||14,n=Math.max(1,Math.floor(n))||14,i=Math.max(1,Math.floor(i))||3,a=Math.max(1,Math.floor(a))||3;const o=Math.max(e,n,i,a);if(t.length<o)return{k:[],d:[]};const s=Y.rsi(t,n),l=[],u=[];for(let h=0;h<t.length;h++){if(h<e-1){l.push(null),u.push(null);continue}let v=s[h],g=s[h];for(let m=1;m<e;m++){const x=h-m;x>=0&&s[x]!==null&&((v===null||s[x]<v)&&(v=s[x]),(g===null||s[x]>g)&&(g=s[x]))}l.push(v),u.push(g)}const c=[];for(let h=0;h<t.length;h++){const v=s[h],g=l[h],m=u[h];if(v===null||g===null||m===null){c.push(null);continue}const x=m-g;if(x===0)c.push(0);else{const _=100*(v-g)/x;c.push(_)}}const f=Y.sma(c,i),d=Y.sma(f,a);return{k:f,d}}static td_seq(t,e=!1,n=!0){if(!Array.isArray(t)||t.length===0)return{up:[],down:[]};if(e=!!e,n=!!n,t.length<4)return{up:[],down:[]};const i=[],a=[];for(let c=0;c<t.length;c++){if(c<4){i.push(!1),a.push(!1);continue}const f=t[c].close,d=t[c-4].close;f>d?(i.push(!0),a.push(!1)):f<d?(i.push(!1),a.push(!0)):(i.push(!1),a.push(!1))}const o=c=>{let f=0,d=-1;for(let h=c.length-1;h>=0;h--)if(!c[h]){d=h;break}return d===-1?f=c.length:f=c.length-d-1,f},s=(c,f)=>{const d=[];for(let h=0;h<c.length;h++){if(h<4){d.push(null);continue}const v=Math.min(13,h+1),g=c.slice(h-v+1,h+1);let m=0;c[h]&&(m=o(g)),n?d.push(m===0?null:m):d.push(m>=6&&m<=9?m:null)}return d},l=s(i),u=s(a);if(e)for(let c=0;c<l.length;c++)l[c]=l[c]===null?0:l[c],u[c]=u[c]===null?0:u[c];return{up:l,down:u}}static tsi(t,e=13,n=25,i=100,a=1){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||13,n=Math.max(1,Math.floor(n))||25,i=Number(i)||100,a=Math.max(1,Math.floor(a))||1;const o=Math.max(e,n);if(t.length<o+a)return[];const s=[];for(let v=0;v<t.length;v++){if(v<a){s.push(null);continue}const g=t[v].close,m=t[v-a].close;if(!X.isValid(g)||!X.isValid(m)){s.push(null);continue}s.push(g-m)}const l=Y.ema(s,n),u=Y.ema(l,e),c=[];for(let v=0;v<t.length;v++){const g=s[v];if(g===null){c.push(null);continue}c.push(Math.abs(g))}const f=Y.ema(c,n),d=Y.ema(f,e),h=[];for(let v=0;v<t.length;v++){if(v<o){h.push(null);continue}const g=u[v],m=d[v];if(g===null||m===null||m===0){h.push(null);continue}const x=i*(g/m);h.push(x)}return h}static uo(t,e=7,n=14,i=28,a=4,o=2,s=1,l=1){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||7,n=Math.max(1,Math.floor(n))||14,i=Math.max(1,Math.floor(i))||28,a=Number(a)||4,o=Number(o)||2,s=Number(s)||1,l=Math.max(1,Math.floor(l))||1;const u=Math.max(e,n,i);if(t.length<u+l)return[];const c=[],f=[];for(let x=0;x<t.length;x++){if(x<l){c.push(null),f.push(null);continue}const _=t[x].high,b=t[x].low,w=t[x].close,T=t[x-l].close;if(!X.isValid(_)||!X.isValid(b)||!X.isValid(w)||!X.isValid(T)){c.push(null),f.push(null);continue}const A=Math.min(b,T),M=Math.max(_,T);c.push(w-A),f.push(M-A)}const d=[],h=[],v=[];for(let x=0;x<t.length;x++){if(x<e-1){d.push(null);continue}let _=0,b=0,w=0;for(let T=0;T<e;T++){const A=c[x-T],M=f[x-T];A!==null&&M!==null&&(_+=A,b+=M,w++)}w===e&&b!==0?d.push(_/b):d.push(null)}for(let x=0;x<t.length;x++){if(x<n-1){h.push(null);continue}let _=0,b=0,w=0;for(let T=0;T<n;T++){const A=c[x-T],M=f[x-T];A!==null&&M!==null&&(_+=A,b+=M,w++)}w===n&&b!==0?h.push(_/b):h.push(null)}for(let x=0;x<t.length;x++){if(x<i-1){v.push(null);continue}let _=0,b=0,w=0;for(let T=0;T<i;T++){const A=c[x-T],M=f[x-T];A!==null&&M!==null&&(_+=A,b+=M,w++)}w===i&&b!==0?v.push(_/b):v.push(null)}const g=a+o+s,m=[];for(let x=0;x<t.length;x++){const _=d[x],b=h[x],w=v[x];if(_!==null&&b!==null&&w!==null){const A=100*(a*_+o*b+s*w)/g;m.push(A)}else m.push(null)}return m}static willr(t,e=14){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,t.length<e)return[];const n=[];for(let i=0;i<t.length;i++){if(i<e-1){n.push(null);continue}let a=t[i].high,o=t[i].low;for(let l=1;l<e;l++){const u=i-l;if(u>=0){const c=t[u].high,f=t[u].low;X.isValid(c)&&c>a&&(a=c),X.isValid(f)&&f<o&&(o=f)}}const s=t[i].close;if(!X.isValid(s)||!X.isValid(a)||!X.isValid(o)){n.push(null);continue}if(a===o)n.push(0);else{const l=100*((s-o)/(a-o)-1);n.push(l)}}return n}static alma(t,e=10,n=6,i=.85){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=Number(n)||6,i=Math.max(0,Math.min(1,Number(i)))||.85,t.length<e)return[];const a=i*(e-1),o=e/n,s=[];for(let u=0;u<e;u++)s[u]=Math.exp(-1*((u-a)*(u-a))/(2*o*o));const l=[];for(let u=0;u<e-1;u++)l.push(null);l.push(0);for(let u=e;u<t.length;u++){let c=0,f=0;for(let d=0;d<e;d++){const h=t[u-d].close;X.isValid(h)&&(c+=s[d]*h,f+=s[d])}if(f===0)l.push(null);else{const d=c/f;l.push(d)}}return l}static roc(t,e=10){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const n=Y.mom(t,e,"close"),i=[];for(let a=0;a<t.length;a++){if(a<e){i.push(null);continue}const o=n[a],s=t[a-e].close;if(o===null||!X.isValid(s)||s===0){i.push(null);continue}i.push(100*o/s)}return i}static kijunV2(t,e=26,n=1){return t.map((i,a)=>{if(a<e-1)return null;const o=t.slice(a-e+1,a+1),s=Math.max(...o.map(f=>f.high)),l=Math.min(...o.map(f=>f.low)),u=(s+l)/2,c=i.close;return u+(c-u)*(n-1)})}static trix(t,e=30,n=9,i=100,a=1){if(!Array.isArray(t)||t.length===0)return{trix:[],signal:[]};e=Math.max(1,Math.floor(e))||30,n=Math.max(1,Math.floor(n))||9,i=Number(i)||100,a=Math.max(1,Math.floor(a))||1;const o=Math.max(e,n);if(t.length<o)return{trix:[],signal:[]};const s=Y.ema(t,e,"close"),l=Y.ema(s,e),u=Y.ema(l,e),c=[];for(let d=0;d<t.length;d++){if(d<a){c.push(null);continue}const h=u[d],v=u[d-a];if(h!==null&&v!==null&&v!==0){const g=(h-v)/v;c.push(i*g)}else c.push(null)}const f=Y.sma(c,n);return{trix:c,signal:f}}static brar(t,e=26,n=100,i=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||26,n=parseFloat(n.toString())||100,i=Math.max(1,Math.floor(i))||1,t.length<e)return[];const a=[],o=[],s=[],l=[],u=[];for(let c=0;c<t.length;c++){const f=t[c];if(!f||!X.isValid(f.open)||!X.isValid(f.high)||!X.isValid(f.low)||!X.isValid(f.close)){o.push(NaN),s.push(NaN),l.push(NaN),u.push(NaN);continue}if(o.push(f.high-f.open),s.push(f.open-f.low),c>=i){const d=t[c-i].close;if(X.isValid(d)){const h=f.high-d,v=d-f.low;l.push(h<0?0:h),u.push(v<0?0:v)}else l.push(NaN),u.push(NaN)}else l.push(NaN),u.push(NaN)}for(let c=0;c<t.length;c++){if(c<e-1){a.push(null);continue}let f=0,d=0,h=0,v=0,g=0;for(let _=c-e+1;_<=c;_++)_>=0&&!isNaN(o[_])&&!isNaN(s[_])&&!isNaN(l[_])&&!isNaN(u[_])&&(f+=o[_],d+=s[_],h+=l[_],v+=u[_],g++);if(g===0||d===0||v===0){a.push(null);continue}const m=n*f/d,x=n*h/v;a.push({ar:m,br:x})}return a}static vr(t,e=26){let n=0,i=0,a=0;return t.map((o,s)=>{const l=o.close,u=s===0?o.open:t[s-1].close,c=o.volume??0;if(l>u?n+=c:l<u?i+=c:a+=c,s>=e-1){const f=a/2,d=i+f===0?0:(n+f)/(i+f)*100,h=s-(e-1),v=t[h],g=h===0?v.open:t[h-1].close,m=v.close,x=v.volume??0;return m>g?n-=x:m<g?i-=x:a-=x,d}return null})}static obv(t){if(!Array.isArray(t)||t.length===0)return[];const e=Y.attr(t,"close"),n=Y.attr(t,"volume");if(!e||!n||e.length===0||n.length===0)return[];const i=[];let a=0;for(let o=0;o<t.length;o++){if(o===0){i.push(0);continue}const s=e[o],l=e[o-1],u=n[o];if(!X.isValid(s)||!X.isValid(l)||!X.isValid(u)){i.push(null);continue}const c=s-l;let f=0;c>0?f=u:c<0&&(f=-u),a+=f,isFinite(a)?i.push(a):i.push(null)}return i}static emv(t,e=14){let n=0;const i=[];return t.map((a,o)=>{if(o===0)return null;const s=t[o-1],l=a.volume??0,u=(a.high+a.low)/2,c=(s.high+s.low)/2,f=a.high-a.low;let d=0;if(l!==0&&(d=(u-c)*f/l),d=Number(d),i.push(d),n+=d,o>=e-1){const h=n;return n-=i[o-(e-1)],h}return null})}static vo(t,e=5,n=10){return t.map((i,a)=>{const o={up:0,down:0,val:0};if(a===0||!X.isValid(i.close)||!X.isValid(t[a-1].close))return o;const s=t[a-1],l=i.volume??0;if(i.close>s.close?(o.up=l,o.down=0):i.close<s.close?(o.up=0,o.down=l):(o.up=l/2,o.down=l/2),a>=Math.max(e,n)-1){let u=0,c=0,f=0,d=0;for(let g=a-e+1;g<=a;g++){const m=t[g],x=g>0?t[g-1]:m,_=m.volume??0;!X.isValid(m.close)||!X.isValid(x.close)||(m.close>x.close?u+=_:m.close<x.close?c+=_:(u+=_/2,c+=_/2))}for(let g=a-n+1;g<=a;g++){const m=t[g],x=g>0?t[g-1]:m,_=m.volume??0;!X.isValid(m.close)||!X.isValid(x.close)||(m.close>x.close?f+=_:m.close<x.close?d+=_:(f+=_/2,d+=_/2))}const h=u+c!==0?u/(u+c)*100:50,v=f+d!==0?f/(f+d)*100:50;o.val=h-v}return o})}static dmi(t,e=14,n=6){let i=0,a=0,o=0,s=0,l=0,u=0,c=0,f=0;return t.map((d,h)=>{const v={},g=t[h-1]||d,m=g.close,x=d.high,_=d.low,b=x-_,w=Math.abs(x-m),T=Math.abs(m-_),A=x-g.high,M=g.low-_,D=Math.max(Math.max(b,w),T),P=A>0&&A>M?A:0,I=M>0&&M>A?M:0;if(i+=D,a+=P,o+=I,h>=e-1){h>e-1?(s=s-s/e+D,l=l-l/e+P,u=u-u/e+I):(s=i,l=a,u=o);let R=0,k=0;s!==0&&(R=l*100/s,k=u*100/s),v.pdi=R,v.mdi=k;let O=0;k+R!==0&&(O=Math.abs(k-R)/(k+R)*100),h===e-1?c=O:c=(O+c*(n-1))/n,h>=e+n-2&&(v.adx=c),h>=e+n*2-3&&(h===e+n*2-3?f=c:f=(c+f*(n-1))/n,v.adxr=f)}return v})}static dma(t,e=10,n=50){const i=Math.max(e,n);let a=0,o=0;return t.map((s,l)=>{const u=s.close;a+=u,o+=u;let c=null,f=null;return l>=e-1&&(c=a/e,a-=t[l-(e-1)].close),l>=n-1&&(f=o/n,o-=t[l-(n-1)].close),l>=i-1&&c!==null&&f!==null?c-f:null})}static asi(t,e=6){let n=0;return t.map((i,a)=>{if(a===0)return null;const o=t[a-1],s=i.high,l=i.low,u=i.close,c=i.open;o.high;const f=o.low,d=o.close,h=Math.abs(s-d),v=Math.abs(l-d),g=Math.abs(s-f),m=Math.abs(d-f);let x=0;h>v&&h>g?x=h+v/2+m/4:v>g&&v>h?x=v+h/2+m/4:g>h&&g>v&&(x=g+m/4);const _=u-d,b=u-c,w=d-d;let T=0;return x!==0&&(T=16*(_+b/2+w)/x*Math.max(h,v)),n+=T,a>=e-1?n:null})}static stochastic(t,e=14,n=3,i=3){if(!Array.isArray(t)||t.length===0)return{k:[],d:[]};e=Math.max(1,Math.floor(e))||14,n=Math.max(1,Math.floor(n))||3,i=Math.max(1,Math.floor(i))||3;const a=Math.max(e,n,i);if(t.length<a)return{k:[],d:[]};const o=[];for(let u=0;u<t.length;u++){if(u<e-1){o.push(null);continue}let c=t[u].high,f=t[u].low;for(let v=1;v<e;v++){const g=u-v;g>=0&&(c=Math.max(c,t[g].high),f=Math.min(f,t[g].low))}const d=t[u].close,h=c-f;if(h===0)o.push(0);else{const v=100*(d-f)/h;o.push(v)}}const s=Y.sma(o,i),l=Y.sma(s,n);return{k:s,d:l}}static donchianChannel(t,e=20,n=20,i,a){if(!Array.isArray(t)||t.length===0)return{lower:[],middle:[],upper:[]};e=Math.max(1,Math.floor(e))||20,n=Math.max(1,Math.floor(n))||20;const o=i!==void 0?Math.max(1,Math.floor(i)):e,s=a!==void 0?Math.max(1,Math.floor(a)):n,l=Math.max(e,o,n,s);if(t.length<l)return{lower:[],middle:[],upper:[]};const u=[];for(let d=0;d<t.length;d++){if(d<e-1){u.push(null);continue}let h=Number.MAX_VALUE,v=0;for(let g=0;g<e;g++){const m=d-e+1+g;if(m>=0&&m<t.length){const x=t[m].low;X.isValid(x)&&(h=Math.min(h,x),v++)}}v>=o?u.push(h===Number.MAX_VALUE?null:h):u.push(null)}const c=[];for(let d=0;d<t.length;d++){if(d<n-1){c.push(null);continue}let h=Number.MIN_VALUE,v=0;for(let g=0;g<n;g++){const m=d-n+1+g;if(m>=0&&m<t.length){const x=t[m].high;X.isValid(x)&&(h=Math.max(h,x),v++)}}v>=s?c.push(h===Number.MIN_VALUE?null:h):c.push(null)}const f=[];for(let d=0;d<t.length;d++){const h=u[d],v=c[d];h!==null&&v!==null?f.push(.5*(h+v)):f.push(null)}return{lower:u,middle:f,upper:c}}static hwc(t,e=.2,n=.1,i=.1,a=.1,o=1,s=null){if(!Array.isArray(t)||t.length===0)return{hw_mid:[],hw_upper:[],hw_lower:[]};e=Math.max(0,Math.min(1,e))||.2,n=Math.max(0,Math.min(1,n))||.1,i=Math.max(0,Math.min(1,i))||.1,a=Math.max(0,Math.min(1,a))||.1,o=Math.max(0,o)||1;const l=Y.attr(t,s);if(!l||l.length===0)return{hw_mid:[],hw_upper:[],hw_lower:[]};const u=l.length;if(u===0)return{hw_mid:[],hw_upper:[],hw_lower:[]};let c=0,f=0,d=0,h=l[0],v=l[0],g=l[0];const m=[],x=[],_=[],b=[],w=[];for(let T=0;T<u;T++){const A=l[T];if(!X.isValid(A)){x.push(null),_.push(null),m.push(null),w.push(null),b.push(null);continue}const M=(1-e)*(h+f+.5*c)+e*A,D=(1-n)*(f+c)+n*(M-h),P=(1-i)*c+i*(D-f),I=M+D+.5*P;x.push(I);const R=(1-a)*d+a*(v-g)*(v-g),k=Math.sqrt(Math.max(0,R)),O=I+o*k,V=I-o*k;_.push(O),m.push(V);const N=O-V;w.push(N);const L=N>0?(A-V)/N:0;b.push(L),v=A,c=P,h=M,f=D,d=R,g=I}return{hw_mid:x,hw_upper:_,hw_lower:m,hw_width:w,hw_pctwidth:b}}static kc(t,e=20,n=2,i="ema",a=!0){if(!Array.isArray(t)||t.length===0)return{lower:[],basis:[],upper:[]};if(e=Math.max(1,Math.floor(e))||20,n=Math.max(0,Number(n))||2,i=i||"ema",a=!!a,t.length<e)return{lower:[],basis:[],upper:[]};const o=Y.attr(t,"high"),s=Y.attr(t,"low"),l=Y.attr(t,"close");if(!o||!s||!l||o.length===0||s.length===0||l.length===0)return{lower:[],basis:[],upper:[]};const u=[];for(let v=0;v<t.length;v++){if(v===0){u.push(null);continue}const g=o[v],m=s[v],x=l[v-1];if(!X.isValid(g)||!X.isValid(m)||!X.isValid(x)){u.push(null);continue}if(a){const _=g-m,b=Math.abs(g-x),w=Math.abs(m-x);u.push(Math.max(_,b,w))}else u.push(g-m)}let c;i.toLowerCase()==="ema"?c=Y.ema(l,e):c=Y.sma(l,e);let f;i.toLowerCase()==="ema"?f=Y.ema(u,e):f=Y.sma(u,e);const d=[],h=[];for(let v=0;v<t.length;v++){const g=c[v],m=f[v];if(g===null||m===null){d.push(null),h.push(null);continue}d.push(g+n*m),h.push(g-n*m)}return{lower:h,basis:c,upper:d}}static massi(t,e=9,n=25){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||9,n=Math.max(1,Math.floor(n))||25,n<e&&([e,n]=[n,e]);const i=Math.max(e,n);if(t.length<i)return[];const a=[];for(let c=0;c<t.length;c++){const f=t[c].high,d=t[c].low;X.isValid(f)&&X.isValid(d)&&f>d?a.push(f-d):a.push(null)}const o=Y.ema(a,e),s=Y.ema(o,e),l=[];for(let c=0;c<t.length;c++){const f=o[c],d=s[c];f!==null&&d!==null&&d!==0?l.push(f/d):l.push(null)}const u=[];for(let c=0;c<t.length;c++){if(c<n-1){u.push(null);continue}let f=0,d=0;for(let h=0;h<n;h++){const v=c-n+1+h;if(v>=0&&v<l.length){const g=l[v];g!==null&&(f+=g,d++)}}d>=n?u.push(f):u.push(null)}return u}static natr(t,e=14,n="ema",i=100,a=1,o=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,i=Math.max(0,Number(i))||100,a=Math.max(1,Math.floor(a))||1,n=n||"ema",t.length<e)return[];const s=Y.atr(t,e,n,a,o),l=[];for(let u=0;u<t.length;u++){const c=s[u],f=t[u].close;c!==null&&f!==null&&f>0?l.push(i/f*c):l.push(null)}return l}static pdist(t,e=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,t.length<e+1)return[];const n=[];return t.forEach((i,a)=>{const o=a-e;if(o<0)n.push(null);else{const s=t[o].close,l=i.high-i.low,u=Math.abs(i.close-i.open),c=Math.abs(i.open-s),f=2*l-u+c;isFinite(f)?n.push(f):n.push(null)}}),n}static rvi(t,e=14,n=100,i=!1,a=!1,o="ema",s=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,n=Math.max(0,Number(n))||100,i=!!i,a=!!a,o=o||"ema",s=Math.max(1,Math.floor(s))||1,t.length<e+s)return[];const l=Y.attr(t,"close"),u=Y.attr(t,"high"),c=Y.attr(t,"low");if(!l||!u||!c||l.length===0||u.length===0||c.length===0)return[];if((i||a)&&(!u||!c||u.length===0||c.length===0))return[];const f=(h,v,g,m,x)=>{const _=Y.stdev(h,v),b=[],w=[];for(let I=0;I<h.length;I++){if(I<x){b.push(null),w.push(null);continue}const R=h[I],k=h[I-x];if(R!==null&&k!==null){const O=R-k;O>0?(b.push(O),w.push(0)):(b.push(0),w.push(Math.abs(O)))}else b.push(null),w.push(null)}const T=[],A=[];for(let I=0;I<h.length;I++){const R=b[I],k=w[I],O=_[I];R!==null&&O!==null?T.push(R*O):T.push(null),k!==null&&O!==null?A.push(k*O):A.push(null)}let M,D;m.toLowerCase()==="ema"?(M=Y.ema(T,v),D=Y.ema(A,v)):(M=Y.sma(T,v),D=Y.sma(A,v));const P=[];for(let I=0;I<h.length;I++){const R=M[I],k=D[I];if(R!==null&&k!==null&&R+k>0){const O=g*R/(R+k);P.push(isFinite(O)?O:null)}else P.push(null)}return P};let d;if(i){const h=f(u,e,n,o,s),v=f(c,e,n,o,s);d=[];for(let g=0;g<t.length;g++){const m=h[g],x=v[g];m!==null&&x!==null?d.push(.5*(m+x)):d.push(null)}}else if(a){const h=f(u,e,n,o,s),v=f(c,e,n,o,s),g=f(l,e,n,o,s);d=[];for(let m=0;m<t.length;m++){const x=h[m],_=v[m],b=g[m];x!==null&&_!==null&&b!==null?d.push((x+_+b)/3):d.push(null)}}else d=f(l,e,n,o,s);return d}static thermo(t,e=20,n=2,i=.5,a="ema",o=1){if(!Array.isArray(t)||t.length===0)return{thermo:[],thermo_ma:[],thermo_short:[],thermo_long:[]};if(e=Math.max(1,Math.floor(e))||20,n=Math.max(0,Number(n))||2,i=Math.max(0,Number(i))||.5,a=a||"ema",o=Math.max(1,Math.floor(o))||1,t.length<e+o)return{thermo:[],thermo_ma:[],thermo_short:[],thermo_long:[]};const s=[];for(let f=0;f<t.length;f++){if(f<o){s.push(null);continue}const d=t[f].low,h=t[f].high,v=t[f-o].low,g=t[f-o].high;if(!X.isValid(d)||!X.isValid(h)||!X.isValid(v)||!X.isValid(g)){s.push(null);continue}const m=Math.abs(v-d),x=Math.abs(h-g),_=Math.max(m,x);s.push(_)}let l;a.toLowerCase()==="ema"?l=Y.ema(s,e):a.toLowerCase()==="sma"?l=Y.sma(s,e):a.toLowerCase()==="hma"?l=Y.hma(s,e):l=Y.ema(s,e);const u=[],c=[];for(let f=0;f<t.length;f++){const d=s[f],h=l[f];if(d!==null&&h!==null){const v=h*n,g=d<v,m=h*i,x=d>m;u.push(g?1:0),c.push(x?1:0)}else u.push(null),c.push(null)}return{thermo:s,thermo_ma:l,thermo_long:u,thermo_short:c}}static trueRange(t,e=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||1,t.length<e+1)return[];const n=[];for(let i=0;i<t.length;i++){if(i<e){n.push(null);continue}const a=t[i].high,o=t[i].low,s=t[i].close,l=t[i-e].close;if(!X.isValid(a)||!X.isValid(o)||!X.isValid(s)||!X.isValid(l)){n.push(null);continue}const u=a-o,c=a-l,f=l-o,d=Math.max(Math.abs(u),Math.abs(c),Math.abs(f));isFinite(d)?n.push(d):n.push(null)}return n}static ui(t,e=14,n=100,i=!1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,n=Math.max(0,Number(n))||100,i=!!i,t.length<e)return[];const a=Y.attr(t,"close");if(!a||a.length===0)return[];const o=[];for(let s=0;s<t.length;s++){if(s<e-1){o.push(null);continue}let l=-1/0;for(let d=0;d<e;d++){const h=a[s-d];X.isValid(h)&&h>l&&(l=h)}if(l<=0){o.push(null);continue}const u=a[s];if(!X.isValid(u)){o.push(null);continue}const c=[];for(let d=0;d<e;d++){const h=a[s-d];let v=-1/0;for(let g=0;g<e;g++){const m=a[s-d-g];X.isValid(m)&&m>v&&(v=m)}if(v>0){const g=n*(h-v)/v;c.push(g*g)}else c.push(0)}let f;if(i)f=Y.sma(c,e).map(h=>h&&isFinite(h)?Math.sqrt(h/e):null);else{const d=c.reduce((h,v)=>h+v,0);f=[isFinite(d)?Math.sqrt(d/e):null]}o.push(...f)}return o}static ad(t){if(!Array.isArray(t)||t.length===0)return[];const e=[];let n=0;for(let i=0;i<t.length;i++){const a=t[i].high,o=t[i].low,s=t[i].close,l=t[i].volume,u=t[i].open,c=a-o;if(c<=0){e.push(null);continue}let f;u!==null&&X.isValid(u)?f=s-u:f=2*s-a-o;const d=f*l/c;n+=d,isFinite(n)?e.push(n):e.push(null)}return e}static adosc(t,e=3,n=10){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.floor(e)||3,n=Math.floor(n)||10,e<=0||n<=0)return[];const i=Y.ad(t);if(!i||i.length===0)return[];const a=Y.ema(i,e),o=Y.ema(i,n);if(!a||!o||a.length===0||o.length===0)return[];const s=[],l=Math.min(a.length,o.length);for(let u=0;u<l;u++){const c=a[u],f=o[u];if(c!==null&&f!==null){const d=c-f;isFinite(d)?s.push(d):s.push(null)}else s.push(null)}return s}static aobv(t,e=4,n=12,i="ema",a=2,o=2,s=2){if(!Array.isArray(t)||t.length===0)return{obv:[],obvMin:[],obvMax:[],obvFast:[],obvSlow:[],obvLong:[],obvShort:[]};if(e=Math.floor(e)||4,n=Math.floor(n)||12,a=Math.floor(a)||2,o=Math.floor(o)||2,s=Math.floor(s)||2,e<=0||n<=0||a<=0||o<=0||s<=0)return{obv:[],obvMin:[],obvMax:[],obvFast:[],obvSlow:[],obvLong:[],obvShort:[]};n<e&&([e,n]=[n,e]);const l=Y.obv(t);if(!l||l.length===0)return{obv:[],obvMin:[],obvMax:[],obvFast:[],obvSlow:[],obvLong:[],obvShort:[]};let u,c;if(i.toLowerCase()==="ema"?(u=Y.ema(l,e),c=Y.ema(l,n)):i.toLowerCase()==="sma"?(u=Y.sma(l,e),c=Y.sma(l,n)):i.toLowerCase()==="wma"?(u=Y.wma(l,e),c=Y.wma(l,n)):(u=Y.ema(l,e),c=Y.ema(l,n)),!u||!c||u.length===0||c.length===0)return{obv:[],obvMin:[],obvMax:[],obvFast:[],obvSlow:[],obvLong:[],obvShort:[]};const f=[],d=[];for(let g=0;g<l.length;g++){if(g<o-1){f.push(null),d.push(null);continue}let m=1/0,x=-1/0;for(let _=0;_<o;_++){const b=l[g-_];b!==null&&X.isValid(b)&&(m=Math.min(m,b),x=Math.max(x,b))}isFinite(m)&&isFinite(x)?(f.push(m),d.push(x)):(f.push(null),d.push(null))}const h=[],v=[];for(let g=0;g<u.length;g++){if(g<s-1){h.push(null),v.push(null);continue}let m=0,x=0;for(let _=0;_<s;_++){const b=u[g-_],w=c[g-_];b!==null&&w!==null&&(b>w?m++:b<w&&x++)}h.push(m),v.push(x)}return{obv:l,obvMin:f,obvMax:d,obvFast:u,obvSlow:c,obvLong:h,obvShort:v}}static cmf(t,e=20){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.floor(e)||20,e<=0)return[];const n=[];for(let i=0;i<t.length;i++){if(i<e-1){n.push(null);continue}let a=0,o=0;for(let s=0;s<e;s++){const l=i-s,u=t[l].high,c=t[l].low,f=t[l].close,d=t[l].volume,h=t[l].open;if(!X.isValid(u)||!X.isValid(c)||!X.isValid(f)||!X.isValid(d))continue;const v=u-c;if(v<=0)continue;let g;h!==null&&X.isValid(h)?g=f-h:g=2*f-u-c;const m=g*d/v;a+=m,o+=d}if(o>0){const s=a/o;isFinite(s)?n.push(s):n.push(null)}else n.push(null)}return n}static efi(t,e=13,n=1,i="ema"){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.floor(e)||13,n=Math.floor(n)||1,e<=0||n<=0)return[];const a=[];for(let s=0;s<t.length;s++){if(s<n){a.push(null);continue}const l=t[s].close,u=t[s-n].close,c=t[s].volume;if(!X.isValid(l)||!X.isValid(u)||!X.isValid(c)){a.push(null);continue}const d=(l-u)*c;isFinite(d)?a.push(d):a.push(null)}let o;return i.toLowerCase()==="sma"?o=Y.sma(a,e):o=Y.ema(a,e),!o||o.length===0?[]:o}static eom(t,e=14,n=1e8,i=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.floor(e)||14,n=n||1e8,i=Math.floor(i)||1,e<=0||n<=0||i<=0)return[];const a=[];for(let o=0;o<t.length;o++){if(o<e-1||o<i){a.push(null);continue}let s=0,l=0;for(let u=0;u<e;u++){const c=o-u,f=t[c].high,d=t[c].low,h=t[c].volume;if(!X.isValid(f)||!X.isValid(d)||!X.isValid(h)||c<i)continue;const v=t[c-i].high,g=t[c-i].low;if(!X.isValid(v)||!X.isValid(g))continue;const m=f-d;if(m<=0)continue;const x=f-v,_=d-g,b=.5*(x+_),w=h/n/m;if(w===0)continue;const T=b/w;isFinite(T)&&(s+=T,l++)}if(l>0){const u=s/l;isFinite(u)?a.push(u):a.push(null)}else a.push(null)}return a}static nvi(t,e=1,n=1e3){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.floor(e)||1,n=n||1e3,e<=0||n<=0)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e){a===0?i.push(n):i.push(null);continue}const o=t[a].close,s=t[a-e].close;if(!X.isValid(o)||!X.isValid(s)){i.push(null);continue}const l=(o-s)/s,u=t[a].volume,c=t[a-1].volume;if(!X.isValid(u)||!X.isValid(c)){i.push(null);continue}const f=(u-c)/c;let d=0;f<0&&(d=Math.abs(f)*l),a>0&&i[a-1]!==null&&(d+=i[a-1]),isFinite(d)?i.push(d):i.push(null)}return i}static pvi(t,e=1,n=1e3){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.floor(e)||1,n=n||1e3,e<=0||n<=0)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e){a===0?i.push(n):i.push(null);continue}const o=t[a].close,s=t[a-e].close;if(!X.isValid(o)||!X.isValid(s)){i.push(null);continue}const l=(o-s)/s,u=t[a].volume,c=t[a-1].volume;if(!X.isValid(u)||!X.isValid(c)){i.push(null);continue}const f=(u-c)/c;let d=0;f>0&&(d=Math.abs(f)*l),a>0&&i[a-1]!==null&&(d+=i[a-1]),isFinite(d)?i.push(d):i.push(null)}return i}static pvol(t,e=!1){if(!Array.isArray(t)||t.length===0)return[];e=!!e;const n=[];for(let i=0;i<t.length;i++){const a=t[i].close,o=t[i].volume;if(!X.isValid(a)||!X.isValid(o)){n.push(null);continue}let s;if(e&&i>0){const l=close[i-1];if(!X.isValid(l)){n.push(null);continue}const u=a-l;s=(u>0?1:u<0?-1:0)*a*o}else s=a*o;isFinite(s)?n.push(s):n.push(null)}return n}static pvr(t){if(!Array.isArray(t)||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){if(n===0){e.push(null);continue}const i=t[n].close,a=t[n-1].close,o=t[n].volume,s=t[n-1].volume;if(!X.isValid(i)||!X.isValid(a)||!X.isValid(o)||!X.isValid(s)){e.push(null);continue}const l=i-a,u=o-s;let c;l>=0&&u>=0?c=1:l>=0&&u<0?c=2:l<0&&u>=0?c=3:c=4,e.push(c)}return e}static pvt(t,e=1){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||1;const n=[];let i=0;for(let a=0;a<t.length;a++){if(a<e){n.push(null);continue}const o=t[a].close,s=t[a-e].close,l=t[a].volume;if(!X.isValid(o)||!X.isValid(s)||!X.isValid(l)){n.push(null);continue}const c=(o-s)/s*l;i+=c,isFinite(i)?n.push(i):n.push(null)}return n}static vp(t,e=10,n=!1){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||10,n=!!n;const i=[];for(let f=0;f<t.length;f++){const d=t[f].close,h=t[f].volume;if(!X.isValid(d)||!X.isValid(h))continue;let v=0,g=0;if(f>0){const m=t[f-1].close;X.isValid(m)&&(d>=m?(v=h,g=0):(v=0,g=h))}else v=h,g=0;i.push({close:d,pos_volume:v,neg_volume:g})}if(i.length===0)return[];n&&i.sort((f,d)=>f.close-d.close);const a=Math.min(...i.map(f=>f.close)),o=Math.max(...i.map(f=>f.close)),s=o-a;if(s<=0){const f=i.reduce((h,v)=>h+v.pos_volume,0),d=i.reduce((h,v)=>h+v.neg_volume,0);return[{low_price:a,mean_price:a,high_price:o,pos_volume:f,neg_volume:d,total_volume:f+d}]}const l=s/e,u=[];for(let f=0;f<e;f++){const d=a+f*l,h=f===e-1?o:a+(f+1)*l,v=i.filter(g=>g.close>=d&&(f===e-1?g.close<=h:g.close<h));u.push({low:d,high:h,data:v})}const c=[];for(const f of u){if(f.data.length===0){c.push({low_price:f.low,mean_price:(f.low+f.high)/2,high_price:f.high,pos_volume:0,neg_volume:0,total_volume:0});continue}const d=f.data.map(g=>g.close),h=f.data.reduce((g,m)=>g+m.pos_volume,0),v=f.data.reduce((g,m)=>g+m.neg_volume,0);c.push({low_price:Math.min(...d),mean_price:d.reduce((g,m)=>g+m,0)/d.length,high_price:Math.max(...d),pos_volume:h,neg_volume:v,total_volume:h+v})}return c}static mfi(t,e=14,n=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.floor(e)||14,n=Math.floor(n)||1,e<=0||n<=0)return[];const i=[];for(let a=0;a<t.length;a++){if(a<e-1||a<n){i.push(null);continue}let o=0,s=0;for(let l=0;l<e;l++){const u=a-l,c=t[u].high,f=t[u].low,d=t[u].close,h=t[u].volume;if(!X.isValid(c)||!X.isValid(f)||!X.isValid(d)||!X.isValid(h)||u<n)continue;const v=t[u-n].high,g=t[u-n].low,m=t[u-n].close;if(!X.isValid(v)||!X.isValid(g)||!X.isValid(m))continue;const x=(c+f+d)/3,_=(v+g+m)/3,b=x*h,w=x-_;w>0?o+=b:w<0&&(s+=b)}if(s===0)i.push(100);else if(o===0)i.push(0);else{const l=100*o/(o+s);isFinite(l)?i.push(l):i.push(null)}}return i}static moneyFlow(t){return t.map((e,n)=>{if(n===0)return null;const i=e,a=t[n-1],o=(i.high+i.low+i.close)/3,s=(a.high+a.low+a.close)/3,l=o*(i.volume??0);return o>s?l:o<s?-l:0})}static getTrend(t,e=10,n=20,i=null){const a=Y.ma(t,e,i),o=Y.ma(t,n,i);return t.map((s,l)=>{if(l<n-1||a[l]===null||o[l]===null)return null;const u=a[l],c=o[l],f=c*.001;return u>c+f?"up":u<c-f?"down":"sideways"})}static fibonacciRetracement(t,e){const n=[0,.236,.382,.5,.618,.786,1],i=t-e;return n.map(a=>({level:a,price:t-i*a,percentage:`${(a*100).toFixed(1)}%`}))}static sar(t,e=2,n=20,i=20){const a=e/100,o=n/100,s=i/100;let l=a,u=-100,c=!1,f=0;return t.map((h,v)=>{const g=f,m=h.high,x=h.low;if(c){(u===-100||u<m)&&(u=m,l=Math.min(l+o,s)),f=g+l*(u-g);const _=Math.min(t[Math.max(1,v)-1].low,x);f>h.low?(f=u,l=a,u=-100,c=!c):f>_&&(f=_)}else{(u===-100||u>x)&&(u=x,l=Math.min(l+o,s)),f=g+l*(u-g);const _=Math.max(t[Math.max(1,v)-1].high,m);f<h.high?(f=u,l=0,u=-100,c=!c):f<_&&(f=_)}return f})}static high(t,e=null){const n={index:-1,val:null};return t.forEach((i,a)=>{const o=Y.getNumVal(e,i);X.isValid(o)&&(n.val===null||o>n.val)&&(n.val=o,n.index=a)}),n}static low(t,e=null){const n={index:-1,val:null};return t.forEach((i,a)=>{const o=Y.getNumVal(e,i);X.isValid(o)&&(n.val===null||o<n.val)&&(n.val=o,n.index=a)}),n}static bias(t,e=26,n="sma"){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||26,t.length<e)return[];const i=[];let a;switch(n.toLowerCase()){case"ema":a=Y.ema(t,e,"close");break;case"hma":a=Y.hma(t,e,"close");break;case"rma":a=Y.rma(t,e,"close");break;case"wma":a=Y.wma(t,e,"close");break;default:a=Y.sma(t,e,"close");break}for(let o=0;o<t.length;o++){if(o<e-1){i.push(null);continue}const s=t[o].close,l=a[o];s!==null&&l!==null&&l!==0?i.push(s/l-1):i.push(null)}return i}static cdl_doji(t,e=10,n=10,i=100){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e)),n=parseFloat(n.toString())||10,i=parseFloat(i.toString())||100;const a=[];for(let o=0;o<t.length;o++){if(o<e-1){a.push(null);continue}const s=t[o];if(!s||!X.isValid(s.open)||!X.isValid(s.high)||!X.isValid(s.low)||!X.isValid(s.close)){a.push(null);continue}const l=Math.abs(s.close-s.open);let u=0,c=0;for(let v=o-e+1;v<=o;v++){const g=t[v];g&&X.isValid(g.high)&&X.isValid(g.low)&&(u+=Math.abs(g.high-g.low),c++)}if(c===0){a.push(null);continue}const f=u/c,h=l<.01*n*f?i:0;a.push(h)}return a}static cdl_inside(t){if(!Array.isArray(t)||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){if(n===0){e.push(null);continue}const i=t[n],a=t[n-1];if(!i||!a||!X.isValid(i.high)||!X.isValid(i.low)||!X.isValid(a.high)||!X.isValid(a.low)||!X.isValid(i.open)||!X.isValid(i.close)){e.push(null);continue}const o=i.high-a.high,s=i.low-a.low;if(!(o<0&&s>0))e.push(0);else{const u=i.close>i.open?1:-1;e.push(u)}}return e}static ha(t){if(!Array.isArray(t)||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const i=t[n];if(!i||!X.isValid(i.open)||!X.isValid(i.high)||!X.isValid(i.low)||!X.isValid(i.close)){e.push(null);continue}let a,o;if(n===0)a=.5*(i.open+i.close),o=.25*(i.open+i.high+i.low+i.close);else{const u=e[n-1];if(!u){e.push(null);continue}a=.5*(u.open+u.close),o=.25*(i.open+i.high+i.low+i.close)}const s=Math.max(a,i.high,o),l=Math.min(a,i.low,o);e.push({open:a,high:s,low:l,close:o})}return e}static ebsw(t,e=40,n=10){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(39,Math.floor(e))||40,n=Math.max(1,Math.floor(n))||10;const i=[];let a=0,o=0,s=0,l=0,u=0,c=0,f=0,d=0,h=0,v=0,g=0,m=0;const x=[0,0];for(let _=0;_<e-1;_++)i.push(null);if(t.length>=e){const _=t[e-1];_&&X.isValid(_.close)?(g=_.close,i.push(0)):i.push(null)}for(let _=e;_<t.length;_++){const b=t[_];if(!b||!X.isValid(b.close)){i.push(null);continue}a=(1-Math.sin(360/e*Math.PI/180))/Math.cos(360/e*Math.PI/180),o=.5*(1+a)*(b.close-g)+a*m,s=Math.exp(-Math.sqrt(2)*Math.PI/n),l=2*s*Math.cos(Math.sqrt(2)*180/n*Math.PI/180),c=l,f=-1*s*s,u=1-c-f,d=u*(o+m)/2+c*x[1]+f*x[0],v=(d+x[1]+x[0])/3,h=(d*d+x[1]*x[1]+x[0]*x[0])/3,h>0?v=v/Math.sqrt(h):v=0,x.push(d),x.shift(),m=o,g=b.close,i.push(v)}return i}static ao(t,e=5,n=34){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||5,n=Math.max(1,Math.floor(n))||34,n<e&&([e,n]=[n,e]);const i=Math.max(e,n);if(t.length<i)return[];const a=[],o=[];for(let u=0;u<t.length;u++){const c=t[u];c&&X.isValid(c.high)&&X.isValid(c.low)?o.push(.5*(c.high+c.low)):o.push(NaN)}const s=Y.sma(o,e),l=Y.sma(o,n);for(let u=0;u<t.length;u++){if(u<i-1){a.push(null);continue}const c=s[u],f=l[u];c!==null&&f!==null?a.push(c-f):a.push(null)}return a}static apo(t,e=12,n=26){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||12,n=Math.max(1,Math.floor(n))||26,n<e&&([e,n]=[n,e]);const i=Math.max(e,n);if(t.length<i)return[];const a=[],o=[];for(let u=0;u<t.length;u++){const c=t[u];c&&X.isValid(c.close)?o.push(c.close):o.push(NaN)}const s=Y.sma(o,e),l=Y.sma(o,n);for(let u=0;u<t.length;u++){if(u<i-1){a.push(null);continue}const c=s[u],f=l[u];c!==null&&f!==null?a.push(c-f):a.push(null)}return a}static bop(t,e=1){if(!Array.isArray(t)||t.length===0)return[];e=parseFloat(e.toString())||1;const n=[];for(let i=0;i<t.length;i++){const a=t[i];if(!a||!X.isValid(a.open)||!X.isValid(a.high)||!X.isValid(a.low)||!X.isValid(a.close)){n.push(null);continue}const o=a.high-a.low,s=a.close-a.open;if(o===0){n.push(null);continue}const l=e*s/o;n.push(l)}return n}static cfo(t,e=9,n=100,i=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||9,n=parseFloat(n.toString())||100,i=Math.max(1,Math.floor(i))||1,t.length<e)return[];const a=[],o=Y.linreg(t,e,!1,!1,!1,!1,!1,!0,"close");for(let s=0;s<t.length;s++){if(s<e-1){a.push(null);continue}const l=t[s],u=o[s];if(!l||!X.isValid(l.close)||u===null||u===0){a.push(null);continue}const c=n*(l.close-u)/l.close;a.push(c)}return a}static cg(t,e=10){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,t.length<e)return[];const n=[],i=[];for(let a=0;a<e;a++)i.push(e-a);for(let a=0;a<t.length;a++){if(a<e-1){n.push(null);continue}let o=0,s=0;for(let u=0;u<e;u++){const c=t[a-u];if(!c||!X.isValid(c.close)){n.push(null);continue}const f=c.close,d=i[u];o+=f*d,s+=f}if(s===0){n.push(null);continue}const l=-o/s;n.push(l)}return n}static cmo(t,e=14,n=100,i=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||14,n=parseFloat(n.toString())||100,i=Math.max(1,Math.floor(i))||1,t.length<e+i)return[];const a=[],o=[];for(let f=0;f<t.length;f++){if(f<i){o.push(NaN);continue}const d=t[f],h=t[f-i];if(!d||!h||!X.isValid(d.close)||!X.isValid(h.close)){o.push(NaN);continue}o.push(d.close-h.close)}const s=[],l=[];for(let f=0;f<o.length;f++){const d=o[f];if(isNaN(d)){s.push(NaN),l.push(NaN);continue}s.push(d>0?d:0),l.push(d<0?Math.abs(d):0)}const u=Y.rma(s,e),c=Y.rma(l,e);for(let f=0;f<t.length;f++){if(f<e-1){a.push(null);continue}const d=u[f],h=c[f];if(d===null||h===null||d+h===0){a.push(null);continue}const v=n*(d-h)/(d+h);a.push(v)}return a}static coppock(t,e=10,n=11,i=14){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||10,n=Math.max(1,Math.floor(n))||11,i=Math.max(1,Math.floor(i))||14;const a=Math.max(e,n,i);if(t.length<a)return[];const o=Y.roc(t,n),s=Y.roc(t,i),l=[];for(let c=0;c<t.length;c++){const f=o[c],d=s[c];if(f===null||d===null){l.push(null);continue}l.push(f+d)}return Y.wma(l,e)}static er(t,e=10,n=1){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(1,Math.floor(e))||10,n=Math.max(1,Math.floor(n))||1,t.length<e+n)return[];const i=[],a=[];for(let s=0;s<t.length;s++){if(s<e){a.push(null);continue}const l=t[s],u=t[s-e];if(!l||!u||!X.isValid(l.close)||!X.isValid(u.close)){a.push(null);continue}a.push(Math.abs(l.close-u.close))}const o=[];for(let s=0;s<t.length;s++){if(s<n){o.push(null);continue}const l=t[s],u=t[s-n];if(!l||!u||!X.isValid(l.close)||!X.isValid(u.close)){o.push(null);continue}o.push(Math.abs(l.close-u.close))}for(let s=0;s<t.length;s++){if(s<e){i.push(null);continue}const l=a[s];if(l===null){i.push(null);continue}let u=0,c=0;for(let d=0;d<e;d++){const h=s-d;h>=0&&o[h]!==null&&(u+=o[h],c++)}if(c===0||u===0){i.push(null);continue}const f=l/u;i.push(f)}return i}static eri(t,e=13){if(!Array.isArray(t)||t.length===0)return{bull:[],bear:[]};if(e=Math.max(1,Math.floor(e))||13,t.length<e)return{bull:[],bear:[]};const n=Y.ema(t,e,"close"),i=[],a=[];for(let o=0;o<t.length;o++){const s=t[o],l=n[o];if(!s||l===null||!X.isValid(s.high)||!X.isValid(s.low)){i.push(null),a.push(null);continue}i.push(s.high-l),a.push(s.low-l)}return{bull:i,bear:a}}static fisher(t,e=9,n=1){if(!Array.isArray(t)||t.length===0)return{fisher:[],signal:[]};e=Math.max(1,Math.floor(e))||9,n=Math.max(1,Math.floor(n))||1;const i=Math.max(e,n);if(t.length<i)return{fisher:[],signal:[]};const a=[];for(let f=0;f<t.length;f++){const d=t[f];if(!d||!X.isValid(d.high)||!X.isValid(d.low)){a.push(null);continue}a.push((d.high+d.low)/2)}const o=[],s=[];for(let f=0;f<t.length;f++){if(f<e-1){o.push(null),s.push(null);continue}let d=-1/0,h=1/0,v=0;for(let g=0;g<e;g++){const m=f-g;m>=0&&a[m]!==null&&(d=Math.max(d,a[m]),h=Math.min(h,a[m]),v++)}if(v===0){o.push(null),s.push(null);continue}o.push(d),s.push(h)}const l=[];let u=0;for(let f=0;f<e-1;f++)l.push(null);l.push(0);for(let f=e;f<t.length;f++){const d=a[f],h=o[f],v=s[f];if(d===null||h===null||v===null){l.push(null);continue}let g=h-v;g=Math.max(g,.001),u=.66*((d-v)/g-.5)+.67*u,u=Math.max(-.999,Math.min(.999,u));const x=.5*(Math.log((1+u)/(1-u))+l[f-1]);l.push(x)}const c=[];for(let f=0;f<t.length;f++){if(f<n){c.push(null);continue}c.push(l[f-n])}return{fisher:l,signal:c}}static hilo(t,e=13,n=21,i="sma"){if(!Array.isArray(t)||t.length===0)return{hilo:[],long:[],short:[]};e=Math.max(1,Math.floor(e))||13,n=Math.max(1,Math.floor(n))||21,i=i.toLowerCase();const a=Math.max(e,n);if(t.length<a)return{hilo:[],long:[],short:[]};let o,s;switch(i){case"ema":o=Y.ema(t,e,"close"),s=Y.ema(t,n,"close");break;case"hma":o=Y.hma(t,e),s=Y.hma(t,n);break;default:o=Y.sma(t,e,"close"),s=Y.sma(t,n,"close");break}const l=[],u=[],c=[];l.push(null),u.push(null),c.push(null);for(let f=1;f<t.length;f++){const d=t[f].close,h=o[f-1],v=s[f];if(!X.isValid(d)||h===null||v===null){l.push(null),u.push(null),c.push(null);continue}if(d>h)l.push(v),u.push(v),c.push(null);else if(d<h)l.push(h),u.push(null),c.push(h);else{const g=l[f-1];l.push(g),u.push(g),c.push(g)}}return{hilo:l,long:u,short:c}}static hwma(t,e=.2,n=.1,i=.1,a=null){if(!Array.isArray(t)||t.length===0)return[];if(e=Math.max(0,Math.min(1,parseFloat(e.toString())))||.2,n=Math.max(0,Math.min(1,parseFloat(n.toString())))||.1,i=Math.max(0,Math.min(1,parseFloat(i.toString())))||.1,t.length<1)return[];const o=[];let s=0,l=0,u=null;for(let c=0;c<t.length;c++){const f=Y.getNumVal(a,t[c]);if(!X.isValid(f)){o.push(null);continue}if(u===null){u=f,o.push(f);continue}const d=(1-e)*(u+l+.5*s)+e*f,h=(1-n)*(l+s)+n*(d-u),v=(1-i)*s+i*(h-l),g=d+h+.5*v;o.push(g),s=v,u=d,l=h}return o}static ichimoku(t,e=9,n=26,i=52){if(!Array.isArray(t)||t.length===0)return{spanA:[],spanB:[],tenkanSen:[],kijunSen:[],chikouSpan:[],spanAFuture:[],spanBFuture:[]};e=Math.max(1,Math.floor(e))||9,n=Math.max(1,Math.floor(n))||26,i=Math.max(1,Math.floor(i))||52;const a=Math.max(e,n,i);if(t.length<a)return{spanA:[],spanB:[],tenkanSen:[],kijunSen:[],chikouSpan:[],spanAFuture:[],spanBFuture:[]};const o=(m,x)=>(m+x)/2,s=[];for(let m=0;m<t.length;m++){if(m<e-1){s.push(null);continue}let x=-1/0,_=1/0,b=0;for(let w=0;w<e;w++){const T=m-w;if(T>=0){const A=t[T];A&&X.isValid(A.high)&&X.isValid(A.low)&&(x=Math.max(x,A.high),_=Math.min(_,A.low),b++)}}b===0?s.push(null):s.push(o(x,_))}const l=[];for(let m=0;m<t.length;m++){if(m<n-1){l.push(null);continue}let x=-1/0,_=1/0,b=0;for(let w=0;w<n;w++){const T=m-w;if(T>=0){const A=t[T];A&&X.isValid(A.high)&&X.isValid(A.low)&&(x=Math.max(x,A.high),_=Math.min(_,A.low),b++)}}b===0?l.push(null):l.push(o(x,_))}const u=[];for(let m=0;m<t.length;m++){const x=s[m],_=l[m];x===null||_===null?u.push(null):u.push(.5*(x+_))}const c=[];for(let m=0;m<t.length;m++){if(m<i-1){c.push(null);continue}let x=-1/0,_=1/0,b=0;for(let w=0;w<i;w++){const T=m-w;if(T>=0){const A=t[T];A&&X.isValid(A.high)&&X.isValid(A.low)&&(x=Math.max(x,A.high),_=Math.min(_,A.low),b++)}}b===0?c.push(null):c.push(o(x,_))}const f=[];for(let m=0;m<t.length;m++){if(m<n){f.push(null);continue}const x=t[m-n];x&&X.isValid(x.close)?f.push(x.close):f.push(null)}const d=[],h=[],v=u.slice(-n),g=c.slice(-n);for(let m=0;m<n;m++)d.push(v[m]||null),h.push(g[m]||null);return{spanA:u,spanB:c,tenkanSen:s,kijunSen:l,chikouSpan:f,spanAFuture:d,spanBFuture:h}}static inertia(t,e=20,n=14,i=100,a=!1,o=!1,s="ema",l=1){if(!Array.isArray(t)||t.length===0)return[];e=Math.max(1,Math.floor(e))||20,n=Math.max(1,Math.floor(n))||14,i=parseFloat(i.toString())||100,l=Math.max(1,Math.floor(l))||1;const u=Math.max(e,n);if(t.length<u)return[];const c=Y.rvi(t,n,i,a,o,s);return Y.linreg(c,e)}static kst(t,e=10,n=15,i=20,a=30,o=10,s=10,l=10,u=15,c=9,f=1){if(!Array.isArray(t)||t.length===0)return{kst:[],signal:[]};e=Math.max(1,Math.floor(e))||10,n=Math.max(1,Math.floor(n))||15,i=Math.max(1,Math.floor(i))||20,a=Math.max(1,Math.floor(a))||30,o=Math.max(1,Math.floor(o))||10,s=Math.max(1,Math.floor(s))||10,l=Math.max(1,Math.floor(l))||10,u=Math.max(1,Math.floor(u))||15,c=Math.max(1,Math.floor(c))||9,f=Math.max(1,Math.floor(f))||1;const d=Math.max(e,n,i,a,o,s,l,u,c);if(t.length<d)return{kst:[],signal:[]};const h=Y.sma(Y.roc(t,e),o),v=Y.sma(Y.roc(t,n),s),g=Y.sma(Y.roc(t,i),l),m=Y.sma(Y.roc(t,a),u),x=[];for(let b=0;b<t.length;b++){const w=h[b],T=v[b],A=g[b],M=m[b];if(w===null||T===null||A===null||M===null){x.push(null);continue}const D=100*(w+2*T+3*A+4*M);x.push(D)}const _=Y.sma(x,c);return{kst:x,signal:_}}static generateFibonacciWeights(t,e=!0){const n=[];for(let i=0;i<t;i++)i===0||i===1?n.push(1):n.push(n[i-1]+n[i-2]);return e?n:n.reverse()}static getCurrentAnchor(t,e){switch(e){case"D":return`D${Math.floor(t/1)}`;case"W":return`W${Math.floor(t/7)}`;case"M":return`M${Math.floor(t/30)}`;case"Q":return`Q${Math.floor(t/90)}`;case"Y":return`Y${Math.floor(t/365)}`;default:return`D${Math.floor(t/1)}`}}static shouldResetAnchor(t,e){switch(e){case"D":return t===0;case"W":return t%7===0;case"M":return t%30===0;case"Q":return t%90===0;case"Y":return t%365===0;default:return t===0}}static swmaLegacy(t,e){if(!Array.isArray(t)||t.length===0||e<=0)return[];const n=[];for(let i=0;i<t.length;i++){if(i<e-1){n.push(null);continue}let a=0,o=0;for(let s=0;s<e;s++){const l=i-s,u=t[l];if(u===null)continue;const c=e-Math.abs(s-(e-1)/2);a+=u*c,o+=c}o===0?n.push(null):n.push(a/o)}return n}static percentileLinearInterpolation(t,e,n){if(!Array.isArray(t)||t.length===0)return[];const i=[];for(let a=0;a<t.length;a++)if(a<e-1)i.push(null);else{const s=t.slice(a-e+1,a+1).filter(u=>u!=null&&!isNaN(u));if(s.length===0){i.push(null);continue}s.sort((u,c)=>u-c);const l=Y.calculatePercentile(s,n);i.push(l)}return i}static calculatePercentile(t,e){if(t.length===0)return null;if(t.length===1)return t[0];const i=Math.max(0,Math.min(100,e))/100*(t.length-1);if(Number.isInteger(i))return t[i];const a=Math.floor(i),o=Math.ceil(i),s=i-a,l=t[a],u=t[o];return l+s*(u-l)}static call(t,...e){switch(t.toLowerCase()){case"attr":return Y.attr(e[0],e[1]);case"ma":return Y.ma(e[0],e[1],e[2]);case"ema":return Y.ema(e[0],e[1],e[2]);case"wma":return Y.wma(e[0],e[1],e[2]);case"fwma":return Y.fwma(e[0],e[1],e[2]);case"sma":return Y.sma(e[0],e[1],e[2]);case"rma":return Y.rma(e[0],e[1],e[2]);case"rmawithalpha":return Y.rmaWithAlpha(e[0],e[1],e[2],e[3]);case"trima":return Y.trima(e[0],e[1],e[2]);case"kama":return Y.kama(e[0],e[1],e[2],e[3],e[4],e[5]);case"t3":return Y.t3(e[0],e[1],e[2],e[3]);case"dema":return Y.dema(e[0],e[1],e[2]);case"tema":return Y.tema(e[0],e[1],e[2]);case"vidya":return Y.vidya(e[0],e[1],e[2],e[3]);case"vwap":return Y.vwap(e[0],e[1]);case"wcp":return Y.wcp(e[0]);case"vwma":return Y.vwma(e[0],e[1]);case"zlma":return Y.zlma(e[0],e[1],e[2],e[3]);case"drawdown":return Y.drawdown(e[0]);case"log_return":return Y.log_return(e[0],e[1],e[2]);case"percent_return":return Y.percent_return(e[0],e[1],e[2]);case"trend_return":return Y.trend_return(e[0],e[1],e[2],e[3],e[4],e[5]);case"entropy":return Y.entropy(e[0],e[1],e[2]);case"kurtosis":return Y.kurtosis(e[0],e[1],e[2]);case"mad":return Y.mad(e[0],e[1],e[2]);case"median":return Y.median(e[0],e[1],e[2]);case"quantile":return Y.quantile(e[0],e[1],e[2],e[3]);case"skew":return Y.skew(e[0],e[1],e[2]);case"hma":return Y.hma(e[0],e[1],e[2]);case"lsma":return Y.lsma(e[0],e[1],e[2]);case"jma":return Y.jma(e[0],e[1],e[2],e[3]);case"mcginley":return Y.mcginley(e[0],e[1],e[2]);case"mcgd":return Y.mcgd(e[0],e[1],e[2],e[3]);case"edsma":return Y.edsma(e[0],e[1],e[2]);case"vama":return Y.vama(e[0],e[1]);case"stdev":return Y.stdev(e[0],e[1],e[2],e[3]);case"variance":return Y.variance(e[0],e[1],e[2],e[3]);case"zscore":return Y.zscore(e[0],e[1],e[2]);case"adx":return Y.adx(e[0],e[1],e[2],e[3],e[4]);case"amat":return Y.amat(e[0],e[1],e[2],e[3],e[4]);case"aroon":return Y.aroon(e[0],e[1],e[2]);case"chop":return Y.chop(e[0],e[1],e[2],e[3],e[4]);case"cksp":return Y.cksp(e[0],e[1],e[2],e[3],e[4]);case"decay":return Y.decay(e[0],e[1],e[2]);case"decreasing":return Y.decreasing(e[0],e[1],e[2]);case"dpo":return Y.dpo(e[0],e[1],e[2]);case"increasing":return Y.increasing(e[0],e[1],e[2]);case"longRun":return Y.longRun(e[0],e[1],e[2]);case"psar":return Y.psar(e[0],e[1],e[2]);case"qstick":return Y.qstick(e[0],e[1],e[2]);case"short_run":return Y.short_run(e[0],e[1],e[2]);case"ttm_trend":return Y.ttm_trend(e[0],e[1]);case"vortex":return Y.vortex(e[0],e[1],e[2]);case"aberration":return Y.aberration(e[0],e[1],e[2]);case"accbands":return Y.accbands(e[0],e[1],e[2],e[3],e[4]);case"slope":return Y.slope(e[0],e[1],e[2],e[3]);case"linreg":return Y.linreg(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);case"midpoint":return Y.midpoint(e[0],e[1],e[2],e[3]);case"midprice":return Y.midprice(e[0],e[1],e[2]);case"pwma":return Y.pwma(e[0],e[1],e[2],e[3]);case"sinwma":return Y.sinwma(e[0],e[1],e[2]);case"ssf":return Y.ssf(e[0],e[1],e[2],e[3]);case"supertrend":return Y.supertrend(e[0],e[1],e[2]);case"swma":return Y.swma(e[0],e[1],e[2],e[3]);case"calcvolatility":return Y.calcVolatility(e[0],e[1]);case"avg":return Y.avg(e[0],e[1],e[2]);case"hhv":return Y.hhv(e[0],e[1],e[2]);case"llv":return Y.llv(e[0],e[1],e[2]);case"cross":return Y.cross(e[0],e[1],e[2]);case"throughUp":return Y.throughUp(e[0],e[1],e[2]);case"throughDown":return Y.throughDown(e[0],e[1],e[2]);case"kdj":return Y.kdj(e[0],e[1],e[2]);case"boll":return Y.boll(e[0],e[1],e[2]);case"macd":return Y.macd(e[0],e[1],e[2],e[3]);case"tr":return Y.tr(e[0],e[1]);case"atr":return Y.atr(e[0],e[1],e[2],e[3],e[4]);case"atrwithrma":return Y.atrWithRMA(e[0],e[1]);case"adxwithrma":return Y.adxWithRMA(e[0],e[1]);case"rsi":return Y.rsi(e[0],e[1],e[2],e[3],e[4]);case"cci":return Y.cci(e[0],e[1]);case"mom":return Y.mom(e[0],e[1],e[2]);case"pgo":return Y.pgo(e[0],e[1],e[2]);case"ppo":return Y.ppo(e[0],e[1],e[2],e[3],e[4]);case"psl":return Y.psl(e[0],e[1],e[2],e[3]);case"pvo":return Y.pvo(e[0],e[1],e[2],e[3],e[4]);case"qqe":return Y.qqe(e[0],e[1],e[2],e[3],e[4],e[5]);case"rsx":return Y.rsx(e[0],e[1],e[2]);case"rvgi":return Y.rvgi(e[0],e[1],e[2]);case"smi":return Y.smi(e[0],e[1],e[2],e[3],e[4]);case"squeeze":return Y.squeeze(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case"stochrsi":return Y.stochrsi(e[0],e[1],e[2],e[3],e[4]);case"td_seq":return Y.td_seq(e[0],e[1],e[2]);case"tsi":return Y.tsi(e[0],e[1],e[2],e[3],e[4]);case"uo":return Y.uo(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case"willr":return Y.willr(e[0],e[1]);case"alma":return Y.alma(e[0],e[1],e[2],e[3]);case"roc":return Y.roc(e[0],e[1]);case"kijunV2":return Y.kijunV2(e[0],e[1],e[2]);case"trix":return Y.trix(e[0],e[1],e[2],e[3],e[4]);case"brar":return Y.brar(e[0],e[1],e[2],e[3]);case"vr":return Y.vr(e[0],e[1]);case"obv":return Y.obv(e[0]);case"emv":return Y.emv(e[0],e[1]);case"vo":return Y.vo(e[0],e[1],e[2]);case"dmi":return Y.dmi(e[0],e[1],e[2]);case"dma":return Y.dma(e[0],e[1],e[2]);case"asi":return Y.asi(e[0],e[1]);case"stochastic":return Y.stochastic(e[0],e[1],e[2],e[3]);case"donchianchannel":return Y.donchianChannel(e[0],e[1],e[2],e[3],e[4]);case"hwc":return Y.hwc(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case"kc":return Y.kc(e[0],e[1],e[2],e[3],e[4]);case"massi":return Y.massi(e[0],e[1],e[2]);case"natr":return Y.natr(e[0],e[1],e[2],e[3],e[4],e[5]);case"pdist":return Y.pdist(e[0],e[1]);case"rvi":return Y.rvi(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case"thermo":return Y.thermo(e[0],e[1],e[2],e[3],e[4],e[5]);case"truerange":return Y.trueRange(e[0],e[1]);case"ui":return Y.ui(e[0],e[1],e[2],e[3]);case"ad":return Y.ad(e[0]);case"adosc":return Y.adosc(e[0],e[1],e[2]);case"aobv":return Y.aobv(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case"cmf":return Y.cmf(e[0],e[1]);case"efi":return Y.efi(e[0],e[1],e[2],e[3]);case"eom":return Y.eom(e[0],e[1],e[2],e[3]);case"nvi":return Y.nvi(e[0],e[1],e[2]);case"pvi":return Y.pvi(e[0],e[1],e[2]);case"pvol":return Y.pvol(e[0],e[1]);case"pvr":return Y.pvr(e[0]);case"pvt":return Y.pvt(e[0],e[1]);case"vp":return Y.vp(e[0],e[1],e[2]);case"mfi":return Y.mfi(e[0],e[1],e[2]);case"moneyflow":return Y.moneyFlow(e[0]);case"gettrend":return Y.getTrend(e[0],e[1],e[2],e[3]);case"fibonacciretracement":return Y.fibonacciRetracement(e[0],e[1]);case"sar":return Y.sar(e[0],e[1],e[2],e[3]);case"high":return Y.high(e[0],e[1]);case"low":return Y.low(e[0],e[1]);case"bias":return Y.bias(e[0],e[1],e[2]);case"cdl_doji":return Y.cdl_doji(e[0],e[1],e[2],e[3]);case"cdl_inside":return Y.cdl_inside(e[0]);case"ha":return Y.ha(e[0]);case"ebsw":return Y.ebsw(e[0],e[1],e[2]);case"ao":return Y.ao(e[0],e[1],e[2]);case"apo":return Y.apo(e[0],e[1],e[2]);case"bop":return Y.bop(e[0],e[1]);case"cfo":return Y.cfo(e[0],e[1],e[2],e[3]);case"cg":return Y.cg(e[0],e[1]);case"cmo":return Y.cmo(e[0],e[1],e[2],e[3]);case"coppock":return Y.coppock(e[0],e[1],e[2],e[3]);case"er":return Y.er(e[0],e[1],e[2]);case"eri":return Y.eri(e[0],e[1]);case"fisher":return Y.fisher(e[0],e[1],e[2]);case"hilo":return Y.hilo(e[0],e[1],e[2],e[3]);case"hwma":return Y.hwma(e[0],e[1],e[2],e[3],e[4]);case"ichimoku":return Y.ichimoku(e[0],e[1],e[2],e[3]);case"inertia":return Y.inertia(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);case"kst":return Y.kst(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);case"percentilelinearinterpolation":return Y.percentileLinearInterpolation(e[0],e[1],e[2]);case"calculatePercentile":return Y.calculatePercentile(e[0],e[1]);default:return console.warn(`: ${t}`),null}}}const FNe={version:1,name:"Script Engine v1",description:"",features:["","","","",""],Parser:Lg,Inputs:VNe,Styles:zNe,Outputs:null,Formula:Y,Utils:X,Constants:{SOURCE:Uie,TIMEFRAME:NNe},Keywords:AO,validateScript(r){const t=[];try{const e=Lg.parse(r);e.errors.length>0&&t.push(...e.errors)}catch(e){t.push(`: ${e}`)}return{valid:t.length===0,errors:t}}};Ng.registerEngine(FNe);Ng.getAvailableVersions();class HNe{static extractName(t){const e=t.match(/\/\/\s*@name\s*=\s*(.+)$/m);return e?e[1].trim():""}static extractTitle(t){const e=t.match(/\/\/\s*@title\s*=\s*(.+)$/m);return e?e[1].trim():""}static extractDesc(t){return""}static extractVersion(t){return"1.0.0"}static extractType(t){return"indicator"}}class GNe{constructor(t){this.scripts=new Map,this.scriptCounters=new Map,this.registeredVicePanes=new Set,this._httpRedrawScheduled=!1,this.chart=t,this.versionManager=Ng}markAllScriptsDirty(){this.scripts.forEach(t=>{t._dirty=!0})}_scheduleOverlayRedraw(){this._httpRedrawScheduled||(this._httpRedrawScheduled=!0,Do(()=>{this._httpRedrawScheduled=!1;try{this.chart.requestOverlayUpdateOnce()}catch{}}))}async executeHttpCalls(t,e,n){if(!e._httpExecuting){e._httpExecuting=!0;try{for(const i of t)try{if(e.http){let a;const o=i.args;switch(i.type){case"loadHistory":a=await e.http.loadHistory(...o);break;case"get":a=await e.http.get(...o);break;case"post":a=await e.http.post(...o);break}a!=null&&(i.value=a,e._httpVal&&e._httpVal[i.key]!==void 0&&(e._httpVal[i.key]=a))}else console.warn("script.httpHTTP")}catch(a){console.error("HTTP:",a),i.value=null}}finally{e._httpExecuting=!1,this._scheduleOverlayRedraw()}}}hasStateChanged(t,e){if(!t.lastState)return!0;const n=t.lastState;return n.symbol!==e.symbol||n.period!==e.period||n.dataLength!==e.dataLength||JSON.stringify(n.inputs)!==JSON.stringify(e.inputs)}async recompileScript(t,e){const n=this.scripts.get(t);if(n&&!n._compiling&&this.hasStateChanged(n,e)){n._compiling=!0,n.lastState={...e};try{if(!n.script){console.error("?",t);return}const i=Lg.parse(n.script,n.inputs,n.styles),a=i.main;n.httpCalls=i.httpCalls||[],n.httpCalls&&n.httpCalls.length>0&&n.httpCalls.some(d=>!d.value||d.value&&d.value.data&&d.value.data.length===0)&&await this.executeHttpCalls(n.httpCalls,n);const o={main:a,inputs:n.inputs||[],styles:n.styles||[],httpCalls:n.httpCalls},s=this.compileScript(o,n.key,n.msgCallback);n._compiledFunction=s.draw,n._executableCode=a;const c=this.chart.getChartStore().getScriptsByPaneId(n.paneId).find(f=>f.key===n.key);c&&(c._compiledFunction=n._compiledFunction,c._executableCode=n._executableCode,c.httpCalls=n.httpCalls)}catch(i){console.error(":",i)}finally{n._compiling=!1}}}async checkAllScriptsState(t){for(const[e,n]of this.scripts)if(n.httpCalls&&n.httpCalls.length>0){const i={...t,inputs:n.inputs||[],styles:n.styles||[]};await this.recompileScript(e,i)}}async onScriptConfigChanged(t){const e=this.scripts.get(t);e&&(this.chart.getSymbol()?.symbol,this.chart.getPeriod()&&`${this.chart.getPeriod().type}${this.chart.getPeriod().span}`,this.chart.getDataList().length,e.inputs,e.styles)}triggerScriptRefresh(t){this.chart&&this.chart.layout&&this.chart.layout({update:!0})}registerScriptObject(t,e){this.scripts.set(t,e)}registerScript(t){if(this.scripts.has(t.key)){const d=this.scripts.get(t.key);d&&this.removeScript(d.key)}const e=Lg.parse(t.script,t.inputs,t.styles),n=HNe.extractMetadata(t.script),i=e.inputs,a=e.styles,o=n.position==="main"?"main":"vice",s=e.main,l={...t,id:t.id,name:n.name||t.name,code:t.encryptedScript||t.script,script:t.script,inputs:i,styles:a,visible:!0,key:t.key,position:o==="main"?"main":"vice",paneId:t.paneId||(o==="main"?"candle_pane":"vice"),user_id:t.user_id||0,info:{...n,...t.info},createTooltipDataSource:t.createTooltipDataSource,msgCallback:t.msgCallback,http:t.http,httpCalls:e.httpCalls,tooltipTools:[],tools:[],precision:null,account:t.account||null,extendData:t.extendData||null,_executableCode:s,_compiledFunction:void 0},u=t.script.match(/setMin\s*\(\s*([^)]+)\s*\)/);if(u){const d=u[1].trim();l._default={...l._default,min:parseFloat(d)}}const c=t.script.match(/setMax\s*\(\s*([^)]+)\s*\)/);if(c){const d=c[1].trim();l._default={...l._default,max:parseFloat(d)}}const f=t.script.match(/setPrecision\s*\(\s*([^)]+)\s*\)/);if(f){const d=f[1].trim();let h=null;if(d==="'price'"||d==='"price"')h="price";else if(d==="'volume'"||d==='"volume"')h="volume";else{const v=parseFloat(d);!isNaN(v)&&v>=0&&(h=v)}h!==null&&(l.precision=h)}try{const d={main:s,inputs:i,styles:a,httpCalls:l.httpCalls||[]},{execute:h,draw:v}=this.compileScript(d,l.key,l.msgCallback);l._compiledFunction=v,l._executableCode=s,this.registerScriptObject(l.key,l);const g=o==="main"?"candle_pane":o||"vice";this.registerScriptsToChartStore([l],g),l.msgCallback&&l.msgCallback(l.key,"sys",` "${l.name}" `)}catch(d){l.msgCallback&&l.msgCallback(l.key,"error",`: ${d.message}`)}}compileScript(t,e,n){try{const i=t.main,a=t.inputs||[],o=t.styles||[],s=this.wrapWithTemplate(i,a,o,t.httpCalls),l=new Function("ctx",s);return{execute:(u,c,f,d)=>[],draw:u=>{const c={ctx:u.ctx,bounding:u.bounding,yAxis:u.yAxis,xAxis:u.xAxis,chart:u.chart,indicator:u.indicator},f=this.scripts.get(e||"");if(!f)return!0;if(f.position==="vice"){const h=u.chart.getDrawPaneById(f.paneId);h&&h._mdDrawData&&(h._mdDrawData=h._mdDrawData.filter(v=>v.scriptId!==f.id))}f.httpCalls&&f.httpCalls.length>0&&f.httpCalls.some(v=>!v.value||v.value&&v.value.data&&v.value.data.length===0)&&this.executeHttpCalls(f.httpCalls,f).catch(v=>{console.error("HTTP:",v)});const d=this.createContext(this.chart.getDataList(),e,n,c,f);f&&(f.tooltipTools=[],f.tools=[]);try{const h=l(d)}catch(h){console.error(":",h)}return!0}}}catch(i){throw console.error("compileScript :",i),i}}wrapWithTemplate(t,e,n,i=[]){const a=e.map(d=>`var ${d.key} = ctx.inputVal.${d.key};`).join(`
    `),o=n.map(d=>`var ${d.key} = ctx.styleVal.${d.key};`).join(`
    `),s=i.map(d=>`var ${d.key} = ctx.httpVal.${d.key};`).join(`
    `),l=new Set;t.split(`
`).forEach(d=>{const h=d.match(/^(\w+)\s*=\s*(.+)$/);if(h){const v=h[1],g=e.some(_=>_.key===v),m=n.some(_=>_.key===v),x=i.some(_=>_.key===v);!g&&!m&&!x&&l.add(v)}});const c=Array.from(l).map(d=>`var ${d};`).join(`
    `),f=`    var ChartInfo = ctx.ChartInfo;
    var dataList = ctx.dataList;
    var visibleList = ctx.visibleList;
    var O = ctx.O;
    var output = ctx.O;
    var D = ctx.D;
    var draw = ctx.D;
    var F = ctx.F;
    var formula = ctx.formula;
    var U = ctx.U;
    var util = ctx.util;
    var Math = ctx.Math;
    var MD = ctx.MD;
    var maindraw = ctx.MD;
    var open = ctx.open;
    var high = ctx.high;
    var low = ctx.low;
    var close = ctx.close;
    var volume = ctx.volume;
    var time = ctx.time;
    var Open = ctx.Open;
    var High = ctx.High;
    var Low = ctx.Low;
    var Close = ctx.Close;
    var Volume = ctx.Volume;
    var Time = ctx.Time;
    var rev = ctx.rev;
    var balance = ctx.balance;
    var equity = ctx.equity;
    var orders = ctx.orders;
    var positions = ctx.positions;
    var accountId = ctx.accountId;
    var extendData = ctx.extendData;
    
`+(a?`    ${a}
`:"")+(o?`    ${o}
`:"")+`    
    // HTTP
`+(s?`    ${s}
`:"")+(c?`    ${c}
`:"")+`    
    // 
    `+t+`
    
    return { result: true };
`;try{new Function("ctx",f)}catch(d){console.error(":",d),console.error("?");const h=f.split(`
`),v=d.message.match(/line (\d+)/);if(v){const g=parseInt(v[1]);for(let m=Math.max(0,g-2);m<Math.min(h.length,g+2);m++)console.error(`${m+1}: ${h[m]}`)}}return f}createContext(t,e,n,i,a){if(a&&a._executing)return null;a&&(a._executing=!0);const o=this.versionManager.getDefaultEngine(),s=o.Formula;let l=-1,u=-1;const c=[],f=i?.chart._chartStore._gapBarSpace/2||0;i.chart._chartStore._visibleRangeDataList.forEach(R=>{R&&R.dataIndex>=0&&R.x>=-f&&R.data?.current?.close&&c.push({...R.data.current,index:R.dataIndex})}),c.length>0&&(l=c[0].index,u=c[c.length-1].index);const d={width:i.bounding.width,height:i.bounding.height,symbol:i?.chart?._chartStore?._symbol?.symbol,period:i?.chart?._chartStore?._period?.key,gapBarSpace:i?.chart?._chartStore?._gapBarSpace,barSpace:i?.chart?._chartStore?._barSpace,startIndex:l,endIndex:u,toIndex:i?.chart._chartStore._visibleRange.realTo-1,pricePrecision:i?.chart._chartStore._symbol?.pricePrecision,volumePrecision:i?.chart._chartStore._symbol?.volumePrecision},h=nLe({ctx:i?.ctx,bounding:i?.bounding,yAxis:i?.yAxis,xAxis:i?.xAxis,chart:i?.chart,msgCallback:n,scriptId:e,script:a}),v=lX({ctx:i?.ctx,bounding:i?.bounding,yAxis:i?.yAxis,xAxis:i?.xAxis,chart:i?.chart,script:a,dataList:t});a&&i?.chart&&(a.chart=i.chart);const g={},m={},x={};a.inputs&&a.inputs.forEach(R=>{g[R.key]=R.value}),a.styles&&a.styles.forEach(R=>{m[R.key]=R.value}),a.httpCalls&&a.httpCalls.forEach(R=>{x[R.key]=R.value||null}),a._inputVal=g,a._styleVal=m,a._httpVal=x;const _={F:s,formula:s,U:o.Utils,Math,dataList:t,visibleList:c,ctx:i?.ctx,bounding:i?.bounding,yAxis:i?.yAxis,xAxis:i?.xAxis,chart:i?.chart,O:h,output:h,D:v,draw:v,MD:v.maindraw,script:a,inputs:a.inputs||[],styles:a.styles||[],inputVal:g,styleVal:m,httpVal:x,extendData:typeof a.extendData=="function"?a.extendData():a.extendData,balance:(()=>{if(typeof a.getBalance=="function")try{return a.getBalance()}catch{return 0}return 0})(),equity:(()=>{if(typeof a.getEquity=="function")try{return a.getEquity()}catch{return 0}return 0})(),orders:(()=>{if(typeof a.getOrders=="function")try{return a.getOrders()}catch{return[]}return[]})(),positions:(()=>{if(typeof a.getPositions=="function")try{return a.getPositions()}catch{return[]}return[]})(),accountId:(()=>{if(typeof a.getAccount=="function")try{return a.getAccount()}catch{return""}return""})(),ChartInfo:d,mainChart:a.position==="vice"?{getDrawAPI:()=>{const R=i?.chart?.getDrawPaneById("candle_pane");if(R){const k={ctx:R._mainWidget._mainCanvas._ctx,bounding:R.getBounding(),yAxis:R.getAxisComponent(),xAxis:i?.chart?.getXAxisPane()?.getAxisComponent(),chart:i?.chart,script:{position:"main"},dataList:i?.dataList||[]};return lX(k)}return null},getCtx:()=>i?.chart?.getDrawPaneById("candle_pane")?._mainWidget?._mainCanvas?._ctx,getYAxis:()=>i?.chart?.getDrawPaneById("candle_pane")?.getAxisComponent(),getXAxis:()=>(i?.chart?.getDrawPaneById("candle_pane"),i?.chart?.getXAxisPane()?.getAxisComponent())}:null},b=t.map(R=>R.open),w=t.map(R=>R.high),T=t.map(R=>R.low),A=t.map(R=>R.close),M=t.map(R=>R.volume),D=t.map(R=>R.timestamp??R.time??null),P=(R,k)=>{const O=R.length,V=k>=0?k:O+k;return V>=0&&V<O?R[V]:null},I=R=>new Proxy(R,{get(k,O){if(typeof O=="string"&&/^\d+$/.test(O)){const V=Number(O),N=k.length-1-V;return N>=0&&N<k.length?k[N]:null}return O==="at"?V=>P(k,V):k[O]}});return _.open=b,_.high=w,_.low=T,_.close=A,_.volume=M,_.time=D,_.Open=I(b),_.High=I(w),_.Low=I(T),_.Close=I(A),_.Volume=I(M),_.Time=I(D),_.rev=(R,k=0)=>R&&typeof k=="number"?R.at?R.at(-(k+1)):R[R.length-1-k]:null,a&&(a._executing=!1),_}registerScriptsToChartStore(t,e){const n=this.chart.getChartStore();t.forEach(i=>{n.getScriptsByFilter({key:i.key,paneId:e})[0]&&n.removeScript({key:i.key,paneId:e})}),t.forEach(i=>{try{const a={id:i.id,name:i.name,code:i.code,info:i.info,paneId:e,key:i.key,visible:i.visible,position:i.position,figures:[],minValue:i.minValue||null,maxValue:i.maxValue||null,styles:null,shouldUpdate:null,_dirty:!0,_offscreen:null,_offctx:null,_cacheSize:{w:0,h:0},_lastChartSize:{w:0,h:0},calc:()=>i.outputs?.[0]?.data||[],regenerateFigures:null,createTooltipDataSource:i.createTooltipDataSource||null,draw:o=>{const s=o.bounding,l=Math.max(1,Math.floor(s.width)),u=Math.max(1,Math.floor(s.height)),c=a._cacheSize.w!==l||a._cacheSize.h!==u;if((!a._offscreen||c)&&(a._offscreen=document.createElement("canvas"),a._offscreen.width=l,a._offscreen.height=u,a._offctx=a._offscreen.getContext("2d"),a._cacheSize={w:l,h:u},a._dirty=!0),c&&(a._dirty=!0),a._dirty){const h=a._offctx;h.clearRect(0,0,l,u);try{const v={ctx:h,bounding:{...s,left:0,top:0},yAxis:o.yAxis,xAxis:o.xAxis,chart:o.chart,indicator:o.indicator},g=this.createContext(this.chart.getDataList(),i.key,i.msgCallback,v,i);i._compiledFunction&&i._compiledFunction(g)}catch(v){console.error(":",v)}a._dirty=!1}o.ctx.drawImage(a._offscreen,0,0)},onDataStateChange:null,result:i.outputs?.[0]?.data||[],toolData:i.toolData,extendData:i.extendData,calcImp:async(o,s,l="init")=>{try{const u=i.calc?i.calc(o,null,s,l):[];return a._dirty=!0,Array.isArray(u)?a.result=u.map(c=>typeof c=="number"?{value:c}:c&&typeof c=="object"&&"value"in c?c:{value:c}):a.result=i.outputs?.[0]?.data||[],!0}catch(u){return console.error("ScriptManager.calcImp :",u),!1}},setSeriesPrecision:o=>{a.precision=o},override:o=>{Object.assign(a,o),a._dirty=!0},shouldUpdateImp:()=>({calc:!1,draw:!0,sort:!1})}}catch{}})}getScripts(){return Array.from(this.scripts.values())}getScript(t){return this.scripts.get(t)}removeScript(t){const e=this.scripts.get(t),n=t;if(e){if(e.msgCallback&&e.msgCallback(n,"sys",` "${e.name}" `),e.events&&e.events.forEach(a=>{this.chart.unsubscribeAction(a.type,a.handler)}),e.position==="vice"){const a=this.chart.getChartStore();a.removeScript({key:e.key,paneId:e.paneId}),e.msgCallback&&e.msgCallback(e.key,"sys",`: ${e.name}, paneId: ${e.paneId}`);const o=a.getScriptsByPaneId(e.paneId),s=a.hasScripts(e.paneId);if(e.msgCallback&&e.msgCallback(e.key,"sys",`: ${o.length}, hasScripts: ${s}`),s)e.msgCallback&&e.msgCallback(e.key,"sys",`: ${e.paneId}`);else{e.msgCallback&&e.msgCallback(e.key,"sys",`: ${e.paneId||"unknown"}`),e.paneId&&this.registeredVicePanes.delete(e.paneId);const l=this.chart.getDrawPaneById(e.paneId);if(l){const u=this.chart._drawPanes.findIndex(c=>c.getId()===e.paneId);u>-1?(this.chart._drawPanes.splice(u,1),l.destroy(),e.msgCallback&&e.msgCallback(e.key,"sys",`? ${e.paneId}`)):e.msgCallback&&e.msgCallback(e.key,"sys",`_drawPanes: ${e.paneId}`)}else e.msgCallback&&e.msgCallback(e.key,"sys",`? ${e.paneId}`)}}else this.chart.getChartStore().removeScript({key:e.key,paneId:"candle_pane"}),e.msgCallback&&e.msgCallback(e.key,"sys",`: ${e.name}, paneId: candle_pane`);this.scripts.delete(n);const i=n.split("_")[0];if(i!=="0"){const a=this.scriptCounters.get(i)||0;a>0&&this.scriptCounters.set(i,a-1)}return this.chart.layout({sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),!0}return!1}setScriptVisible(t,e){let n;for(const[i,a]of this.scripts)if(a.key===t){n=a;break}if(n){const i=n.visible;n.visible=e,n.msgCallback&&i!==e&&n.msgCallback(n.key,"sys",` "${n.name}" ?{action}`),this.chart.layout({update:!0})}}async setScriptConfig(t,e){const n=this.scripts.get(t);if(n){e.inputs&&(n.inputs=e.inputs),e.styles&&(Array.isArray(e.styles)&&Array.isArray(n.styles)?e.styles.forEach((i,a)=>{n.styles[a]&&(i.value!==void 0&&(n.styles[a].value=JSON.parse(JSON.stringify(i.value))),Object.keys(i).forEach(o=>{o!=="defaultValue"&&o!=="value"&&(n.styles[a][o]=JSON.parse(JSON.stringify(i[o])))}))}):n.styles=JSON.parse(JSON.stringify(e.styles)));try{if(e.inputs&&n._inputVal&&e.inputs.forEach(i=>{n._inputVal[i.key]!==void 0&&(n._inputVal[i.key]=i.value)}),e.styles&&n._styleVal&&e.styles.forEach(i=>{n._styleVal[i.key]!==void 0&&(n._styleVal[i.key]=i.value)}),e.inputs&&n.httpCalls&&n.httpCalls.length>0&&await this.executeHttpCalls(n.httpCalls,n),this.triggerScriptRefresh(n.key),n.msgCallback){if(e.inputs){let i="";Array.isArray(e.inputs)?i=e.inputs.map((a,o)=>`${a.name||`param${o}`}=${a.value}`).join(", "):i=Object.entries(e.inputs).map(([a,o])=>`${a}=${o}`).join(", "),n.msgCallback(n.key,"sys",`: ${i}`)}if(e.styles){let i="";Array.isArray(e.styles)?i=e.styles.map((a,o)=>`${a.name||`style${o}`}=${a.value}`).join(", "):i=Object.entries(e.styles).map(([a,o])=>`${a}=${o}`).join(", "),n.msgCallback(n.key,"sys",`: ${i}`)}}}catch(i){console.error(":",i)}}else console.warn("ScriptManager.setScriptConfig: ",{key:t})}}class Yie{constructor(t,e){if(this._debugUpdateCount=0,this._debugUpdateTicking=!1,this._debugLoopId=null,this._overlayUpdateScheduled=!1,this._chartBounding=Ab(),this._drawPanes=[],this._separatorPanes=new Map,this._layoutOptions={sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1},this._layoutPending=!1,this._cacheYAxisWidth={left:0,right:0},this._watermarkImages=[],this._watermarkOptions=[],this._watermarkList=[],this._lastDataLength=0,this._lastSymbol="",this._lastPeriod="",this._stateCheckTimer=null,this.id=ed("chart"),this._container=t,this._chartStore=new Wke(this,e),this._initContainer(t),this._chartEvent=new MLe(this._chartContainer,this),this._initPanes(e),this._layout(),e?.watermark){let n=[];if(typeof e.watermark=="string")n=[{src:e.watermark}];else if(Array.isArray(e.watermark)){const i=e.watermark;i.length>0?n=i.map(a=>typeof a=="string"?{src:a}:a):n=[]}else n=[e.watermark];this.setWatermark(n)}this._ScriptManager=new GNe(this),this.subscribeAction("onZoom",()=>{this._ScriptManager.markAllScriptsDirty(),this.requestOverlayUpdateOnce()}),this.subscribeAction("onScroll",()=>{this._ScriptManager.markAllScriptsDirty(),this.requestOverlayUpdateOnce()}),this.subscribeAction("onVisibleRangeChange",()=>{this._ScriptManager.markAllScriptsDirty(),this.requestOverlayUpdateOnce()})}getDebugUpdateCount(){return this._debugUpdateCount}getDebugActionSubscriberCounts(){const e=this._chartStore?._actions,n=i=>e?.get(i)?._callbacks?.length??0;return{onVisibleRangeChange:n("onVisibleRangeChange"),onScroll:n("onScroll"),onZoom:n("onZoom")}}startDebugUpdateLogger(){if(this._debugLoopId!==null)return;const t=()=>{this._debugLoopId=Do(t)};this._debugLoopId=Do(t)}stopDebugUpdateLogger(){if(this._debugLoopId!==null){try{(window.cancelAnimationFrame||window.clearTimeout)(this._debugLoopId)}catch{}this._debugLoopId=null}}requestOverlayUpdateOnce(t){this._overlayUpdateScheduled||(this._overlayUpdateScheduled=!0,Do(()=>{this._overlayUpdateScheduled=!1,this.updatePane(pt.Overlay,t)}))}_initContainer(t){this._container=t,this._chartContainer=ol("div",{position:"relative",width:"100%",height:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",overflow:"hidden",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,t.appendChild(this._chartContainer),this._cacheChartBounding()}_cacheChartBounding(){this._chartBounding.width=Math.floor(this._chartContainer.clientWidth),this._chartBounding.height=Math.floor(this._chartContainer.clientHeight)}_initPanes(t){const e=t?.layout??[{type:"candle"}],n=a=>{if(!le(this._candlePane)){const o=a.options??{};vn(o,{id:ft.CANDLE}),this._candlePane=this._createPane(hLe,ft.CANDLE,o),(a.content??[]).forEach(l=>{this.createIndicator(l,!0,o)})}},i=a=>{if(!le(this._xAxisPane)){const o=this._createPane(bLe,ft.X_AXIS,a??{});this._xAxisPane=o}};e.forEach(a=>{switch(a.type){case"candle":{n(a);break}case"indicator":{const o=a.content??[];if(o.length>0){let s=a.options?.id??null;le(s)&&(s=ed(ft.INDICATOR));const l={...a.options,id:s};o.forEach(u=>{this.createIndicator(u,!0,l)})}break}case"xAxis":{i(a.options);break}}}),n({}),i({order:Number.MAX_SAFE_INTEGER})}_createPane(t,e,n){const i=new t(this,e,n??{});return this._drawPanes.push(i),i}_recalculatePaneHeight(t,e,n){if(n===0)return!1;const i=this._drawPanes.filter(o=>{const s=o.getId();return o.getOptions().state==="normal"&&s!==t.getId()&&s!==ft.X_AXIS}),a=i.length;if(a===0)return!1;if(t.getId()!==ft.CANDLE&&le(this._candlePane)&&this._candlePane.getOptions().state==="normal"){const o=this._candlePane.getBounding().height;if(o>0){const s=this._candlePane.getOptions().minHeight;let l=o+n;l<s&&(l=s,e-=o+n-l),this._candlePane.setBounding({height:l})}}else{let o=n;const s=Math.floor(n/a);i.forEach((l,u)=>{const c=l.getBounding().height;let f=0;u===a-1?f=c+o:f=c+s,f<l.getOptions().minHeight&&(f=l.getOptions().minHeight),l.setBounding({height:f}),o-=f-c}),Math.abs(o)>0&&(e-=o)}return t.setBounding({height:e}),!0}getDrawPaneById(t){return t===ft.CANDLE?this._candlePane:t===ft.X_AXIS?this._xAxisPane:this._drawPanes.find(n=>n.getId()===t)??null}getContainer(){return this._container}getChartStore(){return this._chartStore}getXAxisPane(){return this._xAxisPane}getDrawPanes(){return this._drawPanes}getSeparatorPanes(){return this._separatorPanes}layout(t){(t.sort??!1)&&(this._layoutOptions.sort=t.sort),(t.measureHeight??!1)&&(this._layoutOptions.measureHeight=t.measureHeight),(t.measureWidth??!1)&&(this._layoutOptions.measureWidth=t.measureWidth),(t.update??!1)&&(this._layoutOptions.update=t.update),(t.buildYAxisTick??!1)&&(this._layoutOptions.buildYAxisTick=t.buildYAxisTick),(t.cacheYAxisWidth??!1)&&(this._layoutOptions.cacheYAxisWidth=t.cacheYAxisWidth),(t.buildYAxisTick??!1)&&(this._layoutOptions.forceBuildYAxisTick=t.forceBuildYAxisTick),this._layoutPending||(this._layoutPending=!0,Promise.resolve().then(async e=>{this._layout(),(i=>{Do(()=>i())})(()=>{this.checkScriptStateChanges(),this.requestOverlayUpdateOnce(),this._layoutPending=!1})}).catch(e=>{}))}_layout(){const{sort:t,measureHeight:e,measureWidth:n,update:i,buildYAxisTick:a,cacheYAxisWidth:o,forceBuildYAxisTick:s}=this._layoutOptions;if(t){for(;le(this._chartContainer.firstChild);)this._chartContainer.removeChild(this._chartContainer.firstChild);this._separatorPanes.clear(),this._drawPanes.sort((c,f)=>c.getOptions().order-f.getOptions().order);let u=null;this._drawPanes.forEach(c=>{if(c.getId()!==ft.X_AXIS){if(le(u)){const f=new CLe(this,"",u,c);this._chartContainer.appendChild(f.getContainer()),this._separatorPanes.set(c,f)}u=c}this._chartContainer.appendChild(c.getContainer())})}if(e){const u=this._chartBounding.height,c=this.getStyles().separator.size,f=this._xAxisPane.getAxisComponent().getAutoSize();let d=u-f;d<0&&(d=0),this._drawPanes.forEach(v=>{const g=v.getId();if(le(this._separatorPanes.get(v))&&(d-=c),g!==ft.X_AXIS&&g!==ft.CANDLE&&v.getVisible()){let m=v.getBounding().height;m>d?(m=d,d=0):d-=m,v.setBounding({height:m})}}),this._candlePane.setBounding({height:Math.max(d,0)}),this._xAxisPane.setBounding({height:f});let h=0;this._drawPanes.forEach(v=>{const g=this._separatorPanes.get(v);le(g)&&(g.setBounding({height:c,top:h}),h+=c),v.setBounding({top:h}),h+=v.getBounding().height})}let l=n;if((a||s)&&this._drawPanes.forEach(u=>{const c=u.getAxisComponent().buildTicks(s);l||=c}),l){const u=this._chartBounding.width,c=this.getStyles();let f=0,d=!0,h=0,v=!0;this._drawPanes.forEach(D=>{if(D.getId()!==ft.X_AXIS){const P=D.getAxisComponent(),I=P.inside,R=P.getAutoSize();P.position==="left"?(f=Math.max(f,R),I&&(d=!1)):(h=Math.max(h,R),I&&(v=!1))}}),o&&(f=Math.max(this._cacheYAxisWidth.left,f),h=Math.max(this._cacheYAxisWidth.right,h)),this._cacheYAxisWidth.left=f,this._cacheYAxisWidth.right=h;let g=u,m=0,x=0;d&&(g-=f,m=f),v&&(g-=h,x=h),this._chartStore.setTotalBarSpace(g);const _={width:u},b={width:g,left:m,right:x},w={width:f},T={width:h},A=c.separator.fill;let M={};A?M=_:M=b,this._drawPanes.forEach(D=>{this._separatorPanes.get(D)?.setBounding(M),D.setBounding(_,b,w,T)})}i&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(pt.All)),this._layoutOptions={sort:!1,measureHeight:!1,measureWidth:!1,update:!1,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1}}updatePane(t,e){this._debugUpdateTicking||(this._debugUpdateTicking=!0,Do(()=>{this._debugUpdateCount=0,this._debugUpdateTicking=!1})),this._debugUpdateCount++,le(e)?this.getDrawPaneById(e)?.update(t):this._drawPanes.forEach(n=>{n.update(t),this._separatorPanes.get(n)?.update(t)})}crosshairChange(t){if(this._chartStore.hasAction("onCrosshairChange")){const e={};this._drawPanes.forEach(n=>{const i=n.getId(),a={};this._chartStore.getIndicatorsByPaneId(i).forEach(s=>{const l=s.result;a[s.name]=l[t.dataIndex??l.length-1]}),e[i]=a}),Wt(t.paneId)&&this._chartStore.executeAction("onCrosshairChange",{crosshair:t,indicatorData:e})}}getDom(t,e){if(le(t)){const n=this.getDrawPaneById(t);if(le(n))switch(e??"root"){case"root":return n.getContainer();case"main":return n.getMainWidget().getContainer();case"yAxis":return n.getYAxisWidget()?.getContainer()??null}}else return this._chartContainer;return null}getSize(t,e){if(le(t)){const n=this.getDrawPaneById(t);if(le(n))switch(e??"root"){case"root":return n.getBounding();case"main":return n.getMainWidget().getBounding();case"yAxis":return n.getYAxisWidget()?.getBounding()??null}}else return this._chartBounding;return null}setSymbol(t){this._chartStore.setSymbol(t)}getSymbol(){return this._chartStore.getSymbol()}setPeriod(t){this._chartStore.setPeriod(t)}getPeriod(){return this._chartStore.getPeriod()}setStyles(t){this._setOptions(()=>{this._chartStore.setStyles(t)})}getStyles(){return this._chartStore.getStyles()}setFormatter(t){this._setOptions(()=>{this._chartStore.setFormatter(t)})}getFormatter(){return this._chartStore.getFormatter()}setLocale(t){this._setOptions(()=>{this._chartStore.setLocale(t)})}getLocale(){return this._chartStore.getLocale()}setTimezone(t){this._setOptions(()=>{this._chartStore.setTimezone(t)})}getTimezone(){return this._chartStore.getTimezone()}setThousandsSeparator(t){this._setOptions(()=>{this._chartStore.setThousandsSeparator(t)})}getThousandsSeparator(){return this._chartStore.getThousandsSeparator()}setDecimalFold(t){this._setOptions(()=>{this._chartStore.setDecimalFold(t)})}getDecimalFold(){return this._chartStore.getDecimalFold()}_setOptions(t){t(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}setOffsetRightDistance(t){this._chartStore.setOffsetRightDistance(t,!0)}getOffsetRightDistance(){return this._chartStore.getOffsetRightDistance()}setMaxOffsetLeftDistance(t){t<0||this._chartStore.setMaxOffsetLeftDistance(t)}setMaxOffsetRightDistance(t){t<0||this._chartStore.setMaxOffsetRightDistance(t)}setLeftMinVisibleBarCount(t){t<0||this._chartStore.setLeftMinVisibleBarCount(Math.ceil(t))}setRightMinVisibleBarCount(t){t<0||this._chartStore.setRightMinVisibleBarCount(Math.ceil(t))}setBarSpace(t){this._chartStore.setBarSpace(t)}getBarSpace(){return this._chartStore.getBarSpace()}getVisibleRange(){return this._chartStore.getVisibleRange()}resetData(){this._chartStore.resetData()}getDataList(){return this._chartStore.getDataList()}setDataList(t){this._chartStore.setDataList(t)}setDataLoader(t){this._chartStore.setDataLoader(t)}upsertDataList(t){this._chartStore.upsertDataList(t)}appendData(t){const e=Array.isArray(t)?t:[t];this._chartStore.upsertDataList(e)}createIndicator(t,e,n){const i=Wt(t)?{name:t}:t;if(Cne(i.name)===null)return null;const a=n??{};if(Wt(a.id)||(a.id=ed(ft.INDICATOR)),Wt(i.id)||(i.id=ed(i.name)),this._chartStore.addIndicator(i,a.id,e??!1)){let s=!1;return le(this.getDrawPaneById(a.id))||(this._createPane(oie,a.id,a),a.height??=dO,s=!0),this.setPaneOptions(a),this.layout({sort:s,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),i.id}return null}overrideIndicator(t){return this._chartStore.overrideIndicator(t)}overrideScript(t){return this._chartStore.overrideScript(t)}getIndicators(t){return this._chartStore.getIndicatorsByFilter(t??{})}removeIndicator(t){const e=this._chartStore.removeIndicator(t??{});if(e){let n=!1;const i=[];this._drawPanes.forEach(a=>{const o=a.getId();o!==ft.CANDLE&&o!==ft.X_AXIS&&i.push(o)}),i.forEach(a=>{if(!this._chartStore.hasIndicators(a)){const o=this._drawPanes.findIndex(l=>l.getId()===a),s=this._drawPanes[o];le(s)&&(n=!0,this._recalculatePaneHeight(s,0,s.getBounding().height),this._drawPanes.splice(o,1),s.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:n,measureHeight:n,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return e}createOverlay(t){const e=[],n=[],i=o=>{!le(o.paneId)||this.getDrawPaneById(o.paneId)===null?(o.paneId=ft.CANDLE,n.push(!1)):n.push(!0),e.push(o)};Wt(t)?i({name:t}):vi(t)?t.forEach(o=>{let s=null;Wt(o)?s={name:o}:s=o,i(s)}):i(t);const a=this._chartStore.addOverlays(e,n);return vi(t)?a:a[0]}getOverlays(t){return this._chartStore.getOverlaysByFilter(t??{})}overrideOverlay(t){return this._chartStore.overrideOverlay(t)}removeOverlay(t){return this._chartStore.removeOverlay(t??{})}removeOverlays(t){return this._chartStore.removeOverlays(t)}setPaneOptions(t){let e=!1,n=!1;const i=le(t.id);for(const a of this._drawPanes){const o=a.getId();if(i&&t.id===o||!i){if(o!==ft.X_AXIS){if(We(t.height)&&t.height>0){const l=Math.max(t.minHeight??a.getOptions().minHeight,0),u=Math.max(l,t.height);n=!0,e=!0,a.setOriginalBounding({height:u}),this._recalculatePaneHeight(a,u,-u)}if(le(t.state)&&a.getOptions().state!==t.state){e=!0,n=!0;const l=t.state;switch(l){case"maximize":{const u=this._drawPanes.find(c=>{const f=c.getId();return c.getOptions().state==="maximize"&&f!==ft.X_AXIS});if(!le(u)){a.getOptions().state==="normal"&&a.setOriginalBounding({height:a.getBounding().height}),a.setOptions({state:l});const c=this._chartBounding.height;a.setBounding({height:c-this._xAxisPane.getBounding().height}),this._drawPanes.forEach(f=>{f.getId()!==ft.X_AXIS&&f.getId()!==o&&(f.setBounding({height:f.getOriginalBounding().height}),f.setVisible(!1),this._separatorPanes.get(f)?.setVisible(!1))})}break}case"minimize":{const u=a.getBounding().height,c=a.getOptions().state;let f=u-Ix;c==="maximize"&&(f=a.getOriginalBounding().height-Ix),this._recalculatePaneHeight(a,Ix,f)&&(c==="normal"&&a.setOriginalBounding({height:u}),a.setOptions({state:l})),this._drawPanes.forEach(d=>{d.getId()!==ft.X_AXIS&&(d.setVisible(!0),this._separatorPanes.get(d)?.setVisible(!0))});break}default:{const u=a.getOriginalBounding().height;this._recalculatePaneHeight(a,u,a.getBounding().height-u)&&a.setOptions({state:l}),this._drawPanes.forEach(c=>{c.getId()!==ft.X_AXIS&&(c.setVisible(!0),this._separatorPanes.get(c)?.setVisible(!0))});break}}}}le(t.axis)&&(n=!0);const s={...t};if(delete s.state,a.setOptions(s),o===t.id)break}}n&&this.layout({measureHeight:e,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}getPaneOptions(t){return le(t)?this.getDrawPaneById(t)?.getOptions()??null:this._drawPanes.map(e=>e.getOptions())}setZoomEnabled(t){this._chartStore.setZoomEnabled(t)}isZoomEnabled(){return this._chartStore.isZoomEnabled()}setScrollEnabled(t){this._chartStore.setScrollEnabled(t)}isScrollEnabled(){return this._chartStore.isScrollEnabled()}scrollByDistance(t,e){const n=We(e)&&e>0?e:0;if(this._chartStore.startScroll(),n>0){const i=new Mb({duration:n});i.doFrame(a=>{const o=t*(a/n);this._chartStore.scroll(o)}),i.start()}else this._chartStore.scroll(t)}scrollToRealTime(t){const{bar:e}=this._chartStore.getBarSpace(),i=(this._chartStore.getLastBarRightSideDiffBarCount()-this._chartStore.getInitialOffsetRightDistance()/e)*e;this.scrollByDistance(i,t)}scrollToDataIndex(t,e){const n=(this._chartStore.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-t))*this._chartStore.getBarSpace().bar;this.scrollByDistance(n,e)}scrollToTimestamp(t,e){const n=hO(this.getDataList(),"timestamp",t);this.scrollToDataIndex(n,e)}zoomAtCoordinate(t,e,n){const i=We(n)&&n>0?n:0,{bar:a}=this._chartStore.getBarSpace(),s=a*t-a;if(i>0){let l=0;const u=new Mb({duration:i});u.doFrame(c=>{const f=s*(c/i),d=(f-l)/this._chartStore.getBarSpace().bar*vO;this._chartStore.zoom(d,e),l=f}),u.start()}else this._chartStore.zoom(s/a*vO,e)}zoomAtDataIndex(t,e,n){const i=this._chartStore.dataIndexToCoordinate(e);this.zoomAtCoordinate(t,{x:i,y:0},n)}zoomAtTimestamp(t,e,n){const i=hO(this.getDataList(),"timestamp",e);this.zoomAtDataIndex(t,i,n)}convertToPixel(t,e){const{paneId:n=ft.CANDLE,absolute:i=!1}=e??{};let a=[];if(n!==ft.X_AXIS){const o=this.getDrawPaneById(n);if(o!==null){const s=o.getBounding(),l=[].concat(t),u=this._xAxisPane.getAxisComponent(),c=o.getAxisComponent();a=l.map(f=>{const d={};let h=f.dataIndex;if(We(f.timestamp)&&(h=this._chartStore.timestampToDataIndex(f.timestamp)),We(h)&&(d.x=u.convertToPixel(h)),We(f.value)){const v=c.convertToPixel(f.value);d.y=i?s.top+v:v}return d})}}return vi(t)?a:a[0]??{}}convertFromPixel(t,e){const{paneId:n=ft.CANDLE,absolute:i=!1}=e??{};let a=[];if(n!==ft.X_AXIS){const o=this.getDrawPaneById(n);if(o!==null){const s=o.getBounding(),l=[].concat(t),u=this._xAxisPane.getAxisComponent(),c=o.getAxisComponent();a=l.map(f=>{const d={};if(We(f.x)){const h=u.convertFromPixel(f.x);d.dataIndex=h,d.timestamp=this._chartStore.dataIndexToTimestamp(h)??void 0}if(We(f.y)){const h=i?f.y-s.top:f.y;d.value=c.convertFromPixel(h)}return d})}}return vi(t)?a:a[0]??{}}executeAction(t,e){if(t==="onCrosshairChange"){const n={...e};n.paneId??=ft.CANDLE,this._chartStore.setCrosshair(n,{notExecuteAction:!0})}}subscribeAction(t,e){this._chartStore.subscribeAction(t,e)}unsubscribeAction(t,e){this._chartStore.unsubscribeAction(t,e)}setWatermark(t){this._watermarkList=[],t.forEach((e,n)=>{const i=new window.Image;i.src=e.src,i.onload=()=>{this.updatePane(pt.All)},this._watermarkList[n]={...e,img:i}})}getConvertPictureUrl(t,e,n){const{width:i,height:a}=this._chartBounding,o=ol("canvas",{width:`${i}px`,height:`${a}px`,boxSizing:"border-box"}),s=o.getContext("2d"),l=du(o);o.width=i*l,o.height=a*l,s.scale(l,l),s.fillStyle=n??"#FFFFFF",s.fillRect(0,0,i,a);const u=t??!1;return this._drawPanes.forEach(c=>{const f=this._separatorPanes.get(c);if(le(f)){const h=f.getBounding();s.drawImage(f.getImage(u),h.left,h.top,h.width,h.height)}const d=c.getBounding();s.drawImage(c.getImage(u),0,d.top,i,d.height)}),o.toDataURL(`image/${e??"jpeg"}`)}resize(){this._cacheChartBounding(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}destroy(){this._chartEvent.destroy(),this._drawPanes.forEach(t=>{t.destroy()}),this._drawPanes=[],this._separatorPanes.clear(),this._chartStore.destroy(),this._container.removeChild(this._chartContainer)}get watermarkImage(){return this._watermarkImages[0]}get watermarkOptions(){return this._watermarkOptions[0]}get watermarkImages(){return this._watermarkImages}get watermarkOptionsList(){return this._watermarkOptions}get watermarkList(){return this._watermarkList}setPriceVolumePrecision(t){this._chartStore.setPriceVolumePrecision(t)}synchronousCrosshair(t,e){this._chartStore.setCrosshair(t,{...e,notExecuteAction:!0})}addScript(t,e,n){return t&&typeof t=="object"&&t.code&&this.processScriptAdd(t),null}processScriptAdd(t){try{const{id:e,code:n,paneId:i,...a}=t,s=UNe(n,"gainlab-script");if(!s){console.error(" ");return}const l=Lg.parse(s),u=l.info.name||t.name||"Script",c=l.info.position||"main";let f;c==="main"?f=ft.CANDLE:f=ed(ft.INDICATOR);const d=e,{name:h,...v}=a;this._ScriptManager.registerScript({id:d,name:u,script:s,encryptedScript:n,user_id:t.user_id||0,paneId:f,createTooltipDataSource:t.createTooltipDataSource,msgCallback:t.msgCallback||(()=>{}),http:t.http,...v});const g=this._ScriptManager.getScript(t.key);if(!g){console.error(" ");return}if(this._chartStore.addScript(g,f,!1)){const x=this._chartStore.getScriptsByPaneId(f);if(c!=="main"&&!this.getDrawPaneById(f)){const _={height:dO};this._createPane(vLe,f,_),this.setPaneOptions(_),this.layout({sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}else this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0});return}return}catch(e){console.error(" :",e);return}}async checkScriptStateChanges(){try{const t=this._chartStore.getDataList().length,n=this._chartStore.getSymbol()?.symbol||"",i=this._chartStore.getPeriod(),a=i?`${i.type}${i.span}`:"";if(n!==this._lastSymbol||a!==this._lastPeriod||t!==this._lastDataLength){const o={symbol:n,period:a,dataLength:t,inputs:{},styles:{}};this._lastSymbol=n,this._lastPeriod=a,this._lastDataLength=t,await this._ScriptManager.checkAllScriptsState(o)}}catch(t){console.error(":",t)}}getScripts(t){if(!t||Object.keys(t).length===0){const n=[];return this._drawPanes.forEach(i=>{const a=i.getId(),o=this._chartStore.getScriptsByPaneId(a);n.push(...o)}),this._filterInternalFields(n)}const e=this._chartStore.getScriptsByFilter(t);return this._filterInternalFields(e)}_filterInternalFields(t){return t.map(e=>{const n={};return Object.keys(e).forEach(i=>{i==="_compiledFunction"||i==="_executableCode"||(n[i]=e[i])}),n})}removeScript(t){const e=t?.key;e&&this._ScriptManager.removeScript(e);const n=this._chartStore.removeScript(t||{});if(n){let i=!1;const a=[];this._drawPanes.forEach(o=>{const s=o.getId();s!==ft.CANDLE&&s!==ft.X_AXIS&&a.push(s)}),a.forEach(o=>{if(!this._chartStore.hasScripts(o)){const s=this._drawPanes.findIndex(u=>u.getId()===o),l=this._drawPanes[s];le(l)&&(i=!0,this._recalculatePaneHeight(l,0,l.getBounding().height),this._drawPanes.splice(s,1),l.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:i,measureHeight:i,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return n}removeAllScripts(){const t=this._chartStore.getScriptsByFilter({});let e=0;if(t.forEach(n=>{const i=n.key;i&&(this._ScriptManager.removeScript(i),this._chartStore.removeScript({key:i})&&e++)}),e>0){let n=!1;const i=[];this._drawPanes.forEach(a=>{const o=a.getId();o!==ft.CANDLE&&o!==ft.X_AXIS&&i.push(o)}),i.forEach(a=>{if(!this._chartStore.hasScripts(a)){const o=this._drawPanes.findIndex(l=>l.getId()===a),s=this._drawPanes[o];le(s)&&(n=!0,this._recalculatePaneHeight(s,0,s.getBounding().height),this._drawPanes.splice(o,1),s.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:n,measureHeight:n,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return e>0}setScriptVisible(t,e){this._chartStore.getScriptsByFilter({key:t}).forEach(i=>{i.visible=e}),this.layout({update:!0})}async setScriptConfig(t,e){await this._ScriptManager.setScriptConfig(t,e),this._chartStore.getScriptsByFilter({key:t}).forEach(i=>{e.inputs&&(i.inputs=e.inputs),e.styles&&(i.styles=e.styles)}),this._chartStore.overrideScript({key:t}),(e.inputs||e.styles)&&this._ScriptManager.onScriptConfigChanged(t).catch(i=>{console.error(":",i)})}getScriptsByPaneId(t){const e=this._chartStore.getScriptsByPaneId(t);return this._filterInternalFields(e)}getScriptsByFilter(t){const e=this._chartStore.getScriptsByFilter(t||{});return this._filterInternalFields(e)}hasScripts(t){return this._chartStore.hasScripts(t)}}function WNe(r,t,e,n,i){let a=0,o=0;switch(r){case 1:a=0,o=0;break;case 2:a=(t-n)/2,o=0;break;case 3:a=t-n,o=0;break;case 4:a=0,o=(e-i)/2;break;case 5:a=(t-n)/2,o=(e-i)/2;break;case 6:a=t-n,o=(e-i)/2;break;case 7:a=0,o=e-i;break;case 8:a=(t-n)/2,o=e-i;break;case 9:a=t-n,o=e-i;break;default:a=0,o=0;break}return{x:a,y:o}}function UNe(r,t){const n=jX.AES.decrypt(r,t).toString(jX.enc.Utf8);try{const i=new Uint8Array(atob(n).split("").map(o=>o.charCodeAt(0))),a=LNe.inflate(i,{to:"string"});if(a&&typeof a=="string"&&a!=="")return a}catch{}return n}const Rb=new Map;let qNe=1;function YNe(r,t){let e=null;if(Wt(r)?e=document.getElementById(r):e=r,e===null)return null;let n=Rb.get(e.id);if(le(n))return n;const i=`k_line_chart_${qNe++}`;return n=new Yie(e,t),n.id=i,e.setAttribute("k-line-chart-id",i),Rb.set(i,n),n}function XNe(r){let t=null;if(r instanceof Yie)t=r.id;else{let e=null;Wt(r)?e=document.getElementById(r):e=r,t=e?.getAttribute("k-line-chart-id")??null}t!==null&&(Rb.get(t)?.destroy(),Rb.delete(t))}const Pb={clone:Ag,merge:vn,isString:Wt,isNumber:We,isValid:le,isObject:Za,isArray:vi,isFunction:Jn,isBoolean:Tb,formatValue:ma,formatPrecision:Mn,formatBigNumber:bne,formatDate:_ne,formatThousands:Sne,formatFoldDecimal:wne,calcTextWidth:xa,getLinearSlopeIntercept:GS,getLinearYFromSlopeIntercept:j3,getLinearYFromCoordinates:Mg,checkCoordinateOnArc:Nne,checkCoordinateOnCircle:Rne,checkCoordinateOnLine:Tne,checkCoordinateOnPolygon:Pne,checkCoordinateOnRect:Z3,checkCoordinateOnText:Lne},$Ne=[{timestamp:17079552e5,open:48e3,high:48800,low:47200,close:48500,volume:25e3},{timestamp:17080416e5,open:48500,high:49200,low:48100,close:49e3,volume:28e3},{timestamp:1708128e6,open:49e3,high:51500,low:48800,close:51200,volume:42e3},{timestamp:17082144e5,open:51200,high:52e3,low:50500,close:51800,volume:35e3},{timestamp:17083008e5,open:51800,high:52300,low:51e3,close:52100,volume:3e4},{timestamp:17083872e5,open:52100,high:52800,low:51500,close:51700,volume:27e3},{timestamp:17084736e5,open:51700,high:52500,low:51200,close:52300,volume:31e3},{timestamp:170856e7,open:52300,high:53e3,low:52e3,close:52800,volume:33e3},{timestamp:17086464e5,open:52800,high:54200,low:52500,close:54e3,volume:45e3},{timestamp:17087328e5,open:54e3,high:55500,low:53800,close:55200,volume:5e4},{timestamp:17088192e5,open:55200,high:57e3,low:55e3,close:56800,volume:55e3},{timestamp:17089056e5,open:56800,high:58e3,low:56200,close:57500,volume:48e3},{timestamp:1708992e6,open:57500,high:58500,low:56800,close:58200,volume:42e3},{timestamp:17090784e5,open:58200,high:6e4,low:57800,close:59500,volume:52e3},{timestamp:17091648e5,open:59500,high:61e3,low:59e3,close:60800,volume:58e3},{timestamp:17092512e5,open:60800,high:62e3,low:6e4,close:61500,volume:62e3},{timestamp:17093376e5,open:61500,high:63500,low:61e3,close:63e3,volume:7e4},{timestamp:1709424e6,open:63e3,high:64e3,low:62e3,close:62500,volume:55e3},{timestamp:17095104e5,open:62500,high:63500,low:61500,close:63200,volume:48e3},{timestamp:17095968e5,open:63200,high:65e3,low:63e3,close:64800,volume:6e4},{timestamp:17096832e5,open:64800,high:66e3,low:64200,close:65500,volume:65e3},{timestamp:17097696e5,open:65500,high:67e3,low:65e3,close:66800,volume:72e3},{timestamp:1709856e6,open:66800,high:68e3,low:66e3,close:67200,volume:58e3},{timestamp:17099424e5,open:67200,high:68500,low:66500,close:68e3,volume:63e3},{timestamp:17100288e5,open:68e3,high:69500,low:67500,close:69e3,volume:68e3},{timestamp:17101152e5,open:69e3,high:7e4,low:68e3,close:69500,volume:55e3},{timestamp:17102016e5,open:69500,high:71e3,low:69e3,close:70500,volume:75e3},{timestamp:1710288e6,open:70500,high:72e3,low:7e4,close:71800,volume:8e4},{timestamp:17103744e5,open:71800,high:73e3,low:71e3,close:72500,volume:7e4},{timestamp:17104608e5,open:72500,high:73500,low:71500,close:73e3,volume:65e3}];async function jNe(r){try{const t=new AbortController,e=setTimeout(()=>t.abort(),5e3),n=`https://api.binance.com/api/v3/klines?symbol=${r}&interval=1d&limit=100`,i=await fetch(n,{signal:t.signal});return clearTimeout(e),i.ok?(await i.json()).map(o=>({timestamp:o[0],open:parseFloat(o[1]),high:parseFloat(o[2]),low:parseFloat(o[3]),close:parseFloat(o[4]),volume:parseFloat(o[5])})):null}catch{return null}}function ZNe({symbol:r="BTCUSDT",data:t,indicators:e=["RSI"]}){const n=Ue.useRef(null),i=Ue.useRef(null),[a,o]=Ue.useState(!0),[s,l]=Ue.useState(null);return Ue.useEffect(()=>{if(!n.current)return;const u=YNe(n.current,{styles:{grid:{show:!0,horizontal:{show:!0,color:"#1e1e3a"},vertical:{show:!0,color:"#1e1e3a"}},candle:{bar:{upColor:"#26a69a",downColor:"#ef5350",upBorderColor:"#26a69a",downBorderColor:"#ef5350",upWickColor:"#26a69a",downWickColor:"#ef5350"},tooltip:{showRule:"follow_cross"}},indicator:{lastValueMark:{show:!0}},crosshair:{show:!0,horizontal:{show:!0,line:{color:"#4a4a8a",dashedValue:[4,2]}},vertical:{show:!0,line:{color:"#4a4a8a",dashedValue:[4,2]}}},separator:{color:"#2a2a4a"}}});if(u){i.current=u;for(const c of e)u.createIndicator(c,!1,{id:`pane_${c}`});return t&&t.length>0?(u.setDataList(t),o(!1)):(u.setDataList($Ne),o(!1),jNe(r).then(c=>{c&&i.current?(i.current.setDataList(c),l(null)):l("Binance API ")})),()=>{XNe(n.current),i.current=null}}},[r,t,e]),it.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",background:"#12122a"},children:[a&&it.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#6a6a9a",fontSize:14,zIndex:10},children:"..."}),s&&it.jsx("div",{style:{position:"absolute",top:8,right:8,padding:"4px 8px",borderRadius:4,background:"#3a2a00",color:"#ffc107",fontSize:12,zIndex:10},children:s}),it.jsx("div",{ref:n,style:{width:"100%",height:"100%"}})]})}function KNe({toolCall:r}){const[t,e]=Ue.useState(!1),n=Object.entries(r.args).slice(0,2).map(([i,a])=>`${i}: ${String(a)}`).join(", ");return it.jsxs("div",{style:{marginTop:4,marginBottom:2},children:[it.jsxs("button",{onClick:()=>e(i=>!i),style:{display:"inline-flex",alignItems:"center",gap:4,padding:"2px 8px",borderRadius:12,border:"1px solid #7c3aed",background:"rgba(124,58,237,0.15)",color:"#c4b5fd",fontSize:11,cursor:"pointer",lineHeight:"1.4",fontFamily:"inherit"},children:[it.jsx("span",{children:""}),it.jsx("span",{style:{fontWeight:600},children:r.name}),n&&it.jsxs("span",{style:{color:"#a78bfa",opacity:.85},children:["(",n,")"]}),it.jsx("span",{style:{opacity:.6,fontSize:10},children:t?"":""})]}),t&&it.jsx("pre",{style:{margin:"4px 0 0 4px",padding:"6px 10px",borderRadius:6,background:"rgba(124,58,237,0.08)",border:"1px solid rgba(124,58,237,0.25)",color:"#c4b5fd",fontSize:11,lineHeight:1.5,overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(r.args,null,2)})]})}function QNe({messages:r,streaming:t}){const e=Ue.useRef(null);return Ue.useEffect(()=>{e.current?.scrollIntoView({behavior:"smooth"})},[r]),r.length===0?it.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#3a3a6a",fontSize:14,padding:24,textAlign:"center",lineHeight:1.7},children:it.jsxs("span",{children:["  GainLab AI",it.jsx("br",{}),""]})}):it.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"12px 12px 4px",display:"flex",flexDirection:"column",gap:8},children:[r.map(n=>it.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:n.role==="user"?"flex-end":"flex-start"},children:[n.toolCalls&&n.toolCalls.length>0&&it.jsx("div",{style:{marginBottom:4,maxWidth:"90%"},children:n.toolCalls.map(i=>it.jsx(KNe,{toolCall:i},i.id))}),n.content&&it.jsx("div",{style:{maxWidth:"85%",padding:"8px 12px",borderRadius:n.role==="user"?"16px 16px 4px 16px":"16px 16px 16px 4px",background:n.role==="user"?"linear-gradient(135deg, #2563eb, #1d4ed8)":"#1a1a35",color:n.role==="user"?"#fff":"#c8c8e8",fontSize:13,lineHeight:1.6,border:n.role==="user"?"none":"1px solid #2a2a4a",wordBreak:"break-word",whiteSpace:"pre-wrap"},children:n.content})]},n.id)),t&&it.jsx("div",{style:{display:"flex",alignItems:"flex-start"},children:it.jsx("div",{style:{padding:"8px 14px",borderRadius:"16px 16px 16px 4px",background:"#1a1a35",border:"1px solid #2a2a4a",color:"#6a6aaa",fontSize:13},children:it.jsx("span",{style:{animation:"pulse 1s infinite"},children:""})})}),it.jsx("div",{ref:e})]})}const JNe="https://gainlab-api.asher-sun.workers.dev/api/chat";function e6e(r){return r.replace(/<think>[\s\S]*?<\/think>/g,"").trim()}const L$=20;async function*t6e(r){const t=r.length>L$?r.slice(r.length-L$):r;let e;try{e=await fetch(JNe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t})})}catch(s){yield{type:"error",error:`: ${String(s)}`};return}if(!e.ok){yield{type:"error",error:`: ${e.status} ${e.statusText}`};return}const n=e.body;if(!n){yield{type:"error",error:""};return}const i=n.getReader(),a=new TextDecoder;let o="";try{for(;;){const{done:s,value:l}=await i.read();if(s)break;o+=a.decode(l,{stream:!0});const u=o.split(`
`);o=u.pop()??"";for(const c of u){const f=c.trim();if(!f||!f.startsWith("data: "))continue;const d=f.slice(6);if(d==="[DONE]"){yield{type:"done"};return}let h;try{h=JSON.parse(d)}catch{continue}const v=h.type;if(v==="text_delta"){const g=h.text??"",m=e6e(g);m&&(yield{type:"text_delta",text:m})}else if(v==="tool_call"){const g=h.tool;g&&(yield{type:"tool_call",toolCall:{id:g.id??"",name:g.name??"",args:g.arguments??{}}})}else v==="tool_result"?yield{type:"tool_result",result:h.result}:v==="error"&&(yield{type:"error",error:h.message??""})}}}finally{i.releaseLock()}yield{type:"done"}}let r6e=0;function N$(){return`msg_${++r6e}_${Date.now()}`}function n6e(){const[r,t]=Ue.useState([]),[e,n]=Ue.useState(!1),[i,a]=Ue.useState(null),o=Ue.useRef([]),s=Ue.useRef(null),l=Ue.useCallback(async(c,f)=>{if(e||!c.trim())return;const d={id:N$(),role:"user",content:c.trim()};t(g=>[...g,d]),o.current=[...o.current,{role:"user",content:c.trim()}];const h=N$(),v={id:h,role:"assistant",content:"",toolCalls:[]};t(g=>[...g,v]),n(!0),a(null),s.current=null;try{for await(const g of t6e(o.current))if(g.type==="text_delta"&&g.text)t(m=>m.map(x=>x.id===h?{...x,content:x.content+g.text}:x));else if(g.type==="tool_call"&&g.toolCall){const m=g.toolCall;s.current=m,a(m),t(x=>x.map(_=>_.id===h?{..._,toolCalls:[..._.toolCalls??[],m]}:_))}else if(g.type==="tool_result"&&g.result!==void 0)s.current&&f&&f(s.current.name,g.result),s.current=null,a(null);else{if(g.type==="done")break;if(g.type==="error"){t(m=>m.map(x=>x.id===h?{...x,content:x.content+(x.content?`
`:"")+` ${g.error??""}`}:x));break}}t(g=>{const m=g.find(x=>x.id===h);return m?.content&&(o.current=[...o.current,{role:"assistant",content:m.content}]),g})}finally{n(!1),a(null),s.current=null}},[e]),u=Ue.useCallback(()=>{t([]),o.current=[]},[]);return{messages:r,streaming:e,activeToolCall:i,sendMessage:l,clearMessages:u}}function i6e({onToolResult:r}){const[t,e]=Ue.useState(""),n=Ue.useRef(null),{messages:i,streaming:a,activeToolCall:o,sendMessage:s,clearMessages:l}=n6e(),u=Ue.useCallback(async()=>{const f=t.trim();!f||a||(e(""),await s(f,r),n.current?.focus())},[t,a,s,r]),c=Ue.useCallback(f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u())},[u]);return it.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",background:"#0d0d20",borderLeft:"1px solid #1e1e3a",overflow:"hidden"},children:[it.jsxs("div",{style:{padding:"10px 14px",borderBottom:"1px solid #1e1e3a",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},children:[it.jsx("span",{style:{color:"#8888cc",fontSize:13,fontWeight:600},children:" GainLab AI"}),it.jsx("button",{onClick:l,style:{background:"none",border:"none",color:"#4a4a7a",fontSize:11,cursor:"pointer",padding:"2px 6px",borderRadius:4},title:"",children:""})]}),it.jsx(QNe,{messages:i,streaming:a}),o&&it.jsxs("div",{style:{padding:"4px 12px",background:"rgba(124,58,237,0.1)",borderTop:"1px solid rgba(124,58,237,0.2)",color:"#a78bfa",fontSize:11,flexShrink:0},children:["  ",o.name,"..."]}),it.jsxs("div",{style:{padding:"10px 12px",borderTop:"1px solid #1e1e3a",display:"flex",gap:8,alignItems:"flex-end",flexShrink:0},children:[it.jsx("textarea",{ref:n,value:t,onChange:f=>e(f.target.value),onKeyDown:c,disabled:a,placeholder:a?"...":"Enter Shift+Enter ",rows:1,style:{flex:1,background:"#13132a",border:"1px solid #2a2a4a",borderRadius:8,color:"#d0d0f0",fontSize:13,padding:"8px 10px",resize:"none",outline:"none",fontFamily:"inherit",lineHeight:1.5,maxHeight:120,overflowY:"auto",transition:"border-color 0.15s",opacity:a?.6:1},onFocus:f=>{f.currentTarget.style.borderColor="#4a4a8a"},onBlur:f=>{f.currentTarget.style.borderColor="#2a2a4a"}}),it.jsx("button",{onClick:u,disabled:a||!t.trim(),style:{padding:"8px 14px",borderRadius:8,border:"none",background:a||!t.trim()?"#1e1e3a":"linear-gradient(135deg, #2563eb, #1d4ed8)",color:a||!t.trim()?"#3a3a6a":"#fff",fontSize:13,cursor:a||!t.trim()?"not-allowed":"pointer",flexShrink:0,transition:"all 0.15s",fontFamily:"inherit"},children:""})]})]})}function a6e(r){return["gainlab_kline","gainlab_indicators","gainlab_volume_profile","gainlab_wrb_scoring"].includes(r)?"kline":"echarts"}function qI(r){return r.map(t=>({timestamp:t[0],open:parseFloat(t[1]),high:parseFloat(t[2]),low:parseFloat(t[3]),close:parseFloat(t[4]),volume:parseFloat(t[5])}))}function o6e(r){if(!r||typeof r!="object")return[];const t=r;if(Array.isArray(t.data)){const e=t.data;if(e.length>0&&typeof e[0]=="object"&&e[0]!==null){const n=e[0];if("timestamp"in n&&"open"in n)return e;if(Array.isArray(e[0]))return qI(e)}}if(Array.isArray(t.klines))return qI(t.klines);if(Array.isArray(r)){const e=r;if(e.length>0&&Array.isArray(e[0]))return qI(e);const n=e[0];if(n&&"timestamp"in n)return e}return[]}function s6e(r){const e=[...r].sort((n,i)=>Math.abs(i.change)-Math.abs(n.change)).map(n=>({name:n.name,value:[n.value,n.change]}));return{backgroundColor:"#0d0d20",tooltip:{formatter:n=>{const i=n,a=i.value[1]>=0?"+":"";return`${i.name}<br/>: $${(i.value[0]/1e9).toFixed(1)}B<br/>: ${a}${i.value[1].toFixed(2)}%`}},series:[{type:"treemap",data:e.map(n=>({name:n.name,value:n.value[0],itemStyle:{color:n.value[1]>=0?`rgba(38,166,154,${Math.min(.3+Math.abs(n.value[1])*.07,1)})`:`rgba(239,83,80,${Math.min(.3+Math.abs(n.value[1])*.07,1)})`},label:{formatter:`{b}
${n.value[1]>=0?"+":""}${n.value[1].toFixed(2)}%`}})),label:{show:!0,color:"#fff",fontSize:12},breadcrumb:{show:!1},roam:!1}]}}function l6e(r,t){const e=t.series??[],n=t.xAxis??[];return{backgroundColor:"#0d0d20",tooltip:{trigger:"axis"},legend:{textStyle:{color:"#aaa"}},grid:{left:40,right:20,top:40,bottom:40},xAxis:{type:"category",data:n,axisLabel:{color:"#aaa"}},yAxis:{type:"value",axisLabel:{color:"#aaa"}},series:Array.isArray(e)?e:[],title:{text:r.replace("gainlab_",""),textStyle:{color:"#ccc"}}}}function u6e(r,t){if(!t||typeof t!="object")return{backgroundColor:"#0d0d20",title:{text:"",textStyle:{color:"#666"}}};const e=t;if(Array.isArray(e.series))return{backgroundColor:"#0d0d20",...e};if(r.includes("heatmap")||r.includes("market_cap")){const n=e.items??e.data??[];return s6e(n)}return l6e(r,e)}const c6e=hBe(dBe),f6e={direction:"column",first:"kline",second:"echarts",splitPercentage:60};function h6e(){const[r,t]=Ue.useState(null),[e,n]=Ue.useState(null),i=Ue.useCallback((o,s)=>{if(a6e(o)==="kline"){const u=o6e(s);u.length>0&&t(u)}else{const u=u6e(o,s);n(u)}},[]),a=Ue.useCallback((o,s)=>o==="kline"?it.jsx(ZNe,{symbol:"BTCUSDT",data:r??void 0,indicators:["RSI"]}):o==="echarts"?it.jsx(uBe,{option:e??c6e,style:{height:"100%"}}):it.jsxs("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#4a4a7a",fontSize:16,fontWeight:500},children:["Unknown widget: ",o]}),[r,e]);return it.jsxs("div",{style:{width:"100vw",height:"100vh",background:"#0f0f1a",overflow:"hidden",display:"flex",flexDirection:"row"},children:[it.jsx("div",{style:{flex:1,minWidth:0,overflow:"hidden"},children:it.jsx(Ghe,{initialLayout:f6e,renderWidget:a})}),it.jsx("div",{style:{width:320,flexShrink:0,overflow:"hidden"},children:it.jsx(i6e,{onToolResult:i})})]})}hse.createRoot(document.getElementById("root")).render(it.jsx(h6e,{}));
