const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Dth5tUFx.js","assets/mosaic-86Umg_jF.js","assets/echarts-DW2iXprX.js"])))=>i.map(i=>d[i]);
import{_ as s}from"./index-C0mwa9NZ.js";import{j as r}from"./mosaic-86Umg_jF.js";import{a as i}from"./echarts-DW2iXprX.js";import{c}from"./calculateVP-BKR8mp0V.js";const n=i.lazy(()=>s(()=>import("./index-Dth5tUFx.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.EChartsWidget})));function u(e){return{backgroundColor:"#0d0d20",tooltip:{trigger:"axis",formatter:t=>{const o=t[0];if(!o)return"";const l=e.levels.find(a=>a.price.toFixed(2)===o.name);return l?[`<b>$${o.name}</b>`,`总量: ${l.volume.toFixed(0)}`,`<span style="color:#22c55e">买: ${l.buyVolume.toFixed(0)}</span>`,`<span style="color:#ef4444">卖: ${l.sellVolume.toFixed(0)}</span>`].join("<br/>"):`${o.name}: ${o.value.toFixed(0)}`}},grid:{left:70,right:20,top:40,bottom:30},xAxis:{type:"value",axisLabel:{color:"#888"},splitLine:{lineStyle:{color:"#1e1e3a"}}},yAxis:{type:"category",data:e.levels.map(t=>t.price.toFixed(2)),axisLabel:{color:"#888",fontSize:9},axisTick:{show:!1}},series:[{type:"bar",data:e.levels.map(t=>({value:t.volume,itemStyle:{color:t.price===e.poc?"#ffc107":t.price>=e.val&&t.price<=e.vah?"rgba(34,197,94,0.5)":"rgba(100,100,180,0.25)"}})),barWidth:"80%"}],title:{text:`VP · POC ${e.poc.toFixed(2)} | VAH ${e.vah.toFixed(2)} | VAL ${e.val.toFixed(2)}`,textStyle:{color:"#ccc",fontSize:11},left:10,top:8}}}function p({klineData:e,bins:t=50}){const o=i.useMemo(()=>c(e,t),[e,t]),l=i.useMemo(()=>u(o),[o]);return e.length===0?r.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#6666aa] text-sm",children:"请先选择资产以查看筹码分布"}):r.jsx(i.Suspense,{fallback:r.jsx("div",{className:"w-full h-full bg-[#0d0d20]"}),children:r.jsx(n,{option:l,style:{height:"100%"}})})}export{p as VolumeProfileWidget};
